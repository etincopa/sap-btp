$Firefly.createClass("sap.zen.PlaceHolder", sap.firefly.XObject, {
	parameterName : null,
	getParameterName : function() {
		return this.parameterName;
	},
	getType : function() {
		return this.type;
	},
	type : null,
	initMe : function(parameterName, type) {
		this.parameterName = parameterName;
		this.type = type;
	}
});
$Firefly.createClass("sap.zen.ScriptSequence", sap.firefly.XObject, {
	scriptSequence : null,
	add : function(scriptSequenceItem) {
		if (this.scriptSequence === null) {
			this.scriptSequence = sap.firefly.XList.create();
		}
		this.scriptSequence.add(scriptSequenceItem);
	},
	createScript : function(page) {
		var s = "";
		var i;
		var scriptSequenceItem;
		var script;
		var idForRendering;
		for (i = 0; i < this.scriptSequence.size(); i++) {
			scriptSequenceItem = this.scriptSequence.get(i);
			script = scriptSequenceItem.getScript();
			s = sap.firefly.XString.concatenate2(s, script);
		}
		s = sap.buddha.XSSEncoder.encodeJavaScript(s);
		idForRendering = page.getPageIdForScripting();
		s = sap.firefly.XStringUtils.concatenate4(
				"window.putInQueue(function(){", idForRendering, ".exec('", s);
		s = sap.firefly.XString.concatenate2(s, "');});");
		return s;
	}
});
$Firefly.createClass("sap.zen.ScriptSequenceItem", sap.firefly.XObject, {
	methodeName : null,
	placeHolderList : null,
	script : null,
	target : null,
	setScript : function(script) {
		this.script = script;
	},
	setMethodeName : function(methodeName) {
		this.methodeName = methodeName;
	},
	addPlaceHolder : function(parameterName, type) {
		var placeHolder = new sap.zen.PlaceHolder();
		placeHolder.initMe(parameterName, type);
		if (this.placeHolderList === null) {
			this.placeHolderList = sap.firefly.XList.create();
		}
		this.placeHolderList.add(placeHolder);
	},
	getScript : function() {
		if (this.script !== null) {
			return this.script;
		} else {
			if (this.placeHolderList !== null) {
				return this.createScriptActionWithPlaceHolders2(this.target);
			}
		}
		return null;
	},
	createPlaceHolder : function(parameterName, type) {
		var s = parameterName;
		if (type.isEqualTo(sap.zen.PlaceHolderType.STRING)) {
			s = sap.firefly.XStringUtils.concatenate3("'", parameterName, "'");
		}
		return s;
	},
	createScriptActionWithPlaceHolders2 : function(target) {
		var page = target.getPage();
		var intermediate = "";
		var i;
		var placeHolder;
		intermediate = sap.firefly.XStringUtils.concatenate2(target.getId(),
				".");
		intermediate = sap.firefly.XStringUtils.concatenate3(intermediate,
				this.methodeName, "(");
		for (i = 0; i < this.placeHolderList.size(); i++) {
			if (i !== 0) {
				intermediate = sap.firefly.XStringUtils.concatenate2(
						intermediate, ",");
			}
			placeHolder = this.placeHolderList.get(i);
			intermediate = sap.firefly.XStringUtils.concatenate2(intermediate,
					this.createPlaceHolder(placeHolder.getParameterName(),
							placeHolder.getType()));
		}
		intermediate = sap.firefly.XStringUtils
				.concatenate2(intermediate, ");");
		return intermediate;
	},
	setTarget : function(target) {
		this.target = target;
	},
	getTarget : function() {
		return this.target;
	}
});
$Firefly.createClass("sap.zen.DialogButtonItem", sap.firefly.XObject, {
	text : null,
	key : null,
	enabled : false,
	visible : false,
	onClickAction : null,
	getOnClickAction : function() {
		return this.onClickAction;
	},
	setOnClickAction : function(onClickAction) {
		this.onClickAction = onClickAction;
	},
	isVisible : function() {
		return this.visible;
	},
	setVisible : function(isVisible) {
		this.visible = isVisible;
	},
	isEnabled : function() {
		return this.enabled;
	},
	setEnabled : function(isEnabled) {
		this.enabled = isEnabled;
	},
	getKey : function() {
		return this.key;
	},
	setKey : function(key) {
		this.key = key;
	},
	getText : function() {
		return this.text;
	},
	setText : function(text) {
		this.text = text;
	}
});
$Firefly.createClass("sap.zen.SortDimensionsAscByTextComparator",
		sap.firefly.XObject, {
			compare : function(o1, o2) {
				return sap.firefly.XString.compare(o1.getText(), o2.getText());
			}
		});
$Firefly.createClass("sap.zen.AxisWrapper", sap.firefly.XObject, {
	queryManager : null,
	initMe : function(queryManager) {
		this.queryManager = queryManager;
	},
	getRows : function() {
		var characteristics = this.queryManager.getQueryModel().getRowsAxis()
				.getDimensions();
		return this.getNameList(characteristics);
	},
	getColumns : function() {
		var characteristics = this.queryManager.getQueryModel()
				.getColumnsAxis().getDimensions();
		return this.getNameList(characteristics);
	},
	getNameList : function(characteristics) {
		var list;
		var i;
		var characteristic;
		if (characteristics === null || characteristics.isEmpty()) {
			return sap.firefly.XListOfString.create();
		}
		list = sap.firefly.XListOfString.create();
		for (i = 0; i < characteristics.size(); i++) {
			characteristic = characteristics.get(i);
			list.add(characteristic.getName());
		}
		return list;
	},
	applyAxisConfig : function(rows, columns) {
		if (this.hasAxisContentChanged(rows, this.queryManager.getQueryModel()
				.getRowsAxis())) {
			this.buildNewAxis(rows, this.queryManager.getQueryModel()
					.getRowsAxis());
		}
		if (this.hasAxisContentChanged(columns, this.queryManager
				.getQueryModel().getColumnsAxis())) {
			this.buildNewAxis(columns, this.queryManager.getQueryModel()
					.getColumnsAxis());
		}
	},
	buildNewAxis : function(newAxis, rows2) {
		var queryView;
		var i;
		var newCharacteristicName;
		var dimensionByName;
		rows2.clear();
		queryView = rows2.getQueryModel();
		for (i = 0; i < newAxis.size(); i++) {
			newCharacteristicName = newAxis.get(i);
			dimensionByName = queryView
					.getDimensionByName(newCharacteristicName);
			rows2.add(dimensionByName);
		}
	},
	hasAxisContentChanged : function(newAxis, rows2) {
		var characteristics = rows2.getDimensions();
		var i;
		var dimension;
		var name;
		if (characteristics.size() !== newAxis.size()) {
			return true;
		}
		for (i = 0; i < characteristics.size(); i++) {
			dimension = characteristics.get(i);
			name = dimension.getName();
			if (!sap.firefly.XString.isEqual(name, newAxis.get(i))) {
				return true;
			}
		}
		return false;
	}
});
$Firefly.createClass("sap.zen.CharacteristicsContainer", sap.firefly.XObject, {
	characteristicWrappers : null,
	initMe : function(characteristics) {
		this.characteristicWrappers = characteristics;
	},
	getElement : function(key) {
		return this.characteristicWrappers.getByKey(key);
	},
	getElements : function() {
		return this.characteristicWrappers.getValuesAsReadOnlyList();
	},
	checkValues : function() {
		return true;
	},
	submit : function() {
		return true;
	},
	synchronize : function() {
	},
	checkValue : function(key) {
		var element = this.getElement(key);
		return element !== null && element.checkValue();
	},
	cancel : function() {
		return true;
	}
});
$Firefly.createClass("sap.zen.FPSelectionType", sap.firefly.XObject, {
	inclusion : null,
	type : null,
	initMe : function() {
		this.inclusion = sap.firefly.XBooleanValue.create(true);
		this.type = sap.zen.FilterType.UNKNOWN;
	},
	getInclusion : function() {
		return this.inclusion;
	},
	getType : function() {
		return this.type;
	},
	hasNotSupportedSelection : function() {
		return false;
	},
	hasExcludingQuery : function() {
		var z1 = false;
		if (this.inclusion !== null) {
			z1 = !this.inclusion.getBooleanValue();
		}
		return z1;
	}
});
$Firefly
		.createClass(
				"sap.zen.HierarchyObjectWrapper",
				sap.firefly.XObject,
				{
					hierarchyName : null,
					hierarchyText : null,
					initMe : function(hierarchyName, hierarchyText) {
						if (hierarchyName === null) {
							throw sap.firefly.XException
									.createIllegalArgumentException("The hierarchyName should not be null");
						}
						this.hierarchyName = hierarchyName;
						this.hierarchyText = hierarchyText;
					},
					getDisplayKey : function() {
						return this.hierarchyName;
					},
					getText : function() {
						return this.hierarchyText;
					},
					getChildren : function() {
						return null;
					},
					getKey : function() {
						return this.hierarchyName;
					},
					isNode : function() {
						return false;
					},
					getIntKey : function() {
						return 0;
					},
					getDoubleKey : function() {
						return 0;
					},
					getDateKey : function() {
						return null;
					},
					getTimeSpanKey : function() {
						return 0;
					},
					getType : function() {
						return sap.zen.Type.HIERARCHY;
					},
					getExternalKey : function(ds) {
						return this.getDisplayKey();
					}
				});
$Firefly.createClass("sap.zen.MemberCache", sap.firefly.XObject, {
	$statics : {
		create : function(ds, name) {
			var instance = null;
			if (ds !== null && name !== null) {
				instance = ds.getMemberCacheForDimensionName(name);
			}
			if (instance === null) {
				instance = new sap.zen.MemberCache();
				instance.cacheByKey = sap.firefly.XHashMapByString.create();
				instance.cacheByDisplayKey = sap.firefly.XHashMapByString
						.create();
				if (ds !== null && name !== null) {
					ds.addMemberCacheForDimensionName(name, instance);
				}
			}
			return instance;
		}
	},
	cacheByKey : null,
	cacheByDisplayKey : null,
	putMemberWrapper : function(wrapper) {
		this.cacheByKey.put(wrapper.getKey(), wrapper);
		this.cacheByDisplayKey.put(wrapper.getDisplayKey(), wrapper);
	},
	getMemberWrapper : function(key, displayKey) {
		if (displayKey) {
			return this.cacheByDisplayKey.getByKey(key);
		}
		return this.cacheByKey.getByKey(key);
	}
});
$Firefly.createClass("sap.zen.MemberKeyWrapper", sap.firefly.XObject, {
	key : null,
	initMe : function(key) {
		this.key = key;
	},
	getKey : function() {
		return this.key;
	},
	getDisplayKey : function() {
		return null;
	},
	getText : function() {
		return null;
	},
	getChildren : function() {
		return null;
	},
	isNode : function() {
		return false;
	},
	getIntKey : function() {
		return 0;
	},
	getDoubleKey : function() {
		return 0;
	},
	getDateKey : function() {
		return null;
	},
	getTimeSpanKey : function() {
		return 0;
	},
	getType : function() {
		return null;
	},
	getExternalKey : function(ds) {
		return this.key;
	},
	toString : function() {
		return sap.firefly.XString.concatenate2("MemberKeyWrapper for:",
				this.key);
	}
});
$Firefly
		.createClass(
				"sap.zen.MemberWrapper",
				sap.firefly.XObject,
				{
					$statics : {
						getMemberType : function(object) {
							var memberType = object.getName();
							if (sap.firefly.XString.isEqual(memberType,
									sap.firefly.XValueType.LOWER_CASE_STRING
											.toString())
									|| sap.firefly.XString
											.isEqual(
													memberType,
													sap.firefly.XValueType.UPPER_CASE_STRING
															.toString())
									|| sap.firefly.XString.isEqual(memberType,
											sap.firefly.XValueType.STRING
													.toString())) {
								return sap.zen.Type.STRING;
							} else {
								if (sap.firefly.XString.isEqual(memberType,
										sap.firefly.XValueType.INTEGER
												.toString())
										|| sap.firefly.XString.isEqual(
												memberType,
												sap.firefly.XValueType.LONG
														.toString())) {
									return sap.zen.Type.INTEGER;
								} else {
									if (sap.firefly.XString.isEqual(memberType,
											sap.firefly.XValueType.DOUBLE
													.toString())) {
										return sap.zen.Type.DOUBLE;
									} else {
										if (sap.firefly.XString
												.isEqual(
														memberType,
														sap.firefly.XValueType.CALENDAR_DAY
																.toString())
												|| sap.firefly.XString
														.isEqual(
																memberType,
																sap.firefly.XValueType.DATE
																		.toString())) {
											return sap.zen.Type.DATE;
										} else {
											if (sap.firefly.XString
													.isEqual(
															memberType,
															sap.firefly.XValueType.DATE_TIME
																	.toString())) {
												return sap.zen.Type.DATE_TIME;
											} else {
												if (sap.firefly.XString
														.isEqual(
																memberType,
																sap.firefly.XValueType.TIMESPAN
																		.toString())) {
													return sap.zen.Type.TIMESPAN;
												}
											}
										}
									}
								}
							}
							return sap.zen.Type.UNKNOWN;
						}
					},
					member : null,
					node : null,
					variableMode : false,
					characteristic : null,
					memberCache : null,
					variable : null,
					filterValueBag : null,
					initMe : function(member, variableMode, characteristic) {
						if (member === null) {
							throw sap.firefly.XException
									.createIllegalArgumentException("The member should not be null");
						}
						this.member = member;
						this.variableMode = variableMode;
						this.characteristic = characteristic;
					},
					initMe2 : function(node, variableMode, characteristic,
							memberCache, variable) {
						if (node === null) {
							throw sap.firefly.XException
									.createIllegalArgumentException("The node should not be null");
						}
						this.node = node;
						this.member = node.getDimensionMember();
						this.variableMode = variableMode;
						this.characteristic = characteristic;
						this.memberCache = memberCache;
						this.variable = variable;
					},
					initMe3 : function(filterValue, variableMode,
							characteristic, field) {
						var dimensionMember = null;
						var fieldValue = filterValue.getFieldValue();
						if (fieldValue !== null) {
							dimensionMember = characteristic
									.getDimensionMemberWithValue(fieldValue
											.getValue(), false, field);
						} else {
							dimensionMember = characteristic
									.getDimensionMemberWithValue(filterValue
											.getValue(), false, field);
						}
						this.initMe(dimensionMember, variableMode,
								characteristic);
						this.filterValueBag = filterValue;
					},
					getMember : function() {
						return this.member;
					},
					getDimension : function() {
						return this.characteristic;
					},
					getKey : function() {
						var lFieldValue = this.getKeyFieldValue();
						var lValueType;
						var lKeyValueAsString;
						if (lFieldValue !== null) {
							lValueType = lFieldValue.getValueType();
							lKeyValueAsString = lFieldValue.getStringValue();
							if (lValueType
									.isEqualTo(sap.firefly.XValueType.STRING)) {
								lKeyValueAsString = lFieldValue
										.getStringValue();
							} else {
								if (lValueType
										.isEqualTo(sap.firefly.XValueType.INTEGER)) {
									lKeyValueAsString = sap.firefly.XInteger
											.convertIntegerToString(lFieldValue
													.getIntegerValue());
								} else {
									if (lValueType
											.isEqualTo(sap.firefly.XValueType.LONG)) {
										lKeyValueAsString = sap.firefly.XLong
												.convertLongToString(lFieldValue
														.getLongValue());
									} else {
										if (lValueType
												.isEqualTo(sap.firefly.XValueType.DOUBLE)) {
											lKeyValueAsString = sap.firefly.XDouble
													.convertDoubleToString(lFieldValue
															.getDoubleValue());
										} else {
											if (lValueType
													.isEqualTo(sap.firefly.XValueType.DATE)) {
												lKeyValueAsString = lFieldValue
														.getDateValue()
														.toSAPFormat();
											}
										}
									}
								}
							}
							return lKeyValueAsString;
						}
						return this.member.getName();
					},
					getKeyFieldValue : function() {
						var lMainAttribute = this.characteristic
								.getMainAttribute();
						var lField;
						var lFieldValue;
						var keyAsString;
						var fieldLiteralValue;
						if (lMainAttribute === null) {
							lMainAttribute = this.characteristic;
						}
						lField = null;
						lFieldValue = null;
						if (this.isDimensionHierarchical()) {
							lField = lMainAttribute.getHierarchyKeyField();
						} else {
							lField = lMainAttribute
									.getFirstFieldByType(sap.firefly.PresentationType.KEY_NOT_COMPOUND);
						}
						if (lField !== null) {
							lFieldValue = this.member.getFieldValue(lField);
							if (lFieldValue === null) {
								if (this.filterValueBag !== null) {
									keyAsString = this.filterValueBag
											.getSupplementValueString(lField
													.getName());
									if (keyAsString !== null) {
										fieldLiteralValue = lField
												.createFieldLiteralValue();
										fieldLiteralValue
												.setLiteralString(keyAsString);
										return fieldLiteralValue;
									}
								}
								lField = null;
							}
						}
						if (lField === null) {
							lField = lMainAttribute.getKeyField();
						}
						if (lField !== null) {
							lFieldValue = this.member.getFieldValue(lField);
							if (lFieldValue === null && this.variableMode) {
								lField = lMainAttribute.getHierarchyKeyField();
								if (lField !== null) {
									lFieldValue = this.member
											.getFieldValue(lField);
								}
							}
						}
						return lFieldValue;
					},
					getDisplayKey : function() {
						var lMainAttribute = this.characteristic
								.getMainAttribute();
						var lField;
						var lFieldValue;
						var lDisplayKeyValueAsString;
						if (lMainAttribute === null) {
							lMainAttribute = this.characteristic;
						}
						lField = null;
						lFieldValue = null;
						lDisplayKeyValueAsString = null;
						if (this.characteristic.isCompound()) {
							lField = lMainAttribute
									.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND);
						} else {
							if (this.characteristic.isHierarchyAssigned()) {
								lField = lMainAttribute
										.getHierarchyDisplayKeyField();
							}
						}
						if (lField === null) {
							lField = lMainAttribute
									.getFirstFieldByType(sap.firefly.PresentationType.KEY_NOT_COMPOUND);
						}
						if (lField !== null) {
							lFieldValue = this.member.getFieldValue(lField);
							if (lFieldValue !== null) {
								lDisplayKeyValueAsString = lFieldValue
										.getStringValue();
							} else {
								if (this.filterValueBag !== null) {
									lDisplayKeyValueAsString = this.filterValueBag
											.getSupplementValueString(lField
													.getName());
								}
							}
						}
						if (lDisplayKeyValueAsString === null) {
							try {
								if (lField === null) {
									lField = lMainAttribute
											.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY);
								}
								if (lField !== null) {
									lFieldValue = this.member
											.getFieldValue(lField);
									if (lFieldValue !== null) {
										lDisplayKeyValueAsString = lFieldValue
												.getStringValue();
									} else {
										if (this.filterValueBag !== null) {
											lDisplayKeyValueAsString = this.filterValueBag
													.getSupplementValueString(lField
															.getName());
										}
									}
								}
							} catch (e) {
								lDisplayKeyValueAsString = this.getKey();
							}
						}
						if (lDisplayKeyValueAsString === null) {
							lDisplayKeyValueAsString = this.getKey();
						}
						if (lDisplayKeyValueAsString === null) {
							lDisplayKeyValueAsString = this.member.getName();
						}
						return lDisplayKeyValueAsString;
					},
					getText : function() {
						var lText = null;
						var lMainAttribute = this.characteristic
								.getMainAttribute();
						var lPreferredTextPresentation;
						var lTextField;
						var lFieldValue;
						if (lMainAttribute === null) {
							lMainAttribute = this.characteristic;
						}
						lPreferredTextPresentation = sap.zen.DataSourceScriptApiUtils
								.getPreferredTextPresentation(lMainAttribute);
						lTextField = lMainAttribute
								.getFirstFieldByType(lPreferredTextPresentation);
						if (lTextField !== null) {
							lFieldValue = this.member.getFieldValue(lTextField);
							if (lFieldValue !== null) {
								lText = lFieldValue.getStringValue();
							} else {
								if (this.filterValueBag !== null) {
									lText = this.filterValueBag
											.getSupplementValueString(lTextField
													.getName());
								}
							}
						}
						if ((lText === null)
								|| (sap.firefly.XString.size(lText) === 0)) {
							lText = this.member.getText();
							if (lText === null) {
								lText = this.getDisplayKey();
								if (lText === null) {
									lText = this.member.getName();
								}
							}
						}
						return lText;
					},
					getChildren : function() {
						var members;
						var extResult;
						var list;
						var i;
						var member;
						var memberWrapper;
						if (this.isNode()) {
							this.characteristic
									.setSelectorHierarchyActive(true);
							this.characteristic
									.setSelectorRootExpandingLevels(this.node
											.getDisplayLevel() + 1);
							this.characteristic.clearSelectorSelections();
							this.characteristic.clearSelectorHierarchyNode();
							this.characteristic
									.setSelectorHierarchyNodeByName(this.node
											.getName());
							members = null;
							if (this.variableMode && this.variable !== null) {
								extResult = this.characteristic
										.processVariableHelp(this.variable
												.getName(),
												sap.firefly.SyncType.BLOCKING,
												null, null);
								if (extResult.hasErrors() === false) {
									members = extResult.getData();
								} else {
									throw sap.firefly.XException
											.createRuntimeException(extResult
													.getSummary());
								}
							} else {
								members = sap.zen.DataSourceScriptApiUtils
										.getAllDimensionMembersHierarchical(this.characteristic);
							}
							list = sap.firefly.XList.create();
							for (i = 0; i < members.size(); i++) {
								member = members.get(i);
								if (!sap.firefly.XString.isEqual(member
										.getName(), this.node.getName())) {
									memberWrapper = new sap.zen.MemberWrapper();
									memberWrapper.initMe2(member,
											this.variableMode,
											this.characteristic,
											this.memberCache, this.variable);
									list.add(memberWrapper);
									this.memberCache
											.putMemberWrapper(memberWrapper);
								}
							}
							return list;
						}
						return null;
					},
					isNode : function() {
						return (this.node !== null)
								&& (this.node.getDrillState() !== sap.firefly.DrillState.LEAF);
					},
					getIntKey : function() {
						return this.member.getIntegerValue();
					},
					getDoubleKey : function() {
						return this.member.getDoubleValue();
					},
					getDateKey : function() {
						return this.member.getDateValue();
					},
					getTimeSpanKey : function() {
						return this.member.getTimeSpanValue().getTimeSpan();
					},
					getType : function() {
						var keyFieldValue = this.getKeyFieldValue();
						if (keyFieldValue === null) {
							return sap.zen.Type.UNKNOWN;
						}
						return sap.zen.MemberWrapper
								.getMemberType(keyFieldValue.getValueType());
					},
					openContextMenu : function(dataSource, contextMenu,
							sourceComponentName) {
						var loDimension = sap.zen.DimensionWrapper
								.create(dataSource, null, this.characteristic
										.getName());
						var loDimensionMember = sap.zen.DimensionMemberWrapper
								.create(loDimension, this.member);
						contextMenu.openMenuForDimensionMember(
								sourceComponentName,
								sap.zen.CContextMenuMode.NAVIGATION_PANEL,
								loDimensionMember);
					},
					getExternalKey : function(ds) {
						var keyFieldValue = this.getKeyFieldValue();
						if (keyFieldValue !== null
								&& keyFieldValue.getValueType() === sap.firefly.XValueType.DATE) {
							return keyFieldValue.getDateValue().toIsoFormat();
						}
						if (!this.hasDisplayKeys()) {
							this.reloadMember(ds);
						}
						return this.getDisplayKey();
					},
					reloadMember : function(ds) {
						var wrapper;
						var keys;
						var membersByKeys;
						if (!this.variableMode) {
							wrapper = sap.zen.CharacteristicWrapper
									.getInstance(ds, this.characteristic);
							keys = sap.firefly.XListOfString.create();
							keys.add(this.getKey());
							membersByKeys = wrapper.getMembersByKeys(keys,
									false);
							if (!membersByKeys.isEmpty()) {
								this.member = membersByKeys.get(0);
							}
						}
					},
					hasDisplayKeys : function() {
						var lMainAttribute = this.characteristic
								.getMainAttribute();
						var dknc;
						var dk;
						if (lMainAttribute === null) {
							lMainAttribute = this.characteristic;
						}
						if (this.characteristic.isCompound()) {
							dknc = this.characteristic
									.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND);
							if (dknc !== null
									&& this.member.getFieldValue(dknc) === null) {
								return false;
							}
						}
						dk = this.characteristic
								.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY);
						if (dk !== null
								&& this.member.getFieldValue(dk) === null) {
							return false;
						}
						return true;
					},
					isDimensionHierarchical : function() {
						return (this.variableMode
								&& this.variable !== null
								&& this.variable
										.getVariableType()
										.isTypeOf(
												sap.firefly.VariableType.DIMENSION_MEMBER_VARIABLE) && sap.firefly.XStringUtils
								.isNotNullAndNotEmpty((this.variable)
										.getHierarchyName()))
								|| (!this.variableMode && this.characteristic
										.isHierarchyAssigned());
					},
					toString : function() {
						var lOutput = sap.firefly.XStringBuffer.create();
						lOutput.append("MemberWrapper{");
						lOutput.append(sap.firefly.XStringUtils.concatenate2(
								"key: ", this.getKey()));
						lOutput.append(", ");
						lOutput.append(sap.firefly.XStringUtils.concatenate2(
								"displayKey: ", this.getDisplayKey()));
						lOutput.append(", ");
						lOutput.append(sap.firefly.XStringUtils.concatenate2(
								"text: ", this.getText()));
						lOutput.append("}");
						return lOutput.toString();
					}
				});
$Firefly
		.createClass(
				"sap.zen.OptionMemberWrapper",
				sap.firefly.XObject,
				{
					$statics : {
						create : function(member) {
							var lInstance = null;
							if (member !== null) {
								lInstance = new sap.zen.OptionMemberWrapper();
								lInstance.initMe(member);
							} else {
								throw sap.firefly.XException
										.createIllegalArgumentException("The member should not be null");
							}
							return lInstance;
						}
					},
					member : null,
					initMe : function(member) {
						this.member = member;
					},
					getType : function() {
						return sap.zen.Type.STRING;
					},
					getKey : function() {
						return this.member.getName();
					},
					getDisplayKey : function() {
						return this.getKey();
					},
					getExternalKey : function(ds) {
						return this.getDisplayKey();
					},
					getText : function() {
						return this.member.getText();
					},
					getChildren : function() {
						return null;
					},
					isNode : function() {
						return false;
					},
					getIntKey : function() {
						return 0;
					},
					getDoubleKey : function() {
						return 0;
					},
					getDateKey : function() {
						return null;
					},
					getTimeSpanKey : function() {
						return 0;
					}
				});
$Firefly.createClass("sap.zen.Range", sap.firefly.XObject, {
	$statics : {
		FROM_TEXT : null,
		TO_TEXT : null,
		OPERATION_TEXT : null,
		EXCLUDE_TEXT : null,
		staticSetup : function() {
			sap.zen.Range.FROM_TEXT = "from";
			sap.zen.Range.TO_TEXT = "to";
			sap.zen.Range.OPERATION_TEXT = "operation";
			sap.zen.Range.EXCLUDE_TEXT = "exclude";
		}
	},
	from : null,
	to : null,
	exclude : false,
	operation : null,
	initMe3 : function(from, to, operation, exclude) {
		this.from = from;
		this.to = to;
		this.operation = operation;
		this.exclude = exclude;
	},
	initMe2 : function(from) {
		this.initMe3(from, null, sap.zen.Operation.EQ, false);
	},
	initMe : function(from, to) {
		this.from = from;
		this.to = to;
	},
	getFrom : function() {
		return this.from;
	},
	setFrom : function(from) {
		this.from = from;
	},
	getTo : function() {
		return this.to;
	},
	setTo : function(to) {
		this.to = to;
	},
	isExclude : function() {
		return this.exclude;
	},
	setExclude : function(exclude) {
		this.exclude = exclude;
	},
	getOperation : function() {
		return this.operation;
	},
	setOperation : function(operation) {
		this.operation = operation;
	},
	getKey : function() {
		var key = "";
		if (this.from !== null) {
			key = sap.firefly.XString.concatenate2(key, this.from.getKey());
		}
		key = sap.firefly.XString.concatenate2(key, "-");
		if (this.to !== null) {
			key = sap.firefly.XString.concatenate2(key, this.to.getKey());
		}
		return key;
	},
	toString : function() {
		var lOutput = sap.firefly.XStringBuffer.create();
		var lExclude = "false";
		var lTo;
		if (this.exclude) {
			lExclude = "true";
		}
		lTo = "null";
		if (this.to !== null) {
			lTo = this.to.toString();
		}
		lOutput.append(sap.firefly.XStringUtils.concatenate2("from: ",
				this.from.toString()));
		lOutput.append(", ");
		lOutput.append(sap.firefly.XStringUtils.concatenate2("to: ", lTo));
		lOutput.append(", ");
		lOutput.append(sap.firefly.XStringUtils.concatenate2("operation: ",
				this.operation.toString()));
		lOutput.append(", ");
		lOutput.append(sap.firefly.XStringUtils.concatenate2("exclude: ",
				lExclude));
		return lOutput.toString();
	}
});
$Firefly
		.createClass(
				"sap.zen.TextMemberWrapper",
				sap.firefly.XObject,
				{
					$statics : {
						create : function(text, type) {
							var lInstance = null;
							if (text !== null) {
								lInstance = new sap.zen.TextMemberWrapper();
								lInstance.initMe(text, type);
							} else {
								throw sap.firefly.XException
										.createIllegalArgumentException("The text should not be null");
							}
							return lInstance;
						}
					},
					text : null,
					type : null,
					initMe : function(text, type) {
						this.text = text;
						this.type = type;
					},
					getType : function() {
						return this.type;
					},
					getKey : function() {
						return this.text;
					},
					getDisplayKey : function() {
						return this.text;
					},
					getExternalKey : function(ds) {
						return this.getDisplayKey();
					},
					getText : function() {
						return this.text;
					},
					getChildren : function() {
						return null;
					},
					isNode : function() {
						return false;
					},
					getIntKey : function() {
						if (this.type.isEqualTo(sap.zen.Type.INTEGER)) {
							return sap.firefly.XInteger
									.convertStringToInteger(this.text);
						}
						return 0;
					},
					getDoubleKey : function() {
						if (this.type.isEqualTo(sap.zen.Type.DOUBLE)) {
							return sap.firefly.XDouble
									.convertStringToDouble(this.text);
						}
						return 0;
					},
					getDateKey : function() {
						return null;
					},
					getTimeSpanKey : function() {
						return 0;
					}
				});
$Firefly
		.createClass(
				"sap.zen.VariableContainerWrapper",
				sap.firefly.XObject,
				{
					$statics : {
						getFullVariableName : function(dsName, varName) {
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(dsName)) {
								return sap.firefly.XStringUtils.concatenate3(
										dsName, ":", varName);
							}
							return varName;
						}
					},
					messageManager : null,
					page : null,
					dSNameVariableProcessorPairList : null,
					variableWrappers : null,
					maxMembers : 0,
					messageWriter : null,
					initMe : function(page, dSNameVariableProcessorPairList,
							object, cancelable, maxMembers, messageWriter) {
						this.page = page;
						this.dSNameVariableProcessorPairList = dSNameVariableProcessorPairList;
						this.maxMembers = maxMembers;
						this.messageWriter = messageWriter;
					},
					initVariableWrappers : function() {
						this.variableWrappers = this.getWrapperMap(
								this.maxMembers, this.messageWriter);
					},
					isCancelable : function() {
						return true;
					},
					getCharacteristicMemberVariableWrapper : function(
							dataSourceName, processorVariable, maxMembers,
							messageWriter) {
						var characteristicMemberVariableWrapper = new sap.zen.CharacteristicMemberVariableWrapper();
						var dataSource = this.page
								.getDataSource(dataSourceName);
						characteristicMemberVariableWrapper.initMe2(
								processorVariable,
								sap.zen.FPMemberDisplay.KEY_TEXT,
								dataSourceName, dataSource, messageWriter);
						characteristicMemberVariableWrapper
								.setMaxMembers(maxMembers);
						return characteristicMemberVariableWrapper;
					},
					getElement : function(key) {
						if (this.variableWrappers === null) {
							this.initVariableWrappers();
						}
						return this.variableWrappers.getByKey(key);
					},
					getElements : function() {
						if (this.variableWrappers === null) {
							this.initVariableWrappers();
						}
						return this.variableWrappers.getValuesAsReadOnlyList();
					},
					getWrapperMap : function(maxMembers, messageWriter) {
						var variablesConfigList;
						var applicationPropertiesComponent;
						var promptsConfig;
						var jsonParser;
						var variables;
						if ((this.dSNameVariableProcessorPairList === null)
								|| (this.dSNameVariableProcessorPairList.size() === 0)) {
							return sap.firefly.XLinkedHashMapByString.create();
						}
						variablesConfigList = null;
						applicationPropertiesComponent = this.page
								.getApplicationPropertiesComponent();
						promptsConfig = applicationPropertiesComponent
								.getPromptsConfig();
						if (promptsConfig !== null) {
							jsonParser = applicationPropertiesComponent
									.getJsonParser();
							variablesConfigList = sap.zen.CharacteristicConfig
									.parseJSON(jsonParser, promptsConfig);
						}
						variables = sap.firefly.XLinkedHashMapByString.create();
						if (variablesConfigList !== null) {
							this.getWrapperMapByConfig(maxMembers,
									messageWriter, variablesConfigList,
									variables);
						} else {
							this.getWrapperMapAll(maxMembers, messageWriter,
									variables);
						}
						return variables;
					},
					getWrapperMapAll : function(maxMembers, messageWriter,
							variables) {
						var i;
						var dsNameVariableProcessorPair;
						var variableProcessor;
						var dataSourceName;
						var inputVariables;
						var j;
						var processorVariable;
						var characteristicMemberVariableWrapper;
						for (i = 0; i < this.dSNameVariableProcessorPairList
								.size(); i++) {
							dsNameVariableProcessorPair = this.dSNameVariableProcessorPairList
									.get(i);
							variableProcessor = dsNameVariableProcessorPair
									.getVariableProcessor();
							dataSourceName = dsNameVariableProcessorPair
									.getDataSourceName();
							inputVariables = variableProcessor.getVariables();
							for (j = 0; j < inputVariables.size(); j++) {
								processorVariable = inputVariables.get(j);
								if (processorVariable.isInputEnabled()) {
									characteristicMemberVariableWrapper = this
											.createWrapper(dataSourceName,
													processorVariable,
													maxMembers, messageWriter);
									if (characteristicMemberVariableWrapper !== null) {
										variables
												.put(
														sap.zen.VariableContainerWrapper
																.getFullVariableName(
																		dataSourceName,
																		processorVariable
																				.getName()),
														characteristicMemberVariableWrapper);
									}
								}
							}
						}
					},
					getWrapperMapByConfig : function(maxMembers, messageWriter,
							variablesConfigList, variables) {
						var j3;
						var characteristicConfig;
						var name;
						var i2;
						var dsNameVariableProcessorPair;
						var variableProcessor;
						var dataSourceName;
						var inputVariables;
						var j2;
						var processorVariable;
						var variableNameToCompare;
						var characteristicMemberVariableWrapper;
						for (j3 = 0; j3 < variablesConfigList.size(); j3++) {
							characteristicConfig = variablesConfigList.get(j3);
							name = characteristicConfig.getName();
							for (i2 = 0; i2 < this.dSNameVariableProcessorPairList
									.size(); i2++) {
								dsNameVariableProcessorPair = this.dSNameVariableProcessorPairList
										.get(i2);
								variableProcessor = dsNameVariableProcessorPair
										.getVariableProcessor();
								dataSourceName = dsNameVariableProcessorPair
										.getDataSourceName();
								inputVariables = variableProcessor
										.getVariables();
								for (j2 = 0; j2 < inputVariables.size(); j2++) {
									processorVariable = inputVariables.get(j2);
									if (processorVariable.isInputEnabled()) {
										variableNameToCompare = "";
										if (this.page
												.getApplicationPropertiesComponent()
												.isMergePromptsMode()) {
											variableNameToCompare = processorVariable
													.getName();
										} else {
											variableNameToCompare = sap.zen.VariableContainerWrapper
													.getFullVariableName(
															dataSourceName,
															processorVariable
																	.getName());
										}
										if (sap.firefly.XString.isEqual(
												variableNameToCompare, name)) {
											characteristicMemberVariableWrapper = this
													.createWrapper(
															dataSourceName,
															processorVariable,
															maxMembers,
															messageWriter);
											if (characteristicMemberVariableWrapper !== null) {
												variables
														.put(
																sap.zen.VariableContainerWrapper
																		.getFullVariableName(
																				dataSourceName,
																				processorVariable
																						.getName()),
																characteristicMemberVariableWrapper);
											}
										}
									}
								}
							}
						}
					},
					checkValues : function() {
						var returnValue = true;
						var i;
						var dsNameVariableProcessorPair;
						var variableProcessor;
						var transferVariables;
						for (i = 0; i < this.dSNameVariableProcessorPairList
								.size(); i++) {
							dsNameVariableProcessorPair = this.dSNameVariableProcessorPairList
									.get(i);
							variableProcessor = dsNameVariableProcessorPair
									.getVariableProcessor();
							if (variableProcessor !== null
									&& !variableProcessor
											.isDirectVariableTransferEnabled()) {
								transferVariables = variableProcessor
										.transferVariables(
												sap.firefly.SyncType.BLOCKING,
												null, null);
								this.page.createMessages(transferVariables);
								if (transferVariables.hasErrors()
										|| transferVariables
												.hasSeverity(sap.firefly.Severity.SEMANTICAL_ERROR)) {
									returnValue = false;
								}
							}
						}
						return returnValue;
					},
					checkValue : function(key) {
						return true;
					},
					submit : function() {
						var lHasErrors;
						var i;
						var dsNameVariableProcessorPair;
						var loVariableProcessor;
						var loResult;
						var lDataSourceName;
						var loDataSource;
						if ((this.dSNameVariableProcessorPairList === null)
								|| (this.dSNameVariableProcessorPairList.size() === 0)) {
							return true;
						}
						lHasErrors = false;
						for (i = 0; i < this.dSNameVariableProcessorPairList
								.size(); i++) {
							dsNameVariableProcessorPair = this.dSNameVariableProcessorPairList
									.get(i);
							loVariableProcessor = dsNameVariableProcessorPair
									.getVariableProcessor();
							loResult = sap.zen.VariablesUtils
									.submitOrCheckVariableProcessor(loVariableProcessor);
							this.page.createMessages(loResult);
							if (loResult.hasErrors()) {
								lHasErrors = true;
							}
							lDataSourceName = dsNameVariableProcessorPair
									.getDataSourceName();
							loDataSource = this.page
									.getDataSource(lDataSourceName);
							if (loDataSource !== null) {
								if (this.page.isInFillManadatoryVariablesMode() === false) {
									loDataSource.raiseDataSourceChangedEvent(
											null, true, false);
								} else {
									if (!loDataSource.isHanaSystem()) {
										loDataSource.initializeVisibleFields();
									}
								}
							}
						}
						return !lHasErrors;
					},
					synchronize : function() {
						var i;
						var dsNameVariableProcessorPair;
						var variableProcessor;
						var success;
						for (i = 0; i < this.dSNameVariableProcessorPairList
								.size(); i++) {
							dsNameVariableProcessorPair = this.dSNameVariableProcessorPairList
									.get(i);
							variableProcessor = dsNameVariableProcessorPair
									.getVariableProcessor();
							success = sap.zen.DataSourceScriptApiUtils
									.synchronizeVariableProcessor(variableProcessor);
							if (success) {
								this.initVariableWrappers();
							}
						}
					},
					createWrapper : function(dataSourceName, processorVariable,
							maxMembers, messageWriter) {
						var variableType = processorVariable.getVariableType();
						if (variableType
								.isEqualTo(sap.firefly.VariableType.DIMENSION_MEMBER_VARIABLE)
								|| variableType
										.isEqualTo(sap.firefly.VariableType.HIERARCHY_NODE_VARIABLE)) {
							return this.getCharacteristicMemberVariableWrapper(
									dataSourceName, processorVariable,
									maxMembers, messageWriter);
						} else {
							if (variableType
									.isEqualTo(sap.firefly.VariableType.OPTION_LIST_VARIABLE)) {
								return this.getOptionVariableWrapper(
										dataSourceName, processorVariable);
							} else {
								if (variableType
										.isEqualTo(sap.firefly.VariableType.SIMPLE_TYPE_VARIABLE)
										|| variableType
												.isEqualTo(sap.firefly.VariableType.FORMULA_VARIABLE)
										|| variableType
												.isEqualTo(sap.firefly.VariableType.TEXT_VARIABLE)) {
									return this.getTextVariableWrapper(
											dataSourceName, processorVariable);
								} else {
									if (variableType
											.isEqualTo(sap.firefly.VariableType.HIERARCHY_NAME_VARIABLE)) {
										return this
												.getHierarchyVariableWrapper(
														dataSourceName,
														processorVariable,
														maxMembers,
														messageWriter);
									}
								}
							}
						}
						return null;
					},
					getHierarchyVariableWrapper : function(dataSourceName,
							processorVariable, maxMembers, messageWriter) {
						var variableWrapper = new sap.zen.HierarchyVariableWrapper();
						var dataSource = this.page
								.getDataSource(dataSourceName);
						variableWrapper
								.initMe3(processorVariable, dataSource,
										sap.zen.FPMemberDisplay.KEY_TEXT,
										messageWriter);
						variableWrapper.setMaxMembers(maxMembers);
						return variableWrapper;
					},
					getOptionVariableWrapper : function(dataSourceName,
							processorVariable) {
						var variableWrapper = new sap.zen.OptionListVariableWrapper();
						var dataSource = this.page
								.getDataSource(dataSourceName);
						variableWrapper.initMe2(processorVariable,
								sap.zen.FPMemberDisplay.KEY_TEXT,
								dataSourceName, dataSource, this.page);
						return variableWrapper;
					},
					getTextVariableWrapper : function(dataSourceName,
							processorVariable) {
						var textVariableWrapper = new sap.zen.TextVariableWrapper();
						textVariableWrapper.initMe(processorVariable,
								dataSourceName);
						return textVariableWrapper;
					},
					cancel : function() {
						var hasErrors2;
						var i;
						var dsNameVariableProcessorPair;
						var variableProcessor;
						var canceled;
						if ((this.dSNameVariableProcessorPairList === null)
								|| (this.dSNameVariableProcessorPairList.size() === 0)) {
							return true;
						}
						hasErrors2 = false;
						for (i = 0; i < this.dSNameVariableProcessorPairList
								.size(); i++) {
							dsNameVariableProcessorPair = this.dSNameVariableProcessorPairList
									.get(i);
							variableProcessor = dsNameVariableProcessorPair
									.getVariableProcessor();
							if (variableProcessor.supportsReInitVariables()
									&& !variableProcessor.isSubmitted()) {
								canceled = variableProcessor
										.cancelReInitVariables(
												sap.firefly.SyncType.BLOCKING,
												null, null);
								this.page.createMessages(canceled);
								if (canceled.hasErrors()) {
									hasErrors2 = true;
								} else {
									if (!variableProcessor.isSubmitted()) {
										sap.zen.VariablesUtils
												.submitOrCheckVariableProcessor(variableProcessor);
									}
								}
							}
						}
						return !hasErrors2;
					}
				});
$Firefly.createClass("sap.zen.AxisConfig", sap.firefly.XObject, {
	$statics : {
		ROWS : null,
		COLUMNS : null,
		staticSetup : function() {
			sap.zen.AxisConfig.ROWS = "rows";
			sap.zen.AxisConfig.COLUMNS = "columns";
		}
	},
	theRows : null,
	theColumns : null
});
$Firefly
		.createClass(
				"sap.zen.CharacteristicConfig",
				sap.firefly.XObject,
				{
					$statics : {
						NAME_KEY : null,
						staticSetup : function() {
							sap.zen.CharacteristicConfig.NAME_KEY = "name";
						},
						parseJSON : function(jsonParser, jsonString) {
							var configs = sap.firefly.XList.create();
							var jsonObj;
							var dimensionList;
							var cntDimensions;
							var i;
							var config;
							var elementStruct;
							configs = sap.firefly.XList.create();
							if ((jsonString === null)
									|| sap.firefly.XString.size(jsonString) === 0) {
								return configs;
							}
							jsonString = sap.firefly.XString.replace(
									jsonString, "name:", '"name":');
							jsonObj = jsonParser.parse(jsonString);
							dimensionList = jsonObj.asList();
							cntDimensions = dimensionList.size();
							for (i = 0; i < cntDimensions; i++) {
								config = new sap.zen.CharacteristicConfig();
								elementStruct = dimensionList
										.getElementByIndex(i).asStructure();
								config.name = elementStruct
										.getStringByName(sap.zen.CharacteristicConfig.NAME_KEY);
								configs.add(config);
							}
							return configs;
						},
						instance : function(name) {
							var config = new sap.zen.CharacteristicConfig();
							config.name = name;
							return config;
						}
					},
					name : null,
					alternativeText : null,
					selectionTypes : null,
					navigation : null,
					exitMembers : null,
					getName : function() {
						return this.name;
					},
					getAlternativeText : function() {
						return this.alternativeText;
					},
					getSelectionTypes : function() {
						return this.selectionTypes;
					},
					getNavigation : function() {
						return this.navigation;
					},
					getExitMembers : function() {
						return this.exitMembers;
					},
					toString : function() {
						var s1 = sap.firefly.XString.concatenate2(
								"CharacteristicConfig [name=", this.name);
						s1 = sap.firefly.XString.concatenate2(s1,
								", alternativeText=");
						s1 = sap.firefly.XString.concatenate2(s1,
								this.alternativeText);
						s1 = sap.firefly.XString.concatenate2(s1,
								", selectionTypes=");
						s1 = sap.firefly.XString.concatenate2(s1,
								this.selectionTypes.toString());
						s1 = sap.firefly.XString.concatenate2(s1,
								", navigation=");
						s1 = sap.firefly.XString.concatenate2(s1,
								this.navigation.toString());
						s1 = sap.firefly.XString.concatenate2(s1,
								", exitMembers=");
						s1 = sap.firefly.XString.concatenate2(s1,
								this.exitMembers.toString());
						s1 = sap.firefly.XString.concatenate2(s1, "]");
						return s1;
					}
				});
$Firefly.createClass("sap.zen.CharacteristicNameText", sap.firefly.XObject, {
	$statics : {
		getInstance : function(name, text, measure) {
			var characteristicNameText = new sap.zen.CharacteristicNameText();
			characteristicNameText.name = name;
			characteristicNameText.text = text;
			characteristicNameText.measure = measure;
			return characteristicNameText;
		}
	},
	name : null,
	text : null,
	measure : false
});
$Firefly.createClass("sap.zen.ConfigContainer", sap.firefly.XObject, {
	$statics : {
		FILTERS : null,
		AXIS : null,
		staticSetup : function() {
			sap.zen.ConfigContainer.FILTERS = "filters";
			sap.zen.ConfigContainer.AXIS = "axis";
		}
	},
	theFilters : null,
	axisConfig : null
});
$Firefly.createClass("sap.zen.FilterConfig", sap.firefly.XObject, {
	$statics : {
		NAME : null,
		INPUT_STRING : null,
		EXCLUDE : null,
		KEYS : null,
		RANGES : null,
		staticSetup : function() {
			sap.zen.FilterConfig.NAME = "name";
			sap.zen.FilterConfig.INPUT_STRING = "input";
			sap.zen.FilterConfig.EXCLUDE = "exclude";
			sap.zen.FilterConfig.KEYS = "keys";
			sap.zen.FilterConfig.RANGES = "ranges";
		}
	},
	theName : null,
	theInputString : null,
	excludeFlag : false,
	theKeys : null,
	theRanges : null,
	fullRanges : null,
	initMe : function(name) {
		this.theName = name;
	}
});
$Firefly.createClass("sap.zen.MemberToExpand", sap.firefly.XObject, {
	member : null,
	setMember : function(member) {
		this.member = member;
	},
	setPath : function(path) {
		this.path = path;
	},
	path : null,
	getPath : function() {
		return this.path;
	},
	getMember : function() {
		return this.member;
	}
});
$Firefly.createClass("sap.zen.RangeConfig", sap.firefly.XObject, {
	$statics : {
		FROM : null,
		TO : null,
		staticSetup : function() {
			sap.zen.RangeConfig.FROM = "from";
			sap.zen.RangeConfig.TO = "to";
		}
	},
	theFrom : null,
	theTo : null,
	initMe : function(from, to) {
		this.theFrom = from;
		this.theTo = to;
	}
});
$Firefly.createClass("sap.zen.SortCharsAscByTextComparator",
		sap.firefly.XObject, {
			compare : function(o1, o2) {
				return sap.firefly.XString.compare(o1.getText(), o2.getText());
			}
		});
$Firefly.createClass("sap.zen.FilterPanelComponentMetadataProvider",
		sap.firefly.XObject, {});
$Firefly.createClass("sap.zen.ListItem", sap.firefly.XObject, {
	value : null,
	text : null,
	selected : false,
	isSelected : function() {
		return this.selected;
	},
	setSelected : function(selected) {
		this.selected = selected;
	},
	getValue : function() {
		return this.value;
	},
	setValue : function(value) {
		this.value = value;
	},
	getText : function() {
		return this.text;
	},
	setText : function(text) {
		this.text = text;
	},
	compareTo : function(objectToCompare) {
		var otherItem = objectToCompare;
		var toUse1 = this.getText();
		var toUse2;
		if (sap.firefly.XString.size(toUse1) === 0) {
			toUse1 = this.getValue();
		}
		toUse2 = otherItem.getText();
		if (sap.firefly.XString.size(toUse2) === 0) {
			toUse2 = otherItem.getValue();
		}
		return sap.firefly.XString.compare(toUse1, toUse2);
	}
});
$Firefly.createClass("sap.zen.TestStruct", sap.firefly.XObject, {
	test : null,
	setTest : function(test) {
		this.test = test;
	}
});
$Firefly
		.createClass(
				"sap.zen.DSNameVariableProcessorPair",
				sap.firefly.XObject,
				{
					$statics : {
						create : function(dataSourceName, variableProcessor) {
							var dsNameVariableProcessorPair = new sap.zen.DSNameVariableProcessorPair();
							dsNameVariableProcessorPair
									.setDataSourceName(dataSourceName);
							dsNameVariableProcessorPair
									.setVariableProcessor(variableProcessor);
							return dsNameVariableProcessorPair;
						}
					},
					dataSourceName : null,
					variableProcessor : null,
					getVariableProcessor : function() {
						return this.variableProcessor;
					},
					setVariableProcessor : function(variableProcessor) {
						this.variableProcessor = variableProcessor;
					},
					getDataSourceName : function() {
						return this.dataSourceName;
					},
					setDataSourceName : function(dataSourceName) {
						this.dataSourceName = dataSourceName;
					}
				});
$Firefly
		.createClass(
				"sap.zen.VariableDialogHelper",
				sap.firefly.XObject,
				{
					$statics : {
						createFilterPanel : function(page, sfinMode, parent,
								mDialog) {
							var filterPanelComponent = page
									.createComponentObjectWOInitParameter(
											"VARIABLE_COMPONENT", "VARSCREEN",
											null);
							if (mDialog) {
								filterPanelComponent
										.setWidthAsStringWoCheck("100%");
								filterPanelComponent
										.setHeightAsStringWoCheck("100%");
							} else {
								filterPanelComponent
										.setLeftMarginAsStringWoCheck("0");
								filterPanelComponent
										.setRightMarginAsStringWoCheck("0");
								filterPanelComponent
										.setTopMarginAsStringWoCheck("0");
								filterPanelComponent
										.setBottomMarginAsStringWoCheck("0");
								filterPanelComponent
										.setWidthAsStringWoCheck("auto");
								filterPanelComponent
										.setHeightAsStringWoCheck("auto");
							}
							filterPanelComponent.setIgnoreEmptyDataSource(true);
							filterPanelComponent.setItemMessage(null);
							filterPanelComponent.setShowOneScreen(sfinMode);
							filterPanelComponent.setSFinPrompt(sfinMode);
							sap.zen.VariableDialogHelper
									.setupAndAddFilterPanel(page,
											filterPanelComponent, parent);
							return filterPanelComponent;
						},
						setupAndAddFilterPanel : function(page,
								filterPanelComponent, parent) {
							var dataSourcesIterator;
							var dataSource;
							filterPanelComponent.setVariableScreen(true);
							filterPanelComponent.setTitle("");
							filterPanelComponent.setShowEmbedded(true);
							filterPanelComponent
									.setAppearance(sap.zen.Appearance.FILTERLIST);
							filterPanelComponent
									.setMemberDisplay(sap.zen.FPMemberDisplay.KEY_TEXT);
							filterPanelComponent.setOnSubmit("");
							filterPanelComponent.setOnCancel("");
							filterPanelComponent.setInDialog(true);
							filterPanelComponent
									.registerVariableCheckListener(parent);
							if (page.getDataSources().size() > 0) {
								dataSourcesIterator = page.getDataSources()
										.getIterator();
								while (dataSourcesIterator.hasNext()) {
									dataSource = dataSourcesIterator.next();
									dataSource
											.addDataSourceChangeListener(parent);
								}
							}
						},
						createNameVariableProcessorList : function(page) {
							var dSNameVariableProcessorPairList = sap.firefly.XList
									.create();
							var dataSourcesIterator;
							var dataSource;
							var queryManager;
							var variableProcessor;
							var dsNameVariableProcessorPair;
							if (page.getDataSources().size() > 0) {
								dataSourcesIterator = page.getDataSources()
										.getIterator();
								while (dataSourcesIterator.hasNext()) {
									dataSource = dataSourcesIterator.next();
									queryManager = dataSource.getQueryManager();
									if (queryManager !== null) {
										variableProcessor = queryManager
												.getVariableProcessor();
										if (variableProcessor !== null) {
											dsNameVariableProcessorPair = sap.zen.DSNameVariableProcessorPair
													.create(dataSource
															.getName(),
															variableProcessor);
											dSNameVariableProcessorPairList
													.add(dsNameVariableProcessorPair);
										}
									}
								}
							}
							return dSNameVariableProcessorPairList;
						},
						createAndSetVariableWrapper : function(page,
								filterPanelComponent) {
							var isCancelable = true;
							var applicationProperties = page
									.getApplicationPropertiesComponent();
							var maxMembers = applicationProperties
									.getPromptMaxMembers();
							var dSNameVariableProcessorPairList = sap.zen.VariableDialogHelper
									.createNameVariableProcessorList(page);
							var varContainerWrapper = new sap.zen.VariableContainerWrapper();
							varContainerWrapper.initMe(page,
									dSNameVariableProcessorPairList, null,
									isCancelable, maxMembers, page);
							filterPanelComponent
									.setCharacteristicContainer(varContainerWrapper);
							return varContainerWrapper;
						},
						createWrapperAndSync : function(page, parent,
								filterPanelComponent) {
							var characteristicContainer;
							if (parent.isDataSourceChanged()) {
								sap.zen.VariableDialogHelper
										.createAndSetVariableWrapper(page,
												filterPanelComponent);
								parent.setDataSourceChanged(false);
							}
							characteristicContainer = filterPanelComponent
									.getCharacteristicContainer();
							if (characteristicContainer !== null) {
								characteristicContainer.synchronize();
							}
						},
						cancelContainer : function(filterPanelComponent) {
							var characteristicContainer = filterPanelComponent
									.getCharacteristicContainer();
							if (characteristicContainer !== null) {
								characteristicContainer.cancel();
							}
						}
					}
				});
$Firefly
		.createClass("sap.zen.CrosstabPlanningCellInputInfo",
				sap.firefly.XObject, {
					row : 0,
					col : 0,
					tableRow : 0,
					tableCol : 0,
					dataCell : null,
					newLineHeaderElement : null,
					bisValid : false,
					bisNewValue : false,
					text : null,
					cellType : null,
					inputValue : null,
					initMe : function(row, col, dataCell, newLineHeaderElement,
							isValid, cellType, inputValue) {
						this.row = -1;
						this.col = -1;
						this.tableRow = -1;
						this.tableCol = -1;
						this.dataCell = null;
						this.newLineHeaderElement = null;
						this.bisValid = false;
						this.bisNewValue = false;
						this.text = "";
						this.cellType = null;
						this.row = row;
						this.col = col;
						this.dataCell = dataCell;
						this.newLineHeaderElement = newLineHeaderElement;
						this.bisValid = isValid;
						this.cellType = cellType;
						this.inputValue = inputValue;
					},
					getRow : function() {
						return this.row;
					},
					setRow : function(row) {
						this.row = row;
					},
					getCol : function() {
						return this.col;
					},
					setCol : function(col) {
						this.col = col;
					},
					getDataCell : function() {
						return this.dataCell;
					},
					setDataCell : function(dataCell) {
						this.dataCell = dataCell;
					},
					getNewLineHeaderElement : function() {
						return this.newLineHeaderElement;
					},
					setNewLineHeaderElement : function(newLineHeaderElement) {
						this.newLineHeaderElement = newLineHeaderElement;
					},
					isValid : function() {
						return this.bisValid;
					},
					setValid : function(isValid) {
						this.bisValid = isValid;
					},
					finalizeData : function(headerRowCnt, headerColCnt,
							scalingFactorDisplay) {
						if (this.dataCell !== null) {
							if (this.bisValid) {
								this.text = this.dataCell
										.getNewValueInExternalFormat();
							} else {
								this.text = this.inputValue;
							}
							this.bisNewValue = this.dataCell.isValueChanged();
						}
						this.tableRow = this.row + headerRowCnt;
						this.tableCol = this.col;
						this.tableCol = this.col + headerColCnt;
					},
					getTableRow : function() {
						return this.tableRow;
					},
					getTableCol : function() {
						return this.tableCol;
					},
					getText : function() {
						return this.text;
					},
					getCellType : function() {
						return this.cellType;
					},
					setCellType : function(cellType) {
						this.cellType = cellType;
					},
					isNewValue : function() {
						return this.bisNewValue;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ZCrosstabColWidthHandler",
				sap.firefly.XObject,
				{
					$statics : {
						create : function(crosstabControl) {
							var lInstance = new sap.zen.ZCrosstabColWidthHandler();
							lInstance.initColWidthHandler(crosstabControl);
							return lInstance;
						}
					},
					colsWithSetWidth : null,
					crosstabControl : null,
					initColWidthHandler : function(crosstabControl) {
						this.colsWithSetWidth = sap.firefly.XHashMapByString
								.create();
						this.crosstabControl = crosstabControl;
					},
					getUserColWidths : function() {
						this.colsWithSetWidth = this
								.getUserColWidthsFromInitParams(this.colsWithSetWidth);
						return this.colsWithSetWidth;
					},
					getUserColWidth : function(colId) {
						var lColumnWidthInfo;
						if (!this.isColIdValid(colId, true)) {
							return null;
						}
						lColumnWidthInfo = null;
						if (this.colsWithSetWidth.containsKey(colId)) {
							lColumnWidthInfo = this.colsWithSetWidth
									.getByKey(colId);
						} else {
							if (this.colsWithSetWidth
									.containsKey(sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS)) {
								lColumnWidthInfo = this.colsWithSetWidth
										.getByKey(sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS);
							}
						}
						return lColumnWidthInfo;
					},
					resetUserColWidth : function(colId) {
						var lColumnWidthInfo;
						if (!this.isColIdValid(colId, false)) {
							return;
						}
						lColumnWidthInfo = null;
						if (sap.firefly.XString.isEqual(
								sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS,
								colId)) {
							this.colsWithSetWidth.clear();
						} else {
							if (!this.colsWithSetWidth.containsKey(colId)) {
								if (this.colsWithSetWidth
										.containsKey(sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS)) {
									lColumnWidthInfo = sap.zen.ZCrosstabColWidthInfo
											.create("", true);
									this.colsWithSetWidth.put(colId,
											lColumnWidthInfo);
								}
							} else {
								this.colsWithSetWidth.remove(colId);
							}
						}
					},
					setUserColWidth : function(colId, width) {
						var lUseDefaultWidth;
						var lColumnWidthInfo;
						if (!this.isColIdValid(colId, false)
								|| !this.isColWidthValid(width)) {
							return;
						}
						if (sap.firefly.XString.isEqual("-1", colId)) {
							colId = sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS;
						}
						if (sap.firefly.XString.isEqual(
								sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS,
								colId)) {
							this.colsWithSetWidth.clear();
						}
						lUseDefaultWidth = (width === null)
								|| (sap.firefly.XString.isEqual(width, "") || (sap.firefly.XInteger
										.convertStringToInteger(width) <= 0));
						if (lUseDefaultWidth) {
							width = "";
						}
						lColumnWidthInfo = null;
						if (this.colsWithSetWidth.containsKey(colId)) {
							lColumnWidthInfo = this.colsWithSetWidth
									.getByKey(colId);
							lColumnWidthInfo.initMe(width, lUseDefaultWidth);
						} else {
							lColumnWidthInfo = sap.zen.ZCrosstabColWidthInfo
									.create(width, lUseDefaultWidth);
							this.colsWithSetWidth.put(colId, lColumnWidthInfo);
						}
					},
					setUserColWidths : function(columnWidths) {
						var ltKeys;
						var lColId;
						var lColumnWidthInfo;
						if (columnWidths.size() <= 0) {
							return;
						}
						ltKeys = columnWidths.getKeysAsIteratorOfString();
						while (ltKeys.hasNext()) {
							lColId = ltKeys.next();
							lColumnWidthInfo = columnWidths.getByKey(lColId);
							this.setUserColWidth(lColId, lColumnWidthInfo
									.getWidth());
						}
					},
					isColIdValid : function(colId, strict) {
						var lIsValid = true;
						var lColIndex;
						if (!strict) {
							if (sap.firefly.XString.isEqual(colId, "-1")) {
								colId = sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS;
							}
							if (sap.firefly.XString.isEqual(colId,
									sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS)) {
								return true;
							}
						}
						lColIndex = 0;
						try {
							lColIndex = sap.firefly.XInteger
									.convertStringToInteger(colId);
						} catch (e) {
							lIsValid = false;
						}
						lIsValid = lColIndex >= 0;
						return lIsValid;
					},
					isColWidthValid : function(colWidth) {
						var lIsValid = true;
						var lWidth = 0;
						try {
							lWidth = sap.firefly.XInteger
									.convertStringToInteger(colWidth);
						} catch (e) {
							lIsValid = false;
						}
						lIsValid = (lWidth >= 0) || (lWidth === -1);
						return lIsValid;
					},
					getUserColWidthsFromInitParams : function(existingColWidths) {
						var ltColumnWidths;
						var lColWidthDefNode;
						var ltColWidthDefNodeValues;
						var lColWidthValue;
						var lColumnWidthInfo;
						var colWidthInfoList;
						var colIdNode;
						var lColId;
						var colWidthNode;
						var colIdIgnoreNode;
						var sIsIgnore;
						var bIsIgnore;
						if (existingColWidths !== null) {
							ltColumnWidths = existingColWidths
									.createMapByStringCopy();
						} else {
							ltColumnWidths = sap.firefly.XHashMapByString
									.create();
						}
						lColWidthDefNode = this.crosstabControl
								.getInitParameters().getFirstChildWithNameTag(
										"CROSSTAB_USER_COL_WIDTH_LIST");
						if (lColWidthDefNode === null) {
							return ltColumnWidths;
						}
						ltColWidthDefNodeValues = lColWidthDefNode.getChildren(
								"property").getIterator();
						while (ltColWidthDefNodeValues.hasNext()) {
							lColWidthValue = ltColWidthDefNodeValues.next();
							lColumnWidthInfo = new sap.zen.ZCrosstabColWidthInfo();
							colWidthInfoList = lColWidthValue
									.getChildren("property");
							colIdNode = colWidthInfoList.get(0);
							lColId = null;
							if (sap.firefly.XString.isEqual(colIdNode
									.getAttribute("name"), "CROSSTAB_COLID")) {
								lColId = colIdNode.getAttribute("value");
							}
							colWidthNode = colWidthInfoList.get(1);
							if (sap.firefly.XString.isEqual(colWidthNode
									.getAttribute("name"), "CROSSTAB_COLWIDTH")) {
								lColumnWidthInfo.setWidth(colWidthNode
										.getAttribute("value"));
							}
							colIdIgnoreNode = colWidthInfoList.get(1);
							if (sap.firefly.XString.isEqual(colIdNode
									.getAttribute("name"),
									"CROSSTAB_COLID_IGNORE")) {
								sIsIgnore = colIdIgnoreNode
										.getAttribute("value");
								bIsIgnore = false;
								if (sap.firefly.XString.isEqual("X", sIsIgnore)) {
									bIsIgnore = true;
								}
								lColumnWidthInfo.setIgnore(bIsIgnore);
							}
							if (!ltColumnWidths.containsKey(lColId)) {
								if (existingColWidths !== null
										&& existingColWidths
												.containsKey(lColId)) {
									ltColumnWidths.put(lColId,
											existingColWidths.getByKey(lColId));
								} else {
									if (existingColWidths !== null
											&& existingColWidths
													.containsKey(sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS)) {
										ltColumnWidths
												.put(
														sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS,
														existingColWidths
																.getByKey(sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS));
									} else {
										ltColumnWidths.put(lColId,
												lColumnWidthInfo);
									}
								}
							}
						}
						return ltColumnWidths;
					},
					toString : function() {
						return this.colsWithSetWidth.toString();
					}
				});
$Firefly.createClass("sap.zen.ZCrosstabColWidthInfo", sap.firefly.XObject,
		{
			$statics : {
				create : function(width, ignore) {
					var lInstance = new sap.zen.ZCrosstabColWidthInfo();
					lInstance.initMe(width, ignore);
					return lInstance;
				},
				create1 : function(width) {
					var lInstance = new sap.zen.ZCrosstabColWidthInfo();
					lInstance.init1(width);
					return lInstance;
				}
			},
			width : null,
			ignore : false,
			initMe : function(width, ignore) {
				this.setWidth(width);
				this.setIgnore(ignore);
			},
			init1 : function(width) {
				this.initMe(width, false);
			},
			setWidth : function(width) {
				this.width = width;
			},
			getWidth : function() {
				return this.width;
			},
			setIgnore : function(ignore) {
				this.ignore = ignore;
			},
			getIgnore : function() {
				return this.ignore;
			},
			toString : function() {
				var lOutput = sap.firefly.XStringBuffer.create();
				lOutput.append(sap.firefly.XStringUtils.concatenate2("width: ",
						this.getWidth()));
				lOutput.append(", ");
				lOutput.append(sap.firefly.XStringUtils.concatenate2(
						"isIgnore: ", sap.firefly.XBoolean
								.convertBooleanToString(this.getIgnore())));
				return lOutput.toString();
			}
		});
$Firefly.createClass("sap.zen.ZCrosstabControlLookupObject",
		sap.firefly.XObject, {
			$statics : {
				create : function(dimensionName, tupleElementIndex) {
					var lInstance = new sap.zen.ZCrosstabControlLookupObject();
					lInstance.initMe(dimensionName, tupleElementIndex);
					return lInstance;
				}
			},
			sName : null,
			initMe : function(dimensionName, tupleElementIndex) {
				this.sName = sap.firefly.XStringUtils.concatenate2(
						dimensionName, "#");
				this.sName = sap.firefly.XStringUtils.concatenate2(this.sName,
						sap.firefly.XInteger
								.convertIntegerToString(tupleElementIndex));
			},
			getName : function() {
				return this.sName;
			}
		});
$Firefly
		.createClass(
				"sap.zen.ZCrosstabControlMetadataProvider",
				sap.firefly.XObject,
				{
					$statics : {
						CROSSTAB_ON_SELECT : "ON_SELECT",
						CROSSTAB_HEADER_SCROLLABLE : "CROSSTAB_HEADER_SCROLLABLE",
						CROSSTAB_HEADER_HORIZONTAL_LIMIT : "CROSSTAB_HEADER_HORIZONTAL_LIMIT",
						CROSSTAB_HEADER_ACTUAL_WIDTH : "CROSSTAB_HEADER_ACTUAL_WIDTH",
						CROSSTAB_HEADER_CLIENT_HPOS : "CROSSTAB_HEADER_CLIENT_HPOS",
						CROSSTAB_HEADER_USER_RESIZE : "CROSSTAB_HEADER_USER_RESIZE",
						CROSSTAB_ENABLE_COL_RESIZE : "CROSSTAB_ENABLE_COL_RESIZE",
						CROSSTAB_USER_COL_WIDTH_LIST : "CROSSTAB_USER_COL_WIDTH_LIST",
						CROSSTAB_ON_COLWIDTH_CHANGED : "CROSSTAB_ON_COLWIDTH_CHANGED",
						CROSSTAB_SCALING_FACTOR_DISPLAY_MODE : "SCALING_FACTORS_VISIBLE",
						CROSSTAB_CLIENT_HPOS : "CROSSTAB_CLIENT_HPOS",
						CROSSTAB_CLIENT_HPOS_END : "CROSSTAB_CLIENT_HPOS_END",
						CROSSTAB_CLIENT_VPOS : "CROSSTAB_CLIENT_VPOS",
						CROSSTAB_CLIENT_VPOS_END : "CROSSTAB_CLIENT_VPOS_END",
						CROSSTAB_PIXEL_SCROLL_MODE : "CROSSTAB_PIXEL_SCROLL_MODE",
						CROSSTAB_PIXEL_SCROLL_MODE_ROW_LIMIT : "CROSSTAB_PIXEL_SCROLL_MODE_ROW_LIMIT",
						CROSSTAB_PIXEL_SCROLL_MODE_COL_LIMIT : "CROSSTAB_PIXEL_SCROLL_MODE_COL_LIMIT",
						CROSSTAB_ENABLE_CONTEXT_MENU : "CROSSTAB_ENABLE_CONTEXT_MENU",
						CROSSTAB_ZEBRA_MODE : "CROSSTAB_ZEBRA_MODE",
						CROSSTAB_ENABLE_SORTING : "CROSSTAB_ENABLE_SORTING",
						CROSSTAB_DD_ENABLED : "CROSSTAB_DD_ENABLED",
						CROSSTAB_REPEAT_TEXTS : "CROSSTAB_REPEAT_TEXTS",
						CROSSTAB_DISPLAY_ALWAYS_FILL : "CROSSTAB_DISPLAY_ALWAYS_FILL",
						CROSSTAB_ENABLE_SELECTION : "CROSSTAB_ENABLE_SELECTION",
						CROSSTAB_SELECTION_SPACE : "CROSSTAB_SELECTION_SPACE",
						CROSSTAB_SELECTION_HOVERING : "CROSSTAB_SELECTION_HOVERING",
						CROSSTAB_MULTISELECT_SINGLE_EVENT : "CROSSTAB_MULTISELECT_SINGLE_EVENT",
						CROSSTAB_ENABLE_HIERARCHY_NAVIGATION : "CROSSTAB_ENABLE_HIERARCHY_NAVIGATION"
					}
				});
$Firefly
		.createClass(
				"sap.zen.ZCrosstabHeaderDimensionInfo",
				sap.firefly.XObject,
				{
					$statics : {
						create : function(oResultSetInfo, oDataSource) {
							var lInstance = null;
							if (oResultSetInfo !== null) {
								lInstance = new sap.zen.ZCrosstabHeaderDimensionInfo();
								lInstance.initMe(oResultSetInfo, oDataSource);
							}
							return lInstance;
						}
					},
					mDimensionName : null,
					mDimensionText : null,
					mIsStructure : false,
					mIsMeasureStructure : false,
					mIsKeyPresentation : false,
					mIsTextPresentation : false,
					mAttributeName : null,
					mAttributeText : null,
					mIsRemoveStructureAllowed : false,
					initMe : function(oResultSetInfo, oDataSource) {
						var loDimension = oResultSetInfo.getDimension();
						var loInternalField;
						var lPresentationType;
						var loInternalAttribute;
						var lIsAttribute;
						var lAmountOfMembers;
						if (loDimension !== null) {
							this.mDimensionName = loDimension.getName();
							this.mDimensionText = loDimension.getText();
							this.mIsStructure = loDimension.isStructure();
							this.mIsMeasureStructure = loDimension
									.isMeasureStructure();
						}
						loInternalField = oResultSetInfo.getField();
						if (loInternalField !== null) {
							lPresentationType = loInternalField
									.getPresentationType();
							this.mIsKeyPresentation = (lPresentationType
									.isEqualTo(sap.firefly.PresentationType.KEY));
							this.mIsTextPresentation = !this.mIsKeyPresentation;
							loInternalAttribute = loInternalField
									.getAttribute();
							lIsAttribute = sap.zen.DataSourceScriptApiUtils
									.isAttribute(oDataSource,
											loInternalAttribute);
							if (lIsAttribute) {
								this.mAttributeName = loInternalAttribute
										.getName();
								this.mAttributeText = loInternalAttribute
										.getText();
							}
						}
						if (this.mIsStructure) {
							sap.zen.DataSourceScriptApiUtils.logGetResultSet(
									oDataSource.getPage(), oDataSource
											.getQueryManager(),
									"ZCrosstabHeaderDimensionInfo initMe");
							lAmountOfMembers = 0;
							if (loDimension !== null) {
								lAmountOfMembers = loDimension
										.getDimensionMembersInResultSet(-1)
										.size();
							}
							this.mIsRemoveStructureAllowed = lAmountOfMembers < 2;
						} else {
							this.mIsRemoveStructureAllowed = false;
						}
					},
					isRemoveStructureAllowed : function() {
						return this.mIsRemoveStructureAllowed;
					},
					getAttrText : function() {
						return this.mAttributeText;
					},
					setAttrText : function(attrText) {
						this.mAttributeText = attrText;
					},
					isTextPresentation : function() {
						return this.mIsTextPresentation;
					},
					setTextPresentation : function(textPresentation) {
						this.mIsTextPresentation = textPresentation;
					},
					getDimText : function() {
						return this.mDimensionText;
					},
					setDimText : function(dimText) {
						this.mDimensionText = dimText;
					},
					isStructure : function() {
						return this.mIsStructure;
					},
					setStructure : function(isStructure) {
						this.mIsStructure = isStructure;
					},
					isMeasureStructure : function() {
						return this.mIsMeasureStructure;
					},
					setMeasureStructure : function(isMeasureStructure) {
						this.mIsMeasureStructure = isMeasureStructure;
					},
					setCharName : function(charName) {
						this.mDimensionName = charName;
					},
					getCharName : function() {
						return this.mDimensionName;
					},
					setKeyPresentation : function(isKeyPresentation) {
						this.mIsKeyPresentation = isKeyPresentation;
					},
					isKeyPresentation : function() {
						return this.mIsKeyPresentation;
					},
					getAttributeName : function() {
						return this.mAttributeName;
					},
					setAttributeName : function(attributeName) {
						this.mAttributeName = attributeName;
					},
					isAttribute : function() {
						return (this.mAttributeName !== null && sap.firefly.XString
								.size(this.mAttributeName) > 0);
					}
				});
$Firefly.createClass("sap.zen.ZCrosstabSelectionAnchor", sap.firefly.XObject, {
	$statics : {
		create : function(axisName, row, col) {
			var loInstance = new sap.zen.ZCrosstabSelectionAnchor();
			loInstance.initMe(axisName, row, col);
			return loInstance;
		}
	},
	axisName : null,
	row : 0,
	col : 0,
	initMe : function(axisName, row, col) {
		this.axisName = sap.firefly.XString.convertToUpperCase(axisName);
		this.row = row;
		this.col = col;
	},
	getAxisName : function() {
		return this.axisName;
	},
	getRow : function() {
		return this.row;
	},
	getCol : function() {
		return this.col;
	}
});
$Firefly
		.createClass(
				"sap.zen.ZCrosstabSelectionStore",
				sap.firefly.XObject,
				{
					$statics : {
						create : function(oCrosstab) {
							var loInstance = new sap.zen.ZCrosstabSelectionStore();
							loInstance.initMe(oCrosstab);
							return loInstance;
						}
					},
					oCrosstab : null,
					tSelectedTuples : null,
					dataCellSelection : false,
					selectedDataCellRow : 0,
					selectedDataCellCol : 0,
					initMe : function(oCrosstab) {
						this.oCrosstab = oCrosstab;
						this.tSelectedTuples = sap.firefly.XSetOfNameObject
								.create();
						this.selectedDataCellRow = -1;
						this.selectedDataCellCol = -1;
						this.dataCellSelection = false;
					},
					collectSelectedTupleElements : function(oResultSet, axis,
							row, col) {
						var lAmountOfTuples;
						var index;
						var childIndex;
						var firstSpanIndex;
						var lastSpanIndex;
						var repeatTextsIndex;
						var loTuple;
						var loTupleElement;
						var i;
						var loCrosstabTuple;
						var j;
						var loDimension;
						var loDimensionMember;
						if (axis === null) {
							return;
						}
						lAmountOfTuples = oResultSet
								.getAmountOfTuplesOnAxis(axis);
						index = col;
						if (axis === sap.firefly.AxisType.ROWS) {
							index = row;
						}
						childIndex = row;
						if (axis === sap.firefly.AxisType.ROWS) {
							childIndex = col;
						}
						firstSpanIndex = 0;
						lastSpanIndex = 0;
						repeatTextsIndex = -1;
						if (index >= 0 && index < lAmountOfTuples) {
							loTuple = oResultSet.getTuple(axis, index, null,
									null);
							if (loTuple !== null
									&& loTuple.getAmountOfTupleElements() > 0) {
								loTupleElement = null;
								if (this.oCrosstab.isRepeatTexts()) {
									firstSpanIndex = index;
									lastSpanIndex = index;
									repeatTextsIndex = index;
								} else {
									loTupleElement = loTuple.getTupleElement(
											childIndex, null);
									firstSpanIndex = loTupleElement
											.getFirstTuple().getIndex();
									lastSpanIndex = this
											.getLastTupleIndexWorkAround(axis,
													loTupleElement, childIndex);
								}
								for (i = firstSpanIndex; i <= lastSpanIndex; i++) {
									loTuple = oResultSet.getTuple(axis, i,
											null, null);
									loCrosstabTuple = sap.zen.ZCrosstabTuple
											.create(axis, this.tSelectedTuples
													.size());
									for (j = 0; j < loTuple
											.getAmountOfTupleElements(); j++) {
										loTupleElement = loTuple
												.getTupleElement(j, null);
										if (loTupleElement !== null) {
											loDimension = loTupleElement
													.getDimension();
											loDimensionMember = loTupleElement
													.getDimensionMember();
											loCrosstabTuple.addTupleElement(
													loDimension,
													loDimensionMember,
													(j === childIndex),
													repeatTextsIndex);
										}
									}
									this.tSelectedTuples.put(loCrosstabTuple);
								}
							}
						}
					},
					getSelectedTuple : function(oCrosstabTuple) {
						var loTuple = null;
						var loResultSet = this.oCrosstab.getResultSet();
						var lAmountOfTuples = loResultSet
								.getAmountOfTuplesOnAxis(oCrosstabTuple
										.getAxis());
						var lCrosstabTuplePosition = this.oCrosstab
								.getTuplePosition(oCrosstabTuple);
						if (lCrosstabTuplePosition >= 0
								&& lCrosstabTuplePosition < lAmountOfTuples) {
							loTuple = loResultSet.getTuple(oCrosstabTuple
									.getAxis(), lCrosstabTuplePosition, null,
									null);
						}
						return loTuple;
					},
					getSelectedTuples : function() {
						var ltSelectedTuples = sap.firefly.XList.create();
						var loSelectedTuplesIterator = this.tSelectedTuples
								.getIterator();
						var loCrosstabTuple;
						var loTuple;
						while (loSelectedTuplesIterator.hasNext()) {
							loCrosstabTuple = loSelectedTuplesIterator.next();
							loTuple = this.getSelectedTuple(loCrosstabTuple);
							if (loTuple !== null) {
								ltSelectedTuples.add(loTuple);
							}
						}
						return ltSelectedTuples;
					},
					getSelection : function() {
						var lJsonString;
						var ltTuples;
						var ltTempMap;
						var ltTempSet;
						var lTupleIndex;
						var loTuple;
						var lAmountOfTupleElements;
						var lTupleElementIndex;
						var loTupleElement;
						var loDimension;
						var loDimensionMember;
						var lDimensionName;
						var lDimensionMemberName;
						var lJsonObject;
						if (this.tSelectedTuples !== null
								&& this.tSelectedTuples.size() > 0) {
							ltTuples = this.getSelectedTuples();
							ltTempMap = sap.firefly.XHashMapByString.create();
							ltTempSet = null;
							for (lTupleIndex = 0; lTupleIndex < ltTuples.size(); lTupleIndex++) {
								loTuple = ltTuples.get(lTupleIndex);
								lAmountOfTupleElements = loTuple
										.getAmountOfTupleElements();
								for (lTupleElementIndex = 0; lTupleElementIndex < lAmountOfTupleElements; lTupleElementIndex++) {
									loTupleElement = loTuple.getTupleElement(
											lTupleElementIndex, null);
									loDimension = loTupleElement.getDimension();
									loDimensionMember = loTupleElement
											.getDimensionMember();
									lDimensionName = loDimension.getName();
									lDimensionMemberName = sap.zen.ZCrosstabTupleElement
											.sGetDimensionMemberName(loDimensionMember);
									if (!ltTempMap.containsKey(lDimensionName)) {
										ltTempMap.put(lDimensionName,
												sap.firefly.XHashSetOfString
														.create());
									}
									ltTempSet = ltTempMap
											.getByKey(lDimensionName);
									ltTempSet.put(lDimensionMemberName);
								}
							}
							lJsonString = this
									.buildJsonStringFromMap(ltTempMap);
						} else {
							lJsonString = "{}";
						}
						lJsonObject = sap.buddha.XJsonObject
								.createFromJSonString(lJsonString);
						return lJsonObject;
					},
					recalculateSelectionState : function() {
						var ltSelectedTuples = sap.firefly.XSetOfNameObject
								.create();
						var ltDeleteTuples = sap.firefly.XSetOfNameObject
								.create();
						var loSelectedTuplesIterator = null;
						var loSelectedTuple;
						var loTuple;
						loSelectedTuplesIterator = this.tSelectedTuples
								.getIterator();
						while (loSelectedTuplesIterator.hasNext()) {
							loSelectedTuple = loSelectedTuplesIterator.next();
							if (loSelectedTuple === null) {
								continue;
							}
							loTuple = this.getSelectedTuple(loSelectedTuple);
							if (loTuple === null) {
								ltDeleteTuples.put(loSelectedTuple
										.getSelectionAnchor());
							}
						}
						if (ltDeleteTuples.size() > 0) {
							loSelectedTuplesIterator = this.tSelectedTuples
									.getIterator();
							while (loSelectedTuplesIterator.hasNext()) {
								loSelectedTuple = loSelectedTuplesIterator
										.next();
								if (loSelectedTuple === null) {
									continue;
								}
								if (!ltDeleteTuples.contains(loSelectedTuple
										.getSelectionAnchor())) {
									ltSelectedTuples.put(loSelectedTuple);
								}
							}
							this.tSelectedTuples = ltSelectedTuples;
						}
					},
					findTupleElementIndexInTuple : function(oTuple,
							oCosstabTupleElement) {
						var lTupleElementIndex;
						var loTupleElement;
						var loDimension;
						var lDimensionName;
						var lDimensionMemberName;
						for (lTupleElementIndex = 0; lTupleElementIndex < oTuple
								.getAmountOfTupleElements(); lTupleElementIndex++) {
							loTupleElement = oTuple.getTupleElement(
									lTupleElementIndex, null);
							loDimension = loTupleElement.getDimension();
							lDimensionName = loDimension.getName();
							lDimensionMemberName = sap.zen.ZCrosstabTupleElement
									.sGetDimensionMemberName(loTupleElement
											.getDimensionMember());
							if (sap.firefly.XString.isEqual(lDimensionName,
									oCosstabTupleElement.getDimensionName())
									&& sap.firefly.XString.isEqual(
											lDimensionMemberName,
											oCosstabTupleElement
													.getDimensionMemberName())) {
								return lTupleElementIndex;
							}
						}
						return -1;
					},
					setDataCellSelection : function(isDataCellSelection) {
						this.dataCellSelection = isDataCellSelection;
						if (!this.dataCellSelection) {
							this.selectedDataCellCol = -1;
							this.selectedDataCellRow = -1;
						}
					},
					isDataCellSelection : function() {
						return this.dataCellSelection;
					},
					calculateAnchorTupleElementsAfterResultsetChange : function() {
						var ltHandledAnchors;
						var row;
						var col;
						var lCrosstabSelectedTuplesIterator;
						var lCrosstabTuple;
						var lAnchorElement;
						var lSelectedTuple;
						var lPreviousAnchorElement;
						this.recalculateSelectionState();
						ltHandledAnchors = sap.firefly.XHashMapByString
								.create();
						row = -1;
						col = -1;
						if (this.dataCellSelection) {
							this.selectedDataCellRow = -1;
							this.selectedDataCellCol = -1;
						}
						lCrosstabSelectedTuplesIterator = this.tSelectedTuples
								.getIterator();
						while (lCrosstabSelectedTuplesIterator.hasNext()) {
							lCrosstabTuple = lCrosstabSelectedTuplesIterator
									.next();
							lAnchorElement = lCrosstabTuple
									.getSelectionAnchor();
							lSelectedTuple = this
									.getSelectedTuple(lCrosstabTuple);
							if (lSelectedTuple !== null) {
								if (lCrosstabTuple.getAxis() === sap.firefly.AxisType.ROWS) {
									if (this.dataCellSelection) {
										row = lSelectedTuple.getIndex();
										this.selectedDataCellRow = row;
									} else {
										col = this
												.findTupleElementIndexInTuple(
														lSelectedTuple,
														lAnchorElement);
										if (this.oCrosstab.isRepeatTexts()) {
											row = lSelectedTuple.getIndex();
										} else {
											row = lSelectedTuple
													.getTupleElement(col, null)
													.getFirstTuple().getIndex();
										}
									}
								} else {
									if (lCrosstabTuple.getAxis() === sap.firefly.AxisType.COLUMNS) {
										if (this.dataCellSelection) {
											col = lSelectedTuple.getIndex();
											this.selectedDataCellCol = col;
										} else {
											row = this
													.findTupleElementIndexInTuple(
															lSelectedTuple,
															lAnchorElement);
											if (this.oCrosstab.isRepeatTexts()) {
												col = lSelectedTuple.getIndex();
											} else {
												col = lSelectedTuple
														.getTupleElement(row,
																null)
														.getFirstTuple()
														.getIndex();
											}
										}
									}
								}
								if (row > -1 && col > -1) {
									lAnchorElement.setResultSetCoordinates(
											lCrosstabTuple.getAxis(), row, col);
									if (ltHandledAnchors
											.containsKey(lAnchorElement
													.getName())) {
										lPreviousAnchorElement = ltHandledAnchors
												.getByKey(lAnchorElement
														.getName());
										if (lCrosstabTuple.getAxis() === sap.firefly.AxisType.ROWS) {
											if (lAnchorElement.getRow() < lPreviousAnchorElement
													.getRow()) {
												ltHandledAnchors.put(
														lAnchorElement
																.getName(),
														lAnchorElement);
											}
										} else {
											if (lCrosstabTuple.getAxis() === sap.firefly.AxisType.COLUMNS) {
												if (lAnchorElement.getCol() < lPreviousAnchorElement
														.getCol()) {
													ltHandledAnchors.put(
															lAnchorElement
																	.getName(),
															lAnchorElement);
												}
											}
										}
									} else {
										ltHandledAnchors.put(lAnchorElement
												.getName(), lAnchorElement);
									}
								}
							}
						}
						return ltHandledAnchors;
					},
					getSelectionAnchors : function() {
						var ltCrosstabSelectionAnchors = sap.firefly.XList
								.create();
						var lCrosstabSelectionAnchor = null;
						var lResultSet = this.oCrosstab.getResultSet();
						var lTuple;
						var fixedRowHeaders;
						var fixedColHeaders;
						var ltAnchorElements;
						var iterator;
						var lCrosstabAnchor;
						if (this.dataCellSelection) {
							if (this.selectedDataCellRow > -1
									&& this.selectedDataCellCol > -1) {
								lCrosstabSelectionAnchor = sap.zen.ZCrosstabSelectionAnchor
										.create("DATA",
												this.selectedDataCellRow,
												this.selectedDataCellCol);
								ltCrosstabSelectionAnchors
										.add(lCrosstabSelectionAnchor);
								this.initMe(this.oCrosstab);
								lTuple = null;
								lTuple = lResultSet.getTuple(
										sap.firefly.AxisType.ROWS, 0, null,
										null);
								fixedRowHeaders = lTuple
										.getAmountOfTupleElements() - 1;
								lTuple = lResultSet.getTuple(
										sap.firefly.AxisType.COLUMNS, 0, null,
										null);
								fixedColHeaders = lTuple
										.getAmountOfTupleElements() - 1;
								this.collectSelectedTupleElements(lResultSet,
										sap.firefly.AxisType.ROWS,
										this.selectedDataCellRow,
										fixedRowHeaders);
								this.collectSelectedTupleElements(lResultSet,
										sap.firefly.AxisType.COLUMNS,
										fixedColHeaders,
										this.selectedDataCellCol);
							}
						} else {
							ltAnchorElements = this
									.calculateAnchorTupleElementsAfterResultsetChange();
							if (ltAnchorElements.size() > 0) {
								this.initMe(this.oCrosstab);
								iterator = ltAnchorElements.getIterator();
								while (iterator.hasNext()) {
									lCrosstabAnchor = iterator.next();
									lCrosstabSelectionAnchor = sap.zen.ZCrosstabSelectionAnchor
											.create(lCrosstabAnchor.getAxis()
													.getName(), lCrosstabAnchor
													.getRow(), lCrosstabAnchor
													.getCol());
									ltCrosstabSelectionAnchors
											.add(lCrosstabSelectionAnchor);
									this.collectSelectedTupleElements(
											lResultSet, lCrosstabAnchor
													.getAxis(), lCrosstabAnchor
													.getRow(), lCrosstabAnchor
													.getCol());
								}
							}
						}
						return ltCrosstabSelectionAnchors;
					},
					buildJsonStringFromMap : function(map) {
						var buf = sap.firefly.XStringBuffer.create();
						var memberSet;
						var dimKey;
						var memberKey;
						var memberIterator;
						var iterator;
						buf.append("{");
						iterator = map.getKeysAsIteratorOfString();
						while (iterator.hasNext()) {
							dimKey = iterator.next();
							buf.append('"');
							buf.append(dimKey);
							buf.append('":[');
							memberSet = map.getByKey(dimKey);
							memberIterator = memberSet.getIterator();
							while (memberIterator.hasNext()) {
								memberKey = memberIterator.next();
								buf.append('"');
								buf.append(memberKey);
								buf.append('"');
								if (memberIterator.hasNext()) {
									buf.append(",");
								}
							}
							buf.append("]");
							if (iterator.hasNext()) {
								buf.append(",");
							}
						}
						buf.append("}");
						return buf.toString();
					},
					getLastTupleIndexWorkAround : function(axis, oTupleElement,
							childIndex) {
						var loResultSet = this.oCrosstab.getResultSet();
						var lAmountOfTuples = loResultSet
								.getAmountOfTuplesOnAxis(axis);
						var lFirstTupleIndex = oTupleElement.getFirstTuple()
								.getIndex();
						var loTuple = loResultSet.getTuple(axis,
								lFirstTupleIndex, null, null);
						var loTupleElement;
						if (loTuple !== null) {
							loTupleElement = loTuple.getTupleElement(
									childIndex, null);
							while (lFirstTupleIndex < lAmountOfTuples
									&& loTupleElement.isEqualTo(oTupleElement)) {
								lFirstTupleIndex++;
								loTuple = loResultSet.getTuple(axis,
										lFirstTupleIndex, null, null);
								if (loTuple === null) {
									break;
								}
								loTupleElement = loTuple.getTupleElement(
										childIndex, null);
							}
						}
						return lFirstTupleIndex - 1;
					}
				});
$Firefly.createClass("sap.zen.ZCrosstabTuple", sap.firefly.XObject, {
	$statics : {
		create : function(axis, index) {
			var loInstance = new sap.zen.ZCrosstabTuple();
			loInstance.initMe(axis, index);
			return loInstance;
		}
	},
	axis : null,
	index : 0,
	tTupleElements : null,
	oSelectionAnchor : null,
	initMe : function(axis, index) {
		this.axis = axis;
		this.index = index;
		this.tTupleElements = sap.firefly.XList.create();
	},
	getSelectionAnchor : function() {
		return this.oSelectionAnchor;
	},
	getAxis : function() {
		return this.axis;
	},
	getIndex : function() {
		return this.index;
	},
	addTupleElement : function(oDimension, oDimensionMember, isSelectionAnchor,
			repeatTextsIndex) {
		var loTupleElement = sap.zen.ZCrosstabTupleElement.create(oDimension,
				oDimensionMember);
		this.tTupleElements.add(loTupleElement);
		if (isSelectionAnchor) {
			this.oSelectionAnchor = loTupleElement;
			this.oSelectionAnchor.setRepeatTextsIndex(repeatTextsIndex);
		}
	},
	getTupleElement : function(i) {
		return this.tTupleElements.get(i);
	},
	size : function() {
		return this.tTupleElements.size();
	},
	getName : function() {
		var buf = sap.firefly.XStringBuffer.create();
		var element;
		var i;
		buf.append(this.axis.toString());
		buf.append("#");
		buf.append(sap.firefly.XInteger.convertIntegerToString(this.index));
		buf.append("##");
		for (i = 0; i < this.tTupleElements.size(); i++) {
			element = this.tTupleElements.get(i);
			buf.append(element.getName());
			buf.append("#");
		}
		return buf.toString();
	}
});
$Firefly.createClass("sap.zen.ZCrosstabTupleComparator", sap.firefly.XObject, {
	compare : function(o1, o2) {
		if (o1.getIndex() === o2.getIndex()) {
			return 0;
		} else {
			if (o1.getIndex() < o2.getIndex()) {
				return -1;
			}
		}
		return 1;
	}
});
$Firefly.createClass("sap.zen.ZCrosstabTupleElement", sap.firefly.XObject, {
	$statics : {
		sGetDimensionMemberName : function(oDimensionMember) {
			var lMemberName;
			if (oDimensionMember.isTotal()) {
				lMemberName = "(RESULT_MEMBER)";
			} else {
				lMemberName = oDimensionMember.getName();
			}
			return lMemberName;
		},
		create : function(oDimension, oDimensionMember) {
			var loInstance = new sap.zen.ZCrosstabTupleElement();
			loInstance.initMe(oDimension, oDimensionMember);
			return loInstance;
		}
	},
	oDimension : null,
	oDimensionMember : null,
	axis : null,
	row : 0,
	col : 0,
	repeatTextsIndex : 0,
	initMe : function(oDimension, oDimensionMember) {
		this.oDimension = oDimension;
		this.oDimensionMember = oDimensionMember;
		this.row = -1;
		this.col = -1;
		this.repeatTextsIndex = -1;
	},
	getDimensionName : function() {
		return this.oDimension.getName();
	},
	getDimensionMemberName : function() {
		return sap.zen.ZCrosstabTupleElement
				.sGetDimensionMemberName(this.oDimensionMember);
	},
	setResultSetCoordinates : function(axis, row, col) {
		this.axis = axis;
		this.row = row;
		this.col = col;
	},
	getAxis : function() {
		return this.axis;
	},
	getRow : function() {
		return this.row;
	},
	getCol : function() {
		return this.col;
	},
	getRepeatTextsIndex : function() {
		return this.repeatTextsIndex;
	},
	setRepeatTextsIndex : function(repeatTextsIndex) {
		this.repeatTextsIndex = repeatTextsIndex;
	},
	getName : function() {
		var buf = sap.firefly.XStringBuffer.create();
		buf.append(this.getDimensionName());
		buf.append("#");
		buf.append(this.getDimensionMemberName());
		buf.append("#");
		buf.append(sap.firefly.XInteger
				.convertIntegerToString(this.repeatTextsIndex));
		return buf.toString();
	}
});
$Firefly
		.createClass(
				"sap.zen.DataSourceChangeCause",
				sap.firefly.XObject,
				{
					$statics : {
						NO_REFRESH_REQUIRED : null,
						staticSetup : function() {
							sap.zen.DataSourceChangeCause.NO_REFRESH_REQUIRED = new sap.zen.DataSourceChangeCause();
						}
					},
					changeAction : null,
					tProperties : null,
					reset : function() {
						this.changeAction = null;
						this.tProperties = null;
					},
					setAction : function(changeAction) {
						this.changeAction = changeAction;
					},
					getAction : function() {
						return this.changeAction;
					},
					addProperties : function(tProperties) {
						var loPropertyIterator;
						var lKey;
						var lValue;
						if (tProperties === null) {
							return;
						}
						loPropertyIterator = tProperties
								.getKeysAsIteratorOfString();
						while (loPropertyIterator.hasNext()) {
							lKey = loPropertyIterator.next();
							lValue = tProperties.getByKey(lKey);
							this.addProperty(lKey, lValue);
						}
					},
					addProperty : function(propertyName, propertyValue) {
						if (this.tProperties === null) {
							this.tProperties = sap.firefly.XHashMapOfStringByString
									.create();
						}
						this.tProperties.put(propertyName, propertyValue);
					},
					getProperties : function() {
						return this.tProperties;
					},
					getPropertyValue : function(propertyName) {
						return this.tProperties.getByKey(propertyName);
					},
					setPlanningChange : function(planningChanged) {
					},
					addToRenderSerializer : function(oRenderSerializer, tagName) {
						var lAction = this.getAction();
						var ltProperties;
						var loPropertyIterator;
						var lKey;
						var lValue;
						var lBool;
						var lInteger;
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(lAction)) {
							oRenderSerializer.openTag(tagName);
							oRenderSerializer.openTag(this.getAction());
							ltProperties = this.getProperties();
							if (ltProperties !== null) {
								loPropertyIterator = this.getProperties()
										.getKeysAsIteratorOfString();
								while (loPropertyIterator.hasNext()) {
									lKey = loPropertyIterator.next();
									lValue = this.getPropertyValue(lKey);
									try {
										lBool = sap.firefly.XBoolean
												.convertStringToBoolean(lValue);
										oRenderSerializer.addBooleanAttribute(
												lKey, lBool);
									} catch (loException1) {
										try {
											lInteger = sap.firefly.XInteger
													.convertStringToInteger(lValue);
											oRenderSerializer
													.addIntegerAttribute(lKey,
															lInteger);
										} catch (loException2) {
											oRenderSerializer.addAttribute(
													lKey, lValue);
										}
									}
								}
							}
							oRenderSerializer.closeTag();
							oRenderSerializer.closeTag();
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.DataSourceScriptApiUtils",
				sap.firefly.XObject,
				{
					$statics : {
						VALUE_TYPE_INT : 0,
						VALUE_TYPE_EXT : 0,
						VALUE_TYPE_TEXT : 0,
						EMPTY_DEFAULT : null,
						staticSetup : function() {
							sap.zen.DataSourceScriptApiUtils.EMPTY_DEFAULT = "";
							sap.zen.DataSourceScriptApiUtils.VALUE_TYPE_INT = 0;
							sap.zen.DataSourceScriptApiUtils.VALUE_TYPE_EXT = 1;
							sap.zen.DataSourceScriptApiUtils.VALUE_TYPE_TEXT = 2;
						},
						isViewableDimension : function(dimension) {
							var queryModel = dimension.getQueryModel();
							var isHana = false;
							var systemType;
							if (queryModel !== null) {
								systemType = queryModel.getQueryManager()
										.getSystemDescription().getSystemType();
								isHana = systemType
										.isTypeOf(sap.firefly.SystemType.HANA);
							}
							if (!dimension.isStructure()
									&& (dimension.isGroupingDimension() || (isHana && dimension
											.getDimensionType() !== sap.firefly.DimensionType.DIMENSION))) {
								return false;
							}
							return true;
						},
						getDimensionNameForNavigation : function(page,
								dimension) {
							var lInternalDimension = dimension
									.getInternalObject();
							var externalName = null;
							if (page.useExternalSemanticObjectMappings()) {
								externalName = page
										.getExternalMappedSemanticName(dimension
												.getName());
							} else {
								externalName = lInternalDimension
										.getExternalName();
							}
							if (sap.firefly.XStringUtils
									.isNullOrEmpty(externalName)) {
								return dimension.getName();
							}
							return externalName;
						},
						getAllDimensionMembersHierarchical : function(dimension) {
							var extResult = dimension.processMemberHelp(
									sap.firefly.SyncType.BLOCKING, null, null);
							if (extResult.hasErrors() === false) {
								return extResult.getData();
							}
							throw sap.firefly.XException
									.createRuntimeException(extResult
											.getSummary());
						},
						getPreferredTextPresentation : function(attribute) {
							var lTextField;
							if (attribute.getTextField() === null) {
								return null;
							}
							lTextField = null;
							lTextField = attribute
									.getFirstFieldByType(sap.firefly.PresentationType.LONG_TEXT);
							if (lTextField !== null) {
								if (attribute.getResultSetFields().contains(
										lTextField)) {
									return sap.firefly.PresentationType.LONG_TEXT;
								}
							}
							lTextField = attribute
									.getFirstFieldByType(sap.firefly.PresentationType.MEDIUM_TEXT);
							if (lTextField !== null) {
								if (attribute.getResultSetFields().contains(
										lTextField)) {
									return sap.firefly.PresentationType.MEDIUM_TEXT;
								}
							}
							lTextField = attribute
									.getFirstFieldByType(sap.firefly.PresentationType.SHORT_TEXT);
							if (lTextField !== null) {
								if (attribute.getResultSetFields().contains(
										lTextField)) {
									return sap.firefly.PresentationType.SHORT_TEXT;
								}
							}
							return sap.firefly.PresentationType.TEXT;
						},
						getPresentationTypeByName : function(
								presentationTypeName) {
							if (sap.firefly.XString.isEqual(
									sap.firefly.PresentationType.KEY.getName(),
									presentationTypeName)) {
								return sap.firefly.PresentationType.KEY;
							}
							if (sap.firefly.XString.isEqual(
									sap.firefly.PresentationType.DISPLAY_KEY
											.getName(), presentationTypeName)) {
								return sap.firefly.PresentationType.DISPLAY_KEY;
							}
							if (sap.firefly.XString
									.isEqual(
											sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND
													.getName(),
											presentationTypeName)) {
								return sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND;
							}
							if (sap.firefly.XString
									.isEqual(
											sap.firefly.PresentationType.KEY_NOT_COMPOUND
													.getName(),
											presentationTypeName)) {
								return sap.firefly.PresentationType.KEY_NOT_COMPOUND;
							}
							if (sap.firefly.XString
									.isEqual(
											sap.firefly.PresentationType.DISPLAY_KEY_MIXED_COMPOUNDMENT
													.getName(),
											presentationTypeName)) {
								return sap.firefly.PresentationType.DISPLAY_KEY_MIXED_COMPOUNDMENT;
							}
							if (sap.firefly.XString
									.isEqual(sap.firefly.PresentationType.TEXT
											.getName(), presentationTypeName)) {
								return sap.firefly.PresentationType.TEXT;
							}
							if (sap.firefly.XString.isEqual(
									sap.firefly.PresentationType.SHORT_TEXT
											.getName(), presentationTypeName)) {
								return sap.firefly.PresentationType.SHORT_TEXT;
							}
							if (sap.firefly.XString.isEqual(
									sap.firefly.PresentationType.MEDIUM_TEXT
											.getName(), presentationTypeName)) {
								return sap.firefly.PresentationType.MEDIUM_TEXT;
							}
							if (sap.firefly.XString.isEqual(
									sap.firefly.PresentationType.LONG_TEXT
											.getName(), presentationTypeName)) {
								return sap.firefly.PresentationType.LONG_TEXT;
							}
							return null;
						},
						getAttributes : function(dataSource, dimension) {
							var attributesToDisplay = sap.firefly.XList
									.create();
							var iterator = dimension.getAttributes()
									.getIterator();
							var attributeToCheck;
							while (iterator.hasNext()) {
								attributeToCheck = iterator.next();
								if (sap.zen.DataSourceScriptApiUtils
										.isAttribute(dataSource,
												attributeToCheck)) {
									attributesToDisplay.add(attributeToCheck);
								}
							}
							return attributesToDisplay;
						},
						isAttribute : function(oDataSource, oInternalAttribute) {
							var loQueryManager = null;
							if (oDataSource !== null) {
								loQueryManager = oDataSource.getQueryManager();
							}
							return sap.zen.DataSourceScriptApiUtils
									.isAttribute1(loQueryManager,
											oInternalAttribute);
						},
						isAttribute1 : function(oQueryManager,
								oInternalAttribute) {
							var lKeyField;
							if (oInternalAttribute === null) {
								return false;
							}
							if (oInternalAttribute === oInternalAttribute
									.getDimension().getMainAttribute()) {
								return false;
							}
							if (!sap.zen.DataSourceScriptApiUtils
									.isHanaSystem1(oQueryManager)) {
								return true;
							}
							lKeyField = oInternalAttribute.getKeyField();
							if (lKeyField === null) {
								return false;
							}
							return lKeyField.isDisplayAttributeField();
						},
						isHanaSystem : function(oDataSource) {
							return sap.zen.DataSourceScriptApiUtils
									.isHanaSystem1(oDataSource
											.getQueryManager());
						},
						isHanaSystem1 : function(oQueryManager) {
							var lSystemType;
							if (oQueryManager !== null) {
								lSystemType = oQueryManager
										.getSystemDescription().getSystemType();
								return lSystemType
										.isTypeOf(sap.firefly.SystemType.HANA);
							}
							return true;
						},
						addNotImplementedFunctionMessage : function(oPage,
								objectName, functionName) {
							sap.zen.CLocalizationDataSourceMessages.UNSUPPORTED_API
									.addMessageToMessageHandler(oPage,
											sap.firefly.Severity.ERROR,
											objectName, functionName, null);
						},
						extractHierarchyName : function(hierarchyName) {
							var splitStringList = sap.firefly.XStringTokenizer
									.splitString(hierarchyName, ".");
							var s2;
							if (splitStringList.size() === 1) {
								return hierarchyName;
							}
							s2 = splitStringList.get(1);
							s2 = sap.firefly.XString.replace(s2, "[", "");
							s2 = sap.firefly.XString.replace(s2, "]", "");
							return s2;
						},
						logGetResultSet : function(page, resultSetManager,
								context) {
							var logging = page.getLogging();
							var name;
							var s;
							if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								if (resultSetManager !== null) {
									name = resultSetManager.getQueryModel()
											.getName();
									s = sap.firefly.XStringUtils.concatenate4(
											"getClassicResultSet for ", name,
											" called in ", context);
									if (resultSetManager
											.isClassicResultSetAvailable()) {
										s = sap.firefly.XStringUtils
												.concatenate2(s,
														" - no roundtrip ");
									} else {
										s = sap.firefly.XStringUtils
												.concatenate2(s,
														" - with roundtrip ");
									}
									logging.debug(s, "", null);
								}
							}
						},
						logCreateQuery : function(page, resultSetManager,
								context) {
							var logging = page.getLogging();
							var name;
							var s;
							if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								if (resultSetManager !== null) {
									name = resultSetManager.getQueryModel()
											.getName();
									s = sap.firefly.XStringUtils.concatenate4(
											"createQuery for ", name,
											" called in ", context);
									logging.debug(s, "", null);
								}
							}
						},
						logGetObjects : function(page, resultSetManager,
								context, getObjects) {
							var logging = page.getLogging();
							var name;
							var s;
							if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								if (resultSetManager !== null) {
									name = resultSetManager.getQueryModel()
											.getName();
									s = sap.firefly.XStringUtils.concatenate4(
											getObjects, name, " called in ",
											context);
									logging.debug(s, "", null);
								}
							}
						},
						logPlanning : function(page, methodName, context) {
							var logging = page.getLogging();
							var s;
							if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								s = sap.firefly.XStringUtils.concatenate3(
										methodName, " called in ", context);
								logging.debug(s, "", null);
							}
						},
						logPlanning2 : function(page, methodName, context) {
							var logging = page.getLogging();
							var s;
							if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								s = sap.firefly.XStringUtils.concatenate3(
										methodName, " called in ", context);
								logging.debug(s, "", null);
							}
						},
						synchronizeVariableProcessor : function(
								variableProcessor) {
							var lResult;
							if (variableProcessor.supportsReInitVariables()
									&& variableProcessor.isSubmitted()) {
								lResult = variableProcessor
										.reInitVariablesAfterSubmit(
												sap.firefly.SyncType.BLOCKING,
												null, null);
								if ((lResult.hasErrors())
										|| ((lResult.getData() !== null) && (lResult
												.getData()
												.isSuccessfullyProcessed() === false))) {
									throw sap.firefly.XException
											.createRuntimeException("could not re-init variables");
								}
								return true;
							}
							return false;
						},
						getVariable : function(variableProcessor, variableName) {
							var ltVariables;
							var lVariable;
							if (variableProcessor !== null
									&& variableProcessor.hasVariables()) {
								ltVariables = variableProcessor.getVariables();
								if (ltVariables.containsKey(variableName)) {
									lVariable = ltVariables
											.getByKey(variableName);
									return lVariable;
								}
							}
							return null;
						},
						getInputEnabledVariable : function(variableProcessor,
								variableName) {
							var ltVariables;
							var lVariable;
							if (variableProcessor !== null
									&& variableProcessor.hasVariables()) {
								ltVariables = variableProcessor.getVariables();
								if (ltVariables.containsKey(variableName)) {
									lVariable = ltVariables
											.getByKey(variableName);
									if (lVariable.isInputEnabled()) {
										return lVariable;
									}
								}
							}
							return null;
						},
						getVariables : function(variableProcessor, iWindow) {
							var ltScriptableVariables = sap.firefly.XList
									.create();
							var ltVariables;
							var lVariableIndex;
							var lVariable;
							var lScriptableVariable;
							var ltScriptableVariablesArray;
							if ((variableProcessor !== null)
									&& (variableProcessor.hasVariables())) {
								ltVariables = variableProcessor.getVariables();
								for (lVariableIndex = 0; lVariableIndex < ltVariables
										.size(); lVariableIndex++) {
									lVariable = ltVariables.get(lVariableIndex);
									lScriptableVariable = new sap.zen.ScriptableVariable();
									lScriptableVariable.initMe(lVariable);
									ltScriptableVariables
											.add(lScriptableVariable);
								}
							}
							ltScriptableVariablesArray = iWindow
									.createJSArray(ltScriptableVariables);
							return ltScriptableVariablesArray;
						},
						getVariableWrapper : function(variableProcessor,
								variableName, page) {
							var lVariable = sap.zen.DataSourceScriptApiUtils
									.getInputEnabledVariable(variableProcessor,
											variableName);
							if (lVariable !== null) {
								return sap.zen.VariableWrapper.createWrapper(
										lVariable, page);
							}
							return null;
						},
						getVariableValue : function(variableProcessor,
								variableName, page, valueType) {
							var lValue = "";
							var lVariable = sap.zen.DataSourceScriptApiUtils
									.getVariable(variableProcessor,
											variableName);
							var lVariableWrapper;
							var lVariableValue;
							if (lVariable !== null) {
								lVariableWrapper = sap.zen.VariableWrapper
										.createWrapper(lVariable, page);
								if (lVariableWrapper !== null) {
									lVariableValue = null;
									if (valueType === sap.zen.DataSourceScriptApiUtils.VALUE_TYPE_TEXT) {
										lVariableValue = lVariableWrapper
												.getValueAsText();
									} else {
										lVariableValue = lVariableWrapper
												.getValue();
									}
									if (lVariableValue !== null) {
										lValue = lVariableValue;
									}
								}
							}
							return lValue;
						},
						copyVariableValue : function(targetDataSource,
								sourceDataSourceName, targetVariableName,
								sourceVariableName, page) {
							var lSourceDataSource = page
									.getDataSource(sourceDataSourceName);
							var lSourceVariableProcessor;
							var lTargetVariableProcessor;
							var lSourceVariable;
							var lTargetVariable;
							var lSourceDimensionMemberVariable;
							var lTargetDimensionMemberVariable;
							var lSourceMemberSelection;
							var lTargetMemberSelection;
							var lSourceVariableWrapper;
							var lTargetVariableWrapper;
							if (lSourceDataSource === null
									|| targetDataSource === null) {
								return;
							}
							lSourceVariableProcessor = lSourceDataSource
									.getVariableProcessor();
							lTargetVariableProcessor = targetDataSource
									.getVariableProcessor();
							if (lSourceVariableProcessor === null
									|| lTargetVariableProcessor === null) {
								return;
							}
							lSourceVariable = sap.zen.DataSourceScriptApiUtils
									.getInputEnabledVariable(
											lSourceVariableProcessor,
											sourceVariableName);
							lTargetVariable = sap.zen.DataSourceScriptApiUtils
									.getInputEnabledVariable(
											lTargetVariableProcessor,
											targetVariableName);
							if (lSourceVariable === null
									|| lTargetVariable === null) {
								return;
							}
							if (!lSourceVariable.getVariableType().isEqualTo(
									lTargetVariable.getVariableType())) {
								return;
							}
							if (lSourceVariable
									.getVariableType()
									.isEqualTo(
											sap.firefly.VariableType.DIMENSION_MEMBER_VARIABLE)) {
								lSourceDimensionMemberVariable = lSourceVariable;
								lTargetDimensionMemberVariable = lTargetVariable;
								lSourceMemberSelection = lSourceDimensionMemberVariable
										.getMemberSelection();
								lTargetMemberSelection = lTargetDimensionMemberVariable
										.getMemberSelection();
								sap.zen.DataSourceScriptApiUtils
										.copyCartesianList(
												lSourceMemberSelection,
												lTargetMemberSelection);
							} else {
								lSourceVariableWrapper = sap.zen.VariableWrapper
										.createWrapper(lSourceVariable, page);
								lTargetVariableWrapper = sap.zen.VariableWrapper
										.createWrapper(lTargetVariable, page);
								if (lSourceVariableWrapper !== null
										&& lTargetVariableWrapper !== null) {
									lTargetVariableWrapper
											.setValue(lSourceVariableWrapper
													.getValue());
								}
							}
						},
						setVariableValue : function(variableProcessor,
								variableName, obj, page, submitVariable,
								useDisplayKey) {
							var lVariable = sap.zen.DataSourceScriptApiUtils
									.getInputEnabledVariable(variableProcessor,
											variableName);
							var lVariableWrapper;
							var lResult;
							if (lVariable === null) {
								return false;
							}
							lVariableWrapper = sap.zen.DataSourceScriptApiUtils
									.getVariableWrapper(variableProcessor,
											variableName, page);
							lResult = sap.zen.DataSourceScriptApiUtils
									.convertSelectionObjectToRangeList(obj,
											lVariableWrapper
													.supportsMultiSelection(),
											lVariableWrapper.supportsRange(),
											true);
							if (!lResult.getSecondObject().isEmpty()) {
								lVariableWrapper.setFullRangeQueryByField(
										lResult.getSecondObject(),
										useDisplayKey);
							}
							return lResult.getFirstObject().getBooleanValue();
						},
						setVariableValueRange : function(variableProcessor,
								variableName, valueLow, valueHigh, page,
								submitVariable) {
							var lVariableWrapper = sap.zen.DataSourceScriptApiUtils
									.getVariableWrapper(variableProcessor,
											variableName, page);
							var lResult;
							if (lVariableWrapper === null) {
								return;
							}
							sap.zen.DataSourceScriptApiUtils
									.synchronizeVariableProcessor(variableProcessor);
							lVariableWrapper = sap.zen.DataSourceScriptApiUtils
									.getVariableWrapper(variableProcessor,
											variableName, page);
							lVariableWrapper.setValueRange(valueLow, valueHigh);
							if (submitVariable === true) {
								lResult = sap.zen.VariablesUtils
										.submitOrCheckVariableProcessor(variableProcessor);
								page.getMessageManager()
										.createMessages(lResult);
							}
						},
						getAxis : function(oQueryModel, axisName) {
							var lAxis = null;
							if (sap.firefly.XString.isEqual(axisName,
									sap.zen.ZAxisType.ROWS)) {
								lAxis = oQueryModel.getRowsAxis();
							} else {
								if (sap.firefly.XString.isEqual(axisName,
										sap.zen.ZAxisType.COLUMNS)) {
									lAxis = oQueryModel.getColumnsAxis();
								} else {
									if (sap.firefly.XString.isEqual(axisName,
											sap.zen.ZAxisType.FREE)) {
										lAxis = oQueryModel.getFreeAxis();
									}
								}
							}
							return lAxis;
						},
						getDimension : function(filter, dimensionName) {
							var lDimension;
							if (filter !== null) {
								lDimension = filter
										.getDimensionByName(dimensionName);
								if (lDimension === null
										&& sap.firefly.XString.isEqual(
												"[Measures]", dimensionName)) {
									lDimension = filter.getMeasureDimension();
								}
								return lDimension;
							}
							return null;
						},
						getDimensionText : function(filter, dimensionName) {
							var lText = sap.zen.DataSourceScriptApiUtils.EMPTY_DEFAULT;
							var lDimension = sap.zen.DataSourceScriptApiUtils
									.getDimension(filter, dimensionName);
							if (lDimension !== null) {
								lText = lDimension.getText();
							}
							return lText;
						},
						getDimensions : function(axisName, filter, iWindow,
								checkAxisSupported) {
							var ltScriptableDimensions = sap.firefly.XList
									.create();
							var ltDimensions;
							var axis;
							var lDimensionIndex;
							var lDimension;
							var lScriptableDimension;
							var lScriptableVariablesArray;
							if (filter !== null) {
								ltDimensions = null;
								if (axisName === null) {
									ltDimensions = filter.getDimensions();
								} else {
									axis = sap.zen.DataSourceScriptApiUtils
											.getAxis(filter.getQueryModel(),
													axisName);
									ltDimensions = axis.getDimensions();
								}
								for (lDimensionIndex = 0; lDimensionIndex < ltDimensions
										.size(); lDimensionIndex++) {
									lDimension = ltDimensions
											.get(lDimensionIndex);
									if (!sap.zen.DataSourceScriptApiUtils
											.isViewableDimension(lDimension)) {
										continue;
									}
									if (checkAxisSupported === false
											|| lDimension
													.isAxisSupported(sap.firefly.AxisType.ROWS)
											|| lDimension
													.isAxisSupported(sap.firefly.AxisType.COLUMNS)) {
										lScriptableDimension = new sap.zen.ScriptableDimension();
										lScriptableDimension.initMe(lDimension);
										ltScriptableDimensions
												.add(lScriptableDimension);
									}
								}
							}
							lScriptableVariablesArray = iWindow
									.createJSArray(ltScriptableDimensions);
							return lScriptableVariablesArray;
						},
						validateMemberForFilter : function(dimension, memberKey) {
							var lFilterUsage = dimension
									.getSelectorFilterUsage();
							var lFilterElement;
							var lResult;
							var ltMembers;
							dimension
									.setSelectorFilterUsage(sap.firefly.QueryFilterUsage.SELECTOR_FILTER);
							lFilterElement = dimension
									.addSelectorSelectionForKey(
											memberKey,
											sap.firefly.ComparisonOperator.EQUAL);
							lResult = dimension.processMemberHelp(
									sap.firefly.SyncType.BLOCKING, null, null);
							ltMembers = lResult.getData();
							dimension.clearSelectorSelections();
							dimension.setSelectorFilterUsage(lFilterUsage);
							return (ltMembers.size() === 1);
						},
						clearAllFilters : function(oFilter, oDataSource) {
							var loSelectionStateContainer;
							if (oFilter === null || oDataSource === null) {
								return;
							}
							loSelectionStateContainer = oFilter
									.getSelectionStateContainer();
							if (loSelectionStateContainer.isCartesianProduct()) {
								loSelectionStateContainer.getCartesianProduct()
										.clear();
								oDataSource.raiseDataSourceChangedEvent(null,
										false, true);
							} else {
								if (loSelectionStateContainer
										.supportsComplexSelections()) {
									loSelectionStateContainer
											.setComplexSelection(null);
									oDataSource.raiseDataSourceChangedEvent(
											null, false, true);
								}
							}
						},
						clearFilter : function(oFilter, dimensionName,
								oDataSource, oPage) {
							var loSelectionStateContainer;
							var loCartesianProduct;
							var loInternalDimension;
							var loCartesianList;
							if (oFilter === null) {
								return;
							}
							loSelectionStateContainer = oFilter
									.getSelectionStateContainer();
							if (loSelectionStateContainer.isCartesianProduct()) {
								loCartesianProduct = loSelectionStateContainer
										.getCartesianProduct();
								if (loCartesianProduct !== null) {
									loInternalDimension = sap.zen.DataSourceScriptApiUtils
											.getDimension(oFilter,
													dimensionName);
									if (loInternalDimension !== null) {
										loCartesianList = loCartesianProduct
												.getCartesianList(loInternalDimension);
										if (loCartesianList !== null
												&& !loCartesianList.isEmpty()) {
											loCartesianList.clear();
											oDataSource
													.raiseDataSourceChangedEvent(
															null, false, true);
										}
									}
								}
							} else {
								if (loSelectionStateContainer
										.supportsComplexSelections()) {
									sap.zen.CLocalizationDataSourceMessages.UNSUPPORTED_COMPLEX_SELECTION
											.addMessageToMessageHandler(oPage,
													sap.firefly.Severity.ERROR,
													oDataSource.getName(),
													"clearFilters",
													dimensionName);
								}
							}
						},
						copyFilters : function(oDataSource, dataSourceName,
								copyMeasuresFilter, oPage) {
							var loDataSource = oPage
									.getDataSource(dataSourceName);
							var loInternalSelector;
							var mySelector;
							var loStateContainer;
							var mySelectionState;
							var loCartesianProduct;
							var myCartesianProduct;
							var loQueryModel;
							var ltDimensionNames;
							var lDimensionName;
							var loDimension;
							var myDimension;
							var loCartesianList;
							var mySelectionComponentList;
							if (loDataSource === null) {
								return;
							}
							loInternalSelector = loDataSource.getSelector();
							if (loInternalSelector === null) {
								return;
							}
							mySelector = oDataSource.getSelector();
							if (mySelector === null) {
								return;
							}
							loStateContainer = loInternalSelector
									.getSelectionStateContainer();
							mySelectionState = mySelector
									.getSelectionStateContainer();
							if (loStateContainer.isCartesianProduct()) {
								loCartesianProduct = loStateContainer
										.getCartesianProduct();
								if (loCartesianProduct === null) {
									loCartesianProduct = sap.firefly.QFactory2
											.newFilterCartesianProduct(loStateContainer);
									loStateContainer
											.setCartesianProduct(loCartesianProduct);
								}
								myCartesianProduct = mySelectionState
										.getCartesianProduct();
								loQueryModel = loInternalSelector
										.getQueryModel();
								ltDimensionNames = loQueryModel.getDimensions()
										.getKeysAsIteratorOfString();
								while (ltDimensionNames.hasNext()) {
									lDimensionName = ltDimensionNames.next();
									loDimension = loQueryModel
											.getDimensionByName(lDimensionName);
									myDimension = sap.zen.DataSourceScriptApiUtils
											.getDimension(mySelector,
													lDimensionName);
									if (myDimension === null) {
										continue;
									}
									if (!copyMeasuresFilter
											&& loDimension.isMeasureStructure()) {
										continue;
									}
									loCartesianList = loCartesianProduct
											.getCartesianList(loDimension);
									if (myCartesianProduct === null) {
										myCartesianProduct = sap.firefly.QFactory2
												.newFilterCartesianProduct(mySelectionState);
										mySelectionState
												.setCartesianProduct(myCartesianProduct);
									}
									mySelectionComponentList = myCartesianProduct
											.getCartesianListWithDefault(myDimension);
									if (!mySelectionComponentList.isEmpty()) {
										mySelectionComponentList.clear();
									}
									if (loCartesianList !== null) {
										sap.zen.DataSourceScriptApiUtils
												.copyCartesianList(
														loCartesianList,
														mySelectionComponentList);
									}
								}
								oDataSource.raiseDataSourceChangedEvent(null,
										false, true);
							} else {
								if (loStateContainer
										.supportsComplexSelections()) {
									sap.zen.CLocalizationDataSourceMessages.UNSUPPORTED_COMPLEX_SELECTION
											.addMessageToMessageHandler(oPage,
													sap.firefly.Severity.ERROR,
													oDataSource.getName(),
													"copyFilters",
													dataSourceName);
								}
							}
						},
						copyCartesianList : function(sourceCartesianList,
								targetCartesianList) {
							var i;
							var lSourceFilterOperation;
							var lSourceFieldValueLow;
							var lTargetFilterOperation;
							var lSourceFieldValueHigh;
							if (sourceCartesianList === null
									|| targetCartesianList === null) {
								return;
							}
							targetCartesianList.setField(sourceCartesianList
									.getField());
							for (i = 0; i < sourceCartesianList.size(); i++) {
								lSourceFilterOperation = sourceCartesianList
										.getOp(i);
								lSourceFieldValueLow = lSourceFilterOperation
										.getLow().getFieldValue();
								if (lSourceFieldValueLow !== null) {
									lTargetFilterOperation = targetCartesianList
											.addNewCartesianElement();
									lTargetFilterOperation
											.getLow()
											.setFieldValue(lSourceFieldValueLow);
									lSourceFieldValueHigh = lSourceFilterOperation
											.getHigh().getFieldValue();
									if (lSourceFieldValueHigh !== null) {
										lTargetFilterOperation.getHigh()
												.setFieldValue(
														lSourceFieldValueHigh);
									}
									lTargetFilterOperation
											.setComparisonOperator(lSourceFilterOperation
													.getComparisonOperator());
									lTargetFilterOperation
											.setSetSign(lSourceFilterOperation
													.getSetSign());
								}
							}
						},
						convertSelectionObjectToRangeList : function(obj,
								supportsMultiSelection, supportsRanges,
								applyValidState) {
							var ltRanges = sap.firefly.XList.create();
							var lResult = sap.firefly.XPair.create(
									sap.firefly.XBooleanValue.create(true),
									ltRanges);
							var lJsonObject = sap.buddha.XJsonObject
									.create(obj);
							var lJsonString = null;
							var lRange = null;
							var lMemberWrapper = null;
							var lJsonArray;
							var lJsonArraySize;
							var j;
							var lJsonObjectInArray;
							var lJsonRange;
							var lJsonRangeFrom;
							var lJsonRangeTo;
							var lJsonRangeOperation;
							var lJsonRangeExcluding;
							var lMemberWrapperTo;
							if (lJsonObject.isString()) {
								lJsonString = lJsonObject.getString();
								if (sap.firefly.XString.size(lJsonString) > 0) {
									lMemberWrapper = new sap.zen.MemberKeyWrapper();
									lMemberWrapper.initMe(lJsonString);
									lRange = new sap.zen.Range();
									lRange.initMe2(lMemberWrapper);
									ltRanges.add(lRange);
								}
							} else {
								if (lJsonObject.isArray()) {
									lJsonArray = lJsonObject.getArray();
									lJsonArraySize = lJsonArray.size();
									if (!supportsMultiSelection
											&& lJsonArraySize > 1) {
										lResult
												.setFirstObject(sap.firefly.XBooleanValue
														.create(false));
									}
									for (j = 0; j < lJsonArraySize; j++) {
										lJsonObjectInArray = lJsonArray.get(j);
										if (lJsonObjectInArray.isString()
												|| lJsonObjectInArray
														.isScriptableMember()) {
											lJsonString = lJsonObjectInArray
													.getString();
											lMemberWrapper = new sap.zen.MemberKeyWrapper();
											lMemberWrapper.initMe(lJsonString);
											lRange = new sap.zen.Range();
											lRange.initMe2(lMemberWrapper);
											ltRanges.add(lRange);
										} else {
											lJsonRange = lJsonObjectInArray
													.getJSON();
											lJsonRangeFrom = lJsonRange
													.getByKey(sap.zen.Range.FROM_TEXT);
											lJsonRangeTo = lJsonRange
													.getByKey(sap.zen.Range.TO_TEXT);
											lJsonRangeOperation = lJsonRange
													.getByKey(sap.zen.Range.OPERATION_TEXT);
											lJsonRangeExcluding = false;
											if (lJsonRange
													.containsKey(sap.zen.Range.EXCLUDE_TEXT)) {
												lJsonRangeExcluding = !sap.firefly.XString
														.isEqual(
																lJsonRange
																		.getByKey(sap.zen.Range.EXCLUDE_TEXT),
																"false");
											}
											if (!supportsRanges
													&& !sap.firefly.XString
															.isEqual(
																	lJsonRangeOperation,
																	"EQ")
													&& !lJsonRangeExcluding) {
												lResult
														.setFirstObject(sap.firefly.XBooleanValue
																.create(false));
												if (applyValidState) {
													continue;
												}
											}
											if (!supportsMultiSelection
													&& !ltRanges.isEmpty()) {
												lResult
														.setFirstObject(sap.firefly.XBooleanValue
																.create(false));
												if (applyValidState) {
													continue;
												}
											}
											lMemberWrapper = new sap.zen.MemberKeyWrapper();
											lMemberWrapper
													.initMe(lJsonRangeFrom);
											lRange = new sap.zen.Range();
											lRange.initMe2(lMemberWrapper);
											if (lJsonRangeTo !== null) {
												lMemberWrapperTo = new sap.zen.MemberKeyWrapper();
												lMemberWrapperTo
														.initMe(lJsonRangeTo);
												lRange.setTo(lMemberWrapperTo);
											}
											if (lJsonRangeOperation !== null) {
												lRange
														.setOperation(sap.zen.Operation
																.valueOf2(lJsonRangeOperation));
											}
											lRange
													.setExclude(lJsonRangeExcluding);
											ltRanges.add(lRange);
										}
									}
								} else {
									if (lJsonObject.isScriptableMember()) {
										lJsonString = lJsonObject.getString();
										lMemberWrapper = new sap.zen.MemberKeyWrapper();
										lMemberWrapper.initMe(lJsonString);
										lRange = new sap.zen.Range();
										lRange.initMe2(lMemberWrapper);
										ltRanges.add(lRange);
									}
								}
							}
							return lResult;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.Grid",
				sap.firefly.XObject,
				{
					$statics : {
						create : function(oResultSet, mergeContent,
								displayScalingFactorsInHeader, oDisplayArea) {
							var lInstance = null;
							if (oResultSet !== null) {
								lInstance = new sap.zen.Grid();
								lInstance.initMe(oResultSet, mergeContent,
										displayScalingFactorsInHeader,
										oDisplayArea);
							}
							return lInstance;
						}
					},
					tRowHeadersWithTotals : null,
					tColHeadersWithTotals : null,
					tRowSpans : null,
					tRowsLastProcessedTupleOfTupleElement : null,
					tColSpans : null,
					tColsLastProcessedTupleOfTupleElement : null,
					oResultSet : null,
					oDisplayArea : null,
					initializationRequired : false,
					rows : 0,
					cols : 0,
					dataRows : 0,
					dataCols : 0,
					rowHeaders : 0,
					colHeaders : 0,
					noRowHeader : false,
					noColHeader : false,
					mergeContent : false,
					displayScalingFactorInHeader : false,
					scalingFactorDisplayAxis : null,
					scalingFactorDisplayAxisIndex : 0,
					initMe : function(oResultSet, mergeContent,
							displayScalingFactorsInHeader, oDisplayArea) {
						this.oResultSet = oResultSet;
						this.setDisplayArea(oDisplayArea);
						this.setMergeContent(mergeContent);
						this
								.setDisplayScalingFactorsInHeader(displayScalingFactorsInHeader);
						this.initialize();
					},
					getDataSource : function() {
						var loResultSet = this.getResultSet();
						if (loResultSet === null) {
							return null;
						}
						return loResultSet.getDataSource();
					},
					getResultSet : function() {
						return this.oResultSet;
					},
					getQueryManager : function() {
						var loDataSource = this.getDataSource();
						var loQueryManager;
						if (loDataSource === null) {
							return null;
						}
						loQueryManager = loDataSource.getQueryManager();
						return loQueryManager;
					},
					getQueryModel : function() {
						var loQueryManager = this.getQueryManager();
						if (loQueryManager === null) {
							return null;
						}
						return loQueryManager.getQueryModel();
					},
					initialize : function() {
						this.initializationRequired = false;
						this.rows = -1;
						this.cols = -1;
						this.dataRows = -1;
						this.dataCols = -1;
						this.rowHeaders = -1;
						this.colHeaders = -1;
						this.noRowHeader = false;
						this.noColHeader = false;
						this.tRowHeadersWithTotals = sap.firefly.XHashMapByString
								.create();
						this.tColHeadersWithTotals = sap.firefly.XHashMapByString
								.create();
						this.tRowSpans = sap.firefly.XList.create();
						this.tRowsLastProcessedTupleOfTupleElement = null;
						this.tColSpans = sap.firefly.XList.create();
						this.tColsLastProcessedTupleOfTupleElement = null;
						this.scalingFactorDisplayAxis = null;
						this.scalingFactorDisplayAxisIndex = -1;
						if (this.getResultSet().hasErrors()) {
							return;
						}
						this.dataRows = this.getResultSet().getAmountOfRows();
						this.dataCols = this.getResultSet()
								.getAmountOfColumns();
						if ((this.dataRows === 0 && this.dataCols === 0)
								|| (this.dataRows === 0 && this.getResultSet()
										.getAmountOfDimensionsOnAxis(
												sap.firefly.AxisType.ROWS) > 0)
								|| (this.dataCols === 0 && this.getResultSet()
										.getAmountOfDimensionsOnAxis(
												sap.firefly.AxisType.COLUMNS) > 0)) {
							return;
						}
						this.provideAmountOfHeaders();
						this.rows = this.dataRows + this.colHeaders;
						this.cols = this.dataCols + this.rowHeaders;
					},
					provideAmountOfHeaders : function() {
						var loQueryModel = this.getQueryModel();
						var ltColDimensions;
						var ltRowDimensions;
						var lMeasureDimensionAxis;
						var lMeasureDimensionAxisType;
						this.rowHeaders = this.getResultSet()
								.getAmountOfVisibleFieldsOnAxis(
										sap.firefly.AxisType.ROWS);
						this.colHeaders = this.getResultSet()
								.getAmountOfVisibleFieldsOnAxis(
										sap.firefly.AxisType.COLUMNS);
						if (this.rowHeaders === 0) {
							ltColDimensions = loQueryModel.getColumnsAxis()
									.getDimensions();
							if (!ltColDimensions.isEmpty()
									&& (ltColDimensions.size() > 1 || !ltColDimensions
											.get(0).isStructure())) {
								this.rowHeaders = 1;
							}
							this.noRowHeader = true;
						}
						if (this.colHeaders === 0) {
							ltRowDimensions = loQueryModel.getRowsAxis()
									.getDimensions();
							if (!ltRowDimensions.isEmpty()
									&& (ltRowDimensions.size() > 1 || !ltRowDimensions
											.get(0).isStructure())) {
								this.colHeaders = 1;
							}
							this.noColHeader = true;
						}
						if (this.isDisplayScalingFactorsInHeader()) {
							lMeasureDimensionAxis = loQueryModel
									.getMeasureDimension().getAxis();
							lMeasureDimensionAxisType = lMeasureDimensionAxis
									.getType();
							this.scalingFactorDisplayAxis = lMeasureDimensionAxisType;
							if (lMeasureDimensionAxisType === sap.firefly.AxisType.ROWS) {
								this.rowHeaders++;
								this.scalingFactorDisplayAxisIndex = this.rowHeaders - 1;
							} else {
								if (lMeasureDimensionAxisType === sap.firefly.AxisType.COLUMNS) {
									this.colHeaders++;
									this.scalingFactorDisplayAxisIndex = this.colHeaders - 1;
								}
							}
						}
					},
					setDisplayArea : function(oDisplayArea) {
						this.oDisplayArea = oDisplayArea;
					},
					getDisplayArea : function() {
						return this.oDisplayArea;
					},
					setMergeContent : function(merge) {
						this.mergeContent = merge;
					},
					isMergeContent : function() {
						return this.mergeContent;
					},
					setDisplayScalingFactorsInHeader : function(
							displayScalingFactorsInHeader) {
						this.displayScalingFactorInHeader = displayScalingFactorsInHeader;
						this.initializationRequired = true;
					},
					isDisplayScalingFactorsInHeader : function() {
						return this.displayScalingFactorInHeader;
					},
					hasDisplayScalingFactorsInHeader : function() {
						var lMeasureWithScalingFactorExists;
						if (this.isDisplayScalingFactorsInHeader()) {
							lMeasureWithScalingFactorExists = this
									.getResultSet()
									.doesMeasureWithScalingFactorExist();
							if (lMeasureWithScalingFactorExists) {
								return true;
							}
						}
						return false;
					},
					getScalingFactorDisplayAxis : function() {
						return this.scalingFactorDisplayAxis;
					},
					getScalingFactorDisplayAxisIndex : function() {
						return this.scalingFactorDisplayAxisIndex;
					},
					getRows : function() {
						return this.rows;
					},
					getColumns : function() {
						return this.cols;
					},
					getDataRows : function() {
						return this.dataRows;
					},
					getDataColumns : function() {
						return this.dataCols;
					},
					getPageRows : function() {
						var lPageRows;
						if (this.getDisplayArea() === null) {
							return this.getRows();
						}
						lPageRows = this.getPageDataRows();
						lPageRows = lPageRows + this.getColumnHeaders();
						return lPageRows;
					},
					getPageColumns : function() {
						var lPageCols;
						if (this.getDisplayArea() === null) {
							return this.getColumns();
						}
						lPageCols = this.getPageDataColumns();
						lPageCols = lPageCols + this.getRowHeaders();
						return lPageCols;
					},
					getPageDataRows : function() {
						var lPageDataRows;
						if (this.getDisplayArea() === null) {
							return this.getDataRows();
						}
						lPageDataRows = this.getDataRows()
								- this.getDisplayArea().getRowOffset();
						if (lPageDataRows > this.getDisplayArea()
								.getAmountOfRows()) {
							lPageDataRows = this.getDisplayArea()
									.getAmountOfRows();
						}
						return lPageDataRows;
					},
					getPageDataColumns : function() {
						var lPageDataCols;
						if (this.getDisplayArea() === null) {
							return this.getDataColumns();
						}
						lPageDataCols = this.getDataColumns()
								- this.getDisplayArea().getColumnOffset();
						if (lPageDataCols > this.getDisplayArea()
								.getAmountOfColumns()) {
							lPageDataCols = this.getDisplayArea()
									.getAmountOfColumns();
						}
						return lPageDataCols;
					},
					getRowHeaders : function() {
						return this.rowHeaders;
					},
					getColumnHeaders : function() {
						return this.colHeaders;
					},
					hasRowHeader : function() {
						return !this.noRowHeader;
					},
					hasColumnHeader : function() {
						return !this.noColHeader;
					},
					getCell : function(rowIndex, columnIndex) {
						if (rowIndex > this.getRows()
								|| columnIndex > this.getColumns()) {
							return null;
						}
						return sap.zen.GridCell.create(this, rowIndex,
								columnIndex, null);
					},
					getPageCell : function(rowIndex, columnIndex) {
						var lRowIndex;
						var lColIndex;
						if (this.getDisplayArea() === null) {
							return this.getCell(rowIndex, columnIndex);
						}
						if (rowIndex > this.getPageRows()
								|| columnIndex > this.getPageColumns()) {
							return null;
						}
						lRowIndex = rowIndex
								+ this.getDisplayArea().getRowOffset();
						lColIndex = columnIndex
								+ this.getDisplayArea().getColumnOffset();
						return sap.zen.GridCell.create(this, lRowIndex,
								lColIndex, this.getDisplayArea());
					},
					releaseObject : function() {
						sap.zen.Grid.$superclass.releaseObject.call(this);
						if (this.tRowHeadersWithTotals !== null) {
							this.tRowHeadersWithTotals.releaseObject();
							this.tRowHeadersWithTotals = null;
						}
						if (this.tColHeadersWithTotals !== null) {
							this.tColHeadersWithTotals.releaseObject();
							this.tColHeadersWithTotals = null;
						}
						if (this.tRowSpans !== null) {
							this.tRowSpans.releaseObject();
							this.tRowSpans = null;
						}
						if (this.tRowsLastProcessedTupleOfTupleElement !== null) {
							this.tRowsLastProcessedTupleOfTupleElement
									.releaseObject();
							this.tRowsLastProcessedTupleOfTupleElement = null;
						}
						if (this.tColSpans !== null) {
							this.tColSpans.releaseObject();
							this.tColSpans = null;
						}
						if (this.tColsLastProcessedTupleOfTupleElement !== null) {
							this.tColsLastProcessedTupleOfTupleElement
									.releaseObject();
							this.tColsLastProcessedTupleOfTupleElement = null;
						}
						this.oResultSet = null;
						this.oDisplayArea = null;
						this.initializationRequired = false;
						this.rows = -1;
						this.cols = -1;
						this.dataRows = -1;
						this.dataCols = -1;
						this.rowHeaders = -1;
						this.colHeaders = -1;
						this.noRowHeader = false;
						this.noColHeader = false;
						this.mergeContent = false;
						this.displayScalingFactorInHeader = false;
						this.scalingFactorDisplayAxis = null;
						this.scalingFactorDisplayAxisIndex = -1;
					}
				});
$Firefly
		.createClass(
				"sap.zen.GridCell",
				sap.firefly.XObject,
				{
					$statics : {
						STYLE_HEADER : 1,
						STYLE_TOTAL : 2,
						STYLE_HIERARCHICAL : 4,
						STYLE_INPUT_ENABLED : 8,
						STYLE_INTERNAL_VALUE : 16,
						create : function(oGrid, rowIndex, columnIndex,
								oDisplayArea) {
							var lInstance = null;
							if (oGrid !== null) {
								if (rowIndex < oGrid.getRows()
										&& columnIndex < oGrid.getColumns()) {
									lInstance = new sap.zen.GridCell();
									lInstance.initMe(oGrid, rowIndex,
											columnIndex, oDisplayArea);
								}
							}
							return lInstance;
						}
					},
					oResultDataCell : null,
					oGrid : null,
					oDisplayArea : null,
					axis : null,
					rowIndex : 0,
					colIndex : 0,
					rowDataIndex : 0,
					colDataIndex : 0,
					rowSpan : 0,
					colSpan : 0,
					style : 0,
					value : null,
					valueType : null,
					formatString : null,
					sortDirection : null,
					sortType : null,
					nodeState : null,
					nodeLevel : 0,
					nodeAlignment : null,
					tHeaderData : null,
					initMe : function(oGrid, rowIndex, columnIndex,
							oDisplayArea) {
						var lRowIndex;
						var lColIndex;
						var lRowDataIndex;
						var lColDataIndex;
						this.oGrid = oGrid;
						this.oDisplayArea = oDisplayArea;
						this.rowIndex = rowIndex;
						this.colIndex = columnIndex;
						this.rowDataIndex = this.rowIndex
								- this.oGrid.getColumnHeaders();
						this.colDataIndex = this.colIndex
								- this.oGrid.getRowHeaders();
						this.axis = null;
						this.rowSpan = 0;
						this.colSpan = 0;
						this.style = 0;
						this.value = null;
						this.valueType = null;
						this.formatString = null;
						this.sortType = null;
						this.sortDirection = null;
						this.nodeState = null;
						this.nodeLevel = 0;
						this.nodeAlignment = null;
						this.tHeaderData = sap.firefly.XList.create();
						this.oResultDataCell = null;
						lRowIndex = this.rowIndex;
						lColIndex = this.colIndex;
						if (this.oDisplayArea !== null) {
							lRowIndex = this.rowIndex
									- this.oDisplayArea.getRowOffset();
							lColIndex = this.colIndex
									- this.oDisplayArea.getColumnOffset();
							lRowDataIndex = lRowIndex
									- this.oGrid.getColumnHeaders();
							lColDataIndex = lColIndex
									- this.oGrid.getRowHeaders();
							if (lRowDataIndex < 0) {
								lRowDataIndex = -1;
							} else {
								lRowDataIndex = lRowDataIndex
										+ this.oDisplayArea.getRowOffset();
							}
							if (lColDataIndex < 0) {
								lColDataIndex = -1;
							} else {
								lColDataIndex = lColDataIndex
										+ this.oDisplayArea.getColumnOffset();
							}
						}
						if (lColIndex < this.oGrid.getRowHeaders()) {
							if (lRowIndex < this.oGrid.getColumnHeaders()) {
								this.provideDimensionHeaderCell(lRowIndex,
										lColIndex);
							} else {
								this.provideTupleElementHeaderCell(
										sap.firefly.AxisType.ROWS, lRowIndex,
										lColIndex);
							}
						} else {
							if (lRowIndex < this.oGrid.getColumnHeaders()) {
								this.provideTupleElementHeaderCell(
										sap.firefly.AxisType.COLUMNS,
										lRowIndex, lColIndex);
							} else {
								this.provideDataCell();
							}
						}
					},
					getGrid : function() {
						return this.oGrid;
					},
					getRowIndex : function() {
						return this.rowIndex;
					},
					getColumnIndex : function() {
						return this.colIndex;
					},
					getRowSpan : function() {
						return this.rowSpan;
					},
					getColumnSpan : function() {
						return this.colSpan;
					},
					getStyle : function() {
						return this.style;
					},
					getValue : function() {
						return this.value;
					},
					getValueType : function() {
						if (this.oResultDataCell !== null) {
							return this.oResultDataCell.getValueType();
						}
						if (this.valueType !== null) {
							return this.valueType;
						}
						return sap.firefly.XValueType.STRING;
					},
					getFormattedValue : function() {
						if (this.oResultDataCell !== null) {
							if (this.oResultDataCell.isValueChanged()) {
								return this.oResultDataCell
										.getNewValueInExternalFormat();
							}
							return this.oResultDataCell.getFormattedValue();
						}
						return this.getValue();
					},
					getFormatString : function() {
						if (this.oResultDataCell !== null) {
							if (this.valueType !== sap.firefly.XValueType.STRING) {
								if (this.oResultDataCell.isNumber()) {
									return this.oResultDataCell
											.getNumberFormatString(true, true);
								}
								return this.oResultDataCell.getFormatString();
							}
						}
						if (this.formatString !== null) {
							return this.formatString;
						}
						return "";
					},
					provideNumberFormatString : function(thousandSeparator,
							decimalSeparator) {
						if (this.oResultDataCell !== null) {
							return this.oResultDataCell
									.getSpecificNumberFormatString(
											thousandSeparator,
											decimalSeparator, true, true, true);
						}
						return "";
					},
					isTotal : function() {
						if (sap.firefly.XMath.binaryAnd(this.getStyle(),
								sap.zen.GridCell.STYLE_TOTAL) > 0) {
							return true;
						}
						return false;
					},
					isHierarchical : function() {
						if (sap.firefly.XMath.binaryAnd(this.getStyle(),
								sap.zen.GridCell.STYLE_HIERARCHICAL) > 0) {
							return true;
						}
						return false;
					},
					getNodeState : function() {
						if (this.isHierarchical()) {
							return this.nodeState;
						}
						return null;
					},
					getNodeLevel : function() {
						if (this.isHierarchical()) {
							return this.nodeLevel;
						}
						return 0;
					},
					getNodeAlignment : function() {
						if (this.isHierarchical()) {
							return this.nodeAlignment;
						}
						return null;
					},
					isInputEnabled : function() {
						if (sap.firefly.XMath.binaryAnd(this.getStyle(),
								sap.zen.GridCell.STYLE_INPUT_ENABLED) > 0) {
							return true;
						}
						return false;
					},
					isHeaderCell : function() {
						if (sap.firefly.XMath.binaryAnd(this.getStyle(),
								sap.zen.GridCell.STYLE_HEADER) > 0) {
							return true;
						}
						return false;
					},
					getHeaderInfo : function() {
						if (this.isHeaderCell()) {
							return this;
						}
						return null;
					},
					getHeaderData : function() {
						return this.tHeaderData;
					},
					getAxis : function() {
						return this.axis;
					},
					getSortType : function() {
						return this.sortType;
					},
					getSortDirection : function() {
						return this.sortDirection;
					},
					provideDimensionHeaderCell : function(rowIndex, colIndex) {
						var loResultSetInfo;
						var lIsScalingInfo;
						var ltHeaders;
						var lHeaderIndex;
						var loDimension;
						var loInternalField;
						var lDimensionHeader;
						var lFieldName;
						this.rowSpan = 1;
						this.colSpan = 1;
						this.value = "";
						this.valueType = sap.firefly.XValueType.STRING;
						this.style = this.style + sap.zen.GridCell.STYLE_HEADER;
						loResultSetInfo = null;
						lIsScalingInfo = false;
						ltHeaders = sap.firefly.XList.create();
						if (rowIndex === (this.oGrid.getColumnHeaders() - 1)) {
							if (this.oGrid.hasRowHeader()) {
								loResultSetInfo = sap.zen.ResultSetHelper
										.create(this.oGrid.getResultSet(),
												sap.firefly.AxisType.ROWS, -1,
												colIndex);
								ltHeaders.add(loResultSetInfo);
							}
							if (this.oGrid.hasColumnHeader()) {
								if (colIndex === (this.oGrid.getRowHeaders() - 1)) {
									loResultSetInfo = sap.zen.ResultSetHelper
											.create(
													this.oGrid.getResultSet(),
													sap.firefly.AxisType.COLUMNS,
													-1, rowIndex);
									ltHeaders.add(loResultSetInfo);
								}
							}
						} else {
							if (colIndex === (this.oGrid.getRowHeaders() - 1)) {
								loResultSetInfo = sap.zen.ResultSetHelper
										.create(this.oGrid.getResultSet(),
												sap.firefly.AxisType.COLUMNS,
												-1, rowIndex);
								ltHeaders.add(loResultSetInfo);
							}
						}
						for (lHeaderIndex = 0; lHeaderIndex < ltHeaders.size(); lHeaderIndex++) {
							loResultSetInfo = ltHeaders.get(lHeaderIndex);
							if (loResultSetInfo === null) {
								continue;
							}
							this.tHeaderData.add(loResultSetInfo);
							loDimension = loResultSetInfo.getDimension();
							loInternalField = loResultSetInfo.getField();
							lIsScalingInfo = this.isScalingFactorCell(
									loResultSetInfo, rowIndex, colIndex);
							lDimensionHeader = null;
							if (!lIsScalingInfo
									&& !loDimension.isMeasureStructure()) {
								lFieldName = null;
								if (loInternalField !== null) {
									lFieldName = loInternalField.getName();
								}
								lDimensionHeader = loDimension
										.getHeaderText(lFieldName);
							}
							if (sap.firefly.XStringUtils
									.isNullOrEmpty(this.value)) {
								this.value = lDimensionHeader;
							} else {
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(lDimensionHeader)) {
									this.value = sap.firefly.XStringUtils
											.concatenate3(this.value, " | ",
													lDimensionHeader);
								}
							}
							if (lHeaderIndex > 0) {
								continue;
							}
							this.axis = loResultSetInfo.getAxis();
							this.provideSortInformation(loResultSetInfo,
									rowIndex, colIndex);
						}
					},
					provideTupleElementHeaderCell : function(axis, rowIndex,
							colIndex) {
						var lAxisIndex = 0;
						var lAxisDataIndex = 0;
						var lOtherAxisIndex = 0;
						var lHasHeader = true;
						var lHeaders = 0;
						var ltAxisHeadersWithTotals = null;
						var lAxisSpan;
						var lOtherAxisSpan;
						var loResultSetInfo;
						var lIsScalingInfo;
						var lAxisIndexAsString;
						var lOtherAxisIndexAsString;
						var lAxisKey;
						var loInternalMeasureDimension;
						var lMeasureIndexOnOtherAxis;
						var lLookaheadIndex;
						var loResultsetInfoLookAheadCol;
						var lLookAheadOtherAxisIndexAsString;
						var lLookAheadAxisKey;
						var loDimension;
						var loDimensionMember;
						var loInternalField;
						var loInternalFieldValue;
						var loTupleElement;
						var loRef;
						var lScalingFactor;
						var ltVisibleFields;
						if (axis === sap.firefly.AxisType.ROWS) {
							lAxisIndex = rowIndex;
							lAxisDataIndex = this.rowDataIndex;
							lOtherAxisIndex = colIndex;
							lHasHeader = this.oGrid.hasRowHeader();
							lHeaders = this.oGrid.getRowHeaders();
							ltAxisHeadersWithTotals = this.oGrid.tRowHeadersWithTotals;
						} else {
							if (axis === sap.firefly.AxisType.COLUMNS) {
								lAxisIndex = colIndex;
								lAxisDataIndex = this.colDataIndex;
								lOtherAxisIndex = rowIndex;
								lHasHeader = this.oGrid.hasColumnHeader();
								lHeaders = this.oGrid.getColumnHeaders();
								ltAxisHeadersWithTotals = this.oGrid.tColHeadersWithTotals;
							} else {
								return;
							}
						}
						lAxisSpan = 1;
						lOtherAxisSpan = 1;
						loResultSetInfo = null;
						lIsScalingInfo = false;
						lAxisIndexAsString = sap.firefly.XInteger
								.convertIntegerToString(lAxisIndex);
						lOtherAxisIndexAsString = sap.firefly.XInteger
								.convertIntegerToString(lOtherAxisIndex);
						lAxisKey = sap.firefly.XStringUtils.concatenate3(
								lAxisIndexAsString, "/",
								lOtherAxisIndexAsString);
						if (lHasHeader) {
							loResultSetInfo = sap.zen.ResultSetHelper.create(
									this.oGrid.getResultSet(), axis,
									lAxisDataIndex, lOtherAxisIndex);
							loInternalMeasureDimension = this.oGrid
									.getQueryModel().getMeasureDimension();
							lIsScalingInfo = this.isScalingFactorCell(
									loResultSetInfo, rowIndex, colIndex);
							if (lIsScalingInfo) {
								lMeasureIndexOnOtherAxis = lOtherAxisIndex;
								while (loResultSetInfo.getDimension()
										.getInternalObject() !== loInternalMeasureDimension
										|| loResultSetInfo.getTupleElement() === null) {
									lMeasureIndexOnOtherAxis = lMeasureIndexOnOtherAxis - 1;
									loResultSetInfo = sap.zen.ResultSetHelper
											.create(this.oGrid.getResultSet(),
													axis, lAxisDataIndex,
													lMeasureIndexOnOtherAxis);
								}
							}
							if (lAxisDataIndex >= 0 && !lIsScalingInfo) {
								lAxisSpan = this.provideTupleElementAxisSpan(
										loResultSetInfo.getAxis(),
										lAxisDataIndex, loResultSetInfo
												.getTupleElement().getIndex());
							}
							if (lAxisSpan > 0) {
								if (loResultSetInfo.isTotal()) {
									if (!ltAxisHeadersWithTotals
											.containsKey(lAxisKey)) {
										ltAxisHeadersWithTotals.put(lAxisKey,
												this);
										lOtherAxisSpan = 1;
										for (lLookaheadIndex = lOtherAxisIndex + 1; lLookaheadIndex < lHeaders; lLookaheadIndex++) {
											loResultsetInfoLookAheadCol = sap.zen.ResultSetHelper
													.create(this.oGrid
															.getResultSet(),
															axis,
															lAxisDataIndex,
															lLookaheadIndex);
											if (loResultsetInfoLookAheadCol === null) {
												continue;
											}
											if (loResultsetInfoLookAheadCol
													.isTotal()) {
												lLookAheadOtherAxisIndexAsString = sap.firefly.XInteger
														.convertIntegerToString(lOtherAxisIndex
																+ lOtherAxisSpan);
												lLookAheadAxisKey = sap.firefly.XStringUtils
														.concatenate3(
																lAxisIndexAsString,
																"/",
																lLookAheadOtherAxisIndexAsString);
												ltAxisHeadersWithTotals
														.put(lLookAheadAxisKey,
																this);
												lOtherAxisSpan++;
											} else {
												break;
											}
										}
									} else {
										if (this.getGrid().isMergeContent()) {
											lOtherAxisSpan = 0;
										}
									}
								}
							}
						} else {
							lAxisDataIndex = -1;
						}
						this.rowSpan = 1;
						this.colSpan = 1;
						this.value = "";
						this.valueType = sap.firefly.XValueType.STRING;
						this.style = this.style + sap.zen.GridCell.STYLE_HEADER;
						if (!this.getGrid().isMergeContent()) {
							if (lOtherAxisSpan > 1) {
								lOtherAxisSpan = 1;
							}
						}
						if (axis === sap.firefly.AxisType.ROWS) {
							this.rowSpan = lAxisSpan;
							this.colSpan = lOtherAxisSpan;
						} else {
							if (axis === sap.firefly.AxisType.COLUMNS) {
								this.colSpan = lAxisSpan;
								this.rowSpan = lOtherAxisSpan;
							}
						}
						if (this.rowSpan > 0 && this.colSpan > 0) {
							if (loResultSetInfo !== null) {
								this.tHeaderData.add(loResultSetInfo);
								this.axis = loResultSetInfo.getAxis();
								loDimension = loResultSetInfo.getDimension();
								loDimensionMember = loResultSetInfo
										.getDimensionMember();
								loInternalField = loResultSetInfo.getField();
								loInternalFieldValue = loResultSetInfo
										.getFieldValue();
								loTupleElement = loResultSetInfo
										.getTupleElement();
								loRef = null;
								if (loResultSetInfo.isTotal()) {
									loRef = ltAxisHeadersWithTotals
											.getByKey(lAxisKey);
									if (loRef === this) {
										loRef = null;
									}
								}
								if (loRef !== null) {
									this.value = loRef.value;
									this.valueType = loRef.valueType;
									this.style = loRef.style;
									this.formatString = loRef.formatString;
									this.nodeState = loRef.nodeState;
									this.nodeLevel = loRef.nodeLevel;
									this.nodeAlignment = loRef.nodeAlignment;
									return;
								}
								this.value = sap.zen.ResultSetWrapper
										.sGetDimensionMemberText(
												loDimensionMember,
												loInternalFieldValue);
								if (lIsScalingInfo) {
									if (loDimension.isMeasureStructure()) {
										lScalingFactor = loDimensionMember
												.getScalingFactor();
										if (lScalingFactor > 0) {
											this.style = this.style
													+ sap.zen.GridCell.STYLE_INTERNAL_VALUE;
											this.valueType = sap.firefly.XValueType.INTEGER;
											this.value = sap.zen.ResultDataCellWrapper
													.sGetScalingFactorValueAsStringFromScalingFactor(lScalingFactor);
											this.formatString = "* #,###";
										} else {
											this.valueType = sap.firefly.XValueType.STRING;
											this.value = "";
										}
									}
								}
								if (!lIsScalingInfo) {
									this
											.provideSortInformation(
													loResultSetInfo, rowIndex,
													colIndex);
								}
								if (loTupleElement.isTotal(true)) {
									this.style = this.style
											+ sap.zen.GridCell.STYLE_TOTAL;
								}
								ltVisibleFields = loDimension
										.getResultSetFields();
								if (loInternalFieldValue === null
										|| sap.firefly.XString.isEqual(
												ltVisibleFields.get(0),
												loInternalField.getName())) {
									if (loDimension.getProperties()
											.isHierarchyActive()
											|| loDimension.getProperties()
													.isUDHActive()
											|| loDimension.isStructure()) {
										this.style = this.style
												+ sap.zen.GridCell.STYLE_HIERARCHICAL;
										this.nodeState = loTupleElement
												.getCompactDrillState();
										this.nodeLevel = loTupleElement
												.getDisplayLevel();
										this.nodeAlignment = loTupleElement
												.getNodeAlignment();
									}
								}
							}
						}
					},
					provideDataCell : function() {
						var lAmountOfRowTuples;
						var lAmountOfColTuples;
						var loRowTuple;
						var loColTuple;
						var lIsTotal;
						var lNoData;
						this.rowSpan = 1;
						this.colSpan = 1;
						lAmountOfRowTuples = this.oGrid.getResultSet()
								.getAmountOfTuplesOnAxis(
										sap.firefly.AxisType.ROWS);
						lAmountOfColTuples = this.oGrid.getResultSet()
								.getAmountOfTuplesOnAxis(
										sap.firefly.AxisType.COLUMNS);
						loRowTuple = null;
						loColTuple = null;
						lIsTotal = false;
						if (lAmountOfRowTuples > 0 && lAmountOfColTuples > 0) {
							loRowTuple = this.oGrid.getResultSet().getTuple(
									sap.firefly.AxisType.ROWS,
									this.rowDataIndex, null, null);
							loColTuple = this.oGrid.getResultSet().getTuple(
									sap.firefly.AxisType.COLUMNS,
									this.colDataIndex, null, null);
							lIsTotal = loRowTuple.isTotal()
									|| loColTuple.isTotal();
						} else {
							if (lAmountOfRowTuples > 0) {
								loRowTuple = this.oGrid.getResultSet()
										.getTuple(sap.firefly.AxisType.ROWS,
												this.rowDataIndex, null, null);
								lIsTotal = loRowTuple.isTotal();
							} else {
								if (lAmountOfColTuples > 0) {
									loColTuple = this.oGrid
											.getResultSet()
											.getTuple(
													sap.firefly.AxisType.COLUMNS,
													this.colDataIndex, null,
													null);
									lIsTotal = loColTuple.isTotal();
								}
							}
						}
						lNoData = !this.oGrid.getResultSet().hasDataCells();
						if (!lNoData) {
							try {
								this.oResultDataCell = this.oGrid
										.getResultSet().getResultDataCell(
												this.rowDataIndex,
												this.colDataIndex);
								this.value = this.oResultDataCell.getValue()
										.getStringRepresentation();
								this.valueType = this.oResultDataCell
										.getValue().getValueType();
								if (this.oResultDataCell.isDataEntryEnabled()) {
									this.style = this.style
											+ sap.zen.GridCell.STYLE_INPUT_ENABLED;
								}
							} catch (exception) {
								lNoData = true;
							}
						}
						if (lNoData) {
							this.oResultDataCell = null;
							this.value = "";
							this.valueType = sap.firefly.XValueType.STRING;
						}
						if (lIsTotal) {
							this.style = this.style
									+ sap.zen.GridCell.STYLE_TOTAL;
						}
					},
					isScalingFactorCell : function(oResultSetInfo, rowIndex,
							colIndex) {
						if (oResultSetInfo === null) {
							return false;
						}
						if (oResultSetInfo.getAxis() === this.oGrid
								.getScalingFactorDisplayAxis()) {
							if (this.oGrid.getScalingFactorDisplayAxis() === sap.firefly.AxisType.ROWS) {
								if (colIndex === this.oGrid
										.getScalingFactorDisplayAxisIndex()) {
									return true;
								}
							} else {
								if (rowIndex === this.oGrid
										.getScalingFactorDisplayAxisIndex()) {
									return true;
								}
							}
						}
						return false;
					},
					provideSortInformation : function(oResultSetInfo, rowIndex,
							colIndex) {
						var lAxisIndex;
						var lOtherAxisIndex;
						var lHasHeader;
						var lHeaders;
						var loDimension;
						var loInternalField;
						var loTuple;
						var lSortAllowed;
						var ltSettings;
						var lHeaderIndex;
						var loResultSetInfoHeader;
						var loDimensionMember;
						if (oResultSetInfo === null) {
							return;
						}
						lAxisIndex = 0;
						lOtherAxisIndex = 0;
						lHasHeader = true;
						lHeaders = 0;
						if (oResultSetInfo.getAxis() === sap.firefly.AxisType.ROWS) {
							lAxisIndex = rowIndex;
							lOtherAxisIndex = colIndex;
							lHasHeader = !this.oGrid.hasRowHeader();
							lHeaders = this.oGrid.getRowHeaders();
						} else {
							if (oResultSetInfo.getAxis() === sap.firefly.AxisType.COLUMNS) {
								lAxisIndex = colIndex;
								lOtherAxisIndex = rowIndex;
								lHasHeader = !this.oGrid.hasColumnHeader();
								lHeaders = this.oGrid.getColumnHeaders();
							}
						}
						loDimension = oResultSetInfo.getDimension();
						loInternalField = oResultSetInfo.getField();
						loTuple = oResultSetInfo.getTuple();
						lSortAllowed = false;
						if (loTuple === null) {
							if (oResultSetInfo.getAxis() === sap.firefly.AxisType.ROWS
									&& !loDimension.isMeasureStructure()) {
								lSortAllowed = true;
							}
						} else {
							if (oResultSetInfo.getAxis() === sap.firefly.AxisType.COLUMNS
									&& loDimension.isMeasureStructure()) {
								lSortAllowed = true;
							}
						}
						if (loDimension.isUDH()) {
							lSortAllowed = false;
						}
						if (lSortAllowed) {
							ltSettings = null;
							if (loTuple !== null) {
								if ((oResultSetInfo.getTupleElement()
										.getIndex() === this.oGrid
										.getResultSet()
										.getAmountOfTupleElementsOnAxis(
												oResultSetInfo.getAxis()) - 1)
										|| (lOtherAxisIndex === lHeaders - 1)) {
									for (lHeaderIndex = 0; lHeaderIndex < lHeaders; lHeaderIndex++) {
										loResultSetInfoHeader = sap.zen.ResultSetHelper
												.create(this.oGrid
														.getResultSet(),
														oResultSetInfo
																.getAxis(),
														oResultSetInfo
																.getTuple()
																.getIndex(),
														lHeaderIndex);
										if (loResultSetInfoHeader === null) {
											continue;
										}
										if (loResultSetInfoHeader
												.getDimension()
												.isMeasureStructure()) {
											loDimensionMember = oResultSetInfo
													.getDimensionMember();
											if (loDimensionMember !== null) {
												ltSettings = oResultSetInfo
														.getDimension()
														.getProperties()
														.getSortOperation(
																loDimensionMember
																		.getName());
											}
											break;
										}
									}
								}
							} else {
								if (loInternalField !== null) {
									ltSettings = oResultSetInfo.getDimension()
											.getProperties().getSortOperation(
													loInternalField.getName());
								}
							}
							this.sortType = null;
							this.sortDirection = null;
							if (ltSettings !== null && !ltSettings.isEmpty()) {
								this.sortType = ltSettings
										.getByKey(sap.zen.Dimension.SORT_PARAM_SORTTYPE);
								this.sortDirection = ltSettings
										.getByKey(sap.zen.Dimension.SORT_PARAM_SORTDIRECTION);
							}
						}
					},
					provideTupleElementAxisSpan : function(axis, axisDataIndex,
							tupleElementIndex) {
						var lAxisDataIndex = axisDataIndex;
						var lTupleElements = this.oGrid.getResultSet()
								.getAmountOfDimensionsOnAxis(axis);
						var lTuples = this.oGrid.getResultSet()
								.getAmountOfTuplesOnAxis(axis);
						var lTupleIndex = 0;
						var lOffset;
						var lAmount;
						var ltSpans;
						var ltLastProcessedTupleOfTupleElement;
						var lTupleElementIndex;
						var ltTuplesArray;
						var lLastProcessedTuple;
						var lCorrectTupleIndex;
						var loTuple;
						var loTupleElement;
						var lLastTupleOfTupleElement;
						var lSpan;
						if (this.oDisplayArea !== null) {
							lOffset = 0;
							lAmount = 0;
							if (axis === sap.firefly.AxisType.ROWS) {
								lOffset = this.oDisplayArea.getRowOffset();
								lAmount = this.oDisplayArea.getAmountOfRows();
							} else {
								if (axis === sap.firefly.AxisType.COLUMNS) {
									lOffset = this.oDisplayArea
											.getColumnOffset();
									lAmount = this.oDisplayArea
											.getAmountOfColumns();
								}
							}
							lAxisDataIndex = lAxisDataIndex - lOffset;
							lTuples = lTuples - lOffset;
							if (lTuples > lAmount) {
								lTuples = lAmount;
							}
						}
						ltSpans = null;
						ltLastProcessedTupleOfTupleElement = null;
						if (axis === sap.firefly.AxisType.ROWS) {
							if (this.oGrid.tRowSpans === null) {
								this.oGrid.tRowSpans = sap.firefly.XList
										.create();
							}
							ltSpans = this.oGrid.tRowSpans;
							if (this.oGrid.tRowsLastProcessedTupleOfTupleElement === null) {
								this.oGrid.tRowsLastProcessedTupleOfTupleElement = sap.firefly.XArrayOfInt
										.create(lTupleElements);
							}
							ltLastProcessedTupleOfTupleElement = this.oGrid.tRowsLastProcessedTupleOfTupleElement;
						} else {
							if (axis === sap.firefly.AxisType.COLUMNS) {
								if (this.oGrid.tColSpans === null) {
									this.oGrid.tColSpans = sap.firefly.XList
											.create();
								}
								ltSpans = this.oGrid.tColSpans;
								if (this.oGrid.tColsLastProcessedTupleOfTupleElement === null) {
									this.oGrid.tColsLastProcessedTupleOfTupleElement = sap.firefly.XArrayOfInt
											.create(lTupleElements);
								}
								ltLastProcessedTupleOfTupleElement = this.oGrid.tColsLastProcessedTupleOfTupleElement;
							} else {
								return 1;
							}
						}
						if (ltSpans.isEmpty()) {
							for (lTupleElementIndex = 0; lTupleElementIndex < lTupleElements; lTupleElementIndex++) {
								ltTuplesArray = sap.firefly.XArrayOfInt
										.create(lTuples);
								ltSpans.add(ltTuplesArray);
							}
						}
						if (this.oGrid.isMergeContent()) {
							lLastProcessedTuple = ltLastProcessedTupleOfTupleElement
									.get(tupleElementIndex);
							if (lLastProcessedTuple <= lAxisDataIndex) {
								for (lTupleIndex = lLastProcessedTuple; lTupleIndex < lTuples; lTupleIndex++) {
									lCorrectTupleIndex = lTupleIndex;
									if (this.oDisplayArea !== null) {
										if (axis === sap.firefly.AxisType.ROWS) {
											lCorrectTupleIndex = lTupleIndex
													+ this.oDisplayArea
															.getRowOffset();
										} else {
											if (axis === sap.firefly.AxisType.COLUMNS) {
												lCorrectTupleIndex = lTupleIndex
														+ this.oDisplayArea
																.getColumnOffset();
											}
										}
									}
									loTuple = this.oGrid.getResultSet()
											.getTuple(axis, lCorrectTupleIndex,
													null, null);
									loTupleElement = loTuple.getTupleElement(
											tupleElementIndex, null);
									if (loTuple.isEqualTo(loTupleElement
											.getFirstTuple())
											|| (lTupleIndex === 0)) {
										ltSpans.get(tupleElementIndex).set(
												lTupleIndex, 1);
										ltLastProcessedTupleOfTupleElement.set(
												tupleElementIndex, lTupleIndex);
										if (lTupleIndex > lAxisDataIndex) {
											break;
										}
									} else {
										lLastTupleOfTupleElement = ltLastProcessedTupleOfTupleElement
												.get(tupleElementIndex);
										lSpan = ltSpans.get(tupleElementIndex)
												.get(lLastTupleOfTupleElement) + 1;
										ltSpans.get(tupleElementIndex)
												.set(lLastTupleOfTupleElement,
														lSpan);
										ltSpans.get(tupleElementIndex).set(
												lTupleIndex, 0);
									}
								}
							}
						} else {
							ltSpans.get(tupleElementIndex).set(lAxisDataIndex,
									1);
						}
						return ltSpans.get(tupleElementIndex).get(
								lAxisDataIndex);
					},
					releaseObject : function() {
						sap.zen.GridCell.$superclass.releaseObject.call(this);
						this.oResultDataCell = null;
						this.oGrid = null;
						this.oDisplayArea = null;
						this.axis = null;
						this.rowIndex = -1;
						this.colIndex = -1;
						this.rowDataIndex = -1;
						this.colDataIndex = -1;
						this.rowSpan = -1;
						this.colSpan = -1;
						this.style = -1;
						this.value = null;
						this.valueType = null;
						this.formatString = null;
						this.sortDirection = null;
						this.sortType = null;
						this.nodeState = null;
						this.nodeLevel = 0;
						this.nodeAlignment = null;
						if (this.tHeaderData !== null) {
							this.tHeaderData.releaseObject();
							this.tHeaderData = null;
						}
					}
				});
$Firefly.createClass("sap.zen.GridDisplayArea", sap.firefly.XObject, {
	$statics : {
		create : function(rowOffset, amountOfRows, columnOffset,
				amountOfColumns) {
			var lInstance = null;
			lInstance = new sap.zen.GridDisplayArea();
			lInstance.initMe(rowOffset, amountOfRows, columnOffset,
					amountOfColumns);
			return lInstance;
		}
	},
	rowOffset : 0,
	colOffset : 0,
	amountOfRows : 0,
	amountOfCols : 0,
	initMe : function(rowOffset, amountOfRows, columnOffset, amountOfColumns) {
		this.rowOffset = rowOffset;
		if (this.rowOffset < 0) {
			this.rowOffset = 0;
		}
		this.colOffset = columnOffset;
		if (this.colOffset < 0) {
			this.colOffset = 0;
		}
		this.amountOfRows = amountOfRows;
		if (this.amountOfRows < -1) {
			this.amountOfRows = -1;
		}
		this.amountOfCols = amountOfColumns;
		if (this.amountOfCols < -1) {
			this.amountOfCols = -1;
		}
	},
	getRowOffset : function() {
		return this.rowOffset;
	},
	getColumnOffset : function() {
		return this.colOffset;
	},
	getAmountOfRows : function() {
		return this.amountOfRows;
	},
	getAmountOfColumns : function() {
		return this.amountOfCols;
	}
});
$Firefly.createClass("sap.zen.ResultSetConfiguration", sap.firefly.XObject, {
	$statics : {
		create : function() {
			var loInstance = null;
			loInstance = new sap.zen.ResultSetConfiguration();
			loInstance.initMe();
			return loInstance;
		}
	},
	minResultRows : 0,
	minResultCols : 0,
	initMe : function() {
		this.minResultRows = -1;
		this.minResultCols = -1;
	},
	setMinResultRows : function(minResultRows) {
		this.minResultRows = minResultRows;
	},
	getMinResultRows : function() {
		return this.minResultRows;
	},
	setMinResultColumns : function(minResultCols) {
		this.minResultCols = minResultCols;
	},
	getMinResultColumns : function() {
		return this.minResultCols;
	}
});
$Firefly
		.createClass(
				"sap.zen.ResultSetHelper",
				sap.firefly.XObject,
				{
					$statics : {
						getDimensionMemberName : function(oDimensionMember) {
							var loInternalDimensionMember;
							if (oDimensionMember === null) {
								return null;
							}
							loInternalDimensionMember = oDimensionMember
									.getInternalObject();
							if (oDimensionMember.isTotal()) {
								return loInternalDimensionMember
										.getMemberType().getName();
							}
							return oDimensionMember.getName();
						},
						create : function(oResultSet, axis, tupleIndex, index) {
							var loInstance = null;
							var loDataSource;
							if (oResultSet !== null) {
								loDataSource = oResultSet.getDataSource();
								if (loDataSource !== null
										&& loDataSource.getQueryManager() !== null
										&& loDataSource.getQueryManager()
												.getQueryModel() !== null) {
									loInstance = new sap.zen.ResultSetHelper();
									loInstance.initMe(oResultSet, axis,
											tupleIndex, index);
								}
							}
							return loInstance;
						}
					},
					oResultSet : null,
					axis : null,
					oTuple : null,
					oTupleElement : null,
					oDimension : null,
					oDimensionMember : null,
					oField : null,
					oFieldValue : null,
					key : null,
					reset : function() {
						this.oResultSet = null;
						this.axis = null;
						this.oTuple = null;
						this.oTupleElement = null;
						this.oDimension = null;
						this.oDimensionMember = null;
						this.oField = null;
						this.oFieldValue = null;
						this.key = null;
					},
					initMe : function(oResultSet, axis, tupleIndex, index) {
						var loQueryModel;
						var ltDimensions;
						var lKey;
						var j;
						var lDimensionIndex;
						var loInternalDimension;
						var loTupleElement;
						var lDimensionMemberName;
						var ltVisibleFields;
						var lVisibleFieldsCnt;
						var lVisibleFieldName;
						var loInternalDimensionMember;
						this.reset();
						this.oResultSet = oResultSet;
						loQueryModel = this.oResultSet.getDataSource()
								.getQueryManager().getQueryModel();
						this.axis = loQueryModel.getAxis(axis).getType();
						if (tupleIndex >= 0) {
							this.oTuple = this.oResultSet.getTuple(this.axis,
									tupleIndex, null, null);
						}
						ltDimensions = this.oResultSet
								.getAxisDimensions(this.axis);
						lKey = "";
						j = 0;
						for (lDimensionIndex = 0; lDimensionIndex < ltDimensions
								.size(); lDimensionIndex++) {
							this.oDimension = ltDimensions.get(lDimensionIndex);
							loInternalDimension = this.oDimension
									.getInternalObject();
							loTupleElement = null;
							if (this.oTuple !== null) {
								loTupleElement = this.oTuple.getTupleElement(
										-1, this.oDimension);
							}
							if (loTupleElement !== null) {
								lDimensionMemberName = sap.zen.ResultSetHelper
										.getDimensionMemberName(loTupleElement
												.getDimensionMember());
								lKey = sap.firefly.XStringUtils.concatenate2(
										lKey, lDimensionMemberName);
								lKey = sap.firefly.XStringUtils.concatenate2(
										lKey, "/");
							}
							ltVisibleFields = this.oDimension
									.getResultSetFields();
							lVisibleFieldsCnt = ltVisibleFields.size();
							if ((index >= 0)
									&& (index < (j + lVisibleFieldsCnt))) {
								index = index - j;
								lVisibleFieldName = ltVisibleFields.get(index);
								this.oField = loInternalDimension
										.getFieldByName(lVisibleFieldName);
								if (loTupleElement !== null) {
									this.oTupleElement = loTupleElement;
									this.oDimension = loTupleElement
											.getDimension();
									this.oDimensionMember = loTupleElement
											.getDimensionMember();
									this.key = lKey;
									if (!this.oDimensionMember.isTotal()) {
										loInternalDimensionMember = this.oDimensionMember
												.getInternalObject();
										this.oFieldValue = loInternalDimensionMember
												.getFieldValue(this.oField);
										if (this.oFieldValue === null) {
											this.oFieldValue = loInternalDimensionMember
													.getKeyFieldValue();
										}
									}
								}
								return;
							}
							j = j + lVisibleFieldsCnt;
						}
					},
					getResultSet : function() {
						return this.oResultSet;
					},
					getAxis : function() {
						return this.axis;
					},
					getMergeKey : function() {
						return this.key;
					},
					getDimension : function() {
						return this.oDimension;
					},
					getDimensionMember : function() {
						return this.oDimensionMember;
					},
					getField : function() {
						return this.oField;
					},
					getFieldValue : function() {
						return this.oFieldValue;
					},
					getTuple : function() {
						return this.oTuple;
					},
					getTupleElement : function() {
						return this.oTupleElement;
					},
					isTotal : function() {
						if (this.oDimensionMember !== null) {
							return this.oDimensionMember.isTotal();
						}
						return false;
					},
					isInnerMember : function() {
						var loInternalDimension;
						if (this.oDimension !== null) {
							loInternalDimension = this.oDimension
									.getInternalObject();
							if (this.oTupleElement.getIndex() === (loInternalDimension
									.getAxis().getDimensionCount() - 1)) {
								return true;
							}
						}
						return false;
					},
					toString : function() {
						var lObject = sap.firefly.PrStructure.create();
						var lJsonString = null;
						var lJsonBool = null;
						lJsonString = sap.firefly.PrString.create();
						if (this.oResultSet !== null) {
							if (this.oResultSet.getDataSource() !== null) {
								lJsonString.setStringValue(this.oResultSet
										.getDataSource().getName());
							}
						}
						lObject.setElementByName("DataSource", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						if (this.getAxis() !== null) {
							lJsonString
									.setStringValue(this.getAxis().getName());
						}
						lObject.setElementByName("Axis", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						if (this.getTuple() !== null) {
							lJsonString.setStringValue(this.getTuple()
									.toString());
						}
						lObject.setElementByName("Tuple", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						if (this.getTupleElement() !== null) {
							lJsonString.setStringValue(this.getTupleElement()
									.toString());
						}
						lObject.setElementByName("TupleElement", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						if (this.getDimension() !== null) {
							lJsonString.setStringValue(this.getDimension()
									.toString());
						}
						lObject.setElementByName("Dimension", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						if (this.getDimensionMember() !== null) {
							lJsonString.setStringValue(this
									.getDimensionMember().toString());
						}
						lObject.setElementByName("Dimension", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						if (this.getField() !== null) {
							lJsonString.setStringValue(this.getField()
									.toString());
						}
						lObject.setElementByName("Field", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						if (this.getFieldValue() !== null) {
							lJsonString.setStringValue(this.getFieldValue()
									.toString());
						}
						lObject.setElementByName("FieldValue", lJsonString);
						lJsonBool = sap.firefly.PrBoolean.create();
						lJsonBool.setBooleanValue(this.isTotal());
						lObject.setElementByName("isResult", lJsonBool);
						lJsonBool = sap.firefly.PrBoolean.create();
						lJsonBool.setBooleanValue(this.isInnerMember());
						lObject.setElementByName("isInnerMember", lJsonBool);
						return lObject.toString();
					}
				});
$Firefly
		.createClass(
				"sap.zen.VariableWrapper",
				sap.firefly.XObject,
				{
					$statics : {
						createVariableWrapper : function(internalWrapper) {
							var wrapper = new sap.zen.VariableWrapper();
							wrapper.internalWrapper = internalWrapper;
							return wrapper;
						},
						createWrapper : function(processorVariable,
								messageWriter) {
							var variableType = processorVariable
									.getVariableType();
							if (variableType
									.isEqualTo(sap.firefly.VariableType.DIMENSION_MEMBER_VARIABLE)
									|| variableType
											.isEqualTo(sap.firefly.VariableType.HIERARCHY_NODE_VARIABLE)) {
								return sap.zen.CharacteristicMemberVariableWrapper
										.createVariableWrapper(processorVariable);
							} else {
								if (variableType
										.isEqualTo(sap.firefly.VariableType.OPTION_LIST_VARIABLE)
										|| variableType
												.isEqualTo(sap.firefly.OlapComponentType.HIERARCHY)) {
									return sap.zen.OptionListVariableWrapper
											.createVariableWrapper2(processorVariable);
								} else {
									if (variableType
											.isEqualTo(sap.firefly.VariableType.SIMPLE_TYPE_VARIABLE)
											|| variableType
													.isEqualTo(sap.firefly.VariableType.FORMULA_VARIABLE)
											|| variableType
													.isEqualTo(sap.firefly.VariableType.TEXT_VARIABLE)) {
										return sap.zen.TextVariableWrapper
												.createVariableWrapper(processorVariable);
									} else {
										if (variableType
												.isEqualTo(sap.firefly.VariableType.HIERARCHY_NAME_VARIABLE)) {
											return sap.zen.HierarchyVariableWrapper
													.createVariableWrapper2(processorVariable);
										} else {
											sap.zen.CLocalizationDataSourceMessages.UNSUPPORTED_VAR_TYPE
													.addMessageToMessageHandler(
															messageWriter,
															sap.firefly.Severity.ERROR,
															variableType
																	.getName(),
															processorVariable
																	.getName(),
															null);
										}
									}
								}
							}
							return null;
						}
					},
					internalWrapper : null,
					getName : function() {
						return this.internalWrapper.getName();
					},
					getText : function() {
						return this.internalWrapper.getText();
					},
					getValue : function() {
						return this.internalWrapper.getInternalKey();
					},
					setValue : function(value) {
						return this.internalWrapper.setInternalKey(value);
					},
					hasValue : function() {
						return this.internalWrapper.hasSelectionState();
					},
					setValueRange : function(valueLow, valueHigh) {
						this.internalWrapper.resetQuery();
						this.internalWrapper.setRangeQuery(valueLow, valueHigh,
								false);
						return true;
					},
					getValueAsText : function() {
						return this.internalWrapper.getValueAsText();
					},
					supportsRange : function() {
						return this.internalWrapper.supportsRange();
					},
					supportsMultiSelection : function() {
						return this.internalWrapper.supportsMultiSelection();
					},
					setFullRangeQueryByField : function(fullRanges,
							useDisplayKey) {
						this.internalWrapper.resetQuery();
						this.internalWrapper.setFullRangeQueryByField(
								fullRanges, useDisplayKey);
					},
					getAllSelections : function() {
						return this.internalWrapper.getAllSelections();
					}
				});
$Firefly
		.createClass(
				"sap.zen.VariablesUtils",
				sap.firefly.XObject,
				{
					$statics : {
						checkForVariables : function(dataSources) {
							var variableProcessorIterator = sap.zen.VariableProcessorIterator
									.create(dataSources);
							var variableProcessor;
							var inputEnabledVariables;
							while (variableProcessorIterator.hasNext()) {
								variableProcessor = variableProcessorIterator
										.next();
								inputEnabledVariables = variableProcessor
										.getVariableProcessor()
										.getInputEnabledVariables();
								if (inputEnabledVariables !== null
										&& !inputEnabledVariables.isEmpty()) {
									return true;
								}
							}
							return false;
						},
						checkForMandatoryVariables : function(dataSources,
								messageWriter) {
							var variableProcessorIterator = sap.zen.VariableProcessorIterator
									.create(dataSources);
							var dsVariableProcessorPair;
							var variableProcessor;
							var variables;
							var i;
							var variable;
							var variableWrapper;
							while (variableProcessorIterator.hasNext()) {
								dsVariableProcessorPair = variableProcessorIterator
										.next();
								variableProcessor = dsVariableProcessorPair
										.getVariableProcessor();
								if ((variableProcessor !== null)
										&& variableProcessor.hasVariables()) {
									variables = variableProcessor
											.getVariables();
									for (i = 0; i < variables.size(); i++) {
										variable = variables.get(i);
										if (variable.isMandatory() === true) {
											variableWrapper = sap.zen.VariableWrapper
													.createWrapper(variable,
															messageWriter);
											if (variableWrapper !== null) {
												if (!variableWrapper.hasValue()) {
													return true;
												}
											}
										}
									}
								}
							}
							return false;
						},
						submitTheVariables : function(dataSources,
								messageWriter, page) {
							var variableProcessorIterator = sap.zen.VariableProcessorIterator
									.create(dataSources);
							var variableProcessor;
							var result;
							while (variableProcessorIterator.hasNext()) {
								variableProcessor = variableProcessorIterator
										.next();
								result = sap.zen.VariablesUtils
										.submitVariableProcessor(
												variableProcessor,
												messageWriter, page);
								if (!result) {
									return result;
								}
							}
							return true;
						},
						submitVariableProcessor : function(variableProcessor,
								messageWriter, page) {
							var result;
							var dataSource;
							var hasErrors;
							if ((variableProcessor !== null)
									&& (variableProcessor
											.getVariableProcessor() !== null)
									&& (variableProcessor
											.getVariableProcessor()
											.hasVariables())
									&& !variableProcessor
											.getVariableProcessor()
											.isSubmitted()) {
								result = sap.zen.VariablesUtils
										.submitOrCheckVariableProcessor(variableProcessor
												.getVariableProcessor());
								dataSource = page
										.getDataSource(variableProcessor
												.getDataSourceName());
								dataSource.raiseDataSourceChangedEvent(null,
										true, false);
								messageWriter.createMessages(result);
								hasErrors = result.hasErrors();
								if (hasErrors) {
									return !hasErrors;
								}
							}
							return true;
						},
						submitOrCheckVariableProcessor : function(
								variableProcessor) {
							if (variableProcessor
									.isDirectVariableTransferEnabled()) {
								return variableProcessor.checkVariables(
										sap.firefly.SyncType.BLOCKING, null,
										null);
							}
							return variableProcessor.submitVariables(
									sap.firefly.SyncType.BLOCKING, null, null);
						}
					}
				});
$Firefly.createClass("sap.zen.DummyHashMapOfObjects", sap.firefly.XObject, {
	$statics : {
		create : function() {
			var lInstance = new sap.zen.DummyHashMapOfObjects();
			lInstance.keys = sap.firefly.XList.create();
			lInstance.values = sap.firefly.XList.create();
			return lInstance;
		}
	},
	keys : null,
	values : null,
	getValuesAsIterator : function() {
		return this.values.getIterator();
	},
	getKeysAsIterator : function() {
		return this.keys.getIterator();
	},
	put : function(key, value) {
		var index = this.keys.getIndex(key);
		if (index === -1) {
			this.keys.add(key);
			this.values.add(value);
		} else {
			this.keys.set(index, key);
			this.values.set(index, value);
		}
	},
	getByKey : function(key) {
		var index = this.keys.getIndex(key);
		if (index === -1) {
			return null;
		}
		return this.values.get(index);
	},
	size : function() {
		return this.keys.size();
	}
});
$Firefly.createClass("sap.zen.JsonDataProjector", sap.firefly.XObject, {
	$statics : {
		create : function(oResultSet, oRenderSerializer, oMessageManager) {
			var loInstance = new sap.zen.JsonDataProjector();
			loInstance.initMe(oResultSet, oRenderSerializer, oMessageManager);
			return loInstance;
		}
	},
	oResultSet : null,
	oQueryModel : null,
	oRenderSerializer : null,
	oMessageManager : null,
	tProjectionDimensions : null,
	oMeasureProjectionDimension : null,
	initMe : function(oResultSet, oRenderSerializer, oMessageManager) {
		this.oResultSet = oResultSet;
		this.oQueryModel = this.oResultSet.getDataSource().getQueryManager()
				.getQueryModel();
		this.oRenderSerializer = oRenderSerializer;
		this.oMessageManager = oMessageManager;
		this.tProjectionDimensions = sap.firefly.XListOfNameObject.create();
	},
	getQueryModel : function() {
		return this.oQueryModel;
	},
	getMeasureProjectionDimension : function() {
		return this.oMeasureProjectionDimension;
	},
	setMeasureProjectionDimension : function(oProjectionInformation) {
		var loInternalMeasureDimension = this.getQueryModel()
				.getMeasureDimension();
		var loMeasureDimension = sap.zen.DimensionWrapper.create(
				this.oResultSet.getDataSource(), this.oResultSet,
				loInternalMeasureDimension.getName());
		this.oMeasureProjectionDimension = sap.zen.ProjectionDimension.create(
				this, oProjectionInformation, loMeasureDimension);
	},
	logItemWarning : function(key) {
		this.oMessageManager.createWarningMessage(this.oMessageManager
				.getLocalization().getText(key));
	},
	logItemWarning3 : function(key, arg0) {
		this.oMessageManager.createWarningMessage(this.oMessageManager
				.getLocalization().getText1(key, arg0));
	},
	logItemWarning4 : function(key, arg0, arg1) {
		this.oMessageManager.createWarningMessage(this.oMessageManager
				.getLocalization().getText2(key, arg0, arg1));
	},
	logItemWarning5 : function(key, arg0, arg1, arg2) {
		this.oMessageManager.createWarningMessage(this.oMessageManager
				.getLocalization().getText3(key, arg0, arg1, arg2));
	},
	render : function(tProjectionInformation) {
		var lIncludeMetadata;
		var loProjectionInformationIterator;
		var loProjectionInformation;
		var lPropertyName;
		var selectionMap;
		var loCellRenderer;
		this.oResultSet.getServerPaging().deactivatePaging();
		lIncludeMetadata = false;
		loProjectionInformationIterator = tProjectionInformation.getIterator();
		while (loProjectionInformationIterator.hasNext()) {
			loProjectionInformation = loProjectionInformationIterator.next();
			if (loProjectionInformation === null) {
				continue;
			}
			lPropertyName = loProjectionInformation.getPropertyName();
			if (lPropertyName === null
					|| sap.firefly.XString.isEqual("", lPropertyName)) {
				continue;
			}
			selectionMap = sap.zen.ProjectionUtil
					.parseProjectionInstancesFromJson(loProjectionInformation
							.getSelection());
			loCellRenderer = sap.zen.CellSetRenderer.create(this,
					loProjectionInformation, this.tProjectionDimensions,
					selectionMap);
			if (!loCellRenderer.checkProjectionInstances(false)) {
				this.oRenderSerializer.addAttribute(lPropertyName, null);
			} else {
				this.oRenderSerializer.openTag(lPropertyName);
				loCellRenderer.render();
				if (loProjectionInformation.isIncludeMetadata()) {
					this.renderMetadata();
				}
				if (loProjectionInformation.isIncludeAxesTuples()) {
					loCellRenderer.renderAxes();
				}
				loCellRenderer.renderRowAndColumsCount();
				this.oRenderSerializer.closeTag();
			}
			if (loProjectionInformation.isFillMetadataProperty()) {
				lIncludeMetadata = true;
			}
		}
		if (lIncludeMetadata) {
			this.oRenderSerializer.openTag("metadata");
			this.renderMetadata();
			this.oRenderSerializer.closeTag();
		}
	},
	renderMetadata : function() {
		var loProjectionDimensionIterator;
		var loProjectionDimension;
		this.oRenderSerializer.openArray("dimensions");
		loProjectionDimensionIterator = this.tProjectionDimensions
				.getIterator();
		while (loProjectionDimensionIterator.hasNext()) {
			loProjectionDimension = loProjectionDimensionIterator.next();
			if (loProjectionDimension === null) {
				continue;
			}
			loProjectionDimension.render();
		}
		this.oRenderSerializer.closeArray();
		if (this.oMeasureProjectionDimension !== null) {
			this.oRenderSerializer.openArray("externalDimensions");
			this.oMeasureProjectionDimension.render();
			this.oRenderSerializer.closeArray();
		}
		this.oRenderSerializer.addAttribute("locale", "en");
	}
});
$Firefly.createClass("sap.zen.ProjectionInformation", sap.firefly.XObject, {
	$statics : {
		create : function(componentId, propertyName, selection) {
			var loInstance = new sap.zen.ProjectionInformation();
			loInstance.initMe(componentId, propertyName, selection);
			return loInstance;
		}
	},
	componentId : null,
	propertyName : null,
	selection : null,
	tOptions : null,
	initMe : function(componentId, propertyName, selection) {
		this.componentId = componentId;
		this.propertyName = propertyName;
		this.selection = selection;
		this.tOptions = sap.firefly.XHashMapOfStringByString.create();
	},
	getComponentId : function() {
		return this.componentId;
	},
	getPropertyName : function() {
		return this.propertyName;
	},
	getSelection : function() {
		return this.selection;
	},
	setOptions : function(optionsOrDefaults) {
		this.tOptions = optionsOrDefaults;
	},
	setOption : function(name, value) {
		this.tOptions.put(name, value);
	},
	getPresentationDelimiter : function() {
		return this.getString("presentationDelimiter", "|");
	},
	getSelectionShape : function() {
		return sap.firefly.XInteger.convertStringToInteger(this.getString(
				"selectionShape", "2"));
	},
	isIncludeAxesTuples : function() {
		return this.getBooleanDefault("includeAxesTuples", false);
	},
	isIncludeTuples : function() {
		return this.getBooleanDefault("includeTuples", true);
	},
	isIncludeResults : function() {
		return this.getBooleanDefault("includeResults", true);
	},
	isSwapAxes : function() {
		return this.getBooleanDefault("swapAxes", false);
	},
	isIncludeMetadata : function() {
		return this.getBooleanDefault("includeMetadata", false);
	},
	isFillMetadataProperty : function() {
		return this.getBooleanDefault("fillMetadataProperty", true);
	},
	isIncludeData : function() {
		return this.getBooleanDefault("includeData", true);
	},
	isIncludeFormattedData : function() {
		return this.getBooleanDefault("includeFormattedData", false);
	},
	isAllDataOnEmptySelection : function() {
		return this.getBooleanDefault("allDataOnEmptySelection", true);
	},
	isIncludeEditable : function() {
		return this.getBooleanDefault("includeEditable", false);
	},
	getString : function(name, defaultValue) {
		var lValue = this.tOptions.getByKey(name);
		if (lValue === null) {
			lValue = defaultValue;
		}
		return lValue;
	},
	getBooleanDefault : function(name, defaultValue) {
		var lOtherValueAsString = "true";
		if (defaultValue) {
			lOtherValueAsString = "false";
		}
		if (sap.firefly.XString.isEqual(lOtherValueAsString, this.tOptions
				.getByKey(name))) {
			return !defaultValue;
		}
		return defaultValue;
	},
	getOptionsAsJSONString : function() {
		var loStringBuffer = sap.firefly.XStringBuffer.create();
		var loOptionKeyIterator;
		var lFirstItem;
		var lOptionKey;
		var lOptionValue;
		loStringBuffer.append("{");
		loOptionKeyIterator = this.tOptions.getKeysAsIteratorOfString();
		lFirstItem = true;
		while (loOptionKeyIterator.hasNext()) {
			if (!lFirstItem) {
				loStringBuffer.append(",");
			}
			lFirstItem = false;
			lOptionKey = loOptionKeyIterator.next();
			lOptionValue = this.tOptions.getByKey(lOptionKey);
			loStringBuffer.append('"');
			loStringBuffer.append(lOptionKey);
			loStringBuffer.append('"');
			loStringBuffer.append(":");
			loStringBuffer.append('"');
			loStringBuffer.append(lOptionValue);
			loStringBuffer.append('"');
		}
		loStringBuffer.append("}");
		return loStringBuffer.toString();
	}
});
$Firefly.createClass("sap.zen.ProjectionInstance", sap.firefly.XObject, {
	$statics : {
		createForString : function(projectionString) {
			var loInstance = new sap.zen.ProjectionInstance();
			loInstance.initMe(projectionString, null);
			return loInstance;
		},
		createForList : function(tProjectionStrings) {
			var loInstance = new sap.zen.ProjectionInstance();
			loInstance.initMe(null, tProjectionStrings);
			return loInstance;
		}
	},
	tProjectionStrings : null,
	initMe : function(projectionString, tProjectionString) {
		this.tProjectionStrings = tProjectionString;
		if (this.tProjectionStrings === null) {
			this.tProjectionStrings = sap.firefly.XListOfString.create();
		}
		if (projectionString !== null
				&& !this.tProjectionStrings.contains(projectionString
						.getStringValue())) {
			this.tProjectionStrings.add(projectionString.getStringValue());
		}
	},
	isString : function() {
		if (this.tProjectionStrings.size() <= 1) {
			return true;
		}
		return false;
	},
	isList : function() {
		if (this.tProjectionStrings.size() > 1) {
			return true;
		}
		return false;
	},
	getProjectionString : function() {
		return sap.firefly.XStringValue.create(this.tProjectionStrings.get(0));
	},
	getProjectionStrings : function() {
		return this.tProjectionStrings;
	}
});
$Firefly
		.createClass(
				"sap.zen.ProjectionUtil",
				sap.firefly.XObject,
				{
					$statics : {
						parseProjectionInstancesFromJson : function(json) {
							var ltProjectionInstances = sap.firefly.XHashMapByString
									.create();
							var loJsonElement;
							var loJsonParser;
							if ((json !== null)
									&& (sap.firefly.XString.size(json) > 0)) {
								loJsonElement = null;
								try {
									loJsonParser = sap.firefly.JsonParserFactory
											.newInstance();
									loJsonElement = loJsonParser.parse(json);
								} catch (t) {
									loJsonElement = null;
								}
								if (loJsonElement !== null) {
									sap.zen.ProjectionUtil
											.paseProjectionInstancesFromJsonElement(
													null, loJsonElement,
													ltProjectionInstances);
								}
							}
							return ltProjectionInstances;
						},
						paseProjectionInstancesFromJsonElement : function(
								elementName, oJsonElement, tProjectionInstances) {
							var loJsonElement = null;
							var lJsonString;
							var loProjectionInstance;
							var loJsonStructure;
							var ltElements;
							var lStructureElementIndex;
							var lElementName;
							var loJsonList;
							var lListIndex;
							if (oJsonElement.getType().isEqualTo(
									sap.firefly.PrElementType.STRING)) {
								lJsonString = sap.firefly.XStringValue
										.create(oJsonElement.asString()
												.getStringValue());
								loProjectionInstance = sap.zen.ProjectionInstance
										.createForString(lJsonString);
								tProjectionInstances.put(elementName,
										loProjectionInstance);
							} else {
								if (oJsonElement.getType().isEqualTo(
										sap.firefly.PrElementType.STRUCTURE)) {
									loJsonStructure = oJsonElement
											.asStructure();
									ltElements = loJsonStructure
											.getStructureElementNames();
									for (lStructureElementIndex = 0; lStructureElementIndex < ltElements
											.size(); lStructureElementIndex++) {
										lElementName = ltElements
												.get(lStructureElementIndex);
										loJsonElement = loJsonStructure
												.getElementByName(lElementName);
										sap.zen.ProjectionUtil
												.paseProjectionInstancesFromJsonElement(
														lElementName,
														loJsonElement,
														tProjectionInstances);
									}
								} else {
									if (oJsonElement.getType().isEqualTo(
											sap.firefly.PrElementType.LIST)) {
										loJsonList = oJsonElement.asList();
										for (lListIndex = 0; lListIndex < loJsonList
												.size(); lListIndex++) {
											loJsonElement = loJsonList
													.getElementByIndex(lListIndex);
											sap.zen.ProjectionUtil
													.paseProjectionInstancesFromJsonElement(
															elementName,
															loJsonElement,
															tProjectionInstances);
										}
									}
								}
							}
						},
						stringifyCartesianSelection : function(tMap) {
							var lJson = "{";
							var loMapKeyIterator = tMap
									.getKeysAsIteratorOfString();
							var lKey;
							var lValue;
							while (loMapKeyIterator.hasNext()) {
								lKey = loMapKeyIterator.next();
								lJson = sap.firefly.XStringUtils.concatenate4(
										lJson, '"', lKey, '": ');
								lValue = tMap.getByKey(lKey);
								lJson = sap.firefly.XStringUtils.concatenate4(
										lJson, '"', lValue, '"');
								if (loMapKeyIterator.hasNext()) {
									lJson = sap.firefly.XStringUtils
											.concatenate2(lJson, ", ");
								}
							}
							lJson = sap.firefly.XStringUtils.concatenate2(
									lJson, "}");
							return lJson;
						},
						stringifyCartesianSelection2 : function(selection) {
							return "";
						}
					}
				});
$Firefly.createClass("sap.zen.Renderer", sap.firefly.XObject, {
	render : function() {
	}
});
$Firefly.createClass("sap.zen.Action", sap.firefly.XObject,
		{
			tListeners : null,
			oContext : null,
			oResult : null,
			oBaggage : null,
			setContext : function(oContext) {
				this.oContext = oContext;
			},
			getContext : function() {
				return this.oContext;
			},
			setResult : function(oResult) {
				this.oResult = oResult;
			},
			getResponse : function() {
				return this.oResult;
			},
			setBaggage : function(oBaggage) {
				this.oBaggage = oBaggage;
			},
			getBaggage : function() {
				return this.oBaggage;
			},
			addListener : function(oListener) {
				if (oListener === null) {
					return;
				}
				if (this.tListeners === null) {
					this.tListeners = sap.firefly.XList.create();
				}
				if (this.tListeners.contains(oListener)) {
					return;
				}
				this.tListeners.add(oListener);
			},
			removeListener : function(oListener) {
				if (oListener === null) {
					return;
				}
				if (this.tListeners === null) {
					return;
				}
				this.tListeners.removeElement(oListener);
			},
			execute : function() {
				this.doExecute();
				this.callListeners();
			},
			callListeners : function() {
				var lListenerIndex;
				var loListener;
				var loSpecificListener;
				if (this.tListeners === null) {
					return;
				}
				for (lListenerIndex = 0; lListenerIndex < this.tListeners
						.size(); lListenerIndex++) {
					loListener = this.tListeners.get(lListenerIndex);
					if (loListener === null) {
						continue;
					}
					loSpecificListener = loListener;
					this.doCallListener(loSpecificListener);
				}
			},
			doExecute : function() {
				throw sap.firefly.XException
						.createUnsupportedOperationException();
			},
			doCallListener : function(oListener) {
				throw sap.firefly.XException
						.createUnsupportedOperationException();
			}
		});
$Firefly.createClass("sap.zen.Bookmark", sap.firefly.XObject, {
	name : null,
	uid : null,
	bookmark : null,
	_id : null,
	_isGlobal : false,
	_isReadOnly : false,
	_groupId : null,
	getName : function() {
		return this.name;
	},
	getUid : function() {
		return this.uid;
	},
	getBookmark : function() {
		return this.bookmark;
	},
	getId : function() {
		return this._id;
	},
	getGroupId : function() {
		return this._groupId;
	},
	isGlobal : function() {
		return this._isGlobal;
	},
	isReadOnly : function() {
		return this._isReadOnly;
	},
	initMe : function(name, uid, bookmark, _id) {
		this.initMe2(name, uid, bookmark, _id, "", false, false);
	},
	initMe2 : function(name, uid, bookmark, _id, _groupId, _isGlobal,
			_isReadOnly) {
		this.name = name;
		this.uid = uid;
		this.bookmark = bookmark;
		this._id = _id;
		this._isGlobal = _isGlobal;
		this._isReadOnly = _isReadOnly;
		this._groupId = _groupId;
	}
});
$Firefly
		.createClass(
				"sap.zen.BookmarkManager",
				sap.firefly.XObject,
				{
					oPage : null,
					oBookmarkService : null,
					appid : null,
					BOOKMARK_TYPE : null,
					initMe : function(page) {
						this.oPage = page;
						this.appid = this.oPage.getAppName();
						this.BOOKMARK_TYPE = "Z";
						sap.zen.GetBookmarksMode.staticSetup();
					},
					setBookmarkService : function(oBookmarkService) {
						this.oBookmarkService = oBookmarkService;
					},
					saveSfinBookmarkInternal : function(bookmarkID, name,
							isGlobal, isInternal, includeVariables) {
						var lGroupId = "";
						var loBookmark;
						if (isInternal) {
							lGroupId = "SAP:INTERNAL";
						}
						loBookmark = this.createBookmark(bookmarkID, name,
								includeVariables);
						bookmarkID = this.oBookmarkService.saveData(bookmarkID,
								name, loBookmark.getBookmark(), this.appid,
								this.oPage, this.BOOKMARK_TYPE, lGroupId,
								isGlobal);
						return bookmarkID;
					},
					getCurrentApplicationState : function(includeVariables) {
						var loBookmark = this.createBookmark(null,
								"sap-iapp-state", includeVariables);
						return loBookmark.getBookmark();
					},
					applyApplicationState : function(appState, includeVariables) {
						var loBookmark;
						if (appState !== null) {
							loBookmark = new sap.zen.Bookmark();
							loBookmark.initMe(null, null, appState, null);
							this.loadBookmarkInternal(loBookmark,
									includeVariables);
						} else {
							sap.zen.CLocalizationBookmarkMessages.ID_0008
									.addMessageToMessageHandler(this.oPage
											.getMessageManager(),
											sap.firefly.Severity.ERROR, "",
											null, null);
						}
					},
					saveSfinBookmark : function(name, isGlobal, isInternal) {
						return this.saveSfinBookmarkInternal(null, name,
								isGlobal, isInternal, true);
					},
					loadSfinBookmark : function(bookmarkID) {
						this.loadSfinBookmarkInternal(bookmarkID, true);
					},
					loadSfinBookmarkInternal : function(bookmarkID,
							includeVariables) {
						var lData;
						var loBookmark;
						if (bookmarkID !== null
								&& sap.firefly.XString.size(bookmarkID) > 0) {
							lData = this.oBookmarkService.getData(bookmarkID,
									this.oPage);
							if (lData !== null) {
								loBookmark = new sap.zen.Bookmark();
								loBookmark
										.initMe(null, null, lData, bookmarkID);
								this.loadBookmarkInternal(loBookmark,
										includeVariables);
							} else {
								sap.zen.CLocalizationBookmarkMessages.ID_0008
										.addMessageToMessageHandler(this.oPage
												.getMessageManager(),
												sap.firefly.Severity.ERROR,
												bookmarkID, null, null);
							}
						}
					},
					createBookmark : function(bookmarkID, name,
							includeVariables) {
						var loBookmark = new sap.zen.Bookmark();
						var lBookmarkContent = "<bookmark>";
						var ltDataSources = this.oPage.getDataSources();
						var loDataSourceIterator = ltDataSources.getIterator();
						var loDataSource;
						var lDataSourceBookmarkContent;
						var loAppPropsComponent;
						var lAppPropsBookmarkContent;
						while (loDataSourceIterator.hasNext()) {
							loDataSource = loDataSourceIterator.next();
							lDataSourceBookmarkContent = loDataSource
									.getDataSourceBookmarkContent(includeVariables);
							lBookmarkContent = sap.firefly.XString
									.concatenate2(lBookmarkContent,
											lDataSourceBookmarkContent);
						}
						(this.oPage).updateVariables();
						loAppPropsComponent = this.oPage
								.getApplicationPropertiesComponent();
						lAppPropsBookmarkContent = loAppPropsComponent
								.getBookmarkContent();
						lBookmarkContent = sap.firefly.XString.concatenate2(
								lBookmarkContent, lAppPropsBookmarkContent);
						lBookmarkContent = sap.firefly.XString.concatenate2(
								lBookmarkContent, "</bookmark>");
						loBookmark.initMe(name, bookmarkID, lBookmarkContent,
								null);
						return loBookmark;
					},
					loadBookmarkInternal : function(oBookmark, includeVariables) {
						var lContent = oBookmark.getBookmark();
						var loRootNode = sap.buddha.XXmlUtils
								.getRootNode(lContent);
						var ltDataSourceNodes = loRootNode.getChildren(
								"data_source_alias").getIterator();
						var loDataSourceNode;
						var lDataSourceName;
						var loDataSource;
						var ltComponentNodes;
						var loComponentNodeIterator;
						var lComponentName;
						var loComponent;
						var loAppPropsComponent;
						while (ltDataSourceNodes.hasNext()) {
							loDataSourceNode = ltDataSourceNodes.next();
							lDataSourceName = loDataSourceNode
									.getAttribute("name");
							loDataSource = this.oPage
									.getDataSource(lDataSourceName);
							loDataSource.applyDataSourceInitParameters(
									loDataSourceNode, includeVariables);
						}
						ltComponentNodes = loRootNode.getChildren("component")
								.getIterator();
						while (ltComponentNodes.hasNext()) {
							loComponentNodeIterator = ltComponentNodes.next();
							lComponentName = loComponentNodeIterator
									.getAttribute("name");
							loComponent = this.oPage
									.getComponent(lComponentName);
							loComponent
									.applyGlobalVariableInitParameters(loComponentNodeIterator);
							if (sap.firefly.XString.compare(loComponent
									.getType(), "APPLICATION_PROPERTIES") === 0) {
								loAppPropsComponent = loComponent;
								loAppPropsComponent
										.applyGlobalVariableValues(this.oPage
												.getWindow());
							}
						}
					},
					deleteSfinBookmark : function(bookmarkID) {
						this.oBookmarkService.deleteData(bookmarkID,
								this.appid, this.oPage, this.BOOKMARK_TYPE);
					},
					deleteAllSfinBookmarks : function() {
						this.oBookmarkService.deleteData(null, this.appid,
								this.oPage, this.BOOKMARK_TYPE);
					},
					getAllSfinBookmarksInternal : function(groupIdentifier) {
						return this.oBookmarkService.getAllData(this.appid,
								this.oPage, this.BOOKMARK_TYPE,
								groupIdentifier,
								sap.zen.GetBookmarksMode.GET_ALL);
					},
					getAllSfinBookmarks : function() {
						var ltBookmarks = this.getAllSfinBookmarksInternal("");
						var ltScriptableBookmarks = sap.firefly.XList.create();
						var lBookmarkIndex;
						var loBookmark;
						var loScriptableBookmark;
						for (lBookmarkIndex = 0; lBookmarkIndex < ltBookmarks
								.size(); lBookmarkIndex++) {
							loBookmark = ltBookmarks.get(lBookmarkIndex);
							loScriptableBookmark = new sap.zen.ScriptableBookmark();
							loScriptableBookmark.initMe(loBookmark);
							ltScriptableBookmarks.add(loScriptableBookmark);
						}
						return this.oPage.getWindow().createJSArray(
								ltScriptableBookmarks);
					},
					getAllSfinUserBookmarksInternal : function(groupIdentifier) {
						return this.oBookmarkService.getAllData(this.appid,
								this.oPage, this.BOOKMARK_TYPE,
								groupIdentifier,
								sap.zen.GetBookmarksMode.GET_USER);
					},
					getAllSfinUserBookmarks : function() {
						var ltBookmarks = this
								.getAllSfinUserBookmarksInternal("");
						var ltScriptableBookmarks = sap.firefly.XList.create();
						var lBookmarkIndex;
						var loBookmark;
						var loScriptableBookmark;
						for (lBookmarkIndex = 0; lBookmarkIndex < ltBookmarks
								.size(); lBookmarkIndex++) {
							loBookmark = ltBookmarks.get(lBookmarkIndex);
							loScriptableBookmark = new sap.zen.ScriptableBookmark();
							loScriptableBookmark.initMe(loBookmark);
							ltScriptableBookmarks.add(loScriptableBookmark);
						}
						return this.oPage.getWindow().createJSArray(
								ltScriptableBookmarks);
					},
					getAllSfinGlobalBookmarksInternal : function(
							groupIdentifier) {
						return this.oBookmarkService.getAllData(this.appid,
								this.oPage, this.BOOKMARK_TYPE,
								groupIdentifier,
								sap.zen.GetBookmarksMode.GET_GLOBAL);
					},
					getAllSfinGlobalBookmarks : function() {
						var ltBookmarks = this
								.getAllSfinGlobalBookmarksInternal("");
						var ltScriptableBookmarks = sap.firefly.XList.create();
						var lBookmarkIndex;
						var loBookmark;
						var loScriptableBookmark;
						for (lBookmarkIndex = 0; lBookmarkIndex < ltBookmarks
								.size(); lBookmarkIndex++) {
							loBookmark = ltBookmarks.get(lBookmarkIndex);
							loScriptableBookmark = new sap.zen.ScriptableBookmark();
							loScriptableBookmark.initMe(loBookmark);
							ltScriptableBookmarks.add(loScriptableBookmark);
						}
						return this.oPage.getWindow().createJSArray(
								ltScriptableBookmarks);
					},
					getJavaScriptWrapperName : function() {
						return "PageObject";
					},
					getAdditionalScriptAfterWrapping : function() {
						return null;
					},
					getMessageWriter : function() {
						return this.oPage;
					}
				});
$Firefly.createClass("sap.zen.BookmarkService", sap.firefly.XObject, {
	$statics : {
		parser : null
	},
	setup : function() {
		sap.zen.BookmarkService.parser = new sap.zen.ODataBookmarkParser();
	},
	getData : function(bmId, page) {
		var bmXml = "";
		var bookmarkRequestHandler = page.getBookmarkRequestHandler();
		var systemDescription = bookmarkRequestHandler.getSelf();
		if (systemDescription !== null
				&& systemDescription.getSystemType().isTypeOf(
						sap.firefly.SystemType.ABAP)) {
			bmXml = bookmarkRequestHandler.callGetBookmarkXmlRequest(bmId).get(
					2).toString();
		}
		return bmXml;
	},
	saveData : function(bmId, title, content, appId, page, bookmarkType,
			groupId, isGlobal) {
		var bookmarkRequestHandler = page.getBookmarkRequestHandler();
		var systemDescription = bookmarkRequestHandler.getSelf();
		if (systemDescription !== null
				&& systemDescription.getSystemType().isTypeOf(
						sap.firefly.SystemType.ABAP)) {
			bmId = bookmarkRequestHandler
					.callSaveBookmarkRequest(sap.zen.BookmarkService.parser
							.buildJsonPostRequest(bmId, title, content,
									bookmarkType, page.getAppName(), page
											.getDataSources(), groupId,
									isGlobal));
		}
		return bmId;
	},
	deleteData : function(bmId, appId, page, bookmarkType) {
		var bookmarkRequestHandler = page.getBookmarkRequestHandler();
		var systemDescription = bookmarkRequestHandler.getSelf();
		if (systemDescription !== null
				&& systemDescription.getSystemType().isTypeOf(
						sap.firefly.SystemType.ABAP)) {
			if (bmId !== null) {
				bookmarkRequestHandler.callDeleteBookmarkRequest(bmId);
			} else {
				bookmarkRequestHandler.callDeleteAllBookmarksRequest(page
						.getAppName(), bookmarkType);
			}
		}
	},
	getAllData : function(appid, page, bookmarkType, groupIdentifier, mode) {
		var results = sap.firefly.XList.create();
		var bookmarkRequestHandler = page.getBookmarkRequestHandler();
		var systemDescription = bookmarkRequestHandler.getSelf();
		var datasources;
		var queries;
		var i;
		var allBms;
		var allBmsIt;
		var key;
		var bookmark;
		if (systemDescription !== null
				&& systemDescription.getSystemType().isTypeOf(
						sap.firefly.SystemType.ABAP)) {
			datasources = page.getDataSources().getValuesAsReadOnlyList();
			queries = sap.firefly.XList.create();
			for (i = 0; i < datasources.size(); i++) {
				queries.add(sap.firefly.XStringValue.create(datasources.get(i)
						.getQueryTechnicalName()));
			}
			allBms = bookmarkRequestHandler
					.callGetAllBookmarksXmlRequest(page.getAppName(),
							bookmarkType, groupIdentifier, queries, mode);
			if (allBms !== null) {
				allBmsIt = allBms.getKeysAsIteratorOfString();
				while (allBmsIt.hasNext()) {
					key = allBmsIt.next();
					bookmark = allBms.getByKey(key);
					results.add(bookmark);
				}
			}
		}
		return results;
	}
});
$Firefly.createClass("sap.zen.ChartAxisScaling", sap.firefly.XObject, {
	$statics : {
		X_AXIS : null,
		Y_AXIS : null,
		X_AXIS_2 : null,
		Y_AXIS_2 : null,
		VALUE_AXIS : null,
		staticSetup : function() {
			sap.zen.ChartAxisScaling.X_AXIS = "X_AXIS";
			sap.zen.ChartAxisScaling.Y_AXIS = "Y_AXIS";
			sap.zen.ChartAxisScaling.X_AXIS_2 = "X_AXIS_2";
			sap.zen.ChartAxisScaling.Y_AXIS_2 = "Y_AXIS_2";
			sap.zen.ChartAxisScaling.VALUE_AXIS = "VALUE_AXIS";
		}
	}
});
$Firefly
		.createClass(
				"sap.zen.ChartType",
				sap.firefly.XObject,
				{
					$statics : {
						BAR_COMBINATION : null,
						DUAL_HORIZONTAL_COMBINATION : null,
						BUBBLE : null,
						COLUMN_COMBINATION : null,
						DUAL_COMBINATION : null,
						DUAL_BAR : null,
						DUAL_COLUMN : null,
						DUAL_LINE : null,
						HORIZONTAL_AREA : null,
						HORIZONTAL_BAR : null,
						HORIZONTAL_LINE : null,
						HORIZONTAL_STACKED_100_BAR : null,
						HORIZONTAL_STACKED_BAR : null,
						HORIZONTAL_WATERFALL : null,
						LINE : null,
						MULTIPIE : null,
						MULTIRADAR : null,
						PIE : null,
						RADAR : null,
						SCATTER : null,
						STACKED_WATERFALL : null,
						SURFACE : null,
						VERTICAL_BAR : null,
						VERTICAL_STACKED_100_BAR : null,
						VERTICAL_STACKED_BAR : null,
						WATERFALL : null,
						staticSetup : function() {
							sap.zen.ChartType.BAR_COMBINATION = "BAR_COMBINATION";
							sap.zen.ChartType.DUAL_HORIZONTAL_COMBINATION = "DUAL_HORIZONTAL_COMBINATION";
							sap.zen.ChartType.BUBBLE = "BUBBLE";
							sap.zen.ChartType.COLUMN_COMBINATION = "COLUMN_COMBINATION";
							sap.zen.ChartType.DUAL_COMBINATION = "DUAL_COMBINATION";
							sap.zen.ChartType.DUAL_BAR = "DUAL_BAR";
							sap.zen.ChartType.DUAL_COLUMN = "DUAL_COLUMN";
							sap.zen.ChartType.DUAL_LINE = "DUAL_LINE";
							sap.zen.ChartType.HORIZONTAL_AREA = "HORIZONTAL_AREA";
							sap.zen.ChartType.HORIZONTAL_BAR = "HORIZONTAL_BAR";
							sap.zen.ChartType.HORIZONTAL_LINE = "HORIZONTAL_LINE";
							sap.zen.ChartType.HORIZONTAL_STACKED_100_BAR = "HORIZONTAL_STACKED_100_BAR";
							sap.zen.ChartType.HORIZONTAL_STACKED_BAR = "HORIZONTAL_STACKED_BAR";
							sap.zen.ChartType.HORIZONTAL_WATERFALL = "HORIZONTAL_WATERFALL";
							sap.zen.ChartType.LINE = "LINE";
							sap.zen.ChartType.MULTIPIE = "MULTIPIE";
							sap.zen.ChartType.MULTIRADAR = "MULTIRADAR";
							sap.zen.ChartType.PIE = "PIE";
							sap.zen.ChartType.RADAR = "RADAR";
							sap.zen.ChartType.SCATTER = "SCATTER";
							sap.zen.ChartType.STACKED_WATERFALL = "STACKED_WATERFALL";
							sap.zen.ChartType.SURFACE = "SURFACE";
							sap.zen.ChartType.VERTICAL_BAR = "VERTICAL_BAR";
							sap.zen.ChartType.VERTICAL_STACKED_100_BAR = "VERTICAL_STACKED_100_BAR";
							sap.zen.ChartType.VERTICAL_STACKED_BAR = "VERTICAL_STACKED_BAR";
							sap.zen.ChartType.WATERFALL = "WATERFALL";
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.Convert",
				sap.firefly.XObject,
				{
					oPage : null,
					getJavaScriptWrapperName : function() {
						return "PageObject";
					},
					getAdditionalScriptAfterWrapping : function() {
						return null;
					},
					getMessageWriter : function() {
						return this.oPage;
					},
					setPage : function(page) {
						this.oPage = page;
					},
					getPage : function() {
						return this.oPage;
					},
					getName : function() {
						return "Convert";
					},
					stringToInt : function(intLiteral) {
						if (sap.firefly.XStringUtils.isNullOrEmpty(intLiteral)) {
							return 0;
						}
						return sap.firefly.XInteger
								.convertStringToInteger(intLiteral);
					},
					stringToFloat : function(floatLiteral) {
						if (sap.firefly.XStringUtils
								.isNullOrEmpty(floatLiteral)) {
							return 0;
						}
						return sap.firefly.XDouble
								.convertStringToDouble(floatLiteral);
					},
					stringToFloatUsingLocale : function(floatLiteral) {
						this.methodNotSupported();
						return sap.firefly.XDouble
								.convertStringToDouble(floatLiteral);
					},
					methodNotSupported : function() {
						sap.zen.CLocalizationCommandResolverMessages.CONVERT_UNSUPPORTED_METHOD
								.addMessageToMessageHandler(this.getPage(),
										sap.firefly.Severity.WARNING, null,
										null, null);
					},
					formatStringNotSupported : function() {
						sap.zen.CLocalizationCommandResolverMessages.CONVERT_UNSUPPORTED_FORMATSTRING
								.addMessageToMessageHandler(this.getPage(),
										sap.firefly.Severity.WARNING, null,
										null, null);
					},
					intToString : function(number) {
						return sap.firefly.XInteger
								.convertIntegerToString(number);
					},
					floatToString : function(number) {
						return sap.firefly.XDouble
								.convertDoubleToString(number);
					},
					floatToString2 : function(number, formatString) {
						this.formatStringNotSupported();
						return sap.firefly.XDouble
								.convertDoubleToString(number);
					},
					floatToStringUsingLocale : function(number) {
						this.methodNotSupported();
						return sap.firefly.XDouble
								.convertDoubleToString(number);
					},
					floatToStringUsingLocale2 : function(number,
							numberOfDecimals) {
						this.methodNotSupported();
						return sap.firefly.XDouble
								.convertDoubleToString(number);
					},
					stringLength : function(s) {
						return sap.firefly.XString.size(s);
					},
					subString2 : function(s, startIndex) {
						return this.subString(s, startIndex, -1);
					},
					subString : function(s, startIndex, endIndex) {
						return sap.firefly.XString.substring(s, startIndex,
								endIndex);
					},
					indexOf : function(s, searchFor) {
						return this.indexOf3(s, searchFor, 0);
					},
					indexOf3 : function(s, searchFor, startIndex) {
						return sap.firefly.XString.indexOfFrom(s, searchFor,
								startIndex);
					},
					replaceAll : function(s, searchFor, replaceWith) {
						return sap.firefly.XString.replace(s, searchFor,
								replaceWith);
					},
					formatString : function(pattern, arguments) {
						var ltArguments = sap.buddha.XObjectConverter
								.getIXListOfStringForSelectionFromStringArray(arguments);
						var lArgumentIndex;
						var s;
						for (lArgumentIndex = 0; lArgumentIndex < ltArguments
								.size(); lArgumentIndex++) {
							s = sap.firefly.XStringUtils
									.concatenate3(
											"{",
											sap.firefly.XInteger
													.convertIntegerToString(lArgumentIndex),
											"}");
							pattern = sap.firefly.XString.replace(pattern, s,
									ltArguments.get(lArgumentIndex));
						}
						return pattern;
					},
					urlEncode : function(s) {
						return sap.firefly.XHttpUtils.encodeURIComponent(s);
					}
				});
$Firefly.createClass("sap.zen.DataSourceType", sap.firefly.XObject, {
	$statics : {
		VIEW : null,
		INFOPROVIDER : null,
		QUERY : null,
		staticSetup : function() {
			sap.zen.DataSourceType.VIEW = "VIEW";
			sap.zen.DataSourceType.INFOPROVIDER = "INFOPROVIDER";
			sap.zen.DataSourceType.QUERY = "QUERY";
		}
	}
});
$Firefly.createClass("sap.zen.ExportType", sap.firefly.XObject, {
	$statics : {
		EXCEL_xls : null,
		EXCEL_xlsx : null,
		CSV : null,
		staticSetup : function() {
			sap.zen.ExportType.CSV = "CSV";
			sap.zen.ExportType.EXCEL_xls = "EXCEL_xls";
			sap.zen.ExportType.EXCEL_xlsx = "EXCEL_xlsx";
		}
	}
});
$Firefly.createClass("sap.zen.Factory", sap.firefly.XObject, {
	tFactories : null,
	registerFactory : function(componentType, oFactory) {
		this.tFactories.put(componentType, oFactory);
		oFactory.staticSetup();
	},
	createObject : function(oInitParametersNode, oPage, oParent) {
		var type = oInitParametersNode.getAttribute("type");
		var uid = oInitParametersNode.getAttribute("name");
		return this.createObjectInternal(type, uid, oPage, oInitParametersNode,
				oParent, false);
	},
	createObjectByType : function(type, uid, oPage, oInitParametersNode) {
		return this.createObjectInternal(type, uid, oPage, oInitParametersNode,
				null, true);
	},
	createObjectInternal : function(type, uid, oPage, oInitParametersNode,
			oParent, callBeforeRendering) {
		var loFactory = this.tFactories.getByKey(type);
		var loPageObject;
		if (loFactory === null) {
			loFactory = new sap.zen.SDKComponentFactory();
		}
		if (loFactory.isSDK()) {
			if ((loFactory).loadSdkExtension(type, oPage) === false) {
				return null;
			}
		}
		loPageObject = loFactory.createObject(oInitParametersNode);
		if (loPageObject !== null) {
			if (oInitParametersNode === null) {
				oInitParametersNode = loPageObject.createEmptyInitParameter(
						uid, type);
			}
			this.translateComponentProperties(uid, oPage, oInitParametersNode);
			loPageObject.initBase(uid, type, oPage, oParent,
					oInitParametersNode);
			loPageObject.create();
			if (callBeforeRendering) {
				loPageObject.beforeInitialRendering();
			}
			loPageObject.setContentChanged(true);
		}
		return loPageObject;
	},
	translateComponentProperties : function(componentId, oPage,
			oInitParametersNode) {
		var ltKeys = oPage.getTranslatedTextsFor(componentId);
		var lKeyIndex;
		var lKey;
		var lTextID;
		var lDotPosition;
		if (ltKeys.isEmpty()) {
			return;
		}
		for (lKeyIndex = 0; lKeyIndex < ltKeys.size(); lKeyIndex++) {
			lKey = ltKeys.get(lKeyIndex);
			lTextID = null;
			lDotPosition = sap.firefly.XString.indexOf(lKey, ".");
			if (lDotPosition >= 0) {
				lTextID = sap.firefly.XString.substring(lKey, lDotPosition + 1,
						-1);
			}
			this.setValue(oInitParametersNode, lTextID, oPage
					.getTranslatedText(lKey));
		}
	},
	doInit : function() {
		this.tFactories = sap.firefly.XHashMapByString.create();
	},
	setValue : function(oNode, textID, text) {
		var lPropertyName;
		var rest = null;
		var lDotPosition = sap.firefly.XString.indexOf(textID, ".");
		var propertyNode;
		var list;
		var allChildren;
		var child;
		var valueNode;
		var textNode;
		if (lDotPosition >= 0) {
			lPropertyName = sap.firefly.XString.substring(textID, 0,
					lDotPosition);
			rest = sap.firefly.XString.substring(textID, lDotPosition + 1, -1);
		} else {
			lPropertyName = textID;
		}
		propertyNode = null;
		try {
			sap.firefly.XInteger.convertStringToInteger(lPropertyName);
			propertyNode = oNode.getFirstChildWithAttributeValue("bi:property",
					"index", lPropertyName, false);
		} catch (e) {
			propertyNode = oNode.getFirstChildWithAttributeValue("bi:property",
					"name", lPropertyName, false);
		}
		if (propertyNode === null) {
			list = oNode.getFirstChildWithAttributeValue("bi:property", "type",
					"ORDEREDLIST", false);
			if (list !== null) {
				allChildren = list.getAllChildren().getIterator();
				while (allChildren.hasNext()) {
					child = allChildren.next();
					valueNode = child.getFirstChildWithAttributeValue(
							"bi:property", "name", "VALUE", false);
					if (valueNode !== null
							&& sap.firefly.XString.isEqual(valueNode
									.getAttribute("value"), textID)) {
						textNode = child.getFirstChildWithAttributeValue(
								"bi:property", "name", "TEXT", false);
						if (textNode !== null) {
							textNode.setAttribute("value", text);
						}
						break;
					}
				}
			}
			return;
		}
		if (rest === null) {
			propertyNode.setAttribute("value", text);
		} else {
			this.setValue(propertyNode, rest, text);
		}
	}
});
$Firefly.createClass("sap.zen.ItemMessage", sap.firefly.XObject, {
	$statics : {
		create : function(message, messageType) {
			var itemMessage = new sap.zen.ItemMessage();
			itemMessage.setMessage(message);
			itemMessage.setMessageType(messageType);
			return itemMessage;
		}
	},
	messageType : null,
	getMessageType : function() {
		return this.messageType;
	},
	message : null,
	setMessageType : function(messageType) {
		this.messageType = messageType;
	},
	setMessage : function(message) {
		this.message = message;
	},
	getMessage : function() {
		return this.message;
	}
});
$Firefly.createClass("sap.zen.ItemMessageType", sap.firefly.XObject, {
	$statics : {
		INFO : null,
		WARNING : null,
		ERROR : null,
		staticSetup : function() {
			sap.zen.ItemMessageType.INFO = sap.zen.ItemMessageType
					.create("info");
			sap.zen.ItemMessageType.WARNING = sap.zen.ItemMessageType
					.create("warning");
			sap.zen.ItemMessageType.ERROR = sap.zen.ItemMessageType
					.create("error");
		},
		create : function(typeName) {
			var itemMessageType = new sap.zen.ItemMessageType();
			itemMessageType.setType(typeName);
			return itemMessageType;
		}
	},
	typeName : null,
	setType : function(typeName) {
		this.typeName = typeName;
	},
	getType : function() {
		return this.typeName;
	}
});
$Firefly.createClass("sap.zen.Layout", sap.firefly.XObject, {
	$statics : {
		AUTO : null,
		staticSetup : function() {
			sap.zen.Layout.AUTO = "auto";
		}
	}
});
$Firefly.createClass("sap.zen.LegendPosition", sap.firefly.XObject, {
	$statics : {
		LEFT : null,
		RIGHT : null,
		TOP : null,
		BOTTOM : null,
		staticSetup : function() {
			sap.zen.LegendPosition.LEFT = "LEFT";
			sap.zen.LegendPosition.RIGHT = "RIGHT";
			sap.zen.LegendPosition.TOP = "TOP";
			sap.zen.LegendPosition.BOTTOM = "BOTTOM";
		}
	}
});
$Firefly.createClass("sap.zen.MemberComparator", sap.firefly.XObject, {
	compare : function(o1, o2) {
		var value1 = o1.getValue();
		var value2 = o2.getValue();
		return sap.firefly.XString.compare(value1, value2);
	}
});
$Firefly
		.createClass(
				"sap.zen.MemberDisplay",
				sap.firefly.XObject,
				{
					$statics : {
						KEY : null,
						TEXT : null,
						KEY_TEXT : null,
						TEXT_KEY : null,
						staticSetup : function() {
							if (sap.zen.MemberDisplay.KEY !== null) {
								return;
							}
							sap.zen.CMemberDisplayMode.staticSetup();
							sap.zen.MemberDisplay.KEY = sap.zen.CMemberDisplayMode.KEY
									.getValue();
							sap.zen.MemberDisplay.TEXT = sap.zen.CMemberDisplayMode.TEXT
									.getValue();
							sap.zen.MemberDisplay.KEY_TEXT = sap.zen.CMemberDisplayMode.KEY_TEXT
									.getValue();
							sap.zen.MemberDisplay.TEXT_KEY = sap.zen.CMemberDisplayMode.TEXT_KEY
									.getValue();
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.MemberPresentation",
				sap.firefly.XObject,
				{
					$statics : {
						INTERNAL_KEY : null,
						EXTERNAL_KEY : null,
						INTERNAL_NONCOMPOUNDED_KEY : null,
						EXTERNAL_NONCOMPOUNDED_KEY : null,
						TEXT : null,
						staticSetup : function() {
							sap.zen.MemberPresentation.INTERNAL_KEY = "INTERNAL_KEY";
							sap.zen.MemberPresentation.EXTERNAL_KEY = "EXTERNAL_KEY";
							sap.zen.MemberPresentation.INTERNAL_NONCOMPOUNDED_KEY = "INTERNAL_NONCOMPOUNDED_KEY";
							sap.zen.MemberPresentation.EXTERNAL_NONCOMPOUNDED_KEY = "EXTERNAL_NONCOMPOUNDED_KEY";
							sap.zen.MemberPresentation.TEXT = "TEXT";
						}
					}
				});
$Firefly.createClass("sap.zen.ODataBookmarkParser", sap.firefly.XObject, {
	buildJsonPostRequest : function(bmId, title, bookmarkXml, bookmarkType,
			appName, queries, groupId, isGlobal) {
		var root = sap.firefly.PrStructure.create();
		var d = root.setNewStructureByName("d");
		var data;
		var base64;
		d.setStringByName("Type", bookmarkType);
		d.setStringByName("Title", title);
		if (isGlobal) {
			d.setBooleanByName("IsPublic", true);
		} else {
			d.setBooleanByName("IsPublic", false);
		}
		d.setStringByName("Description", "");
		d.setStringByName("MainObjectId", appName);
		d.setStringByName("MainObjectType", "AZAP");
		d.setStringByName("Owner", "");
		d.setStringByName("Status", "");
		if (sap.firefly.XStringUtils.isNotNullAndNotEmpty(groupId)) {
			d.setStringByName("GroupIdentifier", groupId);
		}
		if (sap.firefly.XStringUtils.isNotNullAndNotEmpty(bmId)) {
			d.setStringByName("Id", bmId);
		}
		this.buildReferencesJsonStructure(d, "AZAP", appName, queries);
		data = d.setNewStructureByName("Data");
		base64 = sap.firefly.XHttpUtils
				.encodeByteArrayToBase64(sap.firefly.XByteArray
						.convertStringToXByteArray(bookmarkXml));
		data.setStringByName("Data", base64);
		data.setStringByName("DataX", "");
		return root;
	},
	buildReferencesJsonStructure : function(d, objectType, objectId, queries) {
		var references = d.setNewListByName("References");
		var queriesList;
		var i;
		this.buildReferencesJsonNodeQueryAttributes(references, objectType,
				objectId);
		if (queries.size() > 0) {
			queriesList = queries.getValuesAsReadOnlyList();
			for (i = 0; i < queriesList.size(); i++) {
				this.buildReferencesJsonNodeQueryAttributes(references, "ELEM",
						queriesList.get(i).getBiAppDataSourceName());
			}
		}
	},
	buildReferencesJsonNodeQueryAttributes : function(references, objectType,
			objectId) {
		var referencesStructure = references.addNewStructure();
		referencesStructure.setStringByName("ObjectType", objectType);
		referencesStructure.setStringByName("ObjectId", objectId);
		referencesStructure.setStringByName("SystemAlias", "");
	}
});
$Firefly.createClass("sap.zen.PageObjectFactory", sap.firefly.XObject, {
	staticSetup : function() {
	},
	createObject : function(objectProperties) {
		return null;
	},
	isSDK : function() {
		return false;
	}
});
$Firefly.createClass("sap.zen.RenderManager", sap.firefly.XObject, {
	stringBuffer : null,
	json : null,
	renderSerializer : null,
	getStringBuffer : function() {
		return this.stringBuffer;
	},
	setStringBuffer : function(sb) {
		this.stringBuffer = sb;
	},
	getRenderSerializer : function() {
		return this.renderSerializer;
	},
	createRenderSerializer : function() {
		this.renderSerializer = sap.buddha.XJSonRenderSerializer.create();
		this.renderSerializer.setWriter(this.stringBuffer);
	}
});
$Firefly
		.createClass(
				"sap.zen.SDKLoader",
				sap.firefly.XObject,
				{
					page : null,
					path : null,
					runtimePath : null,
					setPage : function(page) {
						this.page = page;
					},
					loadJS : function(libString, url) {
						new sap.buddha.XJSAndCSSLoader().loadJS(
								sap.firefly.XString
										.replace(libString, ".", "_"), url,
								sap.firefly.XString.concatenate2(this.path,
										"/designstudio_extensions/"));
					},
					loadCSS : function(libString, url) {
						new sap.buddha.XJSAndCSSLoader().loadCSS(
								sap.firefly.XString
										.replace(libString, ".", "_"), url,
								sap.firefly.XString.concatenate2(this.path,
										"/designstudio_extensions/"));
					},
					setRelativePath : function(path) {
						this.path = path;
					},
					setRuntimePath : function(path) {
						this.runtimePath = path;
					},
					parseContributionXml : function(systemDescription,
							libraryId) {
						var templateLoader = new sap.zen.TemplateLoader();
						if (this.page.isAsynchronousEnabled()) {
							templateLoader
									.initBase(
											systemDescription,
											sap.firefly.XStringUtils
													.concatenate4(
															sap.firefly.XString
																	.concatenate2(
																			this.path,
																			"/designstudio_extensions/"),
															sap.firefly.XString
																	.replace(
																			libraryId,
																			".",
																			"_"),
															"/",
															"contribution.xml"));
						} else {
							templateLoader.initBase(systemDescription,
									libraryId);
						}
						return templateLoader.getContentAsXml();
					},
					parseBuildInContributionXml : function(systemDescription,
							pathToContributionFiles) {
						var templateLoader = new sap.zen.TemplateLoader();
						templateLoader
								.initBase(
										systemDescription,
										sap.firefly.XStringUtils
												.concatenate4(
														this.runtimePath,
														this
																.replaceDotsWithUnderscoresForBuiltinLoading(pathToContributionFiles),
														"/", "contribution.xml"));
						return templateLoader.getContentAsXml();
					},
					loadZtl : function(libraryId, ixWindow) {
						new sap.buddha.XJSAndCSSLoader().loadJS(
								sap.firefly.XString
										.replace(libraryId, ".", "_"),
								"contribution.ztl.js", sap.firefly.XString
										.concatenate2(this.path,
												"/designstudio_extensions/"));
					},
					loadBuiltinZtl : function(pathToContributionFiles, ixWindow) {
						new sap.buddha.XJSAndCSSLoader()
								.loadJS(
										this
												.replaceDotsWithUnderscoresForBuiltinLoading(pathToContributionFiles),
										"contribution.ztl.js", this.runtimePath);
					},
					loadBuiltInJs : function(url) {
						new sap.buddha.XJSAndCSSLoader().loadJS("", url,
								this.runtimePath);
					},
					replaceDotsWithUnderscoresForBuiltinLoading : function(s) {
						if (this.runtimePath === null
								|| !sap.firefly.XString.startsWith(
										this.runtimePath, "/aad")) {
							return sap.firefly.XString.replace(s, ".", "_");
						} else {
							return s;
						}
					}
				});
$Firefly.createClass("sap.zen.ScriptableBookmark", sap.firefly.XObject, {
	bookmark : null,
	initMe : function(bookmark) {
		this.bookmark = bookmark;
		sap.buddha.XJsUtils.createProperty(this, "bmId", true, false);
		sap.buddha.XJsUtils.createProperty(this, "title", true, false);
	},
	getBmId : function() {
		if (this.bookmark === null) {
			return "";
		}
		return this.bookmark.getId();
	},
	getTitle : function() {
		if (this.bookmark === null) {
			return "";
		}
		return this.bookmark.getName();
	}
});
$Firefly
		.createClass(
				"sap.zen.TemplateLoader",
				sap.firefly.XObject,
				{
					oApplication : null,
					oLocalHost : null,
					url : null,
					oLocalization : null,
					initBase : function(localHost, url) {
						this.oApplication = localHost.getApplication();
						this.oLocalHost = localHost;
						this.url = url;
					},
					getContentAsXml : function() {
						var lContent = this.getContentAsString();
						return sap.buddha.XXmlUtils.getRootNode(lContent);
					},
					getContentAsString : function() {
						var loHttpClient;
						var loRequest;
						var loUri;
						var loResponse;
						if (this.url === null) {
							return null;
						}
						loHttpClient = sap.firefly.HttpClientFactory
								.newInstanceByProtocol(this.oApplication
										.getSession(), this.oLocalHost
										.getProtocolType());
						loRequest = loHttpClient.getRequest();
						loUri = sap.firefly.XUri.createFromUri(this.oLocalHost
								.getUriString());
						if (loUri.getPath() === null) {
							loUri.setPath("/");
						}
						loRequest.setFromUriWithParent(this.url, loUri, false);
						loRequest
								.setMethod(sap.firefly.HttpRequestMethod.HTTP_GET);
						loRequest
								.setAcceptContentType(sap.firefly.HttpContentType.APPLICATION_XML);
						loRequest.setTextContentEncoding("UTF-8");
						loResponse = loHttpClient.processHttpRequest(
								sap.firefly.SyncType.BLOCKING, null, null);
						if (loResponse.isValid()
								&& loResponse.getData() !== null) {
							return loResponse.getData().getStringContent();
						}
						return null;
					},
					initBaseBW : function(systemDescription, biappName,
							biappPath) {
						var basePath;
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(biappPath)) {
							basePath = sap.firefly.XStringUtils.concatenate2(
									biappPath, biappName);
							this.url = sap.firefly.XString.concatenate2(
									basePath, "/content.xml");
							this.oLocalization = sap.buddha.XLocalization
									.createForUrl(sap.firefly.XStringUtils
											.concatenate2(basePath,
													"/localization.properties"));
						}
						this.oLocalHost = systemDescription;
						this.oApplication = systemDescription.getApplication();
					},
					getTranslatedText : function(key) {
						var lNameSpace;
						var lTextID;
						var lDotPosition;
						var lAddTripleDotsToText;
						var lText;
						if (this.oLocalization === null
								|| !this.oLocalization.hasText(key)) {
							return null;
						}
						lNameSpace = null;
						lTextID = null;
						lDotPosition = sap.firefly.XString
								.lastIndexOf(key, ".");
						if (lDotPosition >= 0) {
							lNameSpace = sap.firefly.XString.substring(key, 0,
									lDotPosition);
							lTextID = sap.firefly.XString.substring(key,
									lDotPosition + 1, -1);
						}
						lAddTripleDotsToText = false;
						if (lNameSpace !== null && lTextID !== null) {
							if (sap.firefly.XString.containsString(this.url,
									"0ANALYSIS")) {
								if (sap.firefly.XString.isEqual(lNameSpace,
										"TEXT_POOL")) {
									if (sap.firefly.XString.isEqual(lTextID,
											"ShowPrompts")) {
										lAddTripleDotsToText = true;
									}
								}
								if (sap.firefly.XString.isEqual(lNameSpace,
										"ACTIONSHEET_SETTINGS_ACTIONS")) {
									if (sap.firefly.XString.isEqual(lTextID,
											"CHART_SETTINGS")
											|| sap.firefly.XString.isEqual(
													lTextID, "INFO")
											|| sap.firefly.XString.isEqual(
													lTextID, "TOTALS")) {
										lAddTripleDotsToText = true;
									}
								}
								if (sap.firefly.XString.isEqual(lNameSpace,
										"ACTIONSHEET_FOOTER_ACTIONS")) {
									if (sap.firefly.XString.isEqual(lTextID,
											"EMAIL")
											|| sap.firefly.XString.isEqual(
													lTextID, "EXPORT")
											|| sap.firefly.XString.isEqual(
													lTextID, "TILE")) {
										lAddTripleDotsToText = true;
									}
								}
							}
						}
						lText = this.oLocalization.getText(key);
						if (lAddTripleDotsToText) {
							lText = sap.zen.LocalizationText
									.sAddTrailingTripleDotsToText(lText);
						}
						return lText;
					},
					getTranslatedTextsFor : function(componentName) {
						var ltTexts = sap.firefly.XListOfString.create();
						var ltTextMap = null;
						var loTextIDIterator;
						var lTextID;
						if (this.oLocalization !== null) {
							ltTextMap = this.oLocalization.getTranslationMap();
						}
						if (ltTextMap !== null) {
							loTextIDIterator = ltTextMap
									.getKeysAsIteratorOfString();
							while (loTextIDIterator.hasNext()) {
								lTextID = loTextIDIterator.next();
								if (sap.firefly.XString.startsWith(lTextID,
										componentName)) {
									ltTexts.add(lTextID);
								}
							}
						}
						return ltTexts;
					}
				});
$Firefly
		.createClass(
				"sap.zen.TotalsDisplay",
				sap.firefly.XObject,
				{
					$statics : {
						SHOW : null,
						HIDE : null,
						HIDE_IF_ONLY_ONE_MEMBER : null,
						staticSetup : function() {
							sap.zen.TotalsDisplay.SHOW = "SHOW";
							sap.zen.TotalsDisplay.HIDE = "HIDE";
							sap.zen.TotalsDisplay.HIDE_IF_ONLY_ONE_MEMBER = "HIDE_IF_ONLY_ONE_MEMBER";
						}
					}
				});
$Firefly.createClass("sap.zen.TotalsPosition", sap.firefly.XObject, {
	$statics : {
		getBEFOREInternal : function() {
			return "BEFORE";
		},
		getAFTERInternal : function() {
			return "AFTER";
		},
		getDEFAULTInternal : function() {
			return "DEFAULT";
		}
	},
	messageWriter : null,
	initMe : function(messageWriter) {
		this.messageWriter = messageWriter;
		sap.buddha.XJsUtils.createProperty(this, "BEFORE", true, false);
		sap.buddha.XJsUtils.createProperty(this, "AFTER", true, false);
		sap.buddha.XJsUtils.createProperty(this, "DEFAULT", true, false);
	},
	getBEFORE : function() {
		return sap.zen.TotalsPosition.getBEFOREInternal();
	},
	getAFTER : function() {
		return sap.zen.TotalsPosition.getAFTERInternal();
	},
	getDEFAULT : function() {
		return sap.zen.TotalsPosition.getDEFAULTInternal();
	},
	getJavaScriptWrapperName : function() {
		return "PageObject";
	},
	getAdditionalScriptAfterWrapping : function() {
		return null;
	},
	getMessageWriter : function() {
		return this.messageWriter;
	}
});
$Firefly.createClass("sap.zen.ZAxisType", sap.firefly.XObject, {
	$statics : {
		ROWS : null,
		COLUMNS : null,
		FREE : null,
		staticSetup : function() {
			sap.zen.ZAxisType.ROWS = "ROWS";
			sap.zen.ZAxisType.COLUMNS = "COLUMNS";
			sap.zen.ZAxisType.FREE = "FREE";
		}
	}
});
$Firefly.createClass("sap.zen.ZNavigationPanelMode", sap.firefly.XObject, {
	$statics : {
		NAVIGATION : null,
		LIST_ONLY : null,
		staticSetup : function() {
			sap.zen.ZNavigationPanelMode.NAVIGATION = "NAVIGATION";
			sap.zen.ZNavigationPanelMode.LIST_ONLY = "LIST_ONLY";
		}
	}
});
$Firefly
		.createClass(
				"sap.zen.ZPlanning",
				sap.firefly.XObject,
				{
					$statics : {
						getPlanningConnection : function(page) {
							var applicationProperties = page
									.getApplicationPropertiesComponent();
							var conn = null;
							if (page.isHanaMode() === true) {
								conn = "self";
							} else {
								conn = applicationProperties
										.getStringPropertyWithDefault(
												"PLANNING_CONNECTION", null);
							}
							return conn;
						}
					},
					planningSchema : null,
					page : null,
					planningService : null,
					planningContext : null,
					getPage : function() {
						return this.page;
					},
					initMe : function(page) {
						var applicationProperties;
						var initParameter;
						var planningConnection;
						var planningModelAndEnvironment;
						var environment;
						var model;
						var planningServiceConfig;
						var configProperties;
						var planningServiceExt;
						var systemDescription;
						var systemType;
						var pComponents;
						var pComponentsList;
						var componentType2;
						var planningObject;
						this.page = page;
						applicationProperties = page
								.getApplicationPropertiesComponent();
						planningConnection = sap.zen.ZPlanning
								.getPlanningConnection(this.getPage());
						if ((planningConnection !== null)
								&& (page.isBWSystem(planningConnection))) {
							this.planningSchema = applicationProperties
									.getStringPropertyWithDefault(
											"PLANNING_SCHEMA", null);
							planningModelAndEnvironment = applicationProperties
									.getStringPropertyWithDefault(
											"PLANNING_MODEL", null);
							environment = null;
							model = null;
							planningServiceConfig = sap.firefly.OlapApiModule.SERVICE_TYPE_PLANNING
									.createServiceConfig(this.getPage()
											.getApplication());
							planningServiceConfig
									.setSystemName(planningConnection);
							configProperties = planningServiceConfig
									.getProperties();
							if ((planningModelAndEnvironment !== null)
									&& sap.firefly.XString
											.size(planningModelAndEnvironment) > 0) {
								environment = sap.firefly.XString.substring(
										planningModelAndEnvironment, 0, 20);
								model = sap.firefly.XString
										.substring(
												planningModelAndEnvironment,
												20,
												sap.firefly.XString
														.size(planningModelAndEnvironment));
							}
							configProperties.setStringByName(
									sap.firefly.PlanningConstants.DATA_AREA,
									"MY_DATA_AREA");
							configProperties.setStringByName(
									sap.firefly.PlanningConstants.ENVIRONMENT,
									environment);
							configProperties.setStringByName(
									sap.firefly.PlanningConstants.MODEL, model);
							configProperties
									.setStringByName(
											sap.firefly.PlanningConstants.CELL_LOCKING,
											sap.firefly.CellLockingType.DEFAULT_SETTING_BACKEND
													.toString());
							planningServiceExt = null;
							try {
								planningServiceExt = planningServiceConfig
										.processServiceCreation(
												sap.firefly.SyncType.BLOCKING,
												null, null);
							} catch (e) {
								sap.zen.CLocalizationDataSourceMessages.PLANNING_ERR_LONG
										.addMessageToMessageHandler(this
												.getPage().getMessageManager(),
												sap.firefly.Severity.ERROR,
												null, null, null);
								return;
							}
							if (planningServiceExt.hasErrors() === false) {
								systemDescription = planningServiceConfig
										.getSystemDescription();
								systemType = systemDescription.getSystemType();
								this.planningService = planningServiceExt
										.getData();
								if (this.planningService !== null) {
									this.planningContext = this.planningService
											.getPlanningContext();
								}
							} else {
								sap.zen.CLocalizationDataSourceMessages.PLANNING_ERR_LONG
										.addMessageToMessageHandler(this
												.getPage().getMessageManager(),
												sap.firefly.Severity.ERROR,
												null, null, null);
							}
							this.getPage().getMessageManager().createMessages(
									planningServiceExt);
						}
						if (this.planningService !== null) {
							pComponents = this.getPage().getRoot().getChildren(
									"planning_object");
							pComponentsList = pComponents.getIterator();
							initParameter = null;
							while (pComponentsList.hasNext()) {
								initParameter = pComponentsList.next();
								componentType2 = initParameter
										.getAttribute("type");
								if (sap.firefly.XString.isEqual(componentType2,
										"PLANNING_FUNCTION")
										|| sap.firefly.XString.isEqual(
												componentType2,
												"PLANNING_SEQUENCE")) {
									planningObject = this.getPage()
											.createPlanningObject(
													initParameter, null);
								}
							}
						}
					},
					recalculate : function() {
						var transferedValues = true;
						var pDataSourcesList = this.getPage().getDataSources()
								.getIterator();
						var dataSource;
						var queryManager;
						var lResultSetWrapper;
						while (pDataSourcesList.hasNext()) {
							dataSource = pDataSourcesList.next();
							queryManager = dataSource.getQueryManager();
							if ((queryManager !== null)
									&& (queryManager.isDataEntryReadOnly() === false)) {
								if (queryManager.isDataEntryEnabled()
										&& !queryManager.isDataEntryReadOnly()) {
									queryManager.transferNewValues();
									dataSource.setContentChanged(true);
									sap.zen.DataSourceScriptApiUtils
											.logGetResultSet(this.getPage(),
													queryManager,
													"Planning recalculate");
									lResultSetWrapper = dataSource
											.getResultSet();
									if (lResultSetWrapper !== null) {
										transferedValues = transferedValues
												&& !lResultSetWrapper
														.hasErrors();
									}
								}
							}
						}
						return transferedValues;
					},
					reset : function() {
						var result;
						var dataArea;
						var refresh;
						if (this.planningContext !== null) {
							result = this.planningContext.reset();
							this.getPage().getMessageManager().createMessages(
									result);
							if (this.planningContext.getPlanningContextType() !== sap.firefly.PlanningContextType.DATA_AREA) {
								throw sap.firefly.XException
										.createIllegalStateException("unexpected data area");
							}
							dataArea = this.planningContext;
							refresh = dataArea.refresh();
							this.getPage().getMessageManager().createMessages(
									refresh);
							this.updateDataSources();
						}
					},
					updateDataSources : function() {
						var pDataSourcesList = this.getPage().getDataSources()
								.getIterator();
						var dataSource;
						var queryManager;
						while (pDataSourcesList.hasNext()) {
							dataSource = pDataSourcesList.next();
							queryManager = dataSource.getQueryManager();
							if ((queryManager !== null)
									&& (queryManager.isDataEntryReadOnly() === false)) {
								dataSource.setContentChanged(true);
							}
						}
					},
					clientReset : function() {
						var dataArea;
						var refresh;
						if (this.planningContext !== null) {
							dataArea = this.planningContext;
							refresh = dataArea.refresh();
							this.getPage().getMessageManager().createMessages(
									refresh);
							this.updateDataSources();
						}
					},
					hasUnsavedChanges : function() {
						if (this.planningContext !== null) {
							if (this.planningContext.hasChangedData() === true) {
								return true;
							}
						}
						return this.hasClientChanges();
					},
					hasClientChanges : function() {
						var pDataSourcesList = this.getPage().getDataSources()
								.getIterator();
						var dataSource;
						var queryManager;
						while (pDataSourcesList.hasNext()) {
							dataSource = pDataSourcesList.next();
							queryManager = dataSource.getQueryManager();
							if ((queryManager !== null)
									&& (queryManager.isDataEntryReadOnly() === false)) {
								if (queryManager.hasChangedValues() === true) {
									return true;
								}
							}
						}
						return false;
					},
					save : function() {
						var result;
						if (this.planningContext !== null) {
							result = null;
							this.recalculate();
							result = this.planningContext.publish();
							this.getPage().getMessageManager().createMessages(
									result);
							if (result.hasErrors()) {
								return false;
							}
							this.updateDataSources();
							return true;
						}
						return false;
					},
					getPlanningSchema : function() {
						return this.planningSchema;
					},
					releaseObject : function() {
						if ((this.planningContext !== null)
								&& (this.planningService !== null)
								&& (this.planningService.getApplication() !== null)) {
							this.planningContext.close();
							this.planningContext.releaseObject();
							this.planningContext = null;
						}
						if ((this.planningService !== null)
								&& (this.planningService.getApplication() !== null)) {
							this.planningService.releaseObject();
							this.planningService = null;
						}
						sap.zen.ZPlanning.$superclass.releaseObject.call(this);
					},
					getPlanningService : function() {
						return this.planningService;
					},
					getDataArea : function() {
						var dataArea;
						if (this.planningContext !== null) {
							dataArea = this.planningContext;
							return dataArea.getDataArea();
						}
						return null;
					},
					getJavaScriptWrapperName : function() {
						return "PageObject";
					},
					getAdditionalScriptAfterWrapping : function() {
						return null;
					},
					getMessageWriter : function() {
						return this.getPage();
					}
				});
$Firefly
		.createClass(
				"sap.zen.ZenMessageManager",
				sap.firefly.XObject,
				{
					$statics : {
						create : function(oPage) {
							var loInstance = null;
							if (oPage !== null) {
								loInstance = new sap.zen.ZenMessageManager();
								loInstance.initMe(oPage);
							}
							return loInstance;
						}
					},
					oPage : null,
					tMessages : null,
					tListeners : null,
					initMe : function(oPage) {
						this.oPage = oPage;
						this.tListeners = sap.firefly.XList.create();
					},
					addListener : function(oListener) {
						if (!this.tListeners.contains(oListener)) {
							this.tListeners.add(oListener);
						}
					},
					notifyListeners : function() {
						var lListenerIndex;
						var loListener;
						for (lListenerIndex = 0; lListenerIndex < this.tListeners
								.size(); lListenerIndex++) {
							loListener = this.tListeners.get(lListenerIndex);
							loListener.handleMessagesChanged();
						}
					},
					shouldSuppress : function(oMessage) {
						if (oMessage.hasCode()
								&& oMessage.getCode() === 50
								&& sap.firefly.Severity.WARNING
										.isEqualTo(oMessage.getSeverity())) {
							return true;
						}
						return false;
					},
					createMessage : function(oMessage) {
						var lSeverity;
						if (oMessage === null) {
							return;
						}
						if (this.oPage.getLogging().isLoggable(
								sap.buddha.XLogging.XDEBUG)) {
							lSeverity = oMessage.getSeverity();
							if (sap.firefly.Severity.ERROR === lSeverity) {
								this.oPage.getLogging().error(
										oMessage.getText(),
										oMessage.toString(), "message");
							} else {
								if (sap.firefly.Severity.INFO === lSeverity) {
									this.oPage.getLogging().info(
											oMessage.getText(),
											oMessage.toString(), "message");
								} else {
									if (sap.firefly.Severity.SEMANTICAL_ERROR === lSeverity) {
										this.oPage.getLogging().fatal(
												oMessage.getText(),
												oMessage.toString(), "message");
									} else {
										if (sap.firefly.Severity.WARNING === lSeverity) {
											this.oPage.getLogging().warning(
													oMessage.getText(),
													oMessage.toString(),
													"message");
										}
									}
								}
							}
						}
						if (this.shouldSuppress(oMessage)) {
							return;
						}
						if (this.tMessages === null) {
							this.tMessages = sap.firefly.XList.create();
						}
						this.tMessages.add(oMessage);
						this.notifyListeners();
					},
					createMessages : function(oMessageCollection) {
						var ltMessages = null;
						var lMessageIndex = 0;
						ltMessages = oMessageCollection.getSemanticalErrors();
						for (lMessageIndex = 0; lMessageIndex < ltMessages
								.size(); lMessageIndex++) {
							this.createMessage(ltMessages.get(lMessageIndex));
						}
						ltMessages = oMessageCollection.getErrors();
						for (lMessageIndex = 0; lMessageIndex < ltMessages
								.size(); lMessageIndex++) {
							this.createMessage(ltMessages.get(lMessageIndex));
						}
						ltMessages = oMessageCollection.getWarnings();
						for (lMessageIndex = 0; lMessageIndex < ltMessages
								.size(); lMessageIndex++) {
							this.createMessage(ltMessages.get(lMessageIndex));
						}
						ltMessages = oMessageCollection.getInfos();
						for (lMessageIndex = 0; lMessageIndex < ltMessages
								.size(); lMessageIndex++) {
							this.createMessage(ltMessages.get(lMessageIndex));
						}
					},
					createErrorMessage : function(message) {
						var loMessage = sap.firefly.XMessage.createMessage(
								sap.firefly.OriginLayer.APPLICATION,
								sap.firefly.Severity.ERROR, 0, message, null,
								false, null);
						this.createMessage(loMessage);
					},
					createWarningMessage : function(message) {
						var loMessage = sap.firefly.XMessage.createMessage(
								sap.firefly.OriginLayer.APPLICATION,
								sap.firefly.Severity.WARNING, 0, message, null,
								false, null);
						this.createMessage(loMessage);
					},
					createInfoMessage : function(message) {
						var loMessage = sap.firefly.XMessage.createMessage(
								sap.firefly.OriginLayer.APPLICATION,
								sap.firefly.Severity.INFO, 0, message, null,
								false, null);
						this.createMessage(loMessage);
					},
					getMessages : function() {
						return this.tMessages;
					},
					clearMessages : function() {
						this.tMessages.clear();
						this.notifyListeners();
					},
					containsErrorMessage : function() {
						var lMessageIndex;
						var loMessage;
						var lSeverity;
						if (this.tMessages === null) {
							return false;
						}
						for (lMessageIndex = 0; lMessageIndex < this.tMessages
								.size(); lMessageIndex++) {
							loMessage = this.tMessages.get(lMessageIndex);
							lSeverity = loMessage.getSeverity();
							if (lSeverity
									.isEqualTo(sap.firefly.Severity.SEMANTICAL_ERROR)
									|| lSeverity
											.isEqualTo(sap.firefly.Severity.ERROR)) {
								return true;
							}
						}
						return false;
					},
					removeNoValuesSetForMandatoryVariableMessages : function() {
						var lMessageRemoved = false;
						var lMessageIndex;
						var loMessage;
						if (this.tMessages !== null) {
							for (lMessageIndex = 0; lMessageIndex < this.tMessages
									.size(); lMessageIndex++) {
								loMessage = this.tMessages.get(lMessageIndex);
								if (((loMessage.getCode() === 42522) && (loMessage
										.getExtendedInfo() === null))
										|| (loMessage.getCode() === 629)
										|| ((loMessage.getCode() === 0) && (sap.firefly.XString
												.isEqual(loMessage.getText(),
														"Error when setting variable structure")))) {
									this.tMessages.removeAt(lMessageIndex);
									lMessageRemoved = true;
									lMessageIndex--;
								}
							}
							if (this.tMessages.size() === 0) {
								this.tMessages = null;
							}
						}
						if (lMessageRemoved) {
							this.notifyListeners();
						}
						return lMessageRemoved;
					},
					releaseObject : function() {
						this.oPage = null;
						if (this.tMessages !== null) {
							this.tMessages.releaseObject();
							this.tMessages = null;
						}
						if (this.tListeners !== null) {
							this.tListeners.releaseObject();
							this.tListeners = null;
						}
						sap.zen.ZenMessageManager.$superclass.releaseObject
								.call(this);
					},
					getLocalization : function() {
						return this.oPage.getLocalization();
					}
				});
$Firefly.createClass("sap.zen.ApplicationInfo", sap.firefly.XObject,
		{
			$statics : {
				VERSIONPROPERTY : "com.sap.zen.firefly.runtimeVersion"
			},
			name : null,
			dateNow : null,
			dateNowInternalFormat : null,
			runtimeVersion : null,
			isRightToLeft : false,
			oPage : null,
			initMe : function(oPage) {
				this.oPage = oPage;
				this.name = oPage.getAppName();
				this.dateNow = sap.firefly.XDate.createCurrentLocalDate()
						.toString();
				this.dateNowInternalFormat = sap.firefly.XString.replace(
						sap.firefly.XDate.createCurrentLocalDate().toString(),
						"-", "");
				this.isRightToLeft = oPage.isRightToLeft();
				this.runtimeVersion = this.oPage.getLocalization().getText(
						sap.zen.ApplicationInfo.VERSIONPROPERTY);
			}
		});
$Firefly
		.createClass(
				"sap.zen.DataCell",
				sap.firefly.XObject,
				{
					value : 0,
					formattedValue : null,
					scalingFactor : 0,
					unitOfMeasure : null,
					doInit : function(dataCell) {
						var lValueException;
						this.value = 0;
						this.formattedValue = "";
						if (dataCell !== null) {
							lValueException = dataCell.getValueException();
							if ((lValueException === sap.firefly.ValueException.UNDEFINED)
									|| (lValueException === sap.firefly.ValueException.NULL_VALUE)) {
								this.value = 0;
								this.formattedValue = "";
							} else {
								if (!dataCell.isNumber()) {
									this.value = 0;
									if (dataCell.isTime()) {
										this.value = this
												.getTimeAsDouble(dataCell);
									}
								} else {
									this.value = dataCell.getDoubleValue();
								}
								this.formattedValue = dataCell
										.getFormattedValue();
							}
						}
						this.scalingFactor = 0;
						this.unitOfMeasure = "";
					},
					isTime : function(dataCell) {
						if (dataCell !== null) {
							return dataCell.isTime();
						}
						return false;
					},
					getTime : function(dataCell) {
						var lTimeValue;
						if (this.isTime(dataCell) === true) {
							lTimeValue = sap.firefly.XTime
									.createTimeFromIsoFormat(dataCell
											.getFormattedValue());
							return lTimeValue;
						}
						return null;
					},
					getTimeAsDouble : function(dataCell) {
						var lDouble = 0;
						var lTimeValue;
						if (this.isTime(dataCell) === true) {
							lTimeValue = this.getTime(dataCell);
							lDouble = lTimeValue.getHourOfDay() * 3600
									+ lTimeValue.getMinuteOfHour() * 60
									+ lTimeValue.getSecondOfMinute();
						}
						return lDouble;
					}
				});
$Firefly
		.createClass(
				"sap.zen.DataSourceInfo",
				sap.firefly.XObject,
				{
					$statics : {
						create : function(oDataSource) {
							var loInstance = null;
							if (oDataSource !== null) {
								loInstance = new sap.zen.DataSourceInfo();
								loInstance.initMe(oDataSource);
							}
							return loInstance;
						},
						sGetDataSourceName : function(oDataSource) {
							return oDataSource.getInitParameters()
									.getAttribute("name");
						},
						sGetInfoProviderTechnicalName : function(oDataSource) {
							var loQueryManager = oDataSource.getQueryManager();
							var lText;
							var loQueryModel;
							var loInfoProvider;
							if (loQueryManager === null) {
								return "";
							}
							lText = "";
							loQueryModel = loQueryManager.getQueryModel();
							loInfoProvider = loQueryModel.getInfoProvider();
							if (loInfoProvider !== null) {
								lText = loInfoProvider.getText();
								if (sap.firefly.XStringUtils
										.isNullOrEmpty(lText)) {
									lText = loInfoProvider.getName();
								}
								return lText;
							}
							lText = sap.zen.DataSourceInfo
									.sGetQueryTechnicalName(oDataSource);
							return lText;
						},
						sGetInfoProviderDescription : function(oDataSource) {
							var loQueryManager = oDataSource.getQueryManager();
							var lText;
							var loQueryModel;
							var loInfoProvider;
							if (loQueryManager === null) {
								return "";
							}
							lText = "";
							loQueryModel = loQueryManager.getQueryModel();
							loInfoProvider = loQueryModel.getInfoProvider();
							if (loInfoProvider !== null) {
								lText = loInfoProvider.getName();
								return lText;
							}
							lText = sap.zen.DataSourceInfo
									.sGetQueryDescription(oDataSource);
							return lText;
						},
						sGetQueryTechnicalName : function(oDataSource) {
							var loQueryManager = oDataSource.getQueryManager();
							var lText;
							var loQueryModel;
							var loDataSource;
							if (loQueryManager === null) {
								return "";
							}
							lText = null;
							loQueryModel = loQueryManager.getQueryModel();
							loDataSource = loQueryModel.getDataSource();
							lText = loDataSource.getName();
							return lText;
						},
						sGetQueryDescription : function(oDataSource) {
							var loQueryManager = oDataSource.getQueryManager();
							var lText;
							var loQueryModel;
							var loDataSource;
							if (loQueryManager === null) {
								return "";
							}
							lText = null;
							loQueryModel = loQueryManager.getQueryModel();
							loDataSource = loQueryModel.getDataSource();
							lText = loDataSource.getText();
							if (sap.firefly.XStringUtils.isNullOrEmpty(lText)) {
								lText = loDataSource.getName();
							}
							return lText;
						}
					},
					dataSourceName : null,
					infoProviderTechnicalName : null,
					infoProviderDescription : null,
					queryTechnicalName : null,
					queryDescription : null,
					createdBy : null,
					createdAt : null,
					lastChangedBy : null,
					lastChangedAt : null,
					lastRefreshedBy : null,
					lastRefreshedAt : null,
					keyDate : null,
					lastDataUpdate : null,
					lastDataUpdateMaximum : null,
					system : null,
					user : null,
					initMe : function(oDataSource) {
						var loQueryManager;
						var loConnection;
						var loServerMetadata;
						var loQueryModel;
						if (oDataSource === null) {
							return;
						}
						this.dataSourceName = sap.zen.DataSourceInfo
								.sGetDataSourceName(oDataSource);
						loQueryManager = oDataSource.getQueryManager();
						if (loQueryManager === null) {
							return;
						}
						loConnection = loQueryManager.getApplication()
								.getConnectionPool().getConnection(
										loQueryManager.getSystemDescription()
												.getName());
						if (loConnection !== null) {
							loServerMetadata = loConnection.getServerMetadata();
							if (loServerMetadata !== null) {
								this.system = loServerMetadata.getId();
							}
							if (this.system === null) {
								this.system = "";
							}
						}
						this.user = loQueryManager.getSystemDescription()
								.getUser();
						if (this.user === null) {
							this.user = "";
						}
						this.infoProviderTechnicalName = sap.zen.DataSourceInfo
								.sGetInfoProviderTechnicalName(oDataSource);
						this.infoProviderDescription = sap.zen.DataSourceInfo
								.sGetInfoProviderDescription(oDataSource);
						this.queryTechnicalName = oDataSource
								.getBiAppDataSourceName();
						this.queryDescription = oDataSource
								.getQueryDescription();
						loQueryModel = loQueryManager.getQueryModel();
						if (loQueryModel === null) {
							return;
						}
						this.lastDataUpdate = null;
						if (loQueryModel.getDataRollUpMin() !== null) {
							this.lastDataUpdate = loQueryModel
									.getDataRollUpMin().toSAPFormat();
						}
						if (this.lastDataUpdate === null) {
							this.lastDataUpdate = "";
						}
						this.lastDataUpdateMaximum = null;
						if (loQueryModel.getDataRollUpMax() !== null) {
							this.lastDataUpdateMaximum = loQueryModel
									.getDataRollUpMax().toSAPFormat();
						}
						if (this.lastDataUpdateMaximum === null) {
							this.lastDataUpdateMaximum = "";
						}
						this.keyDate = null;
						if (loQueryModel.getDueDate() !== null) {
							this.keyDate = loQueryModel.getDueDate()
									.toSAPFormat();
						}
						if (this.keyDate === null) {
							this.keyDate = "";
						}
						this.createdBy = loQueryModel.getCreatedBy();
						if (this.createdBy === null) {
							this.createdBy = "";
						}
						this.createdAt = null;
						if (loQueryModel.getCreatedOn() !== null) {
							this.createdAt = loQueryModel.getCreatedOn()
									.toSAPFormat();
						}
						if (this.createdAt === null) {
							this.createdAt = "";
						}
						this.lastChangedBy = loQueryModel.getUpdatedBy();
						if (this.lastChangedBy === null) {
							this.lastChangedBy = "";
						}
						this.lastChangedAt = null;
						if (loQueryModel.getUpdatedOn() !== null) {
							this.lastChangedAt = loQueryModel.getUpdatedOn()
									.toSAPFormat();
						}
						if (this.lastChangedAt === null) {
							this.lastChangedAt = "";
						}
						this.lastRefreshedBy = loQueryModel.getUpdatedBy();
						if (this.lastRefreshedBy === null) {
							this.lastRefreshedBy = "";
						}
						this.lastRefreshedAt = null;
						if (loQueryModel.getUpdatedOn() !== null) {
							this.lastRefreshedAt = loQueryModel.getUpdatedOn()
									.toSAPFormat();
						}
						if (this.lastRefreshedAt === null) {
							this.lastRefreshedAt = "";
						}
					}
				});
$Firefly.createClass("sap.zen.ScriptableColumnInfo", sap.firefly.XObject, {
	$statics : {
		PROPERTY_ID : "colId",
		PROPERTY_ID_INTERNAL : "columnId",
		PROPERTY_WIDTH : "width",
		PROPERTY_WIDTH_INTERNAL : "columnWidth",
		create : function(colId, width) {
			var lInstance = new sap.zen.ScriptableColumnInfo();
			lInstance.initMe(colId, width);
			return lInstance;
		}
	},
	columnId : null,
	columnWidth : null,
	initMe : function(colId, width) {
		this.columnId = colId;
		this.columnWidth = width;
		sap.buddha.XJsUtils.createProperty(this, "colId", true, false);
		sap.buddha.XJsUtils.createProperty(this, "width", true, false);
	},
	getColId : function() {
		return this.columnId;
	},
	getWidth : function() {
		return this.columnWidth;
	}
});
$Firefly.createClass("sap.zen.ScriptableDimension", sap.firefly.XObject, {
	dimension : null,
	initMe : function(dimension) {
		this.dimension = dimension;
		sap.buddha.XJsUtils.createProperty(this, "name", true, false);
		sap.buddha.XJsUtils.createProperty(this, "text", true, false);
		sap.buddha.XJsUtils.createProperty(this, "isMeasuresDimension", true,
				false);
	},
	getName : function() {
		if (this.dimension === null) {
			return "";
		}
		return this.dimension.getName();
	},
	getText : function() {
		if (this.dimension === null) {
			return "";
		}
		return this.dimension.getText();
	},
	getIsMeasuresDimension : function() {
		if (this.dimension === null) {
			return false;
		}
		return this.dimension.isMeasureStructure();
	}
});
$Firefly.createClass("sap.zen.ScriptableHierarchy", sap.firefly.XObject, {
	hierarchy : null,
	hierarchy2 : null,
	initMe : function(hierarchy) {
		this.hierarchy = hierarchy;
		this.hierarchy2 = null;
		sap.buddha.XJsUtils.createProperty(this, "name", true, false);
		sap.buddha.XJsUtils.createProperty(this, "text", true, false);
	},
	initMe2 : function(hierarchy2) {
		this.hierarchy2 = hierarchy2;
		this.hierarchy = null;
		sap.buddha.XJsUtils.createProperty(this, "name", true, false);
		sap.buddha.XJsUtils.createProperty(this, "text", true, false);
	},
	getName : function() {
		if (this.hierarchy !== null) {
			return this.hierarchy.getHierarchyName();
		}
		if (this.hierarchy2 !== null) {
			return this.hierarchy2.getHierarchyName();
		}
		return "";
	},
	getText : function() {
		if (this.hierarchy !== null) {
			return this.hierarchy.getHierarchyDescription();
		}
		if (this.hierarchy2 !== null) {
			return this.hierarchy2.getHierarchyDescription();
		}
		return "";
	}
});
$Firefly.createClass("sap.zen.ScriptableMember", sap.firefly.XObject, {
	internalKey : null,
	externalKey : null,
	internalNoncompoundedKey : null,
	externalNoncompoundedKey : null,
	text : null,
	key : null,
	oDimensionMember : null,
	doInit : function(s) {
		this.internalKey = s;
		this.externalKey = s;
		this.internalNoncompoundedKey = s;
		this.externalNoncompoundedKey = s;
		this.text = s;
		this.internalKey = s;
		this.key = s;
	},
	doInit2 : function(oDimensionMember) {
		var lKey;
		this.oDimensionMember = oDimensionMember;
		lKey = null;
		if (this.oDimensionMember.isTotal()) {
			lKey = "(RESULT_MEMBER)";
			this.key = lKey;
			this.internalKey = lKey;
			this.externalKey = lKey;
			this.internalNoncompoundedKey = lKey;
			this.externalNoncompoundedKey = lKey;
			this.text = this.oDimensionMember.getText();
		} else {
			lKey = oDimensionMember.getName();
			this.key = oDimensionMember.getKeyFieldValue(false);
			this.internalKey = lKey;
			this.externalKey = lKey;
			this.internalNoncompoundedKey = lKey;
			this.externalNoncompoundedKey = lKey;
			this.text = oDimensionMember.getText();
		}
	},
	doInit3 : function(oDimensionMember, oInternalAttribute) {
		var loInternalDimensionMember;
		var loKeyField;
		var loTextField;
		var lKeyValue;
		var lTextValue;
		var lDimensionMemberName;
		this.oDimensionMember = oDimensionMember;
		loInternalDimensionMember = this.oDimensionMember.getInternalObject();
		loKeyField = oInternalAttribute.getKeyField();
		loTextField = oInternalAttribute.getTextField();
		if (loTextField === null) {
			loTextField = loKeyField;
		}
		lKeyValue = loInternalDimensionMember.getFieldValue(loKeyField);
		lTextValue = loInternalDimensionMember.getFieldValue(loTextField);
		lDimensionMemberName = this.oDimensionMember.getName();
		this.internalKey = lDimensionMemberName;
		this.externalKey = lDimensionMemberName;
		this.internalNoncompoundedKey = lDimensionMemberName;
		this.externalNoncompoundedKey = lDimensionMemberName;
		this.text = lTextValue.getFormattedValue();
		this.internalKey = lDimensionMemberName;
		this.key = lKeyValue.getFormattedValue();
	},
	getAttributeMember : function(selectedAttribute) {
		var loDimension;
		var loInternalDimension;
		var loInternalAttribute;
		var loScriptableMember;
		if (sap.firefly.XStringUtils.isNotNullAndNotEmpty(selectedAttribute)
				&& this.oDimensionMember !== null) {
			loDimension = this.oDimensionMember.getDimension();
			loInternalDimension = loDimension.getInternalObject();
			loInternalAttribute = loInternalDimension
					.getAttributeByName(selectedAttribute);
			if (loInternalAttribute !== null) {
				loScriptableMember = new sap.zen.ScriptableMember();
				loScriptableMember.doInit3(this.oDimensionMember,
						loInternalAttribute);
				return loScriptableMember;
			}
		}
		return new sap.zen.ScriptableMember();
	},
	toString : function() {
		return this.internalKey;
	}
});
$Firefly.createClass("sap.zen.ScriptableVariable", sap.firefly.XObject, {
	variable : null,
	initMe : function(variable) {
		this.variable = variable;
		sap.buddha.XJsUtils.createProperty(this, "name", true, false);
		sap.buddha.XJsUtils.createProperty(this, "text", true, false);
		sap.buddha.XJsUtils.createProperty(this, "inputEnabled", true, false);
		sap.buddha.XJsUtils.createProperty(this, "dimensionName", true, false);
		sap.buddha.XJsUtils.createProperty(this, "type", true, false);
	},
	getName : function() {
		if (this.variable !== null) {
			return this.variable.getName();
		}
		return null;
	},
	getText : function() {
		if (this.variable === null) {
			return "";
		}
		return this.variable.getText();
	},
	getInputEnabled : function() {
		if (this.variable === null) {
			return false;
		}
		return this.variable.isInputEnabled();
	},
	getDimensionName : function() {
		if (this.variable === null) {
			return "";
		}
		if (this.variable.getVariableType().isTypeOf(
				sap.firefly.VariableType.DIMENSION_MEMBER_VARIABLE)) {
			return (this.variable).getDimension().getName();
		}
		return "";
	},
	getType : function() {
		var variableType;
		if (this.variable === null) {
			return "";
		}
		variableType = this.variable.getVariableType().getName();
		if (sap.firefly.XString.endsWith(variableType, "Variable")
				&& !(sap.firefly.XString.size(variableType) === 8)) {
			variableType = sap.firefly.XString.substring(variableType, 0,
					sap.firefly.XString.size(variableType) - 8);
		}
		return variableType;
	}
});
$Firefly.createClass("sap.zen.XEnum", sap.firefly.XObject, {
	$statics : {
		map : null,
		valueOf : function(enumType, value) {
			var mapForEnum = sap.zen.XEnum.map.getByKey(enumType);
			var valueByKey = mapForEnum.getByKey(value);
			return valueByKey;
		}
	},
	value : null,
	getEnumType : function() {
	},
	setValue : function(value) {
		var mapForEnum;
		this.value = value;
		if (sap.zen.XEnum.map === null) {
			sap.zen.XEnum.map = sap.firefly.XHashMapByString.create();
		}
		mapForEnum = sap.zen.XEnum.map.getByKey(this.getEnumType());
		if (mapForEnum === null) {
			mapForEnum = sap.firefly.XHashMapByString.create();
			sap.zen.XEnum.map.put(this.getEnumType(), mapForEnum);
		}
		mapForEnum.put(value, this);
	},
	getValue : function() {
		return this.value;
	},
	toString : function() {
		return this.value;
	}
});
$Firefly.createClass("sap.zen.FilterXpRowIterator", sap.firefly.XObject, {
	$statics : {
		create : function(oResultSet, oComponent) {
			var loInstance = null;
			loInstance = new sap.zen.FilterXpRowIterator();
			loInstance.initMe(oResultSet, oComponent);
			return loInstance;
		}
	},
	xpCurRow : 0,
	xpCurCol : 0,
	dimensionCount : 0,
	oQueryModel : null,
	oResultSet : null,
	oComponent : null,
	initMe : function(oResultSet, oComponent) {
		this.oResultSet = oResultSet;
		this.oComponent = oComponent;
		this.xpCurCol = -1;
		this.xpCurRow = -1;
		this.oQueryModel = this.oResultSet.getDataSource().getQueryManager()
				.getQueryModel();
		this.dimensionCount = this.oQueryModel.getSelector()
				.getDimensionCount();
	},
	hasNextRow : function() {
		return (this.xpCurRow + 1) < (this.dimensionCount);
	},
	nextRow : function() {
		this.xpCurRow = this.xpCurRow + 1;
		this.xpCurCol = -1;
		return this;
	},
	hasNextCell : function() {
		return (this.xpCurCol + 1) < 2;
	},
	nextCell : function() {
		this.xpCurCol = this.xpCurCol + 1;
		return this;
	},
	getValue : function() {
		return 0;
	},
	getFormattedValue : function() {
		var loInternalDimension = this.oQueryModel.getSelector()
				.getDimensions().get(this.xpCurRow);
		var loDimension = sap.zen.DimensionWrapper.create(this.oResultSet
				.getDataSource(), this.oResultSet, loInternalDimension
				.getName());
		if (this.xpCurCol === 0) {
			return loDimension.getFilterHeaderText();
		}
		return loDimension
				.getFilterValuesAsString(sap.zen.Dimension.VALUE_TYPE_TEXT);
	},
	getFormatString : function() {
		return "";
	},
	provideNumberFormatString : function(thousandSeparator, decimalSeparator) {
		return null;
	},
	getDateAsIsoString : function() {
		return "";
	},
	getTimeAsIsoString : function() {
		return "";
	},
	getTitle : function() {
		return sap.firefly.XStringUtils.concatenate4("Filter ", this.oResultSet
				.getDataSource().getId(), "", this.oComponent.getId());
	},
	getCellValueType : function() {
		return sap.zen.CXpDataCellValueType.STANDARD;
	},
	getCellType : function() {
		if (this.xpCurCol > 0) {
			return sap.zen.CXpStyle.STANDARD;
		}
		return sap.zen.CXpStyle.HEADER;
	},
	isDate : function() {
		return false;
	},
	isTime : function() {
		return false;
	},
	isNumber : function() {
		return false;
	}
});
$Firefly
		.createClass(
				"sap.zen.XTabXpRowIterator",
				sap.firefly.XObject,
				{
					$statics : {
						create : function(oResultSet, oComponent) {
							var loInstance = null;
							loInstance = new sap.zen.XTabXpRowIterator();
							loInstance.initMe(oResultSet, oComponent);
							return loInstance;
						}
					},
					xpCntRowHeader : 0,
					xpCntColHeader : 0,
					xpNoColHeader : false,
					xpNoRowHeader : false,
					xpCntRows : 0,
					xpCntCols : 0,
					xpCurRow : 0,
					xpCurCol : 0,
					xpAmountOfDataRows : 0,
					xpAmountOfDataCols : 0,
					xpFormattedValue : null,
					oComponent : null,
					oResultSet : null,
					oResultDataCell : null,
					oResultSetInfo : null,
					initMe : function(oResultSet, oComponent) {
						var loQueryManager;
						var loQueryModel;
						var ltColumnDimensions;
						var ltRowDimensions;
						var loMeasureStructure;
						this.oComponent = oComponent;
						this.oResultSet = oResultSet;
						loQueryManager = this.oResultSet.getDataSource()
								.getQueryManager();
						loQueryModel = loQueryManager.getQueryModel();
						sap.zen.DataSourceScriptApiUtils.logGetResultSet(
								oComponent.getPage(), loQueryManager, "Export");
						this.oResultSet.getServerPaging().deactivatePaging();
						this.xpCurRow = -1;
						this.xpCurCol = -1;
						this.xpCntRowHeader = this.oResultSet
								.getAmountOfVisibleFieldsOnAxis(sap.firefly.AxisType.ROWS);
						this.xpCntColHeader = this.oResultSet
								.getAmountOfVisibleFieldsOnAxis(sap.firefly.AxisType.COLUMNS);
						this.xpNoRowHeader = false;
						if (this.xpCntRowHeader === 0) {
							ltColumnDimensions = loQueryModel.getColumnsAxis()
									.getDimensions();
							if (!ltColumnDimensions.isEmpty()
									&& (ltColumnDimensions.size() > 1 || !ltColumnDimensions
											.get(0).isStructure())) {
								this.xpCntRowHeader = 1;
							}
							this.xpNoRowHeader = true;
						}
						this.xpNoColHeader = false;
						if (this.xpCntColHeader === 0) {
							ltRowDimensions = loQueryModel.getRowsAxis()
									.getDimensions();
							if (!ltRowDimensions.isEmpty()
									&& (ltRowDimensions.size() > 1 || !ltRowDimensions
											.get(0).isStructure())) {
								this.xpCntColHeader = 1;
							}
							this.xpNoColHeader = true;
						}
						this.xpAmountOfDataRows = this.oResultSet
								.getAmountOfDataRows();
						this.xpAmountOfDataCols = this.oResultSet
								.getAmountOfDataColumns();
						this.xpCntRows = this.oResultSet.getAmountOfRows();
						this.xpCntCols = this.oResultSet.getAmountOfColumns();
						loMeasureStructure = loQueryManager.getQueryModel()
								.getMeasureDimension();
						if ((this.xpCntRows === 0)
								&& (loMeasureStructure === null)) {
							this.xpCntRows = this.oResultSet
									.getAmountOfTuplesOnAxis(sap.firefly.AxisType.ROWS);
						}
						if ((this.xpCntCols === 0)
								&& (loMeasureStructure === null)) {
							this.xpCntCols = this.oResultSet
									.getAmountOfTuplesOnAxis(sap.firefly.AxisType.COLUMNS);
						}
					},
					getTitle : function() {
						return sap.firefly.XStringUtils.concatenate4("XTab ",
								this.oResultSet.getDataSource().getId(), " ",
								this.oComponent.getId());
					},
					hasNextRow : function() {
						return (this.xpCurRow + 1) < (this.xpCntColHeader + this.xpCntRows);
					},
					nextRow : function() {
						this.xpCurRow = this.xpCurRow + 1;
						this.xpCurCol = -1;
						return this;
					},
					hasNextCell : function() {
						return (this.xpCurCol + 1) < (this.xpCntRowHeader + this.xpCntCols);
					},
					nextCell : function() {
						var effectiveRowInRowSpans;
						var effectiveRowInResultsetForQ3AndData;
						var effectiveColInColSpans;
						var effectiveColInResultsetForQ2AndData;
						var loResultSetInfo;
						var ltHeaders;
						var lHeaderIndex;
						var loDimension;
						var loInternalField;
						var lDimensionHeader;
						var lFieldName;
						var lNoData;
						this.xpCurCol = this.xpCurCol + 1;
						this.oResultSetInfo = null;
						this.xpFormattedValue = "";
						this.oResultDataCell = null;
						effectiveRowInRowSpans = this.xpCurRow
								- this.xpCntColHeader;
						effectiveRowInResultsetForQ3AndData = effectiveRowInRowSpans;
						effectiveColInColSpans = this.xpCurCol
								- this.xpCntRowHeader;
						effectiveColInResultsetForQ2AndData = effectiveColInColSpans;
						if (this.xpCurCol < this.xpCntRowHeader) {
							if (this.xpCurRow < this.xpCntColHeader) {
								loResultSetInfo = null;
								ltHeaders = sap.firefly.XList.create();
								if (this.xpCurRow === (this.xpCntColHeader - 1)) {
									if (!this.xpNoRowHeader) {
										loResultSetInfo = sap.zen.ResultSetHelper
												.create(
														this.oResultSet,
														sap.firefly.AxisType.ROWS,
														-1, this.xpCurCol);
										ltHeaders.add(loResultSetInfo);
									}
									if (!this.xpNoColHeader) {
										if (this.xpCurCol === (this.xpCntRowHeader - 1)) {
											loResultSetInfo = sap.zen.ResultSetHelper
													.create(
															this.oResultSet,
															sap.firefly.AxisType.COLUMNS,
															-1, this.xpCurRow);
											ltHeaders.add(loResultSetInfo);
										}
									}
								} else {
									if (this.xpCurCol === (this.xpCntRowHeader - 1)) {
										loResultSetInfo = sap.zen.ResultSetHelper
												.create(
														this.oResultSet,
														sap.firefly.AxisType.COLUMNS,
														this.xpCurCol,
														this.xpCurRow);
										ltHeaders.add(loResultSetInfo);
									}
								}
								for (lHeaderIndex = 0; lHeaderIndex < ltHeaders
										.size(); lHeaderIndex++) {
									loResultSetInfo = ltHeaders
											.get(lHeaderIndex);
									loDimension = loResultSetInfo
											.getDimension();
									if (loDimension === null) {
										continue;
									}
									loInternalField = loResultSetInfo
											.getField();
									lDimensionHeader = null;
									if (!loDimension.isMeasureStructure()) {
										lFieldName = null;
										if (loInternalField !== null) {
											lFieldName = loInternalField
													.getName();
										}
										lDimensionHeader = loDimension
												.getHeaderText(lFieldName);
									}
									if (sap.firefly.XStringUtils
											.isNullOrEmpty(this.xpFormattedValue)) {
										if (sap.firefly.XStringUtils
												.isNotNullAndNotEmpty(lDimensionHeader)) {
											this.xpFormattedValue = lDimensionHeader;
										}
									} else {
										if (sap.firefly.XStringUtils
												.isNotNullAndNotEmpty(lDimensionHeader)) {
											this.xpFormattedValue = sap.firefly.XStringUtils
													.concatenate3(
															this.xpFormattedValue,
															" | ",
															lDimensionHeader);
										}
									}
								}
							} else {
								this.oResultSetInfo = sap.zen.ResultSetHelper
										.create(
												this.oResultSet,
												sap.firefly.AxisType.ROWS,
												effectiveRowInResultsetForQ3AndData,
												this.xpCurCol);
							}
						} else {
							if (this.xpCurRow < this.xpCntColHeader) {
								this.oResultSetInfo = sap.zen.ResultSetHelper
										.create(
												this.oResultSet,
												sap.firefly.AxisType.COLUMNS,
												effectiveColInResultsetForQ2AndData,
												this.xpCurRow);
							} else {
								lNoData = false;
								if (this.xpAmountOfDataRows <= 0
										&& this.xpAmountOfDataRows <= 0) {
									lNoData = true;
								}
								if (!lNoData) {
									this.oResultDataCell = this.oResultSet
											.getResultDataCell(
													effectiveRowInResultsetForQ3AndData,
													effectiveColInResultsetForQ2AndData);
								}
							}
						}
						return this;
					},
					getValue : function() {
						var lDouble = 0;
						var lValue;
						if (this.oResultDataCell !== null) {
							lValue = null;
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(this.oResultDataCell
											.getFormatString())
									&& this.oResultDataCell.isPercent()) {
								lValue = this.oResultDataCell
										.getInternalValue();
							} else {
								lValue = this.oResultDataCell.getValue();
							}
							if (!this.oResultDataCell.isNumber()) {
								if (this.oResultDataCell.isTime()) {
									lDouble = this.getTimeAsDouble();
								}
							} else {
								if (lValue !== null) {
									lDouble = (lValue).getDoubleValue();
								}
							}
						}
						return lDouble;
					},
					getFormattedValue : function() {
						var lIndent;
						var lDisplayLevel;
						var i;
						var lDimensionMemberText;
						var lDimensionHeaderText;
						var loDimension;
						var lFieldName;
						var loInternalField;
						if (this.oResultDataCell !== null) {
							return this.oResultDataCell.getFormattedValue();
						}
						if (this.oResultSetInfo !== null) {
							lIndent = "";
							lDisplayLevel = this.oResultSetInfo
									.getTupleElement().getDisplayLevel();
							for (i = 0; i < lDisplayLevel; i++) {
								lIndent = sap.firefly.XStringUtils
										.concatenate2(lIndent, "  ");
							}
							if (!this.oResultSetInfo.getTupleElement().isLeaf()) {
								return sap.firefly.XStringUtils
										.concatenate2(lIndent,
												this.oResultSetInfo
														.getDimensionMember()
														.getText());
							}
							lDimensionMemberText = sap.zen.ResultSetWrapper
									.sGetDimensionMemberText(
											this.oResultSetInfo
													.getDimensionMember(),
											this.oResultSetInfo.getFieldValue());
							if (lDimensionMemberText !== null) {
								return sap.firefly.XStringUtils.concatenate2(
										lIndent, lDimensionMemberText);
							}
							lDimensionHeaderText = null;
							loDimension = this.oResultSetInfo.getDimension();
							lFieldName = null;
							loInternalField = this.oResultSetInfo.getField();
							if (loInternalField !== null) {
								lFieldName = loInternalField.getName();
							}
							if (loDimension !== null) {
								lDimensionHeaderText = loDimension
										.getHeaderText(lFieldName);
							}
							return sap.firefly.XStringUtils.concatenate2(
									lIndent, lDimensionHeaderText);
						}
						return this.xpFormattedValue;
					},
					getFormatString : function() {
						if (this.oResultDataCell !== null) {
							return this.oResultDataCell.getNumberFormatString(
									true, true);
						}
						return "";
					},
					provideNumberFormatString : function(thousandSeparator,
							decimalSeparator) {
						if (this.oResultDataCell !== null) {
							return this.oResultDataCell
									.getSpecificNumberFormatString(
											thousandSeparator,
											decimalSeparator, true, true, true);
						}
						return "";
					},
					getDateAsIsoString : function() {
						var lDate;
						var lIsoFormat;
						if (this.getCellValueType() === sap.zen.CXpDataCellValueType.DATE) {
							lDate = this.oResultSetInfo.getFieldValue()
									.getDateValue();
							lIsoFormat = lDate.toIsoFormat();
							return lIsoFormat;
						}
						return null;
					},
					getTimeAsIsoString : function() {
						var lTimeValue;
						var lIsoFormat;
						if (this.getCellValueType() === sap.zen.CXpDataCellValueType.TIME) {
							lTimeValue = this.getTime();
							lIsoFormat = lTimeValue.toIsoFormat();
							return lIsoFormat;
						}
						return null;
					},
					getTime : function() {
						var lTimeValue;
						if (this.getCellValueType() === sap.zen.CXpDataCellValueType.TIME) {
							lTimeValue = sap.firefly.XTime
									.createTimeFromIsoFormat(this.oResultDataCell
											.getFormattedValue());
							return lTimeValue;
						}
						return null;
					},
					getTimeAsDouble : function() {
						var lDouble = 0;
						var lTimeValue = this.getTime();
						if (lTimeValue !== null) {
							lDouble = lTimeValue.getHourOfDay() * 3600
									+ lTimeValue.getMinuteOfHour() * 60
									+ lTimeValue.getSecondOfMinute();
						}
						return lDouble;
					},
					getCellValueType : function() {
						if (this.oResultDataCell !== null) {
							if (this.oResultDataCell.isNumber()) {
								return sap.zen.CXpDataCellValueType.NUMBER;
							} else {
								if (this.oResultDataCell.isDate()) {
									return sap.zen.CXpDataCellValueType.DATE;
								} else {
									if (this.oResultDataCell.isTime()) {
										return sap.zen.CXpDataCellValueType.TIME;
									} else {
										if (this.oResultDataCell.isTimestamp()) {
											return sap.zen.CXpDataCellValueType.TIMESTAMP;
										}
									}
								}
							}
						}
						return sap.zen.CXpDataCellValueType.STANDARD;
					},
					getCellType : function() {
						var lCellType = sap.zen.CXpStyle.STANDARD;
						if (this.oResultDataCell === null) {
							lCellType = sap.zen.CXpStyle.HEADER;
						}
						if (this.oResultSetInfo !== null) {
							if (this.oResultSetInfo.isTotal()) {
								lCellType = sap.zen.CXpStyle.TOTAL;
							}
						}
						return lCellType;
					},
					isDate : function() {
						var lValueType = null;
						if ((this.oResultSetInfo !== null)
								&& (this.oResultSetInfo.isTotal() === false)) {
							lValueType = this.oResultSetInfo.getField()
									.getValueType();
							if (sap.firefly.XValueType.DATE
									.isEqualTo(lValueType)
									|| sap.firefly.XValueType.DATE_TIME
											.isEqualTo(lValueType)) {
								return true;
							}
						}
						return false;
					},
					isTime : function() {
						if (this.oResultDataCell !== null) {
							return this.oResultDataCell.isTime();
						}
						return false;
					},
					isNumber : function() {
						if (this.oResultDataCell !== null) {
							return this.oResultDataCell.isNumber();
						}
						return false;
					}
				});
$Firefly.createClass("sap.zen.Cell", sap.firefly.XObject, {
	$statics : {
		create : function(oXlsWorkbook, oXlsRow, rowIndex, columnIndex) {
			var loInstance = new sap.zen.Cell();
			loInstance.initMe(oXlsWorkbook, oXlsRow, rowIndex, columnIndex);
			return loInstance;
		}
	},
	oXlsWorkbook : null,
	oXlsRow : null,
	oXlsCell : null,
	rowIndex : 0,
	columnIndex : 0,
	value : null,
	formattedValue : null,
	formatString : null,
	formula : null,
	cellValueType : null,
	style : null,
	initMe : function(oXlsWorkbook, oXlsRow, rowIndex, columnIndex) {
		this.oXlsWorkbook = oXlsWorkbook;
		this.oXlsRow = oXlsRow;
		this.oXlsCell = this.oXlsWorkbook.addCell(this.oXlsRow);
		this.rowIndex = rowIndex;
		this.columnIndex = columnIndex;
	},
	getExcelRow : function() {
		return this.oXlsRow;
	},
	getExcelCell : function() {
		return this.oXlsCell;
	},
	getExcelCellRef : function() {
		return this.oXlsWorkbook.getCellRef(this.rowIndex - 1,
				this.columnIndex - 1);
	},
	getRowIndex : function() {
		return this.rowIndex;
	},
	getColumnIndex : function() {
		return this.columnIndex;
	},
	setCell : function(value, formattedValue, formatString, formula,
			cellValueType, style, rowspan, colspan) {
		this.value = value;
		this.formattedValue = formattedValue;
		this.formatString = formatString;
		this.formula = formula;
		this.cellValueType = cellValueType;
		this.style = style;
		this.oXlsWorkbook.setCell(this.oXlsCell, value, formattedValue,
				formatString, formula, cellValueType.toString(), style
						.toString(), rowspan, colspan);
	}
});
$Firefly.createClass("sap.zen.Row", sap.firefly.XObject, {
	$statics : {
		create : function(oXlsWorkbook, oXlsWorksheet, rowIndex) {
			var loInstance = new sap.zen.Row();
			loInstance.initMe(oXlsWorkbook, oXlsWorksheet, rowIndex);
			return loInstance;
		}
	},
	oXlsWorkbook : null,
	oXlsWorksheet : null,
	oXlsRow : null,
	rowIndex : 0,
	tColumns : null,
	currentColumnIndex : 0,
	initMe : function(oXlsWorkbook, oXlsWorksheet, rowIndex) {
		this.oXlsWorkbook = oXlsWorkbook;
		this.oXlsWorksheet = oXlsWorksheet;
		this.oXlsRow = this.oXlsWorkbook.createRow(this.oXlsWorksheet);
		this.rowIndex = rowIndex;
		this.tColumns = sap.firefly.XList.create();
	},
	getExcelWorksheet : function() {
		return this.oXlsWorksheet;
	},
	getExcelRow : function() {
		return this.oXlsRow;
	},
	getExcelCellRef : function(column) {
		return this.oXlsWorkbook.getCellRef(this.rowIndex - 1, column - 1);
	},
	getRowIndex : function() {
		return this.rowIndex;
	},
	getCurrentColumnIndex : function() {
		return this.currentColumnIndex;
	},
	getCell : function(columnIndex) {
		return this.tColumns.get(columnIndex - 1);
	},
	addCell : function() {
		var loCell;
		this.currentColumnIndex++;
		loCell = sap.zen.Cell.create(this.oXlsWorkbook, this.oXlsRow,
				this.rowIndex, this.currentColumnIndex);
		this.tColumns.add(loCell);
		return loCell;
	},
	addCellWithContent : function(value, formattedValue, formatString, formula,
			cellValueType, style, rowspan, colspan) {
		var loCell = this.addCell();
		loCell.setCell(value, formattedValue, formatString, formula,
				cellValueType, style, rowspan, colspan);
		return loCell;
	}
});
$Firefly.createClass("sap.zen.Workbook", sap.firefly.XObject, {
	$statics : {
		create : function(openOfficeType, allowStyles) {
			var loInstance = new sap.zen.Workbook();
			loInstance.initMe(openOfficeType, allowStyles);
			return loInstance;
		}
	},
	oXlsWorkbook : null,
	tWorksheets : null,
	currentWorksheet : 0,
	initMe : function(openOfficeType, allowStyles) {
		this.oXlsWorkbook = sap.buddha.XlsWorkbook.create(openOfficeType
				.getValue(), allowStyles);
		this.tWorksheets = sap.firefly.XList.create();
	},
	getWorksheet : function(sheetNumber) {
		return this.tWorksheets.get(sheetNumber - 1);
	},
	addWorksheet : function(sheetName) {
		var loWorksheet;
		this.currentWorksheet++;
		loWorksheet = sap.zen.Worksheet.create(this.oXlsWorkbook, sheetName);
		this.tWorksheets.add(loWorksheet);
		return loWorksheet;
	},
	save : function(filename) {
		this.oXlsWorkbook.save(filename);
	},
	getAsBinary : function() {
		return this.oXlsWorkbook.getAsBinary();
	}
});
$Firefly.createClass("sap.zen.Worksheet", sap.firefly.XObject, {
	$statics : {
		create : function(oXlsWorkbook, sheetName) {
			var loInstance = new sap.zen.Worksheet();
			loInstance.initMe(oXlsWorkbook, sheetName);
			return loInstance;
		}
	},
	oXlsWorkbook : null,
	oXlsWorksheet : null,
	sheetName : null,
	tRows : null,
	currentRowIndex : 0,
	initMe : function(workbook, sheetName) {
		this.oXlsWorkbook = workbook;
		this.sheetName = sheetName;
		this.oXlsWorksheet = this.oXlsWorkbook.addWorksheet(sheetName);
		this.tRows = sap.firefly.XList.create();
	},
	getExcelWorksheet : function() {
		return this.oXlsWorksheet;
	},
	getExcelCellRef : function(rowIndex, columnIndex) {
		return this.oXlsWorkbook.getCellRef(rowIndex - 1, columnIndex - 1);
	},
	getSheetName : function() {
		return this.sheetName;
	},
	getCurrentRowIndex : function() {
		return this.currentRowIndex;
	},
	getRow : function(rowIndex) {
		return this.tRows.get(rowIndex - 1);
	},
	getCell : function(rowIndex, columnIndex) {
		var loRow = this.tRows.get(rowIndex - 1);
		if (loRow !== null) {
			return loRow.getCell(columnIndex);
		}
		return null;
	},
	addRow : function() {
		var loRow;
		this.currentRowIndex++;
		loRow = sap.zen.Row.create(this.oXlsWorkbook, this.oXlsWorksheet,
				this.currentRowIndex);
		this.tRows.add(loRow);
		return loRow;
	},
	close : function() {
		this.oXlsWorkbook.closeWorkSheet(this.oXlsWorksheet);
	}
});
$Firefly.createClass("sap.zen.XpObject", sap.firefly.XObject, {
	oParent : null,
	initMe : function(oParent) {
		this.oParent = oParent;
	},
	getObjectType : function() {
		return sap.zen.CXpObjectType.UNDEFINED;
	},
	getParent : function() {
		return this.oParent;
	},
	setParent : function(oParent) {
		this.oParent = oParent;
	},
	getLayout : function() {
		return this;
	},
	getRows : function() {
		return 0;
	},
	getColumns : function() {
		return 0;
	},
	releaseObject : function() {
		this.oParent = null;
	}
});
$Firefly.createClass("sap.zen.AbsoluteLayoutComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.AbsoluteLayoutControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationAbsoluteLayoutMessages.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.ActionSheetComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ActionSheetControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationActionSheetMessages.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.ActionSheetListItem", sap.zen.ListItem, {
	icon : null,
	getIcon : function() {
		return this.icon;
	},
	setIcon : function(icon) {
		this.icon = icon;
	}
});
$Firefly.createClass("sap.zen.ApplicationPropertiesComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ApplicationPropertiesComponent();
			}
		});
$Firefly.createClass("sap.zen.ButtonComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ButtonControl();
			}
		});
$Firefly.createClass("sap.zen.CheckboxComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.CheckboxControl();
			}
		});
$Firefly.createClass("sap.zen.ClickPaneComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ClickPaneControl();
			}
		});
$Firefly.createClass("sap.zen.ConditionsDialogComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ConditionsDialog();
			}
		});
$Firefly
		.createClass(
				"sap.zen.CContextMenuContext",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "CONTEXT",
						DIMENSION : null,
						DIMENSION_MEMBER : null,
						ATTRIBUTE : null,
						DATA_CELL : null,
						FIELD : null,
						staticSetup : function() {
							if (sap.zen.CContextMenuContext.DIMENSION !== null) {
								return;
							}
							sap.zen.CContextMenuContext.DIMENSION = sap.zen.CContextMenuContext
									.create("DIMENSION");
							sap.zen.CContextMenuContext.DIMENSION_MEMBER = sap.zen.CContextMenuContext
									.create("DIMENSION_MEMBER");
							sap.zen.CContextMenuContext.ATTRIBUTE = sap.zen.CContextMenuContext
									.create("ATTRIBUTE");
							sap.zen.CContextMenuContext.DATA_CELL = sap.zen.CContextMenuContext
									.create("DATA_CELL");
							sap.zen.CContextMenuContext.FIELD = sap.zen.CContextMenuContext
									.create("FIELD");
						},
						create : function(value) {
							var loInstance = new sap.zen.CContextMenuContext();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.CContextMenuContext.ENUM_TYPE,
									value);
						}
					},
					getEnumType : function() {
						return sap.zen.CContextMenuContext.ENUM_TYPE;
					},
					equals : function(value) {
						return (sap.firefly.XString.compare(this.getValue(),
								value.getValue()) === 0);
					}
				});
$Firefly
		.createClass(
				"sap.zen.CContextMenuDialog",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "DIALOG",
						NUMBER_FORMAT : null,
						HIERARCHY : null,
						HIERARCHY_LEVEL : null,
						DIMENSIONS : null,
						staticSetup : function() {
							if (sap.zen.CContextMenuDialog.NUMBER_FORMAT !== null) {
								return;
							}
							sap.zen.CContextMenuDialog.NUMBER_FORMAT = sap.zen.CContextMenuDialog
									.create("number_format");
							sap.zen.CContextMenuDialog.HIERARCHY = sap.zen.CContextMenuDialog
									.create("hierarchy");
							sap.zen.CContextMenuDialog.HIERARCHY_LEVEL = sap.zen.CContextMenuDialog
									.create("hierarchy_level");
							sap.zen.CContextMenuDialog.DIMENSIONS = sap.zen.CContextMenuDialog
									.create("dimensions");
						},
						create : function(value) {
							var loInstance = new sap.zen.CContextMenuDialog();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum
									.valueOf(
											sap.zen.CContextMenuDialog.ENUM_TYPE,
											value);
						}
					},
					getEnumType : function() {
						return sap.zen.CContextMenuDialog.ENUM_TYPE;
					},
					equals : function(value) {
						return (sap.firefly.XString.compare(this.getValue(),
								value.getValue()) === 0);
					}
				});
$Firefly
		.createClass(
				"sap.zen.CContextMenuMode",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "MODE",
						DEFAULT : null,
						CROSSTAB : null,
						NAVIGATION_PANEL : null,
						GET_HIERACRHIES : null,
						staticSetup : function() {
							if (sap.zen.CContextMenuMode.DEFAULT !== null) {
								return;
							}
							sap.zen.CContextMenuMode.DEFAULT = sap.zen.CContextMenuMode
									.create("DEFAULT");
							sap.zen.CContextMenuMode.CROSSTAB = sap.zen.CContextMenuMode
									.create("CROSSTAB");
							sap.zen.CContextMenuMode.NAVIGATION_PANEL = sap.zen.CContextMenuMode
									.create("NAVIGATION_PANEL");
							sap.zen.CContextMenuMode.GET_HIERACRHIES = sap.zen.CContextMenuMode
									.create("GET_HIERACRHIES");
						},
						create : function(value) {
							var loInstance = new sap.zen.CContextMenuMode();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.CContextMenuMode.ENUM_TYPE, value);
						}
					},
					getEnumType : function() {
						return sap.zen.CContextMenuMode.ENUM_TYPE;
					},
					equals : function(value) {
						return (sap.firefly.XString.compare(this.getValue(),
								value.getValue()) === 0);
					}
				});
$Firefly.createClass("sap.zen.ContextMenuComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ContextMenuControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationContextMenuMessages.staticSetup();
				sap.zen.CLocalizationContextMenuTexts.staticSetup();
				sap.zen.CContextMenuMode.staticSetup();
				sap.zen.CContextMenuContext.staticSetup();
				sap.zen.CContextMenuDialog.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.DatefieldComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.DatefieldControl();
			}
		});
$Firefly.createClass("sap.zen.DesignStudioComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.DesignStudioControl();
			}
		});
$Firefly.createClass("sap.zen.DialogComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.DialogControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationDialogTexts.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.FilterBarComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.FilterBarControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationFilterBarTexts.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.FilterBarClassicComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.FilterBarClassicControl();
			}
		});
$Firefly.createClass("sap.zen.DimensionFilterComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.DimensionFilterComponent();
			},
			getDefaultWidthAsString : function() {
				return "300";
			},
			getDefaultHeightAsString : function() {
				return "45";
			},
			staticSetup : function() {
				sap.zen.CLocalizationFilterMessages.staticSetup();
				sap.zen.CLocalizationFilterTexts.staticSetup();
				sap.zen.Axis.staticSetup();
				sap.zen.FilterType.staticSetup();
				sap.zen.Type.staticSetup();
				sap.zen.FilterPage.staticSetup();
				sap.zen.TabType.staticSetup();
				sap.zen.View.staticSetup();
				sap.zen.PageObject.staticSetup();
				sap.zen.FilterConfig.staticSetup();
				sap.zen.FPMemberDisplay.staticSetup();
				sap.zen.Appearance.staticSetup();
				sap.zen.Dock.staticSetup();
				sap.zen.ConfigContainer.staticSetup();
				sap.zen.CharacteristicConfig.staticSetup();
				sap.zen.PanelMode.staticSetup();
				sap.zen.CharacteristicConfig.staticSetup();
				sap.zen.RangeConfig.staticSetup();
				sap.zen.Range.staticSetup();
				sap.zen.Operation.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.FilterPanelComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.FilterPanelComponent();
			},
			staticSetup : function() {
				sap.zen.CLocalizationFilterMessages.staticSetup();
				sap.zen.CLocalizationFilterTexts.staticSetup();
				sap.zen.Axis.staticSetup();
				sap.zen.FilterType.staticSetup();
				sap.zen.Type.staticSetup();
				sap.zen.FilterPage.staticSetup();
				sap.zen.TabType.staticSetup();
				sap.zen.View.staticSetup();
				sap.zen.PageObject.staticSetup();
				sap.zen.FilterConfig.staticSetup();
				sap.zen.FPMemberDisplay.staticSetup();
				sap.zen.Appearance.staticSetup();
				sap.zen.Dock.staticSetup();
				sap.zen.ConfigContainer.staticSetup();
				sap.zen.CharacteristicConfig.staticSetup();
				sap.zen.PanelMode.staticSetup();
				sap.zen.CharacteristicConfig.staticSetup();
				sap.zen.RangeConfig.staticSetup();
				sap.zen.NavigationPanelMode.staticSetup();
				sap.zen.DirectInput.staticSetup();
				sap.zen.Range.staticSetup();
				sap.zen.Operation.staticSetup();
			},
			getDefaultWidthAsString : function() {
				return "350";
			},
			getDefaultHeightAsString : function() {
				return "500";
			}
		});
$Firefly.createClass("sap.zen.NavigationPanelComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.NavigationPanelComponent();
			},
			staticSetup : function() {
				sap.zen.CLocalizationFilterMessages.staticSetup();
				sap.zen.CLocalizationFilterTexts.staticSetup();
				sap.zen.Axis.staticSetup();
				sap.zen.FilterType.staticSetup();
				sap.zen.Type.staticSetup();
				sap.zen.FilterPage.staticSetup();
				sap.zen.TabType.staticSetup();
				sap.zen.View.staticSetup();
				sap.zen.PageObject.staticSetup();
				sap.zen.FilterConfig.staticSetup();
				sap.zen.FPMemberDisplay.staticSetup();
				sap.zen.Appearance.staticSetup();
				sap.zen.Dock.staticSetup();
				sap.zen.ConfigContainer.staticSetup();
				sap.zen.CharacteristicConfig.staticSetup();
				sap.zen.PanelMode.staticSetup();
				sap.zen.CharacteristicConfig.staticSetup();
				sap.zen.RangeConfig.staticSetup();
				sap.zen.Range.staticSetup();
				sap.zen.Operation.staticSetup();
			},
			getDefaultWidthAsString : function() {
				return "350";
			},
			getDefaultHeightAsString : function() {
				return "500";
			}
		});
$Firefly
		.createClass("sap.zen.FilterPage", sap.zen.XEnum,
				{
					$statics : {
						FILTERPAGE : null,
						MAIN : null,
						SELECTOR : null,
						staticSetup : function() {
							sap.zen.FilterPage.FILTERPAGE = "FILTERPAGE";
							sap.zen.FilterPage.MAIN = sap.zen.FilterPage
									.create("MAIN");
							sap.zen.FilterPage.SELECTOR = sap.zen.FilterPage
									.create("SELECTOR");
						},
						create : function(value) {
							var xEnum = new sap.zen.FilterPage();
							xEnum.setValue(value);
							return xEnum;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.FilterPage.FILTERPAGE, value);
						}
					},
					equals : function(type) {
						return (sap.firefly.XString.compare(this.getValue(),
								type.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.FilterPage.FILTERPAGE;
					}
				});
$Firefly
		.createClass(
				"sap.zen.AbstractVariableWrapper",
				sap.firefly.XObject,
				{
					variable : null,
					memberCache : null,
					dataSourceName : null,
					initMe : function(variable, dataSourceName) {
						if (variable === null) {
							throw sap.firefly.XException
									.createIllegalStateException("The variable should not be null");
						}
						this.variable = variable;
						this.dataSourceName = dataSourceName;
					},
					getName : function() {
						return sap.zen.VariableContainerWrapper
								.getFullVariableName(this.dataSourceName,
										this.variable.getName());
					},
					getNameForSelector : function() {
						var name = this.variable.getName();
						return name;
					},
					getText : function() {
						return this.variable.getText();
					},
					getAxis : function() {
						return sap.zen.Axis.FREE;
					},
					getConfig : function() {
						return null;
					},
					getSearchString : function() {
						return "";
					},
					isSearchStringEmpty : function() {
						return true;
					},
					getNode : function(key) {
						return null;
					},
					supportsSelection : function() {
						return true;
					},
					supportsMultiSelection : function() {
						return false;
					},
					supportsInterval : function() {
						return false;
					},
					supportsRange : function() {
						return false;
					},
					supportsExit : function() {
						return false;
					},
					supportsNodeSelection : function() {
						return false;
					},
					supportsPattern : function() {
						return false;
					},
					supportsExcluding : function() {
						return false;
					},
					supportsStringInput : function() {
						return false;
					},
					setRangeQuery : function(from, to, exclude) {
					},
					isCharacteristicHierarchical : function() {
						return false;
					},
					getHierarchyExpandLevel : function() {
						return 0;
					},
					hasMoreThanMaxElements : function() {
						return sap.firefly.XBooleanValue.create(false);
					},
					setMaxMembers : function(maxMembers) {
					},
					setSearchString : function(searchString) {
					},
					checkValue : function() {
						return false;
					},
					getInternalKey : function() {
						return "";
					},
					resetQuery : function() {
						if (this.variable.getVariableType().isTypeOf(
								sap.firefly.VariableType.SIMPLE_TYPE_VARIABLE)) {
							(this.variable).clearValues();
						}
					},
					setValueok : function(value) {
					},
					fillMemberCache : function() {
						this.memberCache = this.getMembers();
					},
					getMembers : function() {
						return this.memberCache;
					},
					isMandatory : function() {
						return this.variable.isMandatory();
					},
					getMemberType : function() {
						return sap.zen.Type.STRING;
					},
					getMember : function(key) {
						return null;
					},
					getSelectionStateMembers : function() {
						return null;
					},
					supportsValueHelp : function() {
						return false;
					},
					isMeasureStructure : function() {
						return false;
					},
					getAllSelections : function() {
						var selectionStateMembers = this
								.getSelectionStateMembers();
						return this
								.getAllSelectionsInternal(selectionStateMembers);
					},
					getAllSelectionsInternal : function(members) {
						var ranges = sap.firefly.XList.create();
						var i;
						var memberWrapper;
						var range;
						for (i = 0; i < members.size(); i++) {
							memberWrapper = members.get(i);
							range = new sap.zen.Range();
							range.initMe2(memberWrapper);
							ranges.add(range);
						}
						return ranges;
					},
					parseFullRangeQuery : function(tFullRanges) {
						return tFullRanges;
					},
					parseFullRangeQueryByField : function(oField, tFullRanges) {
						return tFullRanges;
					},
					addInputString : function(inputString) {
						return this.setInternalKey(inputString);
					},
					toString : function() {
						return sap.firefly.XStringUtils.concatenate5(
								"VariableWrapper for ", this.getName(), " (",
								this.getText(), ")");
					},
					getValueAsText : function() {
					},
					getValueType : function() {
					},
					hasSelectionState : function() {
					},
					parseInputString : function(arg1) {
					},
					setFullRangeQuery : function(arg1) {
					},
					setFullRangeQueryByField : function(arg1, arg2) {
					},
					setInputString : function(arg1) {
					},
					setInternalKey : function(arg1) {
					}
				});
$Firefly.createClass("sap.zen.Axis", sap.zen.XEnum,
		{
			$statics : {
				AXIS : null,
				ROWS : null,
				COLUMNS : null,
				FREE : null,
				staticSetup : function() {
					sap.zen.Axis.AXIS = "AXIS";
					sap.zen.Axis.ROWS = sap.zen.Axis.create("ROWS");
					sap.zen.Axis.COLUMNS = sap.zen.Axis.create("COLUMNS");
					sap.zen.Axis.FREE = sap.zen.Axis.create("FREE");
				},
				create : function(value) {
					var xEnum = new sap.zen.Axis();
					xEnum.setValue(value);
					return xEnum;
				},
				valueOf2 : function(value) {
					return sap.zen.XEnum.valueOf(sap.zen.Axis.AXIS, value);
				}
			},
			equals : function(type) {
				return (sap.firefly.XString.compare(this.getValue(), type
						.getValue()) === 0);
			},
			getEnumType : function() {
				return sap.zen.Axis.AXIS;
			}
		});
$Firefly
		.createClass(
				"sap.zen.CharacteristicWrapper",
				sap.firefly.XObject,
				{
					$statics : {
						MAX_ELEMENTS_DEFAULT : 100,
						getInstance : function(ds, dimension) {
							var lWrapper = new sap.zen.CharacteristicWrapper();
							lWrapper.oSourceQueryModel = dimension
									.getQueryModel();
							lWrapper.characteristicName = dimension.getName();
							lWrapper.memberDisplay = sap.zen.FPMemberDisplay.KEY_TEXT;
							lWrapper.maxMembers = 1000;
							lWrapper.oMemberCache = sap.zen.MemberCache.create(
									ds, dimension.getName());
							return lWrapper;
						}
					},
					oMessageWriter : null,
					variableMode : false,
					oSourceQueryModel : null,
					oDataSource : null,
					characteristicName : null,
					tTargetCharacteristicsQueryViews : null,
					oConfig : null,
					memberDisplay : null,
					maxMembers : 0,
					moreThanMaxElements : null,
					tempMemberCache : null,
					oMemberCache : null,
					searchString : null,
					valueok : false,
					initMe : function(dataSource, characteristic, config,
							targetCharacteristicsQueryViews, memberDisplay,
							messageWriter, variableMode) {
						if (characteristic === null) {
							throw sap.firefly.XException
									.createIllegalArgumentException("The characteristic should not be null");
						}
						this.oMemberCache = sap.zen.MemberCache.create(
								dataSource, characteristic.getName());
						this.oMessageWriter = messageWriter;
						this.variableMode = variableMode;
						this.oDataSource = dataSource;
						this.oSourceQueryModel = dataSource.getQueryManager()
								.getQueryModel();
						this.setValueok(true);
						this.characteristicName = characteristic.getName();
						if (targetCharacteristicsQueryViews === null) {
							this.tTargetCharacteristicsQueryViews = sap.firefly.XList
									.create();
						} else {
							this.tTargetCharacteristicsQueryViews = targetCharacteristicsQueryViews;
						}
						if (config === null) {
							config = sap.zen.CharacteristicConfig.instance(this
									.getDimension().getName());
						}
						this.oConfig = config;
						this.memberDisplay = memberDisplay;
						this.maxMembers = sap.zen.CharacteristicWrapper.MAX_ELEMENTS_DEFAULT;
						if (!this.supportsValueHelp()) {
							sap.zen.CLocalizationFilterMessages.NO_VALUEHELP
									.addMessageToMessageHandler(
											this.oMessageWriter,
											sap.firefly.Severity.INFO,
											characteristic.getName(), null,
											null);
						}
					},
					openContextMenu : function(dataSource, contextMenu,
							sourceComponentName) {
						var loDimension = sap.zen.DimensionWrapper
								.create(dataSource, null, this.getDimension()
										.getName());
						contextMenu.openMenuForDimension(sourceComponentName,
								sap.zen.CContextMenuMode.NAVIGATION_PANEL,
								loDimension);
					},
					getVariable : function() {
						return null;
					},
					getDimension : function() {
						return this.oSourceQueryModel
								.getDimensionByName(this.characteristicName);
					},
					getName : function() {
						return this.characteristicName;
					},
					getNameForSelector : function() {
						return this.getName();
					},
					getText : function() {
						var lText = this.getDimension().getText();
						if (sap.firefly.XString.size(lText) === 0) {
							lText = this.getName();
						}
						return lText;
					},
					getAxis : function() {
						var lDimension = this.getDimension();
						var lAxis;
						if (lDimension !== null) {
							lAxis = lDimension.getAxis();
							if (lAxis === null) {
								return sap.zen.Axis.FREE;
							}
							return sap.zen.Axis.valueOf2(sap.firefly.XString
									.convertToUpperCase(lAxis.getType()
											.getName()));
						}
						return sap.zen.Axis.FREE;
					},
					getValueType : function() {
						return this.getDimension().getKeyField().getValueType();
					},
					getMemberType : function() {
						return sap.zen.MemberWrapper.getMemberType(this
								.getDimension().getKeyField().getValueType());
					},
					isCompound : function() {
						return this.getDimension().isCompound();
					},
					getConfig : function() {
						return this.oConfig;
					},
					supportsValueHelp : function() {
						return true;
					},
					supportsSelection : function() {
						return true;
					},
					supportsMultiSelection : function() {
						var lSelectionCapabilities;
						if (this.oDataSource !== null
								&& this.oDataSource.isHanaSystem()) {
							return true;
						}
						lSelectionCapabilities = this.getDimension()
								.getSelectionCapabilities();
						return lSelectionCapabilities.supportsMultipleValues();
					},
					supportsInterval : function() {
						return !this.getDimension().isMeasureStructure();
					},
					supportsRange : function() {
						return !this.getDimension().isMeasureStructure();
					},
					supportsExit : function() {
						return true;
					},
					supportsNodeSelection : function() {
						return true;
					},
					supportsPattern : function() {
						return false;
					},
					supportsExcluding : function() {
						var lDimension;
						var field;
						var lSelectionCapabilities;
						if (this.isMeasureStructure()) {
							return true;
						}
						lDimension = this.getDimension();
						field = null;
						if (this.isCompound()
								&& !this.isCharacteristicHierarchical()) {
							field = lDimension
									.getFirstFieldByType(sap.firefly.PresentationType.KEY_NOT_COMPOUND);
						} else {
							field = lDimension.getKeyField();
						}
						lSelectionCapabilities = lDimension
								.getSelectionCapabilities()
								.getSelectionCapabilitiesByField(field);
						return lSelectionCapabilities
								.supportsSetSign(sap.firefly.SetSign.EXCLUDING);
					},
					supportsStringInput : function() {
						return false;
					},
					isMandatory : function() {
						return false;
					},
					isMeasureStructure : function() {
						var lDimension = this.getDimension();
						if (lDimension !== null && lDimension.isStructure()) {
							return lDimension.containsMeasures();
						}
						return false;
					},
					isCharacteristicHierarchical : function() {
						var lIsHierarchical = false;
						var lDimension = this.getDimension();
						if (lDimension !== null) {
							lIsHierarchical = lDimension.supportsHierarchy()
									&& lDimension.isHierarchyAssigned()
									&& sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(lDimension
													.getHierarchyName());
						}
						return lIsHierarchical;
					},
					getHierarchyExpandLevel : function() {
						var lHierarchy;
						var lInitialDrillLevel;
						if (this.isCharacteristicHierarchical()) {
							lHierarchy = this.getDimension().getHierarchy();
							lInitialDrillLevel = lHierarchy
									.getDefaultDrillLevel();
							return lInitialDrillLevel;
						}
						return -1;
					},
					getSearchString : function() {
						return this.searchString;
					},
					isSearchStringEmpty : function() {
						return this.isSearchStringEmpty1(this.searchString);
					},
					isSearchStringEmpty1 : function(searchString) {
						return this.isStringEmpty(searchString)
								|| sap.firefly.XString.isEqual("*",
										sap.firefly.XString.trim(searchString));
					},
					isStringEmpty : function(stringValue) {
						return (stringValue === null)
								|| sap.firefly.XString.isEqual("",
										sap.firefly.XString.trim(stringValue));
					},
					setSearchString : function(searchString) {
						this.searchString = searchString;
					},
					getMemberSearchString : function(searchString) {
						var lSearchString;
						if (searchString !== null) {
							if (sap.firefly.XString.containsString(
									searchString, "*")) {
								return searchString;
							}
							lSearchString = sap.firefly.XString.concatenate2(
									"*", searchString);
							lSearchString = sap.firefly.XString.concatenate2(
									lSearchString, "*");
							return lSearchString;
						}
						return null;
					},
					checkValue : function() {
						return this.valueok;
					},
					setValueok : function(value) {
						this.valueok = value;
					},
					setMaxMembers : function(maxMembers) {
						if (maxMembers < 1) {
							this.maxMembers = sap.zen.CharacteristicWrapper.MAX_ELEMENTS_DEFAULT;
						} else {
							this.maxMembers = maxMembers;
						}
					},
					hasMoreThanMaxElements : function() {
						if (this.moreThanMaxElements === null) {
							this.moreThanMaxElements = sap.firefly.XBooleanValue
									.create(false);
						}
						return this.moreThanMaxElements;
					},
					fillMemberCache : function() {
						var i;
						var lMemberWrapper;
						this.tempMemberCache = this.getMembers();
						if (this.tempMemberCache !== null
								&& !this.tempMemberCache.isEmpty()) {
							for (i = 0; i < this.tempMemberCache.size(); i++) {
								lMemberWrapper = this.tempMemberCache.get(i);
								this.oMemberCache
										.putMemberWrapper(lMemberWrapper);
							}
						}
					},
					getMembers : function() {
						var ltMembers;
						if (this.getMemberType() === sap.zen.Type.DATE) {
							return sap.firefly.XList.create();
						}
						ltMembers = null;
						if (this.tempMemberCache !== null) {
							ltMembers = this.tempMemberCache;
							this.tempMemberCache = null;
						} else {
							ltMembers = this.getMembers1(this.searchString);
						}
						return ltMembers;
					},
					getMembers1 : function(searchString) {
						var ltDimensionMembers = sap.firefly.XList.create();
						var lDimension = this.getDimension();
						var ltSelectorFields;
						var ltMembers;
						var lMemberIndex;
						var lMemberSearchString;
						var selectionForText;
						var lSearchStringValid;
						var lKeyField;
						var lKeySearchString;
						var dimensionMemberTemp;
						lDimension.clearSelectorSelections();
						lDimension.setSelectorPagingEnd(this.maxMembers + 1);
						ltSelectorFields = lDimension.getSelectorFields();
						ltSelectorFields.clear();
						if (this.memberDisplay !== sap.zen.FPMemberDisplay.TEXT) {
							if (this.isCompound()) {
								ltSelectorFields
										.add(lDimension
												.getFirstFieldByType(sap.firefly.PresentationType.KEY_NOT_COMPOUND));
								ltSelectorFields
										.add(lDimension
												.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND));
							} else {
								ltSelectorFields.add(lDimension
										.getSelectorDisplayKeyField());
							}
						}
						if (this.memberDisplay !== sap.zen.FPMemberDisplay.KEY
								&& this.getMemberType() !== sap.zen.Type.DATE) {
							ltSelectorFields.add(lDimension.getTextField());
						}
						lMemberIndex = 0;
						if (this.isCharacteristicHierarchical()
								&& this.isSearchStringEmpty1(searchString)) {
							lDimension.clearSelectorHierarchyNode();
							lDimension.setSelectorHierarchyActive(true);
							lDimension.setSelectorRootExpandingLevels(0);
							return this.getMembers2(this
									.getAllMembersHierarchical());
						} else {
							if (!this.isSearchStringEmpty1(searchString)) {
								lMemberSearchString = this
										.getMemberSearchString(searchString);
								if (this.memberDisplay !== sap.zen.FPMemberDisplay.KEY
										&& this.getMemberType() !== sap.zen.Type.HIERARCHY) {
									if (lDimension.getSelectorTextField() !== null) {
										selectionForText = lDimension
												.addSelectorSelectionForText(
														lMemberSearchString,
														sap.firefly.ComparisonOperator.MATCH);
										if (selectionForText !== null) {
											ltMembers = this
													.getAllMembers(true);
											if (ltMembers !== null) {
												for (lMemberIndex = 0; lMemberIndex < ltMembers
														.size(); lMemberIndex++) {
													ltDimensionMembers
															.add(ltMembers
																	.get(lMemberIndex));
												}
											}
										}
										lDimension.clearSelectorSelections();
									}
								}
								if (this.memberDisplay !== sap.zen.FPMemberDisplay.TEXT) {
									lSearchStringValid = true;
									if (lDimension.getQueryModel()
											.getQueryManager()
											.getSystemDescription()
											.getSystemType() !== sap.firefly.SystemType.HANA
											&& this.getMemberType() !== sap.zen.Type.HIERARCHY) {
										lKeyField = lDimension
												.getSelectorDisplayKeyField();
										if (this.isCompound()) {
											lKeyField = lDimension
													.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND);
										}
										if (lKeyField !== null) {
											lKeySearchString = null;
											if (!lDimension.supportsLowerCase()
													|| lKeyField.getValueType() === sap.firefly.XValueType.UPPER_CASE_STRING) {
												lKeySearchString = sap.firefly.XString
														.convertToUpperCase(lMemberSearchString);
											} else {
												if (lKeyField.getValueType() === sap.firefly.XValueType.LOWER_CASE_STRING) {
													lKeySearchString = sap.firefly.XString
															.convertToLowerCase(lMemberSearchString);
												} else {
													lKeySearchString = lMemberSearchString;
												}
											}
											lDimension
													.addSelectorSelection(
															sap.firefly.XStringValue
																	.create(lKeySearchString),
															lKeyField,
															sap.firefly.ComparisonOperator.MATCH);
										}
									} else {
										if (lDimension.getKeyField()
												.getValueType() === sap.firefly.XValueType.STRING) {
											lDimension
													.addSelectorSelectionForKey(
															lMemberSearchString,
															sap.firefly.ComparisonOperator.MATCH);
										} else {
											try {
												lDimension
														.addSelectorSelectionForKey(
																searchString,
																sap.firefly.ComparisonOperator.EQUAL);
											} catch (e) {
												lSearchStringValid = false;
											}
										}
									}
									if (lSearchStringValid) {
										ltMembers = this.getAllMembers(true);
										if (ltMembers !== null) {
											for (lMemberIndex = 0; lMemberIndex < ltMembers
													.size(); lMemberIndex++) {
												dimensionMemberTemp = ltMembers
														.get(lMemberIndex)
														.getDimensionMember();
												if (!ltDimensionMembers
														.contains(dimensionMemberTemp)) {
													ltDimensionMembers
															.add(dimensionMemberTemp);
												}
											}
										}
									}
									lDimension.clearSelectorSelections();
								}
							} else {
								ltMembers = this.getAllMembers(true);
								if (ltMembers !== null) {
									for (lMemberIndex = 0; lMemberIndex < ltMembers
											.size(); lMemberIndex++) {
										ltDimensionMembers.add(ltMembers
												.get(lMemberIndex));
									}
								}
							}
						}
						if (ltDimensionMembers.isEmpty()) {
							return null;
						}
						return this.getMembers3(ltDimensionMembers);
					},
					getMembers2 : function(members) {
						var ltMemberWrappers = sap.firefly.XList.create();
						var lMemberIndex;
						var lMember;
						var lMemberWrapper;
						for (lMemberIndex = 0; lMemberIndex < members.size(); lMemberIndex++) {
							lMember = members.get(lMemberIndex);
							lMemberWrapper = new sap.zen.MemberWrapper();
							lMemberWrapper.initMe2(lMember, this.variableMode,
									this.getDimension(), this.oMemberCache,
									this.getVariable());
							ltMemberWrappers.add(lMemberWrapper);
							if (lMember.getDrillState() !== sap.firefly.DrillState.LEAF) {
								this.oMemberCache
										.putMemberWrapper(lMemberWrapper);
							}
						}
						return ltMemberWrappers;
					},
					getMembers3 : function(members) {
						var ltMemberWrappers = sap.firefly.XList.create();
						var lMemberIndex;
						var lDimensionMember;
						var lMemberWrapper;
						for (lMemberIndex = 0; lMemberIndex < members.size(); lMemberIndex++) {
							lDimensionMember = members.get(lMemberIndex);
							lMemberWrapper = new sap.zen.MemberWrapper();
							lMemberWrapper.initMe(lDimensionMember,
									this.variableMode, this.getDimension());
							ltMemberWrappers.add(lMemberWrapper);
						}
						return ltMemberWrappers;
					},
					getMembers4 : function(cartesianList) {
						var ltMemberWrappers;
						var lDimensionMemberLow;
						var lDimensionMemberHigh;
						var lValue;
						var lLowValue;
						var lHighValue;
						var lCartesianListIndex;
						var lFilterOperation;
						var field;
						var lOperator;
						var lMemberWrapper;
						if (cartesianList === null) {
							return sap.firefly.XList.create();
						}
						ltMemberWrappers = sap.firefly.XList.create();
						lDimensionMemberLow = null;
						lDimensionMemberHigh = null;
						lValue = null;
						lLowValue = null;
						lHighValue = null;
						for (lCartesianListIndex = 0; lCartesianListIndex < cartesianList
								.size(); lCartesianListIndex++) {
							lValue = null;
							lFilterOperation = cartesianList
									.getOp(lCartesianListIndex);
							field = lFilterOperation.getField();
							lOperator = lFilterOperation
									.getComparisonOperator();
							if (lOperator
									.isEqualTo(sap.firefly.ComparisonOperator.EQUAL)) {
								lValue = lFilterOperation.getLow();
							} else {
								if (lOperator
										.isEqualTo(sap.firefly.ComparisonOperator.BETWEEN)
										|| lOperator
												.isEqualTo(sap.firefly.ComparisonOperator.BETWEEN_EXCLUDING)
										|| lOperator
												.isEqualTo(sap.firefly.ComparisonOperator.NOT_BETWEEN)
										|| lOperator
												.isEqualTo(sap.firefly.ComparisonOperator.NOT_BETWEEN_EXCLUDING)) {
									lLowValue = lFilterOperation.getLow();
									lHighValue = lFilterOperation.getHigh();
									if (lLowValue !== null
											&& lHighValue !== null) {
										lDimensionMemberLow = lLowValue
												.getDimensionMember();
										lDimensionMemberHigh = lHighValue
												.getDimensionMember();
										if (lLowValue.getValue().isEqualTo(
												lHighValue.getValue())
												&& ((lDimensionMemberLow === null && lDimensionMemberHigh === null) || (lDimensionMemberLow !== null && lDimensionMemberLow
														.isEqualTo(lDimensionMemberHigh)))) {
											lValue = lLowValue;
										}
									}
								}
							}
							if (lValue !== null) {
								lMemberWrapper = new sap.zen.MemberWrapper();
								lMemberWrapper.initMe3(lValue,
										this.variableMode, this.getDimension(),
										field);
								ltMemberWrappers.add(lMemberWrapper);
							}
						}
						return ltMemberWrappers;
					},
					getAllMembers : function(checkLimit) {
						var ltDimensionMembers = sap.firefly.XList.create();
						var lResult = this.processValueHelp();
						var ltData;
						var lNotCompoundedField;
						var ltNotCompoundedKeys;
						var lMemberIndex;
						var lDimensionMember;
						var lFieldValue;
						var newWrapper;
						if (!lResult.isValid()) {
							return ltDimensionMembers;
						}
						ltData = lResult.getData();
						if (checkLimit) {
							this.moreThanMaxElements = sap.firefly.XBooleanValue
									.create(ltData.size() > this.maxMembers);
							if (ltData.size() > this.maxMembers) {
								return null;
							}
						}
						lNotCompoundedField = this
								.getDimension()
								.getFirstFieldByType(
										sap.firefly.PresentationType.KEY_NOT_COMPOUND);
						ltNotCompoundedKeys = sap.firefly.XHashSetOfString
								.create();
						for (lMemberIndex = 0; lMemberIndex < ltData.size(); lMemberIndex++) {
							lDimensionMember = ltData.get(lMemberIndex)
									.getDimensionMember();
							if (this
									.isMemberAllowedForSelection(lDimensionMember)) {
								if (lNotCompoundedField !== null) {
									lFieldValue = lDimensionMember
											.getFieldValue(lNotCompoundedField)
											.getStringValue();
									if (ltNotCompoundedKeys
											.contains(lFieldValue)) {
										continue;
									}
									ltNotCompoundedKeys.put(lFieldValue);
								}
								ltDimensionMembers.add(lDimensionMember);
								newWrapper = new sap.zen.MemberWrapper();
								newWrapper.initMe(lDimensionMember,
										this.variableMode, this.getDimension());
								this.oMemberCache.putMemberWrapper(newWrapper);
							}
						}
						return ltDimensionMembers;
					},
					isMemberAllowedForSelection : function(member) {
						return true;
					},
					processValueHelp : function() {
						return this.getDimension().processMemberHelp(
								sap.firefly.SyncType.BLOCKING, null, null);
					},
					getAllMembersHierarchical : function() {
						var lResult = this.processValueHelp();
						if (lResult.isValid()) {
							return lResult.getData();
						}
						throw sap.firefly.XException
								.createRuntimeException(lResult.getSummary());
					},
					getMember : function(key) {
						var lDimensionMember = this.getMemberOrNode(this
								.getDimension(), key);
						var lMemberWrapper;
						if (lDimensionMember === null) {
							return null;
						}
						lMemberWrapper = new sap.zen.MemberWrapper();
						lMemberWrapper.initMe(lDimensionMember,
								this.variableMode, this.getDimension());
						return lMemberWrapper;
					},
					getNode : function(key) {
						return this.oMemberCache.getMemberWrapper(key, false);
					},
					getMemberOrNode : function(dimension, memberKey) {
						var lMemberWrapper;
						if (dimension === null) {
							dimension = this.getDimension();
						}
						if (memberKey === null
								|| sap.firefly.XString.size(memberKey) === 0) {
							return null;
						}
						lMemberWrapper = this.oMemberCache.getMemberWrapper(
								memberKey, false);
						if (lMemberWrapper !== null) {
							return lMemberWrapper.getMember();
						}
						try {
							return dimension.getDimensionMember(memberKey,
									false);
						} catch (e) {
							sap.zen.CLocalizationFilterMessages.NO_MEMBER_FOR_KEY
									.addMessageToMessageHandler(
											this.oMessageWriter,
											sap.firefly.Severity.WARNING,
											dimension.getName(), memberKey,
											null);
						}
						return null;
					},
					getValueAsText : function() {
						var members = this.getSelectionStateMembers();
						var memberWrapper;
						if (members !== null && members.size() === 1) {
							memberWrapper = members.get(0);
							return memberWrapper.getText();
						}
						return "";
					},
					getMembersByKeys : function(keys, useDisplayKey) {
						var members;
						var newKeys;
						var i;
						var key;
						var wrapper;
						var lDimension;
						var lField;
						var membersByField;
						var j;
						var dimensionMember;
						if (keys === null || keys.isEmpty()
								|| !this.supportsValueHelp()) {
							return sap.firefly.XList.create();
						}
						members = sap.firefly.XList.create();
						newKeys = sap.firefly.XListOfString.create();
						for (i = 0; i < keys.size(); i++) {
							key = keys.get(i);
							if (key === null) {
								continue;
							}
							wrapper = this.oMemberCache.getMemberWrapper(key,
									useDisplayKey);
							if (wrapper !== null) {
								members.add(wrapper.getMember());
							} else {
								newKeys.add(key);
							}
						}
						lDimension = this.getDimension();
						lDimension.setSelectorHierarchyActive(this
								.isCharacteristicHierarchical());
						lField = null;
						if (useDisplayKey) {
							if (this.isCompound()) {
								lField = lDimension
										.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND);
							} else {
								lField = lDimension
										.getSelectorDisplayKeyField();
							}
						} else {
							if (this.isCharacteristicHierarchical()) {
								lField = lDimension.getSelectorKeyField();
							} else {
								if (this.isCompound()) {
									lField = lDimension
											.getFirstFieldByType(sap.firefly.PresentationType.KEY_NOT_COMPOUND);
								} else {
									lField = lDimension.getSelectorKeyField();
								}
							}
						}
						membersByField = this
								.getMembersByField(newKeys, lField);
						for (j = 0; j < membersByField.size(); j++) {
							dimensionMember = membersByField.get(j);
							members.add(dimensionMember);
						}
						return members;
					},
					getMembersByField : function(keys, field) {
						var lDimension;
						var lSearchString;
						var ltDimensionMembers;
						var i;
						var tmpDimensionMembers;
						var j;
						var members;
						var lDimensionMemberIndex;
						var lDimensionMember;
						if (keys === null || keys.isEmpty()
								|| !this.supportsValueHelp()) {
							return sap.firefly.XList.create();
						}
						lDimension = this.getDimension();
						lDimension.clearSelectorSelections();
						lDimension.clearSelectorHierarchyNode();
						lDimension
								.setSelectorFilterUsage(sap.firefly.QueryFilterUsage.SELECTOR_FILTER);
						lDimension.setSelectorHierarchyActive(this
								.isCharacteristicHierarchical());
						lDimension.setSelectorRootExpandingLevels(99);
						lDimension.setSelectorPagingEnd(-1);
						lDimension.getSelectorFields().clear();
						if (this.isCompound()) {
							lDimension
									.getSelectorFields()
									.add(
											lDimension
													.getFirstFieldByType(sap.firefly.PresentationType.KEY_NOT_COMPOUND));
							lDimension
									.getSelectorFields()
									.add(
											lDimension
													.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND));
						} else {
							lDimension.getSelectorFields().add(
									lDimension.getSelectorKeyField());
							lDimension.getSelectorFields().add(
									lDimension.getSelectorDisplayKeyField());
						}
						if (this.memberDisplay !== sap.zen.FPMemberDisplay.KEY
								&& this.getMemberType() !== sap.zen.Type.DATE) {
							lDimension.getSelectorFields().add(
									lDimension.getTextField());
						}
						lSearchString = null;
						ltDimensionMembers = null;
						i = 0;
						if (lDimension.isSelectorHierarchyActive()) {
							ltDimensionMembers = sap.firefly.XList.create();
							for (i = 0; i < keys.size(); i++) {
								lDimension.clearSelectorSelections();
								lDimension.clearSelectorHierarchyNode();
								lSearchString = keys.get(i);
								lDimension.addSelectorSelection(this
										.createValueForField(lSearchString,
												field), field,
										sap.firefly.ComparisonOperator.EQUAL);
								tmpDimensionMembers = this.getAllMembers(false);
								for (j = 0; j < tmpDimensionMembers.size(); j++) {
									ltDimensionMembers.add(tmpDimensionMembers
											.get(j));
								}
							}
						} else {
							for (i = 0; i < keys.size(); i++) {
								lSearchString = keys.get(i);
								if (!lDimension.isMeasureStructure()) {
									if (!lDimension.supportsLowerCase()
											|| field.getValueType() === sap.firefly.XValueType.UPPER_CASE_STRING) {
										lSearchString = sap.firefly.XString
												.convertToUpperCase(lSearchString);
									} else {
										if (field.getValueType() === sap.firefly.XValueType.LOWER_CASE_STRING) {
											lSearchString = sap.firefly.XString
													.convertToLowerCase(lSearchString);
										}
									}
								}
								lDimension.addSelectorSelection(this
										.createValueForField(lSearchString,
												field), field,
										sap.firefly.ComparisonOperator.EQUAL);
							}
							ltDimensionMembers = this.getAllMembers(false);
						}
						if (lDimension.isSelectorHierarchyActive()) {
							members = sap.firefly.XList.create();
							for (lDimensionMemberIndex = 0; lDimensionMemberIndex < ltDimensionMembers
									.size(); lDimensionMemberIndex++) {
								lDimensionMember = ltDimensionMembers
										.get(lDimensionMemberIndex);
								if (keys.contains(lDimensionMember
										.getFieldValue(field).getStringValue())) {
									members.add(lDimensionMember);
								}
							}
							return members;
						}
						return ltDimensionMembers;
					},
					hasSelectionState : function() {
						var lCartesianList = this.getSelectionState();
						if (lCartesianList !== null
								&& lCartesianList.size() > 0) {
							return true;
						}
						return false;
					},
					getKeyField : function(useDisplayKey) {
						var lDimension = this.getDimension();
						if (this.isCharacteristicHierarchical()) {
							if (useDisplayKey) {
								return lDimension.getHierarchyDisplayKeyField();
							}
							return lDimension.getHierarchyKeyField();
						}
						if (this.isCompound()) {
							if (useDisplayKey) {
								return lDimension
										.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND);
							}
							return lDimension
									.getFirstFieldByType(sap.firefly.PresentationType.KEY_NOT_COMPOUND);
						}
						if (useDisplayKey) {
							return lDimension.getDisplayKeyField();
						}
						return lDimension.getKeyField();
					},
					getCorrectFieldForCartesianList : function(cartesianList) {
						var lDimension;
						var lDisplayKeyAllowed;
						var lCartesianListIndex;
						var lFilterOperation;
						if (cartesianList.isEmpty()) {
							return cartesianList.getField();
						}
						lDimension = cartesianList.getDimension();
						lDisplayKeyAllowed = true;
						if ((this.getMemberType() === sap.zen.Type.DATE && !this
								.isCharacteristicHierarchical())
								|| lDimension.isMeasureStructure()) {
							lDisplayKeyAllowed = false;
						}
						if (lDisplayKeyAllowed) {
							for (lCartesianListIndex = 0; lCartesianListIndex < cartesianList
									.size(); lCartesianListIndex++) {
								lFilterOperation = cartesianList
										.getOp(lCartesianListIndex);
								if (lFilterOperation.getSetSign() !== sap.firefly.SetSign.INCLUDING
										|| lFilterOperation
												.getComparisonOperator() !== sap.firefly.ComparisonOperator.EQUAL) {
									if (this.isCharacteristicHierarchical()) {
										return lDimension
												.getHierarchyDisplayKeyField();
									}
									if (this.isCompound()) {
										return lDimension
												.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND);
									}
									return lDimension.getDisplayKeyField();
								}
							}
						}
						if (this.isCharacteristicHierarchical()) {
							return lDimension.getHierarchyKeyField();
						}
						if (this.isCompound()) {
							return lDimension
									.getFirstFieldByType(sap.firefly.PresentationType.KEY_NOT_COMPOUND);
						}
						return lDimension.getKeyField();
					},
					correctCartesianList : function(cartesianList) {
						var field;
						var lCorrectField;
						var lCartesianListIndex;
						var lFilterOperation;
						var ltMemberKeys;
						var ltDimensionMembers;
						var lDimensionMember;
						var lFieldValue;
						var lLowOriginalValue;
						var lLowSupplement;
						var lHighOriginalValue;
						var lHighSupplement;
						if (cartesianList.isEmpty()) {
							return;
						}
						field = cartesianList.getField();
						lCorrectField = this
								.getCorrectFieldForCartesianList(cartesianList);
						if (field === lCorrectField) {
							return;
						}
						lCartesianListIndex = 0;
						lFilterOperation = null;
						ltMemberKeys = sap.firefly.XListOfString.create();
						for (lCartesianListIndex = 0; lCartesianListIndex < cartesianList
								.size(); lCartesianListIndex++) {
							lFilterOperation = cartesianList
									.getOp(lCartesianListIndex);
							if (lFilterOperation.getLow()
									.getSupplementValueString(
											lCorrectField.getName()) === null) {
								ltMemberKeys.add(lFilterOperation.getLow()
										.getStringValue());
							}
							if (lFilterOperation.getComparisonOperator() === sap.firefly.ComparisonOperator.BETWEEN) {
								if (lFilterOperation.getHigh()
										.getSupplementValueString(
												lCorrectField.getName()) === null) {
									ltMemberKeys.add(lFilterOperation.getHigh()
											.getStringValue());
								}
							}
						}
						ltDimensionMembers = this.getMembersByField(
								ltMemberKeys, field);
						lDimensionMember = null;
						lFieldValue = null;
						for (lCartesianListIndex = 0; lCartesianListIndex < cartesianList
								.size(); lCartesianListIndex++) {
							lFilterOperation = cartesianList
									.getOp(lCartesianListIndex);
							lFilterOperation.setField(lCorrectField);
							lDimensionMember = this
									.getMemberFromListByFieldValue(
											ltDimensionMembers, cartesianList
													.getField(),
											lFilterOperation.getLow()
													.getStringValue(), false);
							if (lDimensionMember !== null) {
								lFilterOperation.getLow().setFieldValue(
										lDimensionMember
												.getFieldValue(lCorrectField));
							} else {
								lLowOriginalValue = lFilterOperation.getLow()
										.getStringValue();
								lLowSupplement = lFilterOperation.getLow()
										.getSupplementValueString(
												lCorrectField.getName());
								if (lLowSupplement !== null) {
									lFieldValue = lCorrectField
											.createFieldLiteralValue();
									lFieldValue.setValue(this
											.createValueForField(
													lLowSupplement,
													lCorrectField));
									lFilterOperation.getLow().setFieldValue(
											lFieldValue);
									lFilterOperation.getLow()
											.addSupplementValue(
													field.getName(),
													lLowOriginalValue);
								}
							}
							if (lFilterOperation.getComparisonOperator() === sap.firefly.ComparisonOperator.BETWEEN) {
								lDimensionMember = this
										.getMemberFromListByFieldValue(
												ltDimensionMembers,
												cartesianList.getField(),
												lFilterOperation.getHigh()
														.getStringValue(),
												false);
								if (lDimensionMember !== null) {
									lFilterOperation
											.getHigh()
											.setFieldValue(
													lDimensionMember
															.getFieldValue(lCorrectField));
								} else {
									lHighOriginalValue = lFilterOperation
											.getHigh().getStringValue();
									lHighSupplement = lFilterOperation
											.getHigh()
											.getSupplementValueString(
													lCorrectField.getName());
									if (lHighSupplement !== null) {
										lFieldValue = lCorrectField
												.createFieldLiteralValue();
										lFieldValue.setValue(this
												.createValueForField(
														lHighSupplement,
														lCorrectField));
										lFilterOperation.getHigh()
												.setFieldValue(lFieldValue);
										lFilterOperation.getHigh()
												.addSupplementValue(
														field.getName(),
														lHighOriginalValue);
									}
								}
							}
						}
						cartesianList.setField(lCorrectField);
					},
					getMemberFromListByFieldValue : function(members, field,
							value, removeFromList) {
						var lDimension = field.getDimension();
						var lFound = false;
						var lMemberIndex;
						var lDimensionMember;
						var fieldValue;
						for (lMemberIndex = 0; lMemberIndex < members.size(); lMemberIndex++) {
							lDimensionMember = members.get(lMemberIndex);
							if (lDimension.isMeasureStructure()) {
								if (sap.firefly.XString.isEqual(
										lDimensionMember.getFieldValue(
												lDimension.getTextField())
												.getStringValue(), value)) {
									lFound = true;
								}
							}
							fieldValue = lDimensionMember.getFieldValue(field);
							if (fieldValue !== null
									&& sap.firefly.XString.isEqual(fieldValue
											.getStringValue(), value)) {
								lFound = true;
							}
							if (lFound) {
								if (removeFromList) {
									members.removeAt(lMemberIndex);
								}
								return lDimensionMember;
							}
						}
						return null;
					},
					getAllFixedSelections : function() {
						var loCartesianList = this.getSelectionSpace();
						return this
								.parseCartesianListToRangeList(loCartesianList);
					},
					getAllSelections : function() {
						var loCartesianList = this.getSelectionState();
						return this
								.parseCartesianListToRangeList(loCartesianList);
					},
					parseCartesianListToRangeList : function(oCartesianList) {
						var ltSelections = sap.firefly.XList.create();
						var loDimension;
						var loField;
						var lCartesianListIndex;
						var loFilterOperation;
						var loRange;
						var ltMemberKeysOfSingleSelections;
						var lInternalKeys;
						var ltDimensionMembers;
						var loMemberLow;
						var loMemberHigh;
						var loDimensionMember;
						if (oCartesianList === null || oCartesianList.isEmpty()) {
							return ltSelections;
						}
						this.correctCartesianList(oCartesianList);
						loDimension = this.getDimension();
						loField = oCartesianList.getField();
						lCartesianListIndex = 0;
						loFilterOperation = null;
						loRange = null;
						if (this.getMemberType() === sap.zen.Type.DATE
								&& !this.isCharacteristicHierarchical()) {
							for (lCartesianListIndex = 0; lCartesianListIndex < oCartesianList
									.size(); lCartesianListIndex++) {
								loFilterOperation = oCartesianList
										.getOp(lCartesianListIndex);
								loRange = this
										.createRangeForFilterOperation(
												loFilterOperation, loDimension,
												loField);
								if (loRange !== null) {
									ltSelections.add(loRange);
								}
							}
							return ltSelections;
						}
						ltMemberKeysOfSingleSelections = sap.firefly.XListOfString
								.create();
						lInternalKeys = 0;
						for (lCartesianListIndex = 0; lCartesianListIndex < oCartesianList
								.size(); lCartesianListIndex++) {
							loFilterOperation = oCartesianList
									.getOp(lCartesianListIndex);
							if (loFilterOperation.getSetSign() === sap.firefly.SetSign.INCLUDING
									&& loFilterOperation
											.getComparisonOperator() === sap.firefly.ComparisonOperator.EQUAL) {
								if (this.isCharacteristicHierarchical()
										|| loFilterOperation.getLow()
												.getSupplementValues()
												.isEmpty()) {
									ltMemberKeysOfSingleSelections
											.add(loFilterOperation.getLow()
													.getStringValue());
								}
								lInternalKeys++;
							} else {
								if (loDimension.isMeasureStructure()) {
									if (loFilterOperation.getLow()
											.getSupplementValues().isEmpty()) {
										ltMemberKeysOfSingleSelections
												.add(loFilterOperation.getLow()
														.getStringValue());
									}
									if (loFilterOperation
											.getComparisonOperator() === sap.firefly.ComparisonOperator.BETWEEN) {
										if (loFilterOperation.getHigh()
												.getSupplementValues()
												.isEmpty()) {
											ltMemberKeysOfSingleSelections
													.add(loFilterOperation
															.getHigh()
															.getStringValue());
										}
									}
									lInternalKeys++;
								}
							}
						}
						ltDimensionMembers = null;
						if (lInternalKeys === oCartesianList.size()) {
							ltDimensionMembers = this.getMembersByKeys(
									ltMemberKeysOfSingleSelections, false);
						} else {
							ltDimensionMembers = this.getMembersByKeys(
									ltMemberKeysOfSingleSelections, true);
						}
						loMemberLow = null;
						loMemberHigh = null;
						loDimensionMember = null;
						for (lCartesianListIndex = 0; lCartesianListIndex < oCartesianList
								.size(); lCartesianListIndex++) {
							loFilterOperation = oCartesianList
									.getOp(lCartesianListIndex);
							if (loFilterOperation.getSetSign() === sap.firefly.SetSign.INCLUDING
									&& loFilterOperation
											.getComparisonOperator() === sap.firefly.ComparisonOperator.EQUAL
									|| loDimension.isMeasureStructure()) {
								loDimensionMember = this
										.getMemberFromListByFieldValue(
												ltDimensionMembers, loField,
												loFilterOperation.getLow()
														.getStringValue(), true);
								loMemberLow = new sap.zen.MemberWrapper();
								if (loDimensionMember !== null) {
									loMemberLow.initMe(loDimensionMember,
											this.variableMode, loDimension);
								} else {
									loMemberLow.initMe3(loFilterOperation
											.getLow(), this.variableMode,
											loDimension, loField);
								}
								loDimensionMember = this
										.getMemberFromListByFieldValue(
												ltDimensionMembers, loField,
												loFilterOperation.getHigh()
														.getStringValue(), true);
								loMemberHigh = null;
								if (loFilterOperation.getComparisonOperator() === sap.firefly.ComparisonOperator.BETWEEN) {
									loMemberHigh = new sap.zen.MemberWrapper();
									if (loDimensionMember !== null) {
										loMemberHigh.initMe(loDimensionMember,
												this.variableMode, loDimension);
									} else {
										loMemberHigh.initMe3(loFilterOperation
												.getHigh(), this.variableMode,
												loDimension, loField);
									}
								}
								loRange = new sap.zen.Range();
								loRange
										.initMe3(
												loMemberLow,
												loMemberHigh,
												this
														.converteToZenOperator(loFilterOperation
																.getComparisonOperator()),
												loFilterOperation.getSetSign() === sap.firefly.SetSign.EXCLUDING);
							} else {
								loRange = this
										.createRangeForFilterOperation(
												loFilterOperation, loDimension,
												loField);
							}
							if (loRange !== null) {
								ltSelections.add(loRange);
							}
						}
						return ltSelections;
					},
					createRangeForFilterOperation : function(oFilterOperation,
							oDimension, oField) {
						var loRange = null;
						var loMemberLow;
						var loMemberHigh;
						if (oFilterOperation !== null) {
							loMemberLow = this.createMemberForValue(
									oFilterOperation.getLow().getValue(),
									oDimension, oField);
							loMemberHigh = null;
							if (oFilterOperation.getComparisonOperator() === sap.firefly.ComparisonOperator.BETWEEN) {
								loMemberHigh = this.createMemberForValue(
										oFilterOperation.getHigh().getValue(),
										oDimension, oField);
							}
							loRange = new sap.zen.Range();
							loRange
									.initMe3(
											loMemberLow,
											loMemberHigh,
											this
													.converteToZenOperator(oFilterOperation
															.getComparisonOperator()),
											oFilterOperation.getSetSign() === sap.firefly.SetSign.EXCLUDING);
						}
						return loRange;
					},
					createMemberForValue : function(oFilterValue, oDimension,
							oField) {
						var loMember;
						if (oFilterValue === null) {
							return null;
						}
						loMember = new sap.zen.MemberWrapper();
						loMember.initMe(oDimension.getDimensionMemberWithValue(
								oFilterValue, false, oField),
								this.variableMode, oDimension);
						return loMember;
					},
					getSelectionStateMembers : function() {
						return this.getMembers4(this.getSelectionState());
					},
					getSelectionState : function() {
						return this.getSelectionState1(null);
					},
					getSelectionState1 : function(queryModel) {
						var lQueryModel = null;
						if (queryModel === null) {
							lQueryModel = this.oSourceQueryModel;
						} else {
							if (queryModel === this.oSourceQueryModel) {
								return this.getSelectionState();
							}
						}
						if (lQueryModel === null) {
							return null;
						}
						return lQueryModel.getSelector()
								.getSelectionStateContainer()
								.getCartesianProductWithDefault()
								.getCartesianListWithDefault(
										lQueryModel.getDimensionByName(this
												.getName()));
					},
					getSelectionSpace : function() {
						return this.oSourceQueryModel.getSelector()
								.getSelectionSpaceContainer()
								.getCartesianProductWithDefault()
								.getCartesianListWithDefault(
										this.oSourceQueryModel
												.getDimensionByName(this
														.getName()));
					},
					resetQuery : function() {
						var j = -1;
						var lQueryModel;
						for (j = -1; j < this.tTargetCharacteristicsQueryViews
								.size(); j++) {
							lQueryModel = null;
							if (j === -1) {
								lQueryModel = this.oSourceQueryModel;
							} else {
								lQueryModel = this.tTargetCharacteristicsQueryViews
										.get(j);
							}
							if (lQueryModel === null) {
								continue;
							}
							this.resetSelectionState1(lQueryModel);
						}
						this.setValueok(true);
					},
					resetSelectionState : function() {
						this.resetSelectionState1(null);
					},
					resetSelectionState1 : function(queryModel) {
						var lQueryModel = queryModel;
						var lCartesianList;
						if (queryModel === null) {
							lQueryModel = this.oSourceQueryModel;
						} else {
							if (queryModel === this.oSourceQueryModel) {
								this.resetSelectionState();
								return;
							}
						}
						if (lQueryModel === null) {
							return;
						}
						lCartesianList = this.getSelectionState1(lQueryModel);
						if (lCartesianList !== null) {
							lCartesianList.clear();
						}
					},
					setInternalKey : function(key) {
						var keyWrapper;
						var range;
						var list;
						if (sap.firefly.XStringUtils.isNullOrEmpty(key)) {
							this.resetQuery();
							return true;
						}
						keyWrapper = new sap.zen.MemberKeyWrapper();
						keyWrapper.initMe(key);
						range = new sap.zen.Range();
						range.initMe2(keyWrapper);
						list = sap.firefly.XList.create();
						list.add(range);
						this.setFullRangeQuery(list);
						return true;
					},
					getInternalKey : function() {
						var members = this.getSelectionStateMembers();
						var memberWrapper;
						if (members !== null && members.size() === 1) {
							memberWrapper = members.get(0);
							return memberWrapper.getKey();
						}
						return "";
					},
					parseInputString : function(inputString) {
						var ltRanges = sap.firefly.XList.create();
						var ltMemberKeys = sap.firefly.XListOfString.create();
						var ltDimensionMembers;
						var lDimensionMember;
						var lDimension;
						var lNotCompoundedKeyField;
						var lMemberWrapper;
						var lRange;
						ltMemberKeys.add(inputString);
						ltDimensionMembers = this.getMembersByKeys(
								ltMemberKeys, true);
						if (ltDimensionMembers.isEmpty()) {
							ltDimensionMembers = this.getMembersByKeys(
									ltMemberKeys, false);
						}
						if (ltDimensionMembers.isEmpty()) {
							return ltRanges;
						}
						lDimensionMember = ltDimensionMembers.get(0);
						if (ltDimensionMembers.size() > 1 && this.isCompound()) {
							lDimension = this.getDimension();
							lNotCompoundedKeyField = lDimension
									.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND);
							lDimensionMember = lDimension
									.getDimensionMemberWithValue(
											lDimensionMember.getFieldValue(
													lNotCompoundedKeyField)
													.getValue(), false,
											lNotCompoundedKeyField);
						}
						lMemberWrapper = new sap.zen.MemberWrapper();
						lMemberWrapper.initMe(lDimensionMember,
								this.variableMode, this.getDimension());
						lRange = new sap.zen.Range();
						lRange.initMe2(lMemberWrapper);
						ltRanges.add(lRange);
						return ltRanges;
					},
					parseFullRangeQuery : function(tFullRanges) {
						return this.parseFullRangeQueryByField(null,
								tFullRanges);
					},
					parseFullRangeQueryByField : function(oField, tFullRanges) {
						var lFullRangesIndex;
						var loRange;
						var ltMemberKeysOfSingleSelections;
						var loField;
						var ltDimensionMembers;
						var loDimensionMember;
						var loMemberWrapper;
						if (this.getMemberType() === sap.zen.Type.DATE) {
							return tFullRanges;
						}
						lFullRangesIndex = 0;
						loRange = null;
						ltMemberKeysOfSingleSelections = sap.firefly.XListOfString
								.create();
						for (lFullRangesIndex = 0; lFullRangesIndex < tFullRanges
								.size(); lFullRangesIndex++) {
							loRange = tFullRanges.get(lFullRangesIndex);
							if (loRange.getOperation().equals(
									sap.zen.Operation.EQ)
									&& !loRange.isExclude()) {
								ltMemberKeysOfSingleSelections.add(loRange
										.getFrom().getKey());
							}
						}
						loField = null;
						ltDimensionMembers = null;
						if (oField !== null) {
							loField = oField;
							ltDimensionMembers = this.getMembersByField(
									ltMemberKeysOfSingleSelections, oField);
						} else {
							loField = this.getKeyField(false);
							ltDimensionMembers = this.getMembersByKeys(
									ltMemberKeysOfSingleSelections, false);
						}
						for (lFullRangesIndex = 0; lFullRangesIndex < tFullRanges
								.size(); lFullRangesIndex++) {
							loRange = tFullRanges.get(lFullRangesIndex);
							if (loRange.getOperation().equals(
									sap.zen.Operation.EQ)
									&& !loRange.isExclude()) {
								loDimensionMember = this
										.getMemberFromListByFieldValue(
												ltDimensionMembers, loField,
												loRange.getFrom().getKey(),
												true);
								loMemberWrapper = new sap.zen.MemberWrapper();
								loMemberWrapper.initMe(loDimensionMember,
										this.variableMode, this.getDimension());
								loRange.setFrom(loMemberWrapper);
							}
						}
						return tFullRanges;
					},
					setInputString : function(inputString) {
						this.resetQuery();
						return this.addInputString(inputString);
					},
					addInputString : function(inputString) {
						var ltMemberKeys = sap.firefly.XListOfString.create();
						var ltDimensionMembers;
						var key;
						var lDimensionMember;
						var lFieldValue;
						ltMemberKeys.add(inputString);
						ltDimensionMembers = this.getMembersByKeys(
								ltMemberKeys, true);
						if (ltDimensionMembers.isEmpty()) {
							ltDimensionMembers = this.getMembersByKeys(
									ltMemberKeys, false);
						}
						if (ltDimensionMembers.isEmpty()
								&& this.supportsValueHelp()) {
							return false;
						}
						key = null;
						if (this.supportsValueHelp()) {
							lDimensionMember = ltDimensionMembers.get(0);
							lFieldValue = lDimensionMember.getFieldValue(this
									.getKeyField(false));
							key = lFieldValue.getStringValue();
						} else {
							key = inputString;
						}
						return this.addKeyToSelection(key, !this
								.supportsValueHelp());
					},
					addKeyToSelection : function(key, useDisplayKey) {
						var lMemberWrapper = new sap.zen.MemberKeyWrapper();
						var lRange;
						var ltRanges;
						var j;
						var lQueryModel;
						lMemberWrapper.initMe(key);
						lRange = new sap.zen.Range();
						lRange.initMe2(lMemberWrapper);
						ltRanges = sap.firefly.XList.create();
						ltRanges.add(lRange);
						j = -1;
						for (j = -1; j < this.tTargetCharacteristicsQueryViews
								.size(); j++) {
							lQueryModel = null;
							if (j === -1) {
								lQueryModel = this.oSourceQueryModel;
							} else {
								lQueryModel = this.tTargetCharacteristicsQueryViews
										.get(j);
							}
							if (lQueryModel === null) {
								continue;
							}
							this.setFullRangeQueryByField1(lQueryModel,
									ltRanges, useDisplayKey);
						}
						return true;
					},
					setFullRangeQueryByField : function(fullRanges,
							useDisplayKey) {
						this.setFullRangeQueryByField1(null, fullRanges,
								useDisplayKey);
					},
					setFullRangeQueryByField1 : function(queryModel,
							fullRanges, useDisplayKey) {
						var lQueryModel = null;
						var lCartesianList;
						var lField;
						var lFullRangesIndex;
						var lRange;
						var lFromFieldValue;
						var lToFieldValue;
						var lCartesianElement;
						var lFieldValue;
						if (queryModel === null) {
							lQueryModel = this.oSourceQueryModel;
						} else {
							if (queryModel === this.oSourceQueryModel) {
								this.setFullRangeQueryByField(fullRanges,
										useDisplayKey);
								return;
							}
						}
						lCartesianList = this.getSelectionState1(lQueryModel);
						lField = this.getKeyField(useDisplayKey
								&& this.getMemberType() !== sap.zen.Type.DATE);
						lCartesianList.setField(lField);
						for (lFullRangesIndex = 0; lFullRangesIndex < fullRanges
								.size(); lFullRangesIndex++) {
							lRange = fullRanges.get(lFullRangesIndex);
							lFromFieldValue = this.createValueForField(lRange
									.getFrom().getKey(), lField);
							if (lFromFieldValue === null) {
								continue;
							}
							lToFieldValue = null;
							if (lRange.getOperation() === sap.zen.Operation.BT) {
								lToFieldValue = this.createValueForField(lRange
										.getTo().getKey(), lField);
								if (lToFieldValue === null) {
									continue;
								}
							}
							lCartesianElement = lCartesianList
									.addNewCartesianElement();
							lCartesianElement
									.setComparisonOperator(this
											.convertToFFOperator(lRange
													.getOperation()));
							if (lRange.isExclude()) {
								lCartesianElement
										.setSetSign(sap.firefly.SetSign.EXCLUDING);
							} else {
								lCartesianElement
										.setSetSign(sap.firefly.SetSign.INCLUDING);
							}
							lFieldValue = lField.createFieldLiteralValue();
							lFieldValue.setValue(lFromFieldValue);
							lCartesianElement.getLow().setFieldValue(
									lFieldValue);
							if (lRange.getOperation() === sap.zen.Operation.BT) {
								lFieldValue = lField.createFieldLiteralValue();
								lFieldValue.setValue(lToFieldValue);
								lCartesianElement.getHigh().setFieldValue(
										lFieldValue);
							}
						}
					},
					setFullRangeQuery : function(fullRanges) {
						var j = -1;
						var lQueryModel;
						var lIsDisplayKey;
						var lFullRangesIndex;
						var lRange;
						var ltMemberKeysOfSingleSelections;
						var ltDimensionMembers;
						var lField;
						var lDimensionMember;
						var lFieldValue;
						var lMemberWrapper;
						var lUseDisplayKey;
						for (j = -1; j < this.tTargetCharacteristicsQueryViews
								.size(); j++) {
							lQueryModel = null;
							if (j === -1) {
								lQueryModel = this.oSourceQueryModel;
							} else {
								lQueryModel = this.tTargetCharacteristicsQueryViews
										.get(j);
							}
							if (lQueryModel === null) {
								continue;
							}
							lIsDisplayKey = sap.firefly.TriStateBool._DEFAULT;
							if (this.getMemberType() === sap.zen.Type.DATE
									&& !this.isCharacteristicHierarchical()) {
								lIsDisplayKey = sap.firefly.TriStateBool._FALSE;
							}
							if (lIsDisplayKey === sap.firefly.TriStateBool._DEFAULT) {
								lFullRangesIndex = 0;
								lRange = null;
								ltMemberKeysOfSingleSelections = sap.firefly.XListOfString
										.create();
								for (lFullRangesIndex = 0; lFullRangesIndex < fullRanges
										.size(); lFullRangesIndex++) {
									lRange = fullRanges.get(lFullRangesIndex);
									if (!lRange.isExclude()
											&& lRange.getOperation() === sap.zen.Operation.EQ) {
										ltMemberKeysOfSingleSelections
												.add(lRange.getFrom().getKey());
									}
								}
								if (ltMemberKeysOfSingleSelections.size() === fullRanges
										.size()) {
									lIsDisplayKey = sap.firefly.TriStateBool._FALSE;
								} else {
									lIsDisplayKey = sap.firefly.TriStateBool._TRUE;
									ltDimensionMembers = this.getMembersByKeys(
											ltMemberKeysOfSingleSelections,
											false);
									lField = this.getKeyField(true);
									for (lFullRangesIndex = 0; lFullRangesIndex < fullRanges
											.size(); lFullRangesIndex++) {
										lRange = fullRanges
												.get(lFullRangesIndex);
										if (lRange.getOperation() === sap.zen.Operation.EQ
												&& !lRange.isExclude()) {
											lDimensionMember = this
													.getMemberFromListByFieldValue(
															ltDimensionMembers,
															this
																	.getKeyField(false),
															lRange.getFrom()
																	.getKey(),
															true);
											if (lDimensionMember === null) {
												continue;
											}
											lFieldValue = lDimensionMember
													.getFieldValue(lField);
											lMemberWrapper = new sap.zen.MemberKeyWrapper();
											lMemberWrapper.initMe(lFieldValue
													.getStringValue());
											lRange.setFrom(lMemberWrapper);
										}
									}
								}
							}
							lUseDisplayKey = (lIsDisplayKey === sap.firefly.TriStateBool._TRUE);
							this.setFullRangeQueryByField1(lQueryModel,
									fullRanges, lUseDisplayKey);
						}
						this.setValueok(true);
					},
					setRangeQuery : function(from, to, exclude) {
						var lTargetViewsSize = 0;
						var j;
						var lQueryModel;
						var lDimension;
						var lDimensionMemberFrom;
						var lDimensionMemberTo;
						var ltRanges;
						var lRange;
						var lMemberWrapperFrom;
						var lMemberWrapperTo;
						if (this.variableMode !== true) {
							lTargetViewsSize = this.tTargetCharacteristicsQueryViews
									.size();
						}
						j = -1;
						for (j = -1; j < lTargetViewsSize; j++) {
							lQueryModel = null;
							if (j === -1) {
								lQueryModel = this.oSourceQueryModel;
							} else {
								lQueryModel = this.tTargetCharacteristicsQueryViews
										.get(j);
							}
							if (lQueryModel === null) {
								continue;
							}
							lDimension = lQueryModel.getDimensionByName(this
									.getDimension().getName());
							lDimensionMemberFrom = this.getMemberOrNode(
									lDimension, from);
							lDimensionMemberTo = this.getMemberOrNode(
									lDimension, to);
							ltRanges = sap.firefly.XList.create();
							if (lDimensionMemberFrom !== null
									|| lDimensionMemberTo !== null) {
								lRange = new sap.zen.Range();
								lMemberWrapperFrom = null;
								lMemberWrapperTo = null;
								if (lDimensionMemberFrom !== null
										&& lDimensionMemberTo !== null) {
									lMemberWrapperFrom = new sap.zen.MemberWrapper();
									lMemberWrapperFrom.initMe(
											lDimensionMemberFrom,
											this.variableMode, lDimension);
									lMemberWrapperTo = new sap.zen.MemberWrapper();
									lMemberWrapperTo.initMe(lDimensionMemberTo,
											this.variableMode, lDimension);
									lRange.setExclude(exclude);
									lRange.setOperation(sap.zen.Operation.BT);
									lRange.setFrom(lMemberWrapperFrom);
									lRange.setTo(lMemberWrapperTo);
								} else {
									if (lDimensionMemberFrom !== null) {
										lMemberWrapperFrom = new sap.zen.MemberWrapper();
										lMemberWrapperFrom.initMe(
												lDimensionMemberFrom,
												this.variableMode, lDimension);
										lRange.setExclude(exclude);
										lRange
												.setOperation(sap.zen.Operation.GE);
										lRange.setFrom(lMemberWrapperFrom);
									} else {
										lMemberWrapperFrom = new sap.zen.MemberWrapper();
										lMemberWrapperFrom.initMe(
												lDimensionMemberTo,
												this.variableMode, lDimension);
										lRange.setExclude(exclude);
										lRange
												.setOperation(sap.zen.Operation.LE);
										lRange.setFrom(lMemberWrapperFrom);
									}
								}
								ltRanges.add(lRange);
							}
							this.setFullRangeQueryByField1(lQueryModel,
									ltRanges, false);
						}
						this.setValueok(true);
					},
					converteToZenOperator : function(operator) {
						if (operator === sap.firefly.ComparisonOperator.EQUAL) {
							return sap.zen.Operation.EQ;
						}
						if (operator === sap.firefly.ComparisonOperator.BETWEEN) {
							return sap.zen.Operation.BT;
						}
						if (operator === sap.firefly.ComparisonOperator.GREATER_THAN) {
							return sap.zen.Operation.GT;
						}
						if (operator === sap.firefly.ComparisonOperator.GREATER_EQUAL) {
							return sap.zen.Operation.GE;
						}
						if (operator === sap.firefly.ComparisonOperator.LESS_THAN) {
							return sap.zen.Operation.LT;
						}
						if (operator === sap.firefly.ComparisonOperator.LESS_EQUAL) {
							return sap.zen.Operation.LE;
						}
						return null;
					},
					convertToFFOperator : function(operation) {
						if (operation === sap.zen.Operation.EQ) {
							return sap.firefly.ComparisonOperator.EQUAL;
						}
						if (operation === sap.zen.Operation.BT) {
							return sap.firefly.ComparisonOperator.BETWEEN;
						}
						if (operation === sap.zen.Operation.GT) {
							return sap.firefly.ComparisonOperator.GREATER_THAN;
						}
						if (operation === sap.zen.Operation.GE) {
							return sap.firefly.ComparisonOperator.GREATER_EQUAL;
						}
						if (operation === sap.zen.Operation.LT) {
							return sap.firefly.ComparisonOperator.LESS_THAN;
						}
						if (operation === sap.zen.Operation.LE) {
							return sap.firefly.ComparisonOperator.LESS_EQUAL;
						}
						return null;
					},
					createValueForField : function(stringValue, field) {
						var lValueType = field.getValueType();
						var lDate;
						var ltMemberKeysOfSingleSelections;
						var ltDimensionMembers;
						try {
							if (lValueType === sap.firefly.XValueType.STRING) {
								return sap.firefly.XStringValue
										.create(stringValue);
							} else {
								if (lValueType === sap.firefly.XValueType.LONG) {
									return sap.firefly.XLongValue
											.create(sap.firefly.XLong
													.convertStringToLong(stringValue));
								} else {
									if (lValueType === sap.firefly.XValueType.INTEGER) {
										return sap.firefly.XIntegerValue
												.create(sap.firefly.XInteger
														.convertStringToInteger(stringValue));
									} else {
										if ((lValueType === sap.firefly.XValueType.DOUBLE)
												|| (lValueType === sap.firefly.XValueType.DECIMAL_FLOAT)) {
											return sap.firefly.XDoubleValue
													.create(sap.firefly.XDouble
															.convertStringToDouble(stringValue));
										} else {
											if (lValueType === sap.firefly.XValueType.DATE) {
												lDate = null;
												try {
													lDate = sap.firefly.XDate
															.createDateFromString(
																	stringValue,
																	null);
												} catch (lABAPDateException) {
													lDate = null;
												}
												if (lDate === null) {
													try {
														lDate = sap.firefly.XDate
																.createDateFromString(
																		stringValue,
																		sap.firefly.XValueFormat.ISO_DATE);
													} catch (lISODateException) {
														lDate = null;
													}
												}
												if (lDate === null
														&& sap.firefly.XStringUtils
																.isNotNullAndNotEmpty(stringValue)) {
													ltMemberKeysOfSingleSelections = sap.firefly.XListOfString
															.create();
													ltMemberKeysOfSingleSelections
															.add(stringValue);
													ltDimensionMembers = this
															.getMembersByKeys(
																	ltMemberKeysOfSingleSelections,
																	true);
													if (!ltDimensionMembers
															.isEmpty()) {
														lDate = ltDimensionMembers
																.get(0)
																.getKeyFieldValue()
																.getDateValue();
													}
												}
												return lDate;
											} else {
												if (lValueType === sap.firefly.XValueType.TIME) {
													return sap.firefly.XTime
															.createTimeFromString(
																	stringValue,
																	null);
												} else {
													if (lValueType === sap.firefly.XValueType.DATE_TIME) {
														return sap.firefly.XDateTime
																.createDateTimeFromString(
																		stringValue,
																		null);
													} else {
														if (lValueType === sap.firefly.XValueType.TIMESPAN) {
															return sap.firefly.XTimeSpan
																	.create(sap.firefly.XLong
																			.convertStringToLong(stringValue));
														}
													}
												}
											}
										}
									}
								}
							}
						} catch (e) {
							return null;
						}
						throw sap.firefly.XException
								.createIllegalStateException(sap.firefly.XString
										.concatenate2(
												"Value type not supported: ",
												lValueType.getName()));
					},
					toString : function() {
						return sap.firefly.XStringUtils.concatenate5(
								"CharacteristicWrapper for ", this.getName(),
								" (", this.getText(), ")");
					}
				});
$Firefly
		.createClass("sap.zen.FilterType", sap.zen.XEnum,
				{
					$statics : {
						FILTERTYPE : null,
						SELECTION : null,
						RANGE : null,
						UNKNOWN : null,
						TEXT : null,
						MIXED : null,
						staticSetup : function() {
							sap.zen.FilterType.FILTERTYPE = "FILTERTYPE";
							sap.zen.FilterType.SELECTION = sap.zen.FilterType
									.create("SELECTION");
							sap.zen.FilterType.RANGE = sap.zen.FilterType
									.create("RANGE");
							sap.zen.FilterType.UNKNOWN = sap.zen.FilterType
									.create("UNKNOWN");
							sap.zen.FilterType.TEXT = sap.zen.FilterType
									.create("TEXT");
							sap.zen.FilterType.MIXED = sap.zen.FilterType
									.create("MIXED");
						},
						create : function(value) {
							var xEnum = new sap.zen.FilterType();
							xEnum.setValue(value);
							return xEnum;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.FilterType.FILTERTYPE, value);
						}
					},
					equals : function(type) {
						return (sap.firefly.XString.compare(this.getValue(),
								type.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.FilterType.FILTERTYPE;
					}
				});
$Firefly.createClass("sap.zen.Operation", sap.zen.XEnum,
		{
			$statics : {
				OPERATION : null,
				EQ : null,
				BT : null,
				GT : null,
				GE : null,
				LT : null,
				LE : null,
				staticSetup : function() {
					sap.zen.Operation.OPERATION = "OPERATION";
					sap.zen.Operation.EQ = sap.zen.Operation.create("EQ");
					sap.zen.Operation.BT = sap.zen.Operation.create("BT");
					sap.zen.Operation.GT = sap.zen.Operation.create("GT");
					sap.zen.Operation.GE = sap.zen.Operation.create("GE");
					sap.zen.Operation.LT = sap.zen.Operation.create("LT");
					sap.zen.Operation.LE = sap.zen.Operation.create("LE");
				},
				create : function(value) {
					var xEnum = new sap.zen.Operation();
					xEnum.setValue(value);
					return xEnum;
				},
				valueOf2 : function(value) {
					return sap.zen.XEnum.valueOf(sap.zen.Operation.OPERATION,
							value);
				}
			},
			equals : function(type) {
				return (sap.firefly.XString.compare(this.getValue(), type
						.getValue()) === 0);
			},
			getEnumType : function() {
				return sap.zen.Operation.OPERATION;
			}
		});
$Firefly.createClass("sap.zen.Type", sap.zen.XEnum,
		{
			$statics : {
				TYPE : null,
				STRING : null,
				INTEGER : null,
				DOUBLE : null,
				DATE : null,
				DATE_TIME : null,
				TIMESPAN : null,
				UNKNOWN : null,
				HIERARCHY : null,
				PASSWORD : null,
				staticSetup : function() {
					sap.zen.Type.TYPE = "TYPE";
					sap.zen.Type.STRING = sap.zen.Type.create("STRING");
					sap.zen.Type.INTEGER = sap.zen.Type.create("INTEGER");
					sap.zen.Type.DOUBLE = sap.zen.Type.create("DOUBLE");
					sap.zen.Type.DATE = sap.zen.Type.create("DATE");
					sap.zen.Type.DATE_TIME = sap.zen.Type.create("DATE_TIME");
					sap.zen.Type.TIMESPAN = sap.zen.Type.create("TIMESPAN");
					sap.zen.Type.UNKNOWN = sap.zen.Type.create("UNKNOWN");
					sap.zen.Type.HIERARCHY = sap.zen.Type.create("HIERARCHY");
					sap.zen.Type.PASSWORD = sap.zen.Type.create("PASSWORD");
				},
				create : function(value) {
					var xEnum = new sap.zen.Type();
					xEnum.setValue(value);
					return xEnum;
				},
				valueOf2 : function(value) {
					return sap.zen.XEnum.valueOf(sap.zen.Type.TYPE, value);
				}
			},
			equals : function(type) {
				return (sap.firefly.XString.compare(this.getValue(), type
						.getValue()) === 0);
			},
			getEnumType : function() {
				return sap.zen.Type.TYPE;
			}
		});
$Firefly.createClass("sap.zen.TabType", sap.zen.XEnum,
		{
			$statics : {
				TABTYPE : null,
				SELECTION : null,
				RANGE : null,
				PREDEFINED : null,
				staticSetup : function() {
					sap.zen.TabType.TABTYPE = "TABTYPE";
					sap.zen.TabType.SELECTION = sap.zen.TabType
							.create("SELECTION");
					sap.zen.TabType.RANGE = sap.zen.TabType.create("RANGE");
					sap.zen.TabType.PREDEFINED = sap.zen.TabType
							.create("PREDEFINED");
				},
				create : function(value) {
					var xEnum = new sap.zen.TabType();
					xEnum.setValue(value);
					return xEnum;
				},
				valueOf2 : function(value) {
					return sap.zen.XEnum
							.valueOf(sap.zen.TabType.TABTYPE, value);
				}
			},
			equals : function(type) {
				return (sap.firefly.XString.compare(this.getValue(), type
						.getValue()) === 0);
			},
			getEnumType : function() {
				return sap.zen.TabType.TABTYPE;
			}
		});
$Firefly.createClass("sap.zen.View", sap.zen.XEnum,
		{
			$statics : {
				VIEW : null,
				VIEW_DEFAULT : null,
				DIALOG : null,
				DIALOG_SEARCH : null,
				SUBMIT : null,
				CANCEL : null,
				EXPAND_NODE : null,
				SUBMIT_WITH_APPLY : null,
				staticSetup : function() {
					sap.zen.View.VIEW = "VIEW";
					sap.zen.View.VIEW_DEFAULT = sap.zen.View.create("DEFAULT");
					sap.zen.View.DIALOG_SEARCH = sap.zen.View
							.create("DIALOG_SEARCH");
					sap.zen.View.SUBMIT = sap.zen.View.create("SUBMIT");
					sap.zen.View.CANCEL = sap.zen.View.create("CANCEL");
					sap.zen.View.DIALOG = sap.zen.View.create("DIALOG");
					sap.zen.View.EXPAND_NODE = sap.zen.View
							.create("EXPAND_NODE");
					sap.zen.View.SUBMIT_WITH_APPLY = sap.zen.View
							.create("SUBMIT_WITH_APPLY");
				},
				create : function(value) {
					var xEnum = new sap.zen.View();
					xEnum.setValue(value);
					return xEnum;
				},
				valueOf2 : function(value) {
					return sap.zen.XEnum.valueOf(sap.zen.View.VIEW, value);
				}
			},
			equals : function(type) {
				return (sap.firefly.XString.compare(this.getValue(), type
						.getValue()) === 0);
			},
			getEnumType : function() {
				return sap.zen.View.VIEW;
			}
		});
$Firefly.createClass("sap.zen.Appearance", sap.zen.XEnum,
		{
			$statics : {
				APPEARANCE : null,
				FILTERLIST : null,
				FILTERCOUNT : null,
				staticSetup : function() {
					sap.zen.Appearance.APPEARANCE = "APPEARANCE";
					sap.zen.Appearance.FILTERLIST = sap.zen.Appearance
							.create("FILTERLIST");
					sap.zen.Appearance.FILTERCOUNT = sap.zen.Appearance
							.create("FILTERCOUNT");
				},
				create : function(value) {
					var xEnum = new sap.zen.Appearance();
					xEnum.setValue(value);
					return xEnum;
				},
				valueOf2 : function(value) {
					return sap.zen.XEnum.valueOf(sap.zen.Appearance.APPEARANCE,
							value);
				}
			},
			equals : function(type) {
				return (sap.firefly.XString.compare(this.getValue(), type
						.getValue()) === 0);
			},
			getEnumType : function() {
				return sap.zen.Appearance.APPEARANCE;
			}
		});
$Firefly.createClass("sap.zen.DirectInput", sap.zen.XEnum,
		{
			$statics : {
				DIRECTINPUT : null,
				FOR_ALL : null,
				NO_MEASURES : null,
				NONE : null,
				staticSetup : function() {
					sap.zen.DirectInput.DIRECTINPUT = "DIRECTINPUT";
					sap.zen.DirectInput.FOR_ALL = sap.zen.DirectInput
							.create("FOR_ALL");
					sap.zen.DirectInput.NO_MEASURES = sap.zen.DirectInput
							.create("NO_MEASURES");
					sap.zen.DirectInput.NONE = sap.zen.DirectInput
							.create("NONE");
				},
				create : function(value) {
					var xEnum = new sap.zen.DirectInput();
					xEnum.setValue(value);
					return xEnum;
				},
				valueOf2 : function(value) {
					return sap.zen.XEnum.valueOf(
							sap.zen.DirectInput.DIRECTINPUT, value);
				}
			},
			equalsDirectInput : function(type) {
				return (sap.firefly.XString.compare(this.getValue(), type
						.getValue()) === 0);
			},
			getEnumType : function() {
				return sap.zen.DirectInput.DIRECTINPUT;
			}
		});
$Firefly
		.createClass("sap.zen.Dock", sap.zen.XEnum,
				{
					$statics : {
						DOCK : null,
						DOCK_DEFAULT : null,
						RIGHT_BOTTOM : null,
						LEFT_BOTTOM : null,
						RIGHT_CENTER : null,
						LEFT_CENTER : null,
						RIGHT_TOP : null,
						LEFT_TOP : null,
						CENTER_BOTTOM : null,
						CENTER_TOP : null,
						staticSetup : function() {
							sap.zen.Dock.DOCK = "DOCK";
							sap.zen.Dock.DOCK_DEFAULT = sap.zen.Dock
									.create("DEFAULT");
							sap.zen.Dock.RIGHT_BOTTOM = sap.zen.Dock
									.create("RIGHT_BOTTOM");
							sap.zen.Dock.LEFT_BOTTOM = sap.zen.Dock
									.create("LEFT_BOTTOM");
							sap.zen.Dock.RIGHT_CENTER = sap.zen.Dock
									.create("RIGHT_CENTER");
							sap.zen.Dock.LEFT_CENTER = sap.zen.Dock
									.create("LEFT_CENTER");
							sap.zen.Dock.RIGHT_TOP = sap.zen.Dock
									.create("RIGHT_TOP");
							sap.zen.Dock.LEFT_TOP = sap.zen.Dock
									.create("LEFT_TOP");
							sap.zen.Dock.CENTER_BOTTOM = sap.zen.Dock
									.create("CENTER_BOTTOM");
							sap.zen.Dock.CENTER_TOP = sap.zen.Dock
									.create("CENTER_TOP");
						},
						create : function(value) {
							var xEnum = new sap.zen.Dock();
							xEnum.setValue(value);
							return xEnum;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(sap.zen.Dock.DOCK,
									value);
						}
					},
					equals : function(type) {
						return (sap.firefly.XString.compare(this.getValue(),
								type.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.Dock.DOCK;
					}
				});
$Firefly
		.createClass(
				"sap.zen.FPMemberDisplay",
				sap.zen.XEnum,
				{
					$statics : {
						FPMEMBERDISPLAY : null,
						KEY : null,
						TEXT : null,
						KEY_TEXT : null,
						TEXT_KEY : null,
						staticSetup : function() {
							sap.zen.FPMemberDisplay.FPMEMBERDISPLAY = "FPMEMBERDISPLAY";
							sap.zen.FPMemberDisplay.KEY = sap.zen.FPMemberDisplay
									.create("KEY");
							sap.zen.FPMemberDisplay.TEXT = sap.zen.FPMemberDisplay
									.create("TEXT");
							sap.zen.FPMemberDisplay.KEY_TEXT = sap.zen.FPMemberDisplay
									.create("KEY_TEXT");
							sap.zen.FPMemberDisplay.TEXT_KEY = sap.zen.FPMemberDisplay
									.create("TEXT_KEY");
						},
						create : function(value) {
							var xEnum = new sap.zen.FPMemberDisplay();
							xEnum.setValue(value);
							return xEnum;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.FPMemberDisplay.FPMEMBERDISPLAY,
									value);
						}
					},
					equals : function(type) {
						return (sap.firefly.XString.compare(this.getValue(),
								type.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.FPMemberDisplay.FPMEMBERDISPLAY;
					}
				});
$Firefly
		.createClass(
				"sap.zen.NavigationPanelMode",
				sap.zen.XEnum,
				{
					$statics : {
						NAVIGATION_PANEL_MODE : null,
						NAVIGATION : null,
						LIST_ONLY : null,
						staticSetup : function() {
							sap.zen.NavigationPanelMode.NAVIGATION_PANEL_MODE = "NAVIGATION_PANEL_MODE";
							sap.zen.NavigationPanelMode.NAVIGATION = sap.zen.NavigationPanelMode
									.create("NAVIGATION");
							sap.zen.NavigationPanelMode.LIST_ONLY = sap.zen.NavigationPanelMode
									.create("LIST_ONLY");
						},
						create : function(value) {
							var xEnum = new sap.zen.NavigationPanelMode();
							xEnum.setValue(value);
							return xEnum;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum
									.valueOf(
											sap.zen.NavigationPanelMode.NAVIGATION_PANEL_MODE,
											value);
						}
					},
					equalsDirectInput : function(type) {
						return (sap.firefly.XString.compare(this.getValue(),
								type.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.NavigationPanelMode.NAVIGATION_PANEL_MODE;
					}
				});
$Firefly.createClass("sap.zen.PanelMode", sap.zen.XEnum,
		{
			$statics : {
				PANELMODE : null,
				FILTER : null,
				NAVIGATION : null,
				ALL : null,
				SFIN_NAVIGATION : null,
				staticSetup : function() {
					sap.zen.PanelMode.PANELMODE = "PANELMODE";
					sap.zen.PanelMode.FILTER = sap.zen.PanelMode
							.create("FILTER");
					sap.zen.PanelMode.NAVIGATION = sap.zen.PanelMode
							.create("NAVIGATION");
					sap.zen.PanelMode.ALL = sap.zen.PanelMode.create("ALL");
					sap.zen.PanelMode.SFIN_NAVIGATION = sap.zen.PanelMode
							.create("SFIN_NAVIGATION");
				},
				create : function(value) {
					var xEnum = new sap.zen.PanelMode();
					xEnum.setValue(value);
					return xEnum;
				},
				valueOf2 : function(value) {
					return sap.zen.XEnum.valueOf(sap.zen.PanelMode.PANELMODE,
							value);
				}
			},
			equals : function(type) {
				return (sap.firefly.XString.compare(this.getValue(), type
						.getValue()) === 0);
			},
			getEnumType : function() {
				return sap.zen.PanelMode.PANELMODE;
			}
		});
$Firefly.createClass("sap.zen.FioriHelperComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.FioriHelperControl();
			}
		});
$Firefly.createClass("sap.zen.FooterBarButtonComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.FooterBarButtonControl();
			}
		});
$Firefly.createClass("sap.zen.FooterBarComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.FooterBarControl();
			}
		});
$Firefly.createClass("sap.zen.GridcellComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.GridcellControl();
			}
		});
$Firefly.createClass("sap.zen.GridcellSimpleComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.GridcellSimpleControl();
			}
		});
$Firefly.createClass("sap.zen.GridlayoutComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.GridlayoutControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationGridLayoutMessages.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.Html5ChartComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.Html5ChartControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationHtml5ChartMessages.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.ImageTableComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ImageTableControl();
			}
		});
$Firefly.createClass("sap.zen.InputfieldComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.InputfieldControl();
			}
		});
$Firefly.createClass("sap.zen.JSTestRunnerComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.JSTestRunnerControl();
			}
		});
$Firefly.createClass("sap.zen.LumiraViewComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.LumiraViewControl();
			}
		});
$Firefly.createClass("sap.zen.MessageviewComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.MessageviewControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationMessageViewTexts.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.PageComponentFactory", sap.zen.PageObjectFactory,
		{
			createObject : function(objectProperties) {
				return new sap.zen.PageControl();
			}
		});
$Firefly.createClass("sap.zen.PagebookComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.PagebookControl();
			}
		});
$Firefly.createClass("sap.zen.PanelComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.PanelControl();
			}
		});
$Firefly.createClass("sap.zen.PopupComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.PopupControl();
			}
		});
$Firefly.createClass("sap.zen.PopupmComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.PopupmControl();
			}
		});
$Firefly.createClass("sap.zen.PropertiesPaneComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.PropertiesPaneControl();
			}
		});
$Firefly
		.createClass(
				"sap.zen.SDKComponentFactory",
				sap.zen.PageObjectFactory,
				{
					jsIncludes : null,
					requireJs : null,
					cssIncludes : null,
					properties : null,
					defaultValues : null,
					handlerType : null,
					libraryId : null,
					componentTypeId : null,
					dataBound : false,
					loadedIntoPage : null,
					isSDK : function() {
						return true;
					},
					isBuiltIn : function() {
						return false;
					},
					createObject : function(objectProperties) {
						var sdkControl = null;
						var sdkDataSource;
						var sdkControl2;
						if (sap.firefly.XString.isEqual(this.handlerType,
								"datasource")) {
							sdkDataSource = new sap.zen.SDKDataSource();
							sdkDataSource.initSDKBase(this);
							sdkControl = sdkDataSource;
						} else {
							sdkControl2 = new sap.zen.SDKControl();
							sdkControl2.initSDKBase(this);
							sdkControl = sdkControl2;
						}
						return sdkControl;
					},
					loadSdkExtension : function(type, page) {
						var lastIndexOf;
						var componentType;
						var sdkRoot;
						var logging;
						var childrenWoBiNameSpace;
						var sdkExtension;
						var components;
						var valuesAsIterator;
						var component;
						var attribute;
						var initializationNodeList;
						var initMe;
						if (this.loadedIntoPage !== page) {
							this.loadedIntoPage = page;
							lastIndexOf = sap.firefly.XString.lastIndexOf(type,
									"_");
							componentType = sap.firefly.XString.substring(type,
									lastIndexOf + 1, -1);
							this.libraryId = sap.firefly.XString.substring(
									type, 0, lastIndexOf);
							this.libraryId = sap.firefly.XString.replace(
									this.libraryId, "_", ".");
							sdkRoot = this.getSDKRoot(page);
							if (sdkRoot === null) {
								logging = page.getLogging();
								if (logging
										.isLoggable(sap.buddha.XLogging.XDEBUG)) {
									logging.debug(sap.firefly.XStringUtils
											.concatenate3("SDK extension ",
													type,
													" could not be loaded"),
											"", null);
								}
								return false;
							}
							childrenWoBiNameSpace = sdkRoot
									.getChildrenWoBiNameSpace("sdkExtension");
							sdkExtension = null;
							if (childrenWoBiNameSpace.size() === 0) {
								sdkExtension = sdkRoot;
							} else {
								sdkExtension = childrenWoBiNameSpace.get(0);
							}
							this.componentTypeId = sdkExtension
									.getAttribute("id");
							components = sdkExtension
									.getChildrenWoBiNameSpace("component");
							valuesAsIterator = components.getIterator();
							while (valuesAsIterator.hasNext()) {
								component = valuesAsIterator.next();
								attribute = component.getAttribute("id");
								if (sap.firefly.XString.isEqual(attribute,
										componentType)) {
									this.handlerType = component
											.getAttribute("handlerType");
									if (this.handlerType === null) {
										this.handlerType = "div";
									}
									this.componentTypeId = attribute;
									this.jsIncludes = component
											.getChildrenWoBiNameSpace("jsInclude");
									this.requireJs = component
											.getChildrenWoBiNameSpace("requireJs");
									this.cssIncludes = component
											.getChildrenWoBiNameSpace("cssInclude");
									this.properties = component
											.getChildrenWoBiNameSpace("property");
									initializationNodeList = component
											.getChildrenWoBiNameSpace("initialization");
									if ((initializationNodeList !== null)
											&& (initializationNodeList.size() > 0)) {
										initMe = initializationNodeList.get(0);
										this.defaultValues = initMe
												.getChildrenWoBiNameSpace("defaultValue");
										this.dataBound = sap.firefly.XString
												.isEqual(
														"true",
														component
																.getAttribute("databound"));
									}
								}
							}
							this.loadZtlJs(page);
						}
						return true;
					},
					loadZtlJs : function(page) {
						page.getSDKLoader().loadZtl(this.libraryId,
								page.getWindow());
					},
					getSDKRoot : function(page) {
						var sdkLoader = page.getSDKLoader();
						return sdkLoader.parseContributionXml(page
								.getApplication().getSystemLandscape()
								.getSystemDescription("self"), this.libraryId);
					}
				});
$Firefly.createClass("sap.zen.CheckboxGroupComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.CheckboxGroupControl();
			}
		});
$Firefly.createClass("sap.zen.DropdownComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.DropdownControl();
			}
		});
$Firefly.createClass("sap.zen.ListboxComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ListboxControl();
			}
		});
$Firefly.createClass("sap.zen.RadioButtonGroupComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.RadioButtonGroupControl();
			}
		});
$Firefly.createClass("sap.zen.SliderComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.SliderControl();
			}
		});
$Firefly.createClass("sap.zen.SmartlayoutComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.SmartlayoutControl();
			}
		});
$Firefly.createClass("sap.zen.ContentAreaComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ContentAreaControl();
			}
		});
$Firefly.createClass("sap.zen.SplitterComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.SplitterControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationSplitterMessages.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.TabComponentFactory", sap.zen.PageObjectFactory,
		{
			createObject : function(objectProperties) {
				return new sap.zen.TabControl();
			}
		});
$Firefly.createClass("sap.zen.TabstripComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.TabstripControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationTabstripMessages.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.DataType", sap.zen.XEnum, {
	$statics : {
		DATA_TYPE : null,
		STANDARD : null,
		DATE : null,
		TIME : null,
		DATE_TIME : null,
		staticSetup : function() {
			sap.zen.DataType.DATA_TYPE = "DATA_TYPE";
			sap.zen.DataType.STANDARD = sap.zen.DataType.create("STANDARD");
			sap.zen.DataType.DATE = sap.zen.DataType.create("DATE");
			sap.zen.DataType.TIME = sap.zen.DataType.create("TIME");
			sap.zen.DataType.DATE_TIME = sap.zen.DataType.create("DATE_TIME");
		},
		create : function(value) {
			var xEnum = new sap.zen.DataType();
			xEnum.setValue(value);
			return xEnum;
		},
		valueOf2 : function(value) {
			return sap.zen.XEnum.valueOf(sap.zen.DataType.DATA_TYPE, value);
		}
	},
	equals : function(dataType) {
		return (sap.firefly.XString.compare(this.getValue(), dataType
				.getValue()) === 0);
	},
	getEnumType : function() {
		return sap.zen.DataType.DATA_TYPE;
	}
});
$Firefly.createClass("sap.zen.TextfieldComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.TextfieldControl();
			},
			staticSetup : function() {
				sap.zen.DataType.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.TextPoolComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				var textPoolControl = new sap.zen.TextPoolControl();
				textPoolControl.createWithArgs(objectProperties);
				return textPoolControl;
			}
		});
$Firefly.createClass("sap.zen.VariableComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.VariableControl();
			}
		});
$Firefly.createClass("sap.zen.VariableDialogComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.VariableDialogControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationDialogTexts.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.VariableDialog_M_ComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.VariableDialogControl_M();
			},
			staticSetup : function() {
				sap.zen.CLocalizationDialogTexts.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.CCrosstabAxis", sap.zen.XEnum,
		{
			$statics : {
				ENUM_TYPE : "AXIS",
				FREE : null,
				ROWS : null,
				COLS : null,
				DIM : null,
				DATA : null,
				staticSetup : function() {
					if (sap.zen.CCrosstabAxis.FREE !== null) {
						return;
					}
					sap.zen.CCrosstabAxis.FREE = sap.zen.CCrosstabAxis
							.create("FREE");
					sap.zen.CCrosstabAxis.ROWS = sap.zen.CCrosstabAxis
							.create("ROWS");
					sap.zen.CCrosstabAxis.COLS = sap.zen.CCrosstabAxis
							.create("COLS");
					sap.zen.CCrosstabAxis.DIM = sap.zen.CCrosstabAxis
							.create("DIM");
					sap.zen.CCrosstabAxis.DATA = sap.zen.CCrosstabAxis
							.create("DATA");
				},
				create : function(value) {
					var loInstance = new sap.zen.CCrosstabAxis();
					loInstance.setValue(value);
					return loInstance;
				},
				valueOf2 : function(value) {
					return sap.zen.XEnum.valueOf(
							sap.zen.CCrosstabAxis.ENUM_TYPE, value);
				}
			},
			equals : function(oEnum) {
				return (sap.firefly.XString.compare(this.getValue(), oEnum
						.getValue()) === 0);
			},
			getEnumType : function() {
				return sap.zen.CCrosstabAxis.ENUM_TYPE;
			}
		});
$Firefly
		.createClass(
				"sap.zen.CCrosstabScalingFactorDisplayMode",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "SCALING_FACTOR_DISPLAY_MODE",
						IN_HEADER : null,
						IN_DATA : null,
						NO_DISPLAY : null,
						staticSetup : function() {
							if (sap.zen.CCrosstabScalingFactorDisplayMode.IN_HEADER !== null) {
								return;
							}
							sap.zen.CCrosstabScalingFactorDisplayMode.IN_HEADER = sap.zen.CCrosstabScalingFactorDisplayMode
									.create("IN_HEADER");
							sap.zen.CCrosstabScalingFactorDisplayMode.IN_DATA = sap.zen.CCrosstabScalingFactorDisplayMode
									.create("IN_DATA");
							sap.zen.CCrosstabScalingFactorDisplayMode.NO_DISPLAY = sap.zen.CCrosstabScalingFactorDisplayMode
									.create("NO_DISPLAY");
						},
						create : function(value) {
							var loInstance = new sap.zen.CCrosstabScalingFactorDisplayMode();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum
									.valueOf(
											sap.zen.CCrosstabScalingFactorDisplayMode.ENUM_TYPE,
											value);
						}
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.CCrosstabScalingFactorDisplayMode.ENUM_TYPE;
					}
				});
$Firefly
		.createClass(
				"sap.zen.CCrosstabSelectionMode",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "SELECTION_MODE",
						NONE : null,
						SINGLE : null,
						MULTI : null,
						DATA : null,
						SINGLECELL : null,
						staticSetup : function() {
							if (sap.zen.CCrosstabSelectionMode.NONE !== null) {
								return;
							}
							sap.zen.CCrosstabSelectionMode.NONE = sap.zen.CCrosstabSelectionMode
									.create("NONE");
							sap.zen.CCrosstabSelectionMode.SINGLE = sap.zen.CCrosstabSelectionMode
									.create("SINGLE");
							sap.zen.CCrosstabSelectionMode.MULTI = sap.zen.CCrosstabSelectionMode
									.create("MULTI");
							sap.zen.CCrosstabSelectionMode.DATA = sap.zen.CCrosstabSelectionMode
									.create("DATA");
							sap.zen.CCrosstabSelectionMode.SINGLECELL = sap.zen.CCrosstabSelectionMode
									.create("SINGLECELL");
						},
						create : function(value) {
							var loInstance = new sap.zen.CCrosstabSelectionMode();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.CCrosstabSelectionMode.ENUM_TYPE,
									value);
						}
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.CCrosstabSelectionMode.ENUM_TYPE;
					}
				});
$Firefly
		.createClass(
				"sap.zen.CCrosstabSelectionSpace",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "SELECTION_SPACE",
						ALL : null,
						ROW : null,
						COL : null,
						staticSetup : function() {
							if (sap.zen.CCrosstabSelectionSpace.ALL !== null) {
								return;
							}
							sap.zen.CCrosstabSelectionSpace.ALL = sap.zen.CCrosstabSelectionSpace
									.create("ALL");
							sap.zen.CCrosstabSelectionSpace.ROW = sap.zen.CCrosstabSelectionSpace
									.create("ROW");
							sap.zen.CCrosstabSelectionSpace.COL = sap.zen.CCrosstabSelectionSpace
									.create("COL");
						},
						create : function(value) {
							var loInstance = new sap.zen.CCrosstabSelectionSpace();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.CCrosstabSelectionSpace.ENUM_TYPE,
									value);
						}
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.CCrosstabSelectionSpace.ENUM_TYPE;
					}
				});
$Firefly
		.createClass(
				"sap.zen.CCrosstabZebraMode",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "ZEBRA_MODE",
						DATA : null,
						FULL : null,
						OFF : null,
						staticSetup : function() {
							if (sap.zen.CCrosstabZebraMode.DATA !== null) {
								return;
							}
							sap.zen.CCrosstabZebraMode.DATA = sap.zen.CCrosstabZebraMode
									.create("DATA");
							sap.zen.CCrosstabZebraMode.FULL = sap.zen.CCrosstabZebraMode
									.create("FULL");
							sap.zen.CCrosstabZebraMode.OFF = sap.zen.CCrosstabZebraMode
									.create("OFF");
						},
						create : function(value) {
							var loInstance = new sap.zen.CCrosstabZebraMode();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum
									.valueOf(
											sap.zen.CCrosstabZebraMode.ENUM_TYPE,
											value);
						}
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.CCrosstabZebraMode.ENUM_TYPE;
					}
				});
$Firefly.createClass("sap.zen.CrossTabComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ZCrosstabControl();
			},
			staticSetup : function() {
				sap.zen.CLocalizationCrosstabMessages.staticSetup();
				sap.zen.CLocalizationCrosstabTexts.staticSetup();
				sap.zen.CCrosstabAxis.staticSetup();
				sap.zen.CCrosstabZebraMode.staticSetup();
				sap.zen.CCrosstabSelectionMode.staticSetup();
				sap.zen.CCrosstabSelectionSpace.staticSetup();
				sap.zen.CCrosstabScalingFactorDisplayMode.staticSetup();
			}
		});
$Firefly.createClass("sap.zen.ActionDataSourceRefresh", sap.zen.Action, {
	$statics : {
		create : function(oContext, oResult, oBaggage) {
			var loInstance = new sap.zen.ActionDataSourceRefresh();
			loInstance.setContext(oContext);
			loInstance.setResult(oResult);
			loInstance.setBaggage(oBaggage);
			return loInstance;
		}
	},
	doExecute : function() {
	},
	doCallListener : function(oListener) {
		oListener.handleDataSourceAfterRefresh(this.getContext(), this
				.getResponse(), this.getBaggage());
	}
});
$Firefly.createClass("sap.zen.ActionSynchronizeResultSet", sap.zen.Action, {
	$statics : {
		create : function(oContext, oResult, oBaggage) {
			var loInstance = new sap.zen.ActionSynchronizeResultSet();
			loInstance.setContext(oContext);
			loInstance.setResult(oResult);
			loInstance.setBaggage(oBaggage);
			return loInstance;
		}
	},
	doExecute : function() {
	},
	doCallListener : function(oListener) {
		oListener.handleResultSetSynchronized(this.getContext(), this
				.getResponse(), this.getBaggage());
	}
});
$Firefly
		.createClass(
				"sap.zen.CDataSourceChangeAction",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "RESULTSET_ACTION",
						SwapAxes : null,
						MoveDimensionToAxis : null,
						MoveDimensionToPosOfOtherDimension : null,
						RemoveDimensionFromAxis : null,
						SwapDimensions : null,
						SetMemberDisplay : null,
						SetTotalsOptions : null,
						SetTotalsDisplay : null,
						SetTotalsPosition : null,
						SetZeroSuppression : null,
						SortDimension : null,
						AddAttributeToResultSet : null,
						RemoveAttributeFromResultSet : null,
						AddMemberToResultSet : null,
						RemoveMemberFromResultSet : null,
						ClearDimensionFilter : null,
						SetDimensionFilter : null,
						SetUDH : null,
						SetHierarchy : null,
						AssignHierarchy : null,
						SetHierarchyVersion : null,
						SetHierarchyDueDate : null,
						SetHierarchyNodeAlignment : null,
						SetHierarchyDrillLevel : null,
						ActivateHierarchy : null,
						ExpandCollapseHierarchyNode : null,
						AsyncResultSet : null,
						staticSetup : function() {
							if (sap.zen.CDataSourceChangeAction.SwapAxes !== null) {
								return;
							}
							sap.zen.CDataSourceChangeAction.SwapAxes = sap.zen.CDataSourceChangeAction
									.create("SwapAxes");
							sap.zen.CDataSourceChangeAction.MoveDimensionToAxis = sap.zen.CDataSourceChangeAction
									.create("MoveDimensionToAxis");
							sap.zen.CDataSourceChangeAction.MoveDimensionToPosOfOtherDimension = sap.zen.CDataSourceChangeAction
									.create("MoveDimensionToPosOfOtherDimension");
							sap.zen.CDataSourceChangeAction.RemoveDimensionFromAxis = sap.zen.CDataSourceChangeAction
									.create("RemoveDimensionFromAxis");
							sap.zen.CDataSourceChangeAction.SwapDimensions = sap.zen.CDataSourceChangeAction
									.create("SwapDimensions");
							sap.zen.CDataSourceChangeAction.SetMemberDisplay = sap.zen.CDataSourceChangeAction
									.create("SetMemberDisplay");
							sap.zen.CDataSourceChangeAction.SetTotalsOptions = sap.zen.CDataSourceChangeAction
									.create("SetTotalsOptions");
							sap.zen.CDataSourceChangeAction.SetTotalsDisplay = sap.zen.CDataSourceChangeAction
									.create("SetTotalsDisplay");
							sap.zen.CDataSourceChangeAction.SetTotalsPosition = sap.zen.CDataSourceChangeAction
									.create("SetTotalsPosition");
							sap.zen.CDataSourceChangeAction.SetZeroSuppression = sap.zen.CDataSourceChangeAction
									.create("SetZeroSuppression");
							sap.zen.CDataSourceChangeAction.SortDimension = sap.zen.CDataSourceChangeAction
									.create("SortDimension");
							sap.zen.CDataSourceChangeAction.AddAttributeToResultSet = sap.zen.CDataSourceChangeAction
									.create("AddAttributeToResultSet");
							sap.zen.CDataSourceChangeAction.RemoveAttributeFromResultSet = sap.zen.CDataSourceChangeAction
									.create("RemoveAttributeFromResultSet");
							sap.zen.CDataSourceChangeAction.AddMemberToResultSet = sap.zen.CDataSourceChangeAction
									.create("AddMemberToResultSet");
							sap.zen.CDataSourceChangeAction.RemoveMemberFromResultSet = sap.zen.CDataSourceChangeAction
									.create("RemoveMemberFromResultSet");
							sap.zen.CDataSourceChangeAction.ClearDimensionFilter = sap.zen.CDataSourceChangeAction
									.create("ClearDimensionFilter");
							sap.zen.CDataSourceChangeAction.SetDimensionFilter = sap.zen.CDataSourceChangeAction
									.create("SetDimensionFilter");
							sap.zen.CDataSourceChangeAction.SetUDH = sap.zen.CDataSourceChangeAction
									.create("SetUDH");
							sap.zen.CDataSourceChangeAction.SetHierarchy = sap.zen.CDataSourceChangeAction
									.create("SetHierarchy");
							sap.zen.CDataSourceChangeAction.AssignHierarchy = sap.zen.CDataSourceChangeAction
									.create("AssignHierarchy");
							sap.zen.CDataSourceChangeAction.SetHierarchyVersion = sap.zen.CDataSourceChangeAction
									.create("SetHierarchyVersion");
							sap.zen.CDataSourceChangeAction.SetHierarchyDueDate = sap.zen.CDataSourceChangeAction
									.create("SetHierarchyDueDate");
							sap.zen.CDataSourceChangeAction.SetHierarchyNodeAlignment = sap.zen.CDataSourceChangeAction
									.create("SetHierarchyLowerLevelNodeAlignment");
							sap.zen.CDataSourceChangeAction.SetHierarchyDrillLevel = sap.zen.CDataSourceChangeAction
									.create("SetHierarchyDrillLevel");
							sap.zen.CDataSourceChangeAction.ActivateHierarchy = sap.zen.CDataSourceChangeAction
									.create("ActivateHierarchy");
							sap.zen.CDataSourceChangeAction.ExpandCollapseHierarchyNode = sap.zen.CDataSourceChangeAction
									.create("ExpandCollapseHierarchyNode");
							sap.zen.CDataSourceChangeAction.AsyncResultSet = sap.zen.CDataSourceChangeAction
									.create("AsyncResultSet");
						},
						create : function(value) {
							var loInstance = new sap.zen.CDataSourceChangeAction();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.CDataSourceChangeAction.ENUM_TYPE,
									value);
						}
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.CDataSourceChangeAction.ENUM_TYPE;
					}
				});
$Firefly
		.createClass(
				"sap.zen.CMemberDisplayMode",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "MEMBER_DISPLAY_MODE",
						NONE : null,
						KEY : null,
						TEXT : null,
						KEY_TEXT : null,
						TEXT_KEY : null,
						staticSetup : function() {
							if (sap.zen.CMemberDisplayMode.NONE !== null) {
								return;
							}
							sap.zen.CMemberDisplayMode.NONE = sap.zen.CMemberDisplayMode
									.create("");
							sap.zen.CMemberDisplayMode.KEY = sap.zen.CMemberDisplayMode
									.create("KEY");
							sap.zen.CMemberDisplayMode.TEXT = sap.zen.CMemberDisplayMode
									.create("TEXT");
							sap.zen.CMemberDisplayMode.KEY_TEXT = sap.zen.CMemberDisplayMode
									.create("KEY_TEXT");
							sap.zen.CMemberDisplayMode.TEXT_KEY = sap.zen.CMemberDisplayMode
									.create("TEXT_KEY");
						},
						create : function(value) {
							var loInstance = new sap.zen.CMemberDisplayMode();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum
									.valueOf(
											sap.zen.CMemberDisplayMode.ENUM_TYPE,
											value);
						}
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.CMemberDisplayMode.ENUM_TYPE;
					}
				});
$Firefly
		.createClass(
				"sap.zen.CResultSetPagingMode",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "PAGING_MODE",
						ACTIVATE_PAGING : null,
						RESPECT_MIN_SIZE : null,
						RESPECT_MAX_SIZE : null,
						staticSetup : function() {
							if (sap.zen.CResultSetPagingMode.ACTIVATE_PAGING !== null) {
								return;
							}
							sap.zen.CResultSetPagingMode.ACTIVATE_PAGING = sap.zen.CResultSetPagingMode
									.create("ACTIVATE_PAGING", 1);
							sap.zen.CResultSetPagingMode.RESPECT_MIN_SIZE = sap.zen.CResultSetPagingMode
									.create("RESPECT_MIN_SIZE", 2);
							sap.zen.CResultSetPagingMode.RESPECT_MAX_SIZE = sap.zen.CResultSetPagingMode
									.create("RESPECT_MAX_SIZE", 4);
						},
						create : function(value, binaryValue) {
							var loInstance = new sap.zen.CResultSetPagingMode();
							var lValue = value;
							if (lValue === null) {
								lValue = sap.firefly.XInteger
										.convertIntegerToString(binaryValue);
							}
							loInstance.setValue(value);
							loInstance.setBinaryValue(binaryValue);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.CResultSetPagingMode.ENUM_TYPE,
									value);
						}
					},
					binaryValue : 0,
					setBinaryValue : function(binaryValue) {
						this.binaryValue = binaryValue;
					},
					getBinaryValue : function() {
						return this.binaryValue;
					},
					isContainedWithin : function(value) {
						if (sap.firefly.XMath.binaryAnd(value, this
								.getBinaryValue()) === this.getBinaryValue()) {
							return true;
						}
						return false;
					},
					containsAny : function(object) {
						if (sap.firefly.XMath.binaryAnd(this.getBinaryValue(),
								object.getBinaryValue()) > 0) {
							return true;
						}
						return false;
					},
					containsAll : function(object) {
						if (sap.firefly.XMath.binaryAnd(this.getBinaryValue(),
								object.getBinaryValue()) === object
								.getBinaryValue()) {
							return true;
						}
						return false;
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.CResultSetPagingMode.ENUM_TYPE;
					}
				});
$Firefly.createClass("sap.zen.DataSourceFactory", sap.zen.PageObjectFactory, {
	createObject : function(objectProperties) {
		return new sap.zen.DataSource();
	},
	staticSetup : function() {
		sap.zen.CLocalizationDataSourceMessages.staticSetup();
		sap.zen.CLocalizationDataSourceTexts.staticSetup();
		sap.zen.CMemberDisplayMode.staticSetup();
		sap.zen.CDataSourceChangeAction.staticSetup();
		sap.zen.CResultSetPagingMode.staticSetup();
		sap.zen.CXpDSExportLayout.staticSetup();
		sap.zen.CXpDSItem.staticSetup();
		sap.zen.CXpDSTechInfo.staticSetup();
		sap.zen.CXpDataCellValueType.staticSetup();
		sap.zen.CXpStyle.staticSetup();
		sap.zen.CXpObjectType.staticSetup();
		sap.zen.COpenOfficeType.staticSetup();
		sap.zen.DataSourceChangeCause.staticSetup();
	}
});
$Firefly
		.createClass(
				"sap.zen.DimensionMemberWrapper",
				sap.firefly.XObject,
				{
					$statics : {
						create : function(oDimension, oInternalDimensionMember) {
							var loInstance = null;
							if (oDimension !== null
									&& oInternalDimensionMember !== null) {
								loInstance = new sap.zen.DimensionMemberWrapper();
								loInstance.initMe(oDimension,
										oInternalDimensionMember);
							}
							return loInstance;
						}
					},
					oDimension : null,
					oInternalDimensionMember : null,
					initMe : function(oDimension, oInternalDimensionMember) {
						this.oDimension = oDimension;
						this.oInternalDimensionMember = oInternalDimensionMember;
					},
					getInternalObject : function() {
						return this.oInternalDimensionMember;
					},
					getDataSource : function() {
						return this.oDimension.getDataSource();
					},
					getResultSet : function() {
						return this.oDimension.getResultSet();
					},
					getDimension : function() {
						return this.oDimension;
					},
					getName : function() {
						var loInternalDimensionMember = this
								.getInternalObject();
						if (loInternalDimensionMember === null) {
							return null;
						}
						return loInternalDimensionMember.getName();
					},
					getText : function() {
						var loInternalDimensionMember = this
								.getInternalObject();
						var lDimensionMemberText;
						if (loInternalDimensionMember === null) {
							return null;
						}
						lDimensionMemberText = null;
						lDimensionMemberText = this.getTextFieldValue();
						if (lDimensionMemberText === null) {
							lDimensionMemberText = loInternalDimensionMember
									.getText();
						}
						if (lDimensionMemberText === null) {
							lDimensionMemberText = loInternalDimensionMember
									.getName();
						}
						if (lDimensionMemberText === null) {
							lDimensionMemberText = "";
						}
						return lDimensionMemberText;
					},
					getKeyFieldValue : function(useDisplayKey) {
						var loInternalDimensionMember = this
								.getInternalObject();
						var lKeyFieldName;
						var loInternalDimension;
						var loInternalField;
						var loInternalFieldValue;
						var lFieldValue;
						if (loInternalDimensionMember === null) {
							return null;
						}
						lKeyFieldName = this.getDimension().getKeyField(null,
								useDisplayKey);
						loInternalDimension = loInternalDimensionMember
								.getDimension();
						loInternalField = loInternalDimension
								.getFieldByName(lKeyFieldName);
						loInternalFieldValue = null;
						loInternalFieldValue = loInternalDimensionMember
								.getFieldValue(loInternalField);
						lFieldValue = null;
						if (loInternalFieldValue !== null) {
							lFieldValue = loInternalFieldValue
									.getFormattedValue();
							if (lFieldValue === null) {
								lFieldValue = loInternalFieldValue
										.getStringValue();
							}
						}
						return lFieldValue;
					},
					getTextFieldValue : function() {
						var loInternalDimensionMember = this
								.getInternalObject();
						var lMemberType;
						var loDimension;
						var loInternalDimension;
						var loInternalFieldValue;
						var loInternalKeyField;
						var loInternalTextField;
						var ltVisibleFields;
						var i;
						var lVisibleFieldName;
						var loVisibleField;
						var lTextFieldValueText;
						if (loInternalDimensionMember === null) {
							return null;
						}
						lMemberType = loInternalDimensionMember.getMemberType();
						if ((lMemberType !== null) && lMemberType.isResult()) {
							return null;
						}
						loDimension = this.getDimension();
						loInternalDimension = loInternalDimensionMember
								.getDimension();
						loInternalFieldValue = null;
						loInternalKeyField = null;
						loInternalTextField = null;
						if (loInternalDimension.supportsHierarchy()
								&& loInternalDimension
										.isHierarchyAssignedAndActive()) {
							loInternalKeyField = loInternalDimension
									.getHierarchyKeyField();
							loInternalTextField = loInternalDimension
									.getHierarchyTextField();
							if (loInternalTextField !== null) {
								loInternalFieldValue = loInternalDimensionMember
										.getFieldValue(loInternalTextField);
							} else {
								if (loInternalKeyField !== null) {
									loInternalFieldValue = loInternalDimensionMember
											.getFieldValue(loInternalKeyField);
								}
							}
						} else {
							loInternalKeyField = loInternalDimension
									.getKeyField();
							ltVisibleFields = loDimension.getResultSetFields();
							if (ltVisibleFields !== null) {
								for (i = 0; i < ltVisibleFields.size(); i++) {
									lVisibleFieldName = ltVisibleFields.get(i);
									loVisibleField = loInternalDimension
											.getFieldByName(lVisibleFieldName);
									if (this
											.isInternalFieldValidTextField(loVisibleField)) {
										loInternalTextField = loVisibleField;
										break;
									}
								}
							}
							if (loInternalTextField === null) {
								loInternalTextField = loInternalDimension
										.getTextField();
							}
							if (loInternalTextField !== null) {
								loInternalFieldValue = loInternalDimensionMember
										.getFieldValue(loInternalTextField);
							}
						}
						if (loInternalFieldValue === null) {
							loInternalFieldValue = this
									.getInternalFieldValueByPresentation(sap.firefly.PresentationType.TEXT);
						}
						if (loInternalFieldValue === null) {
							loInternalFieldValue = this
									.getInternalFieldValueByPresentation(sap.firefly.PresentationType.SHORT_TEXT);
						}
						if (loInternalFieldValue === null) {
							loInternalFieldValue = this
									.getInternalFieldValueByPresentation(sap.firefly.PresentationType.MEDIUM_TEXT);
						}
						if (loInternalFieldValue === null) {
							loInternalFieldValue = this
									.getInternalFieldValueByPresentation(sap.firefly.PresentationType.LONG_TEXT);
						}
						if (loInternalFieldValue === null) {
							loInternalFieldValue = this
									.getInternalFieldValueByPresentation(sap.firefly.PresentationType.XL_LONG_TEXT);
						}
						if (loInternalFieldValue === null) {
							loInternalFieldValue = loInternalDimensionMember
									.getFieldValue(loInternalKeyField);
						}
						lTextFieldValueText = null;
						if (loInternalFieldValue !== null) {
							lTextFieldValueText = loInternalFieldValue
									.getFormattedValue();
							if (lTextFieldValueText === null) {
								lTextFieldValueText = loInternalFieldValue
										.getStringValue();
							}
						}
						return lTextFieldValueText;
					},
					isInternalFieldValidTextField : function(oInternalField) {
						if (oInternalField.getPresentationType().isEqualTo(
								sap.firefly.PresentationType.TEXT)
								|| oInternalField
										.getPresentationType()
										.isEqualTo(
												sap.firefly.PresentationType.HIERARCHY_TEXT)
								|| oInternalField
										.getPresentationType()
										.isEqualTo(
												sap.firefly.PresentationType.LONG_TEXT)
								|| oInternalField
										.getPresentationType()
										.isEqualTo(
												sap.firefly.PresentationType.MEDIUM_TEXT)
								|| oInternalField
										.getPresentationType()
										.isEqualTo(
												sap.firefly.PresentationType.SHORT_TEXT)
								|| oInternalField
										.getPresentationType()
										.isEqualTo(
												sap.firefly.PresentationType.XL_LONG_TEXT)) {
							return true;
						}
						return false;
					},
					getPresentationFieldValue : function(presentationType) {
						var loInternalDimensionMember = this
								.getInternalObject();
						var loInternalFieldValue;
						var lPresentationFieldValueText;
						if (loInternalDimensionMember === null) {
							return null;
						}
						loInternalFieldValue = this
								.getInternalFieldValueByPresentation(presentationType);
						lPresentationFieldValueText = null;
						if (loInternalFieldValue !== null) {
							lPresentationFieldValueText = loInternalFieldValue
									.getFormattedValue();
							if (lPresentationFieldValueText === null) {
								lPresentationFieldValueText = loInternalFieldValue
										.getStringValue();
							}
						}
						return lPresentationFieldValueText;
					},
					getInternalFieldValueByPresentation : function(
							presentationType) {
						var loInternalDimensionMember = this
								.getInternalObject();
						var lPresentationFieldValue;
						var loFieldValueIterator;
						var loFieldValue;
						var lPresentationType;
						if (loInternalDimensionMember === null) {
							return null;
						}
						lPresentationFieldValue = null;
						loFieldValueIterator = loInternalDimensionMember
								.getAllFieldValues().getIterator();
						while (loFieldValueIterator.hasNext()) {
							loFieldValue = loFieldValueIterator.next();
							if (loFieldValue === null) {
								continue;
							}
							lPresentationType = loFieldValue.getField()
									.getPresentationType();
							if (lPresentationType.isEqualTo(presentationType)) {
								lPresentationFieldValue = loFieldValue;
								break;
							}
						}
						return lPresentationFieldValue;
					},
					isTotal : function() {
						var lType = this.getType();
						return lType.isResult()
								|| sap.firefly.MemberType.RESULT
										.isEqualTo(lType);
					},
					getValueType : function() {
						var loInternalDimensionMember = this
								.getInternalObject();
						if (loInternalDimensionMember === null) {
							return null;
						}
						return loInternalDimensionMember.getValueType()
								.getName();
					},
					isNumber : function() {
						var loInternalDimensionMember = this
								.getInternalObject();
						if (loInternalDimensionMember === null) {
							return false;
						}
						return loInternalDimensionMember.getValueType()
								.isNumber();
					},
					isDate : function() {
						var loInternalDimensionMember = this
								.getInternalObject();
						if (loInternalDimensionMember === null) {
							return false;
						}
						return loInternalDimensionMember.getValueType() === sap.firefly.XValueType.DATE;
					},
					isTime : function() {
						var loInternalDimensionMember = this
								.getInternalObject();
						if (loInternalDimensionMember === null) {
							return false;
						}
						return loInternalDimensionMember.getValueType() === sap.firefly.XValueType.TIME;
					},
					isDateTime : function() {
						var loInternalDimensionMember = this
								.getInternalObject();
						if (loInternalDimensionMember === null) {
							return false;
						}
						return loInternalDimensionMember.getValueType()
								.isDateTime();
					},
					getFormattedValue : function() {
						var loInternalDimensionMember = this
								.getInternalObject();
						if (loInternalDimensionMember === null) {
							return null;
						}
						return loInternalDimensionMember.getFormattedValue();
					},
					getType : function() {
						var loInternalDimensionMember = this
								.getInternalObject();
						if (loInternalDimensionMember === null) {
							return null;
						}
						return loInternalDimensionMember.getMemberType();
					},
					getDecimals : function() {
						var lDecimals = sap.zen.ResultDataCellWrapper.NO_DECIMALS;
						var loInternalStructureMember;
						var ltDataCells;
						if (this.getDimension().isStructure()) {
							loInternalStructureMember = this
									.getInternalObject();
							ltDataCells = loInternalStructureMember
									.getQueryDataCells();
							if (!ltDataCells.isEmpty()) {
								lDecimals = ltDataCells.getIterator().next()
										.getDecimalPlaces();
							}
						}
						return lDecimals;
					},
					setDecimals : function(decimals) {
						var loInternalDimensionMember = this
								.getInternalObject();
						var loInternalStructureMember;
						var ltDataCells;
						var lDataCellIndex;
						var loInternalDataCell;
						if (loInternalDimensionMember === null) {
							return;
						}
						if (this.getDimension().isStructure()) {
							loInternalStructureMember = loInternalDimensionMember;
							ltDataCells = loInternalStructureMember
									.getQueryDataCells();
							for (lDataCellIndex = 0; lDataCellIndex < ltDataCells
									.size(); lDataCellIndex++) {
								loInternalDataCell = ltDataCells
										.get(lDataCellIndex);
								if (loInternalDataCell === null) {
									continue;
								}
								loInternalDataCell.setDecimalPlaces(decimals);
							}
						}
					},
					getScalingFactor : function() {
						var lScalingFactor = sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR;
						var loInternalStructureMember;
						var ltDataCells;
						if (this.getDimension().isStructure()) {
							loInternalStructureMember = this
									.getInternalObject();
							ltDataCells = loInternalStructureMember
									.getQueryDataCells();
							if (!ltDataCells.isEmpty()) {
								lScalingFactor = ltDataCells.getIterator()
										.next().getScalingFactor();
							}
						}
						if (lScalingFactor < sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR) {
							lScalingFactor = lScalingFactor * -1;
						}
						return lScalingFactor;
					},
					setScalingFactor : function(scalingFactor) {
						var loInternalDimensionMember = this
								.getInternalObject();
						var loInternalStructureMember;
						var ltDataCells;
						var lDataCellIndex;
						var loInternalDataCell;
						if (loInternalDimensionMember === null) {
							return;
						}
						if (this.getDimension().isStructure()) {
							loInternalStructureMember = loInternalDimensionMember;
							ltDataCells = loInternalStructureMember
									.getQueryDataCells();
							for (lDataCellIndex = 0; lDataCellIndex < ltDataCells
									.size(); lDataCellIndex++) {
								loInternalDataCell = ltDataCells
										.get(lDataCellIndex);
								if (loInternalDataCell === null) {
									continue;
								}
								loInternalDataCell
										.setScalingFactor(scalingFactor);
							}
						}
					},
					setDecimalsAndScalingFactor : function(decimals,
							scalingFactor) {
						var loInternalDimensionMember = this
								.getInternalObject();
						var loInternalStructureMember;
						var ltDataCells;
						var lDataCellIndex;
						var loInternalDataCell;
						if (loInternalDimensionMember === null) {
							return;
						}
						if (this.getDimension().isStructure()) {
							loInternalStructureMember = loInternalDimensionMember;
							ltDataCells = loInternalStructureMember
									.getQueryDataCells();
							for (lDataCellIndex = 0; lDataCellIndex < ltDataCells
									.size(); lDataCellIndex++) {
								loInternalDataCell = ltDataCells
										.get(lDataCellIndex);
								if (loInternalDataCell === null) {
									continue;
								}
								loInternalDataCell.setDecimalPlaces(decimals);
								loInternalDataCell
										.setScalingFactor(scalingFactor);
							}
						}
					},
					releaseObject : function() {
						this.oDimension = null;
						this.oInternalDimensionMember = null;
						sap.zen.DimensionMemberWrapper.$superclass.releaseObject
								.call(this);
					},
					clone : function() {
						throw sap.firefly.XException
								.createUnsupportedOperationException();
					},
					toString : function() {
						var loObject = sap.firefly.PrStructure.create();
						var loJsonString = null;
						var loJsonBool = null;
						var loDataSource = this.getDimension().getDataSource();
						loJsonString = sap.firefly.PrString.create();
						if (loDataSource !== null) {
							loJsonString.setStringValue(loDataSource.getName());
						}
						loObject.setElementByName("DataSource", loJsonString);
						loJsonString = sap.firefly.PrString.create();
						if (this.getDimension() !== null) {
							loJsonString.setStringValue(this.getDimension()
									.toString());
						}
						loObject.setElementByName("Dimension", loJsonString);
						loJsonString = sap.firefly.PrString.create();
						loJsonString.setStringValue(this.getName());
						loObject.setElementByName("Name", loJsonString);
						loJsonString = sap.firefly.PrString.create();
						loJsonString.setStringValue(this.getText());
						loObject.setElementByName("Text", loJsonString);
						loJsonString = sap.firefly.PrString.create();
						if (this.getType() !== null) {
							loJsonString.setStringValue(this.getType()
									.getName());
						}
						loObject.setElementByName("Type", loJsonString);
						loJsonBool = sap.firefly.PrBoolean.create();
						loJsonBool.setBooleanValue(this.isTotal());
						loObject.setElementByName("IsTotal", loJsonBool);
						return loObject.toString();
					}
				});
$Firefly
		.createClass(
				"sap.zen.ResultDataCellWrapper",
				sap.firefly.XObject,
				{
					$statics : {
						NO_DECIMALS : -1,
						NO_SCALING_FACTOR : -1,
						NO_FORMAT_STRING : "",
						NO_DISPLAY_FORMAT_STRING : '""',
						ACTIVATE_CODE_ANALYSIS_MODE : false,
						sGetScalingFactorValueFromScalingFactor : function(
								scalingFactor) {
							var lScalingFactorValue = sap.zen.ResultDataCellWrapper
									.sCalcScalingFactorValue(scalingFactor);
							return lScalingFactorValue;
						},
						sGetScalingFactorValueAsStringFromScalingFactor : function(
								scalingFactor) {
							var lScalingFactorValue = sap.zen.ResultDataCellWrapper
									.sGetScalingFactorValueFromScalingFactor(scalingFactor);
							var lFormattedValue = sap.firefly.XLong
									.convertLongToString(lScalingFactorValue);
							return lFormattedValue;
						},
						sGetScalingFactorValueFormattedFromScalingFactor : function(
								scalingFactor) {
							var lFormattedValue = sap.zen.ResultDataCellWrapper
									.sGetScalingFactorValueAsStringFromScalingFactor(scalingFactor);
							lFormattedValue = sap.zen.ResultDataCellWrapper
									.sAddScalingFactorInformation(lFormattedValue);
							return lFormattedValue;
						},
						sGetName : function(dataSource, rowIndex, columnIndex) {
							var lKey;
							if (dataSource === null || rowIndex < 0
									|| columnIndex < 0) {
								return null;
							}
							lKey = sap.firefly.XStringUtils
									.concatenate5(
											dataSource.getName(),
											";",
											sap.firefly.XInteger
													.convertIntegerToString(rowIndex),
											";",
											sap.firefly.XInteger
													.convertIntegerToString(columnIndex));
							return lKey;
						},
						sGetResultDataCellObject : function(resultSet,
								rowIndex, columnIndex) {
							return sap.zen.ResultDataCellWrapper
									.sRetrieveInternalDataCell(resultSet,
											rowIndex, columnIndex);
						},
						sRetrieveInternalDataCell : function(oResultSet,
								rowIndex, columnIndex) {
							var lRowIndex = rowIndex;
							var lColumnIndex = columnIndex;
							var lAxis = null;
							var lAxisIndex = 0;
							var loServerPaging = oResultSet.getServerPaging();
							var loAxisServerPaging;
							var i;
							var lOffsetFrom;
							var lOffsetTo;
							var lInternalResultSet;
							var loInternalResultDataCell;
							if (loServerPaging.isPagingActive()) {
								loAxisServerPaging = null;
								for (i = 0; i < 2; i++) {
									if (i === 0) {
										lAxis = sap.firefly.AxisType.ROWS;
										lAxisIndex = lRowIndex;
									} else {
										if (i === 1) {
											lAxis = sap.firefly.AxisType.COLUMNS;
											lAxisIndex = lColumnIndex;
										} else {
											break;
										}
									}
									loAxisServerPaging = loServerPaging
											.getAxisPaging(lAxis);
									if (loAxisServerPaging !== null) {
										lOffsetFrom = loAxisServerPaging
												.getOffset();
										lOffsetTo = lOffsetFrom
												+ loAxisServerPaging.getSize()
												- 1;
										if (lAxisIndex < lOffsetFrom
												|| lAxisIndex > lOffsetTo) {
											lOffsetFrom = lAxisIndex;
											loAxisServerPaging
													.setPage(
															lOffsetFrom,
															sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
										}
										lAxisIndex = lAxisIndex - lOffsetFrom;
										if (i === 0) {
											lRowIndex = lAxisIndex;
										} else {
											if (i === 1) {
												lColumnIndex = lAxisIndex;
											}
										}
									}
								}
							}
							lInternalResultSet = oResultSet.getInternalObject();
							if (lInternalResultSet === null) {
								return null;
							}
							loInternalResultDataCell = lInternalResultSet
									.getDataCell(lColumnIndex, lRowIndex);
							return loInternalResultDataCell;
						},
						create : function(oResultSet, rowIndex, colIndex) {
							var loInstance = null;
							var loInternalResultDataCell;
							if (oResultSet !== null
									&& oResultSet.hasDataCells()) {
								loInternalResultDataCell = sap.zen.ResultDataCellWrapper
										.sGetResultDataCellObject(oResultSet,
												rowIndex, colIndex);
								if (loInternalResultDataCell !== null) {
									loInstance = new sap.zen.ResultDataCellWrapper();
									loInstance.initMe(oResultSet,
											loInternalResultDataCell);
								}
							}
							return loInstance;
						},
						sIsValueValid : function(oInternalResultDataCell) {
							if (oInternalResultDataCell !== null) {
								return oInternalResultDataCell
										.getValueException().isValidValue();
							}
							return false;
						},
						sProvideValue : function(oInternalResultDataCell,
								internal, oResultDataCell) {
							var lInternalValue;
							var lValue;
							var lDetermined;
							var lValueType;
							var lValueException;
							var lDouble;
							var lReflectScalingFactor;
							var lScalingFactorValue;
							if (oResultDataCell !== null
									&& oResultDataCell.valueProvided) {
								if (internal) {
									return oResultDataCell.getInternalValue();
								}
								return oResultDataCell.getValue();
							}
							lInternalValue = null;
							lValue = null;
							lDetermined = false;
							lValueType = null;
							lValueException = null;
							if (oInternalResultDataCell !== null) {
								if (oInternalResultDataCell.getXValue() !== null) {
									lInternalValue = oInternalResultDataCell
											.getXValue().clone();
									lValue = oInternalResultDataCell
											.getXValue().clone();
								}
								lValueType = oInternalResultDataCell
										.getValueType();
								lValueException = oInternalResultDataCell
										.getValueException();
							}
							if (!lDetermined) {
								if (oInternalResultDataCell === null) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (lValueType === null
										|| !lValueType.isNumber()) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (lValueException !== sap.firefly.ValueException.NORMAL) {
									if (lValueException === sap.firefly.ValueException.UNDEFINED
											|| lValueException === sap.firefly.ValueException.NULL_VALUE) {
										lInternalValue = sap.firefly.XDoubleValue
												.create(0);
										lValue = sap.firefly.XDoubleValue
												.create(0);
										lDetermined = true;
									}
								}
							}
							if (!lDetermined) {
								if (oInternalResultDataCell !== null) {
									lDouble = 0;
									if (oInternalResultDataCell.getQueryModel()
											.supportsUnifiedDataCells()) {
										if (lValue !== null) {
											lDouble = (lValue).getDoubleValue();
											lReflectScalingFactor = true;
											if (lValueType === sap.firefly.XValueType.PERCENT) {
												lDouble = lDouble * 100;
												(lValue)
														.setDoubleValue(lDouble);
												lReflectScalingFactor = false;
											}
											if (lReflectScalingFactor) {
												lScalingFactorValue = sap.zen.ResultDataCellWrapper
														.sProvideScalingFactorValue(
																oInternalResultDataCell,
																oResultDataCell);
												if (lScalingFactorValue > 1) {
													lDouble = lDouble
															/ lScalingFactorValue;
													(lValue)
															.setDoubleValue(lDouble);
												}
											}
										}
									} else {
										if (lInternalValue !== null) {
											lDouble = (lInternalValue)
													.getDoubleValue();
											if (lValueType === sap.firefly.XValueType.PERCENT) {
												lDouble = lDouble / 100;
												(lInternalValue)
														.setDoubleValue(lDouble);
											}
										}
									}
								}
							}
							if (oResultDataCell !== null) {
								oResultDataCell.setValueProvided(
										lInternalValue, lValue);
							}
							if (internal) {
								return lInternalValue;
							}
							return lValue;
						},
						sProvideValueInExternalFormat : function(
								oInternalResultDataCell, oResultDataCell) {
							var lValueInExternalFormat;
							var lDetermined;
							var lValueType;
							if (oResultDataCell !== null
									&& oResultDataCell.valueInExternalFormatProvided) {
								return oResultDataCell
										.getValueInExternalFormat();
							}
							lValueInExternalFormat = null;
							lDetermined = false;
							lValueType = null;
							if (oInternalResultDataCell !== null) {
								lValueType = oInternalResultDataCell
										.getValueType();
							}
							if (!lDetermined) {
								if (oInternalResultDataCell === null) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (lValueType === null
										|| !lValueType.isNumber()) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (oInternalResultDataCell !== null) {
									if (oInternalResultDataCell.getQueryModel()
											.supportsUnifiedDataCells()) {
										lValueInExternalFormat = oInternalResultDataCell
												.getFormattedValue();
										lDetermined = true;
									}
								}
							}
							if (!lDetermined) {
								lValueInExternalFormat = null;
							}
							if (oResultDataCell !== null) {
								oResultDataCell
										.setValueInExternalFormatProvided(lValueInExternalFormat);
							}
							return lValueInExternalFormat;
						},
						sCalcValueInInternalFormatFromValue : function(value,
								decimals) {
							var lValueInInternalFormat;
							var lValue;
							var lFoundStartIndex;
							var lDecimalsOfValueInInternalFormat;
							var lDouble;
							var lDecimalCount;
							var lMissingDecimals;
							var lFactor;
							var lRoundUp;
							var lEndIndex;
							if (value === null) {
								return null;
							}
							lValueInInternalFormat = null;
							lValue = value.clone();
							lValueInInternalFormat = lValue
									.getStringRepresentation();
							lFoundStartIndex = 0;
							lDecimalsOfValueInInternalFormat = 0;
							lFoundStartIndex = sap.firefly.XString.indexOf(
									lValueInInternalFormat, ".");
							if (lFoundStartIndex >= 0) {
								lDecimalsOfValueInInternalFormat = sap.firefly.XString
										.size(lValueInInternalFormat)
										- (lFoundStartIndex + 1);
							}
							lDouble = (lValue).getDoubleValue();
							lDecimalCount = 0;
							if (lDecimalsOfValueInInternalFormat < decimals) {
								if (lDecimalsOfValueInInternalFormat <= 0) {
									lValueInInternalFormat = sap.firefly.XStringUtils
											.concatenate2(
													lValueInInternalFormat, ".");
								}
								lMissingDecimals = decimals
										- lDecimalsOfValueInInternalFormat;
								for (lDecimalCount = 0; lDecimalCount < lMissingDecimals; lDecimalCount++) {
									lValueInInternalFormat = sap.firefly.XStringUtils
											.concatenate2(
													lValueInInternalFormat, "0");
								}
								lDouble = sap.firefly.XDouble
										.convertStringToDouble(lValueInInternalFormat);
								(lValue).setDoubleValue(lDouble);
							} else {
								if (lDecimalsOfValueInInternalFormat > decimals) {
									lFactor = 1;
									for (lDecimalCount = 0; lDecimalCount < (decimals + 1); lDecimalCount++) {
										lFactor = lFactor * 10;
									}
									lRoundUp = 5 / lFactor;
									if (lDouble >= 0) {
										lDouble = lDouble + lRoundUp;
									} else {
										lDouble = lDouble - lRoundUp;
									}
									(lValue).setDoubleValue(lDouble);
									lValueInInternalFormat = lValue
											.getStringRepresentation();
									lFoundStartIndex = sap.firefly.XString
											.indexOf(lValueInInternalFormat,
													".");
									if (lFoundStartIndex >= 0) {
										if (decimals <= 0) {
											lFoundStartIndex = lFoundStartIndex - 1;
										}
										lEndIndex = lFoundStartIndex + decimals
												+ 1;
										lValueInInternalFormat = sap.firefly.XString
												.substring(
														lValueInInternalFormat,
														0, lEndIndex);
										lDouble = sap.firefly.XDouble
												.convertStringToDouble(lValueInInternalFormat);
										(lValue).setDoubleValue(lDouble);
									}
								}
							}
							return lValueInInternalFormat;
						},
						sCalcValueInExternalFormatFromFormattedValue : function(
								formattedValue, valueInInternalFormat) {
							var lFormattedNumber;
							var lSearchString;
							var lSearchStringLength;
							var lMatchString;
							var lMatchStringLength;
							var lFoundStartIndex;
							var lFoundEndIndex;
							var lSearchStringStartIndex;
							var lMatchStringStartIndex;
							var lMatchChar;
							var lSearchChar;
							if (formattedValue === null
									|| valueInInternalFormat === null) {
								return null;
							}
							lFormattedNumber = null;
							lSearchString = valueInInternalFormat;
							lSearchStringLength = sap.firefly.XString
									.size(valueInInternalFormat);
							lMatchString = formattedValue;
							lMatchStringLength = sap.firefly.XString
									.size(formattedValue);
							lFoundStartIndex = -1;
							lFoundEndIndex = -1;
							lSearchStringStartIndex = 0;
							for (lMatchStringStartIndex = 0; lMatchStringStartIndex < lMatchStringLength; lMatchStringStartIndex++) {
								lMatchChar = sap.firefly.XString.substring(
										lMatchString, lMatchStringStartIndex,
										lMatchStringStartIndex + 1);
								if (!(sap.firefly.XString.isEqual(lMatchChar,
										"0")
										|| sap.firefly.XString.isEqual(
												lMatchChar, "1")
										|| sap.firefly.XString.isEqual(
												lMatchChar, "2")
										|| sap.firefly.XString.isEqual(
												lMatchChar, "3")
										|| sap.firefly.XString.isEqual(
												lMatchChar, "4")
										|| sap.firefly.XString.isEqual(
												lMatchChar, "5")
										|| sap.firefly.XString.isEqual(
												lMatchChar, "6")
										|| sap.firefly.XString.isEqual(
												lMatchChar, "7")
										|| sap.firefly.XString.isEqual(
												lMatchChar, "8") || sap.firefly.XString
										.isEqual(lMatchChar, "9"))) {
									continue;
								}
								lSearchChar = sap.firefly.XString.substring(
										lSearchString, lSearchStringStartIndex,
										lSearchStringStartIndex + 1);
								if (!(sap.firefly.XString.isEqual(lSearchChar,
										"0")
										|| sap.firefly.XString.isEqual(
												lSearchChar, "1")
										|| sap.firefly.XString.isEqual(
												lSearchChar, "2")
										|| sap.firefly.XString.isEqual(
												lSearchChar, "3")
										|| sap.firefly.XString.isEqual(
												lSearchChar, "4")
										|| sap.firefly.XString.isEqual(
												lSearchChar, "5")
										|| sap.firefly.XString.isEqual(
												lSearchChar, "6")
										|| sap.firefly.XString.isEqual(
												lSearchChar, "7")
										|| sap.firefly.XString.isEqual(
												lSearchChar, "8") || sap.firefly.XString
										.isEqual(lSearchChar, "9"))) {
									lSearchStringStartIndex = lSearchStringStartIndex + 1;
									lMatchStringStartIndex = lMatchStringStartIndex - 1;
									continue;
								}
								if (sap.firefly.XString.isEqual(lMatchChar,
										lSearchChar)) {
									if (lFoundStartIndex < 0) {
										lFoundStartIndex = lMatchStringStartIndex;
									}
									if (lFoundStartIndex >= 0) {
										lFoundEndIndex = lMatchStringStartIndex + 1;
									}
									lSearchStringStartIndex = lSearchStringStartIndex + 1;
									if (lSearchStringStartIndex === lSearchStringLength) {
										break;
									}
								} else {
									lSearchStringStartIndex = 0;
									lFoundStartIndex = -1;
									lFoundEndIndex = -1;
								}
							}
							if (lSearchStringStartIndex < lSearchStringLength) {
								lFoundStartIndex = -1;
								lFoundEndIndex = -1;
							}
							if (lFoundStartIndex >= 0 && lFoundEndIndex >= 0) {
								lFormattedNumber = sap.firefly.XString
										.substring(formattedValue,
												lFoundStartIndex,
												lFoundEndIndex);
								if (sap.firefly.XString.startsWith(
										valueInInternalFormat, "-")) {
									lFormattedNumber = sap.firefly.XStringUtils
											.concatenate2("-", lFormattedNumber);
								}
							}
							return lFormattedNumber;
						},
						sAddValueTypeInformation : function(value, valueType,
								valueException) {
							var lFormattedValue = value;
							if (valueType === null || value === null) {
								return lFormattedValue;
							}
							if (valueType === sap.firefly.XValueType.PERCENT) {
								if (valueException !== sap.firefly.ValueException.MIXED_CURRENCIES_OR_UNITS) {
									if (sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(lFormattedValue)) {
										lFormattedValue = sap.firefly.XStringUtils
												.concatenate2(lFormattedValue,
														" ");
									}
									lFormattedValue = sap.firefly.XStringUtils
											.concatenate2(lFormattedValue, "%");
								}
							}
							return lFormattedValue;
						},
						sProvideFormattedValue : function(
								oInternalResultDataCell, oResultDataCell) {
							var lFormattedValue;
							var lDetermined;
							var lValueType;
							var lValueException;
							var lCurrencyUnit;
							if (oResultDataCell !== null
									&& oResultDataCell.formattedValueProvided) {
								return oResultDataCell.getFormattedValue();
							}
							lFormattedValue = null;
							lDetermined = false;
							lValueType = null;
							lValueException = null;
							if (oInternalResultDataCell !== null) {
								lValueType = oInternalResultDataCell
										.getValueType();
								lValueException = oInternalResultDataCell
										.getValueException();
								lFormattedValue = oInternalResultDataCell
										.getFormattedValue();
							}
							if (!lDetermined) {
								if (oInternalResultDataCell === null) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (lValueType === null
										|| !lValueType.isNumber()) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (lValueException !== sap.firefly.ValueException.NORMAL) {
									if (lValueException === sap.firefly.ValueException.UNDEFINED
											|| lValueException === sap.firefly.ValueException.UNDEFINED_NOP
											|| lValueException === sap.firefly.ValueException.NULL_VALUE) {
										lFormattedValue = "";
									}
									if (lValueException === sap.firefly.ValueException.NO_PRESENTATION
											|| lValueException === sap.firefly.ValueException.NO_AUTHORITY) {
										lFormattedValue = "";
									}
									if (lValueException === sap.firefly.ValueException.MIXED_CURRENCIES_OR_UNITS) {
										if (oInternalResultDataCell !== null) {
											if (oInternalResultDataCell
													.getQueryModel()
													.supportsUnifiedDataCells()) {
												lFormattedValue = "";
											}
										}
									}
								}
							}
							if (!lDetermined) {
								if (oInternalResultDataCell !== null) {
									if (oInternalResultDataCell.getQueryModel()
											.supportsUnifiedDataCells()) {
										lFormattedValue = sap.zen.ResultDataCellWrapper
												.sAddValueTypeInformation(
														lFormattedValue,
														lValueType,
														lValueException);
										lCurrencyUnit = sap.zen.ResultDataCellWrapper
												.sProvideCurrencyUnit(
														oInternalResultDataCell,
														oResultDataCell);
										lFormattedValue = sap.zen.ResultDataCellWrapper
												.sAddCurrencyUnitInformation(
														lFormattedValue,
														lCurrencyUnit, false);
									}
								}
							}
							if (oResultDataCell !== null) {
								oResultDataCell
										.setFormattedValueProvided(lFormattedValue);
							}
							return lFormattedValue;
						},
						sProvideDecimals : function(oInternalResultDataCell,
								oResultDataCell) {
							var lDecimals;
							var lDetermined;
							var lValueType;
							var lValueException;
							var lDataCell;
							if (oResultDataCell !== null
									&& oResultDataCell.decimalsProvided) {
								return oResultDataCell.getDecimals();
							}
							lDecimals = sap.zen.ResultDataCellWrapper.NO_DECIMALS;
							lDetermined = false;
							lValueType = null;
							lValueException = null;
							if (oInternalResultDataCell !== null) {
								lValueType = oInternalResultDataCell
										.getValueType();
								lValueException = oInternalResultDataCell
										.getValueException();
								lDecimals = oInternalResultDataCell
										.getDecimalPlaces();
							}
							if (!lDetermined) {
								if (oInternalResultDataCell === null) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (lValueType === null
										|| !lValueType.isNumber()) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (lValueException === sap.firefly.ValueException.UNDEFINED) {
									lDecimals = 0;
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (oInternalResultDataCell !== null) {
									if (!oInternalResultDataCell
											.getQueryModel()
											.supportsUnifiedDataCells()) {
										lDataCell = oInternalResultDataCell
												.getDataCell();
										if (lDataCell !== null) {
											lDecimals = lDataCell
													.getDecimalPlaces();
										}
									}
								}
							}
							if (oResultDataCell !== null) {
								oResultDataCell.setDecimalsProvided(lDecimals);
							}
							return lDecimals;
						},
						sProvideScalingFactor : function(
								oInternalResultDataCell, oResultDataCell) {
							var lScalingFactor;
							var lDetermined;
							var lValueType;
							var lDataCell;
							if (oResultDataCell !== null
									&& oResultDataCell.scalingFactorProvided) {
								return oResultDataCell.getScalingFactor();
							}
							lScalingFactor = sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR;
							lDetermined = false;
							lValueType = null;
							if (oInternalResultDataCell !== null) {
								lValueType = oInternalResultDataCell
										.getValueType();
								lScalingFactor = oInternalResultDataCell
										.getScalingFactor();
							}
							if (!lDetermined) {
								if (oInternalResultDataCell === null) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (lValueType === null
										|| !lValueType.isNumber()) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (oInternalResultDataCell !== null) {
									if (oInternalResultDataCell.getQueryModel()
											.supportsUnifiedDataCells()
											&& lScalingFactor > sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR) {
										lDetermined = true;
									} else {
										lDataCell = oInternalResultDataCell
												.getDataCell();
										if (lDataCell !== null) {
											lScalingFactor = lDataCell
													.getScalingFactor();
											lDetermined = true;
										}
									}
								}
							}
							if (lDetermined) {
								if (lScalingFactor < sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR) {
									lScalingFactor = lScalingFactor * -1;
								}
							}
							if (oResultDataCell !== null) {
								oResultDataCell
										.setScalingFactorProvided(lScalingFactor);
							}
							return lScalingFactor;
						},
						sProvideScalingFactorValue : function(
								oInternalResultDataCell, oResultDataCell) {
							var lScalingFactor;
							var lScalingFactorValue;
							if (oResultDataCell !== null
									&& oResultDataCell.scalingFactorValueProvided) {
								return oResultDataCell.getScalingFactorValue();
							}
							lScalingFactor = sap.zen.ResultDataCellWrapper
									.sProvideScalingFactor(
											oInternalResultDataCell,
											oResultDataCell);
							lScalingFactorValue = sap.zen.ResultDataCellWrapper
									.sCalcScalingFactorValue(lScalingFactor);
							if (oResultDataCell !== null) {
								oResultDataCell
										.setScalingFactorValueProvided(lScalingFactorValue);
							}
							return lScalingFactorValue;
						},
						sCalcScalingFactorValue : function(scalingFactor) {
							var lScalingFactor = scalingFactor;
							var lScalingFactorValue;
							var lScalingCount;
							if (lScalingFactor === sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR) {
								lScalingFactor = 0;
							}
							if (lScalingFactor < 0) {
								lScalingFactor = lScalingFactor * -1;
							}
							lScalingFactorValue = 1;
							for (lScalingCount = 0; lScalingCount < lScalingFactor; lScalingCount++) {
								lScalingFactorValue = lScalingFactorValue * 10;
							}
							return lScalingFactorValue;
						},
						sAddScalingFactorInformation : function(value) {
							var lFormattedValue = value;
							if (value === null) {
								return lFormattedValue;
							}
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(lFormattedValue)) {
								lFormattedValue = sap.firefly.XStringUtils
										.concatenate2("* ", lFormattedValue);
							}
							return lFormattedValue;
						},
						sProvideCurrencyUnit : function(
								oInternalResultDataCell, oResultDataCell) {
							var lCurrencyUnit;
							var lDetermined;
							var lValueType;
							if (oResultDataCell !== null
									&& oResultDataCell.currencyUnitProvided) {
								return oResultDataCell.getCurrencyUnit();
							}
							lCurrencyUnit = null;
							lDetermined = false;
							lValueType = null;
							if (oInternalResultDataCell !== null) {
								lCurrencyUnit = oInternalResultDataCell
										.getCurrencyUnit();
								lValueType = oInternalResultDataCell
										.getValueType();
							}
							if (!lDetermined) {
								if (oInternalResultDataCell === null) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (lValueType === null
										|| !lValueType.isNumber()) {
									lDetermined = true;
								}
							}
							if (!lDetermined) {
								if (oInternalResultDataCell !== null) {
									if (!oInternalResultDataCell
											.getQueryModel()
											.supportsUnifiedDataCells()) {
										if (lCurrencyUnit !== null) {
											(lCurrencyUnit).setIsEmpty(true);
										}
									}
								}
							}
							if (oResultDataCell !== null) {
								oResultDataCell
										.setCurrencyUnitProvided(lCurrencyUnit);
							}
							return lCurrencyUnit;
						},
						sCalcCurrencyUnitFromFormattedValue : function(
								oInternalResultDataCell, oResultDataCell) {
							var lValue;
							var lFormattedValue;
							var lDecimals;
							var lValueInInternalFormat;
							var lExternalStripped;
							var lFormattedStripped;
							var lPrefix;
							var lSuffix;
							var lFoundStartIndex;
							var lStartIndex;
							var lEndIndex;
							var lCurrencyUnitFound;
							var lCurrencyUnit;
							var lValueType;
							var loInternalDataCell;
							var lValueException;
							if (oInternalResultDataCell === null
									|| !oInternalResultDataCell.getValueType()
											.isNumber()) {
								return null;
							}
							lValue = sap.zen.ResultDataCellWrapper
									.sProvideValue(oInternalResultDataCell,
											true, oResultDataCell);
							if (lValue === null) {
								return null;
							}
							lFormattedValue = oInternalResultDataCell
									.getFormattedValue();
							lDecimals = sap.zen.ResultDataCellWrapper
									.sProvideDecimals(oInternalResultDataCell,
											oResultDataCell);
							lValueInInternalFormat = sap.zen.ResultDataCellWrapper
									.sCalcValueInInternalFormatFromValue(
											lValue, lDecimals);
							if (lValueInInternalFormat === null) {
								return null;
							}
							lExternalStripped = lValueInInternalFormat;
							lExternalStripped = sap.firefly.XString.replace(
									lExternalStripped, ".", "");
							lExternalStripped = sap.firefly.XString.replace(
									lExternalStripped, ",", "");
							lFormattedStripped = lFormattedValue;
							lFormattedStripped = sap.firefly.XString.replace(
									lFormattedStripped, ".", "");
							lFormattedStripped = sap.firefly.XString.replace(
									lFormattedStripped, ",", "");
							lPrefix = null;
							lSuffix = null;
							lFoundStartIndex = 0;
							lStartIndex = 0;
							lEndIndex = 0;
							lFoundStartIndex = sap.firefly.XString.indexOf(
									lFormattedStripped, lExternalStripped);
							if (lFoundStartIndex >= 0) {
								lStartIndex = 0;
								lEndIndex = lFoundStartIndex;
								lPrefix = sap.firefly.XString.substring(
										lFormattedStripped, lStartIndex,
										lEndIndex);
								lPrefix = sap.firefly.XString.trim(lPrefix);
								if (lFoundStartIndex < 0) {
									lStartIndex = 0;
								} else {
									lStartIndex = lFoundStartIndex
											+ sap.firefly.XString
													.size(lExternalStripped);
								}
								lEndIndex = -1;
								lSuffix = sap.firefly.XString.substring(
										lFormattedStripped, lStartIndex,
										lEndIndex);
								lSuffix = sap.firefly.XString.trim(lSuffix);
							}
							lCurrencyUnitFound = false;
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(lPrefix)
									|| sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(lSuffix)) {
								lCurrencyUnitFound = true;
							}
							lCurrencyUnit = sap.firefly.RsCursorCurrencyUnit
									.createCurrencyUnit();
							if (lCurrencyUnitFound) {
								lValueType = null;
								loInternalDataCell = oInternalResultDataCell
										.getDataCell();
								if (loInternalDataCell !== null) {
									lValueType = loInternalDataCell
											.getBaseValueType();
								}
								if (lValueType === sap.firefly.XValueType.PRICE
										|| lValueType === sap.firefly.XValueType.AMOUNT) {
									lCurrencyUnit.setHasCurrency(true);
								} else {
									if (lValueType === sap.firefly.XValueType.QUANTITY) {
										lCurrencyUnit.setHasUnit(true);
									}
								}
							}
							lValueException = oInternalResultDataCell
									.getValueException();
							if (lValueException === sap.firefly.ValueException.MIXED_CURRENCIES_OR_UNITS) {
								lSuffix = "*";
								lCurrencyUnit.setIsMixed(true);
							}
							if (lCurrencyUnit.isMixed()
									|| lCurrencyUnit.hasCurrency()
									|| lCurrencyUnit.hasUnit()) {
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(lPrefix)) {
									lCurrencyUnit.setPrefix(lPrefix);
									lCurrencyUnit.setFormatted(lPrefix);
								}
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(lSuffix)) {
									lCurrencyUnit.setSuffix(lSuffix);
									lCurrencyUnit.setFormatted(lSuffix);
								}
							} else {
								lCurrencyUnit.setIsEmpty(true);
							}
							return lCurrencyUnit;
						},
						sAddCurrencyUnitInformation : function(value,
								currencyUnitInfo, wrapCurrencyUnit) {
							var lFormattedValue = value;
							var lCurrencyUnitPrefix;
							var lCurrencyUnitSuffix;
							if (currencyUnitInfo === null || value === null) {
								return lFormattedValue;
							}
							lCurrencyUnitPrefix = null;
							if (currencyUnitInfo.hasPrefix()) {
								lCurrencyUnitPrefix = currencyUnitInfo
										.getPrefix();
								if (sap.firefly.XStringUtils
										.isNullOrEmpty(lCurrencyUnitPrefix)) {
									lCurrencyUnitPrefix = currencyUnitInfo
											.getFormatted();
								}
							}
							lCurrencyUnitSuffix = null;
							if (currencyUnitInfo.hasSuffix()) {
								lCurrencyUnitSuffix = currencyUnitInfo
										.getSuffix();
								if (sap.firefly.XStringUtils
										.isNullOrEmpty(lCurrencyUnitSuffix)) {
									lCurrencyUnitSuffix = currencyUnitInfo
											.getFormatted();
								}
							}
							if (!sap.firefly.XString.isEqual(
									lCurrencyUnitPrefix, lCurrencyUnitSuffix)) {
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(lCurrencyUnitPrefix)) {
									if (wrapCurrencyUnit) {
										lCurrencyUnitPrefix = sap.firefly.XStringUtils
												.concatenate3('"',
														lCurrencyUnitPrefix,
														'"');
									}
									if (sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(lFormattedValue)) {
										lFormattedValue = sap.firefly.XStringUtils
												.concatenate2(" ",
														lFormattedValue);
									}
									lFormattedValue = sap.firefly.XStringUtils
											.concatenate2(lCurrencyUnitPrefix,
													lFormattedValue);
								}
							}
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(lCurrencyUnitSuffix)) {
								if (wrapCurrencyUnit) {
									lCurrencyUnitSuffix = sap.firefly.XStringUtils
											.concatenate3('"',
													lCurrencyUnitSuffix, '"');
								}
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(lFormattedValue)) {
									lFormattedValue = sap.firefly.XStringUtils
											.concatenate2(lFormattedValue, " ");
								}
								lFormattedValue = sap.firefly.XStringUtils
										.concatenate2(lFormattedValue,
												lCurrencyUnitSuffix);
							}
							return lFormattedValue;
						},
						sProvideFormatString : function(
								oInternalResultDataCell, oResultDataCell) {
							var lFormatString;
							if (oResultDataCell !== null) {
								if (oResultDataCell.formatStringProvided) {
									return oResultDataCell.formatString;
								}
							}
							lFormatString = null;
							if (oInternalResultDataCell !== null) {
								lFormatString = oInternalResultDataCell
										.getFormatString();
							}
							if (oInternalResultDataCell !== null) {
								if (!oInternalResultDataCell.getQueryModel()
										.supportsUnifiedDataCells()) {
									if (sap.firefly.XStringUtils
											.isNullOrEmpty(lFormatString)) {
										lFormatString = sap.zen.ResultDataCellWrapper.NO_FORMAT_STRING;
									}
								}
							}
							if (oResultDataCell !== null) {
								oResultDataCell
										.setFormatStringProvided(lFormatString);
							}
							return lFormatString;
						},
						sProvideNumberFormatString : function(
								oInternalResultDataCell,
								addNegativeNumberFormat, addCurrencyUnitInfo,
								oResultDataCell) {
							var lFormatString;
							var lNumberFormatString;
							var lNumberFormatStringWithCurrencyUnit;
							var lFullNumberFormatString;
							var lFullNumberFormatStringWithCurrencyUnit;
							if (oResultDataCell !== null) {
								if (oResultDataCell.numberFormatStringProvided) {
									if (addNegativeNumberFormat) {
										if (addCurrencyUnitInfo) {
											return oResultDataCell.fullNumberFormatStringWithCurrencyUnit;
										}
										return oResultDataCell.fullNumberFormatString;
									}
									if (addCurrencyUnitInfo) {
										return oResultDataCell.numberFormatStringWithCurrencyUnit;
									}
									return oResultDataCell.numberFormatString;
								}
							}
							lFormatString = sap.zen.ResultDataCellWrapper
									.sProvideFormatString(
											oInternalResultDataCell,
											oResultDataCell);
							lNumberFormatString = sap.zen.ResultDataCellWrapper
									.sCalcNumberFormatString(
											oInternalResultDataCell,
											lFormatString, false, false, false,
											oResultDataCell);
							lNumberFormatStringWithCurrencyUnit = sap.zen.ResultDataCellWrapper
									.sCalcNumberFormatString(
											oInternalResultDataCell,
											lFormatString, false, true, false,
											oResultDataCell);
							lFullNumberFormatString = sap.zen.ResultDataCellWrapper
									.sCalcNumberFormatString(
											oInternalResultDataCell,
											lFormatString, true, false, false,
											oResultDataCell);
							lFullNumberFormatStringWithCurrencyUnit = sap.zen.ResultDataCellWrapper
									.sCalcNumberFormatString(
											oInternalResultDataCell,
											lFormatString, true, true, false,
											oResultDataCell);
							if (oResultDataCell !== null) {
								oResultDataCell
										.setNumberFormatStringProvided(
												lNumberFormatString,
												lNumberFormatStringWithCurrencyUnit,
												lFullNumberFormatString,
												lFullNumberFormatStringWithCurrencyUnit);
							}
							lFormatString = null;
							if (addNegativeNumberFormat) {
								if (addCurrencyUnitInfo) {
									lFormatString = lFullNumberFormatStringWithCurrencyUnit;
								} else {
									lFormatString = lFullNumberFormatString;
								}
							} else {
								if (addCurrencyUnitInfo) {
									lFormatString = lNumberFormatStringWithCurrencyUnit;
								} else {
									lFormatString = lNumberFormatString;
								}
							}
							return lFormatString;
						},
						sCalcFormatString : function(thousandSeparator,
								decimalSeparator, decimals) {
							var lFormatString = sap.zen.ResultDataCellWrapper.NO_FORMAT_STRING;
							var lDecimalCount;
							lFormatString = "#";
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(thousandSeparator)) {
								lFormatString = sap.firefly.XStringUtils
										.concatenate3("#", thousandSeparator,
												"##");
							}
							lFormatString = sap.firefly.XStringUtils
									.concatenate2(lFormatString, "0");
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(decimalSeparator)
									&& decimals > 0) {
								lFormatString = sap.firefly.XStringUtils
										.concatenate2(lFormatString,
												decimalSeparator);
								for (lDecimalCount = 0; lDecimalCount < decimals; lDecimalCount++) {
									lFormatString = sap.firefly.XStringUtils
											.concatenate2(lFormatString, "0");
								}
							}
							return lFormatString;
						},
						sCalcFormatStringFromFormattedValue : function(
								oInternalResultDataCell, oResultDataCell) {
							var lFormatString;
							var lValue;
							var lFormattedValue;
							var lDecimals;
							var lValueInInternalFormat;
							var lValueInExternalFormat;
							var lExternalValueFormattedLength;
							var lDecimalSeparator;
							var lStartIndex;
							var lThousandSeparator;
							if (oInternalResultDataCell === null
									|| !oInternalResultDataCell.getValueType()
											.isNumber()) {
								return sap.zen.ResultDataCellWrapper.NO_FORMAT_STRING;
							}
							lFormatString = sap.zen.ResultDataCellWrapper.NO_FORMAT_STRING;
							if (sap.zen.ResultDataCellWrapper
									.sIsValueValid(oInternalResultDataCell)) {
								lValue = sap.zen.ResultDataCellWrapper
										.sProvideValue(oInternalResultDataCell,
												false, oResultDataCell);
								if (lValue === null) {
									return null;
								}
								lFormattedValue = oInternalResultDataCell
										.getFormattedValue();
								lDecimals = sap.zen.ResultDataCellWrapper
										.sProvideDecimals(
												oInternalResultDataCell,
												oResultDataCell);
								if (lDecimals === sap.zen.ResultDataCellWrapper.NO_DECIMALS) {
									return sap.zen.ResultDataCellWrapper.NO_FORMAT_STRING;
								}
								lValueInInternalFormat = sap.zen.ResultDataCellWrapper
										.sCalcValueInInternalFormatFromValue(
												lValue, lDecimals);
								if (lValueInInternalFormat === null) {
									return sap.zen.ResultDataCellWrapper.NO_FORMAT_STRING;
								}
								lValueInExternalFormat = sap.zen.ResultDataCellWrapper
										.sCalcValueInExternalFormatFromFormattedValue(
												lFormattedValue,
												lValueInInternalFormat);
								if (lValueInExternalFormat === null) {
									return sap.zen.ResultDataCellWrapper.NO_FORMAT_STRING;
								}
								lExternalValueFormattedLength = sap.firefly.XString
										.size(lValueInExternalFormat);
								lDecimalSeparator = null;
								lStartIndex = 0;
								if (lDecimals > 0) {
									lStartIndex = lExternalValueFormattedLength
											- lDecimals - 1;
								} else {
									lStartIndex = lExternalValueFormattedLength;
								}
								if (lStartIndex >= 0
										&& lStartIndex < lExternalValueFormattedLength) {
									lDecimalSeparator = sap.firefly.XString
											.substring(lValueInExternalFormat,
													lStartIndex,
													lStartIndex + 1);
								}
								lThousandSeparator = null;
								if (lDecimals > 0) {
									lStartIndex = lExternalValueFormattedLength
											- lDecimals - 1 - 4;
								} else {
									lStartIndex = lExternalValueFormattedLength - 4;
								}
								if (lStartIndex >= 0
										&& lStartIndex < lExternalValueFormattedLength) {
									lThousandSeparator = sap.firefly.XString
											.substring(lValueInExternalFormat,
													lStartIndex,
													lStartIndex + 1);
								}
								if (sap.firefly.XStringUtils
										.isNullOrEmpty(lThousandSeparator)) {
									if (sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(lDecimalSeparator)) {
										if (sap.firefly.XString.isEqual(
												lDecimalSeparator, ",")) {
											lThousandSeparator = ".";
										} else {
											if (sap.firefly.XString.isEqual(
													lDecimalSeparator, ".")) {
												lThousandSeparator = ",";
											}
										}
									}
								}
								lFormatString = sap.zen.ResultDataCellWrapper
										.sCalcFormatString(lThousandSeparator,
												lDecimalSeparator, lDecimals);
							}
							return lFormatString;
						},
						sCalcNumberFormatString : function(
								oInternalResultDataCell, formatString,
								addNegativeNumberFormat, addCurrencyUnitInfo,
								wrapCurrencyUnit, oResultDataCell) {
							var lFormatString = formatString;
							var lValueType;
							var lValueException;
							var lNumberFormatString;
							var lCurrencyUnit;
							if (lFormatString === null) {
								lFormatString = sap.zen.ResultDataCellWrapper.NO_FORMAT_STRING;
							}
							lValueType = null;
							lValueException = null;
							if (oInternalResultDataCell !== null) {
								lValueType = oInternalResultDataCell
										.getValueType();
								lValueException = oInternalResultDataCell
										.getValueException();
							}
							if (oInternalResultDataCell === null) {
								return sap.zen.ResultDataCellWrapper.NO_FORMAT_STRING;
							}
							if (lValueType === null || !lValueType.isNumber()) {
								return sap.zen.ResultDataCellWrapper.NO_FORMAT_STRING;
							}
							if (lValueException !== sap.firefly.ValueException.NORMAL) {
								if (lValueException === sap.firefly.ValueException.UNDEFINED
										|| lValueException === sap.firefly.ValueException.NULL_VALUE) {
									lFormatString = sap.zen.ResultDataCellWrapper.NO_DISPLAY_FORMAT_STRING;
								}
								if (lValueException === sap.firefly.ValueException.NO_PRESENTATION
										|| lValueException === sap.firefly.ValueException.NO_AUTHORITY) {
									lFormatString = sap.zen.ResultDataCellWrapper.NO_DISPLAY_FORMAT_STRING;
								}
								if (lValueException === sap.firefly.ValueException.MIXED_CURRENCIES_OR_UNITS) {
									lFormatString = sap.zen.ResultDataCellWrapper.NO_FORMAT_STRING;
								}
							}
							if (!sap.zen.ResultDataCellWrapper
									.sIsValueValid(oInternalResultDataCell)) {
								lFormatString = sap.zen.ResultDataCellWrapper.NO_DISPLAY_FORMAT_STRING;
							}
							lNumberFormatString = lFormatString;
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(lFormatString)) {
								lNumberFormatString = sap.zen.ResultDataCellWrapper
										.sAddValueTypeInformation(
												lNumberFormatString,
												lValueType, lValueException);
							}
							if (addCurrencyUnitInfo) {
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(lFormatString)
										|| lValueException === sap.firefly.ValueException.MIXED_CURRENCIES_OR_UNITS) {
									lCurrencyUnit = sap.zen.ResultDataCellWrapper
											.sProvideCurrencyUnit(
													oInternalResultDataCell,
													oResultDataCell);
									lNumberFormatString = sap.zen.ResultDataCellWrapper
											.sAddCurrencyUnitInformation(
													lNumberFormatString,
													lCurrencyUnit,
													wrapCurrencyUnit);
								}
							}
							if (addNegativeNumberFormat) {
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(lFormatString)) {
									lNumberFormatString = sap.firefly.XStringUtils
											.concatenate4(lNumberFormatString,
													";", "-",
													lNumberFormatString);
								}
							}
							return lNumberFormatString;
						}
					},
					oResultSet : null,
					rowIndex : 0,
					columnIndex : 0,
					decimals : 0,
					decimalsProvided : false,
					scalingFactor : 0,
					scalingFactorProvided : false,
					scalingFactorValue : 0,
					scalingFactorValueProvided : false,
					internalValue : null,
					value : null,
					valueProvided : false,
					valueInExternalFormat : null,
					valueInExternalFormatProvided : false,
					formattedValue : null,
					formattedValueProvided : false,
					currencyUnit : null,
					currencyUnitProvided : false,
					formatString : null,
					formatStringProvided : false,
					numberFormatString : null,
					numberFormatStringWithCurrencyUnit : null,
					fullNumberFormatString : null,
					fullNumberFormatStringWithCurrencyUnit : null,
					numberFormatStringProvided : false,
					initMe : function(oResultSet, oInternalResultDataCell) {
						var loServerPaging;
						this.oResultSet = oResultSet;
						this.rowIndex = oInternalResultDataCell.getRow();
						this.columnIndex = oInternalResultDataCell.getColumn();
						loServerPaging = this.oResultSet.getServerPaging();
						if (loServerPaging.isPagingActive()) {
							this.rowIndex = this.rowIndex
									+ loServerPaging.getAxisPaging(
											sap.firefly.AxisType.ROWS)
											.getOffset();
							this.columnIndex = this.columnIndex
									+ loServerPaging.getAxisPaging(
											sap.firefly.AxisType.COLUMNS)
											.getOffset();
						}
						if (sap.zen.ResultDataCellWrapper.ACTIVATE_CODE_ANALYSIS_MODE) {
							this.getDecimals();
							this.getScalingFactor();
							this.getScalingFactorValue();
							this.getCurrencyUnit();
							this.getInternalValue();
							this.getValue();
							this.getValueInExternalFormat();
							this.getFormattedValue();
							this.getFormatString();
							this.getNumberFormatString(true, true);
						}
					},
					getInternalObject : function() {
						return sap.zen.ResultDataCellWrapper
								.sGetResultDataCellObject(this.oResultSet,
										this.rowIndex, this.columnIndex);
					},
					getResultSet : function() {
						return this.oResultSet;
					},
					getName : function() {
						return sap.zen.ResultDataCellWrapper.sGetName(this
								.getResultSet().getDataSource(), this.rowIndex,
								this.columnIndex);
					},
					getRow : function() {
						return this.rowIndex;
					},
					getColumn : function() {
						return this.columnIndex;
					},
					isValueValid : function() {
						var loInternalResultDataCell = this.getInternalObject();
						return sap.zen.ResultDataCellWrapper
								.sIsValueValid(loInternalResultDataCell);
					},
					getValueType : function() {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return null;
						}
						return loInternalResultDataCell.getValueType();
					},
					isNumber : function() {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return false;
						}
						return loInternalResultDataCell.getValueType()
								.isNumber();
					},
					isPercent : function() {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return false;
						}
						return loInternalResultDataCell.getValueType()
								.isTypeOf(sap.firefly.XValueType.PERCENT);
					},
					isTime : function() {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return false;
						}
						return loInternalResultDataCell.getValueType()
								.isTypeOf(sap.firefly.XValueType.TIME);
					},
					isDate : function() {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return false;
						}
						return loInternalResultDataCell.getValueType()
								.isTypeOf(sap.firefly.XValueType.DATE);
					},
					isTimestamp : function() {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return false;
						}
						return loInternalResultDataCell.getValueType()
								.isTypeOf(sap.firefly.XValueType.DATE_TIME);
					},
					isDataEntryEnabled : function() {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return false;
						}
						return loInternalResultDataCell.isDataEntryEnabled();
					},
					isValueChanged : function() {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return false;
						}
						return loInternalResultDataCell.isValueChanged();
					},
					getNewValueInExternalFormat : function() {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return null;
						}
						return loInternalResultDataCell.getNewValueExternal();
					},
					setNewValueInExternalFormat : function(newValue) {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return;
						}
						loInternalResultDataCell.setNewValueExternal(newValue);
					},
					setValueProvided : function(internalValue, value) {
						this.internalValue = internalValue;
						this.value = value;
						this.valueProvided = true;
					},
					getInternalValue : function() {
						var loInternalResultDataCell;
						if (!this.valueProvided) {
							loInternalResultDataCell = this.getInternalObject();
							sap.zen.ResultDataCellWrapper.sProvideValue(
									loInternalResultDataCell, true, this);
						}
						return this.internalValue;
					},
					getValue : function() {
						var loInternalResultDataCell;
						if (!this.valueProvided) {
							loInternalResultDataCell = this.getInternalObject();
							sap.zen.ResultDataCellWrapper.sProvideValue(
									loInternalResultDataCell, false, this);
						}
						return this.value;
					},
					getDoubleValue : function() {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return 0;
						}
						return loInternalResultDataCell.getDoubleValue();
					},
					getValueException : function() {
						var loInternalResultDataCell = this.getInternalObject();
						if (loInternalResultDataCell === null) {
							return null;
						}
						return loInternalResultDataCell.getValueException();
					},
					setValueInExternalFormatProvided : function(
							valueInExternalFormat) {
						this.valueInExternalFormat = valueInExternalFormat;
						this.valueInExternalFormatProvided = true;
					},
					getValueInExternalFormat : function() {
						var loInternalResultDataCell;
						if (!this.valueInExternalFormatProvided) {
							loInternalResultDataCell = this.getInternalObject();
							sap.zen.ResultDataCellWrapper
									.sProvideValueInExternalFormat(
											loInternalResultDataCell, this);
						}
						return this.valueInExternalFormat;
					},
					setFormattedValueProvided : function(formattedValue) {
						this.formattedValue = formattedValue;
						this.formattedValueProvided = true;
					},
					getFormattedValue : function() {
						var loInternalResultDataCell;
						if (!this.formattedValueProvided) {
							loInternalResultDataCell = this.getInternalObject();
							sap.zen.ResultDataCellWrapper
									.sProvideFormattedValue(
											loInternalResultDataCell, this);
						}
						return this.formattedValue;
					},
					setDecimalsProvided : function(decimals) {
						this.decimals = decimals;
						this.decimalsProvided = true;
					},
					getDecimals : function() {
						var loInternalResultDataCell;
						if (!this.decimalsProvided) {
							loInternalResultDataCell = this.getInternalObject();
							sap.zen.ResultDataCellWrapper.sProvideDecimals(
									loInternalResultDataCell, this);
						}
						return this.decimals;
					},
					setDecimals : function(decimals) {
						var loInternalResultDataCell = this.getInternalObject();
						var loInternalDataCell;
						if (loInternalResultDataCell === null) {
							return;
						}
						loInternalDataCell = loInternalResultDataCell
								.getDataCell();
						loInternalDataCell.setDecimalPlaces(decimals);
						this.decimalsProvided = false;
					},
					setScalingFactorProvided : function(scalingFactor) {
						this.scalingFactor = scalingFactor;
						this.scalingFactorProvided = true;
					},
					getScalingFactor : function() {
						var loInternalResultDataCell;
						if (!this.scalingFactorProvided) {
							loInternalResultDataCell = this.getInternalObject();
							sap.zen.ResultDataCellWrapper
									.sProvideScalingFactor(
											loInternalResultDataCell, this);
						}
						return this.scalingFactor;
					},
					setScalingFactor : function(scalingFactor) {
						var loInternalResultDataCell = this.getInternalObject();
						var loInternalDataCell;
						if (loInternalResultDataCell === null) {
							return;
						}
						loInternalDataCell = loInternalResultDataCell
								.getDataCell();
						loInternalDataCell.setScalingFactor(scalingFactor);
						this.scalingFactorProvided = false;
						this.scalingFactorValueProvided = false;
					},
					setScalingFactorValueProvided : function(scalingFactorValue) {
						this.scalingFactorValue = scalingFactorValue;
						this.scalingFactorValueProvided = true;
					},
					getScalingFactorValue : function() {
						var loInternalResultDataCell;
						if (!this.scalingFactorValueProvided) {
							loInternalResultDataCell = this.getInternalObject();
							sap.zen.ResultDataCellWrapper
									.sProvideScalingFactorValue(
											loInternalResultDataCell, this);
						}
						return this.scalingFactorValue;
					},
					getScalingFactorValueFormatted : function() {
						var lScalingFactorValue = this.getScalingFactorValue();
						var lFormattedValue = sap.firefly.XLong
								.convertLongToString(lScalingFactorValue);
						lFormattedValue = sap.zen.ResultDataCellWrapper
								.sAddScalingFactorInformation(lFormattedValue);
						return lFormattedValue;
					},
					setCurrencyUnitProvided : function(currencyUnit) {
						this.currencyUnit = currencyUnit;
						this.currencyUnitProvided = true;
					},
					getCurrencyUnit : function() {
						var loInternalResultDataCell;
						if (!this.currencyUnitProvided) {
							loInternalResultDataCell = this.getInternalObject();
							sap.zen.ResultDataCellWrapper.sProvideCurrencyUnit(
									loInternalResultDataCell, this);
						}
						return this.currencyUnit;
					},
					setFormatStringProvided : function(formatString) {
						this.formatString = formatString;
						this.formatStringProvided = true;
					},
					getFormatString : function() {
						var loInternalResultDataCell;
						if (!this.formatStringProvided) {
							loInternalResultDataCell = this.getInternalObject();
							sap.zen.ResultDataCellWrapper.sProvideFormatString(
									loInternalResultDataCell, this);
						}
						return this.formatString;
					},
					setNumberFormatStringProvided : function(
							numberFormatString,
							numberFormatStringWithCurrencyUnit,
							fullNumberFormatString,
							fullNumberFormatStringWithCurrencyUnit) {
						this.numberFormatString = numberFormatString;
						this.numberFormatStringWithCurrencyUnit = numberFormatStringWithCurrencyUnit;
						this.fullNumberFormatString = fullNumberFormatString;
						this.fullNumberFormatStringWithCurrencyUnit = fullNumberFormatStringWithCurrencyUnit;
						this.numberFormatStringProvided = true;
					},
					getNumberFormatString : function(addNegativeNumberFormat,
							addCurrencyUnitInfo) {
						var loInternalResultDataCell;
						if (!this.numberFormatStringProvided) {
							loInternalResultDataCell = this.getInternalObject();
							sap.zen.ResultDataCellWrapper
									.sProvideNumberFormatString(
											loInternalResultDataCell,
											addNegativeNumberFormat,
											addCurrencyUnitInfo, this);
						}
						if (addNegativeNumberFormat) {
							if (addCurrencyUnitInfo) {
								return this.fullNumberFormatStringWithCurrencyUnit;
							}
							return this.fullNumberFormatString;
						}
						if (addCurrencyUnitInfo) {
							return this.numberFormatStringWithCurrencyUnit;
						}
						return this.numberFormatString;
					},
					getSpecificNumberFormatString : function(thousandSeparator,
							decimalSeparator, addNegativeNumberFormat,
							addCurrencyUnitInfo, wrapCurrencyUnit) {
						var loInternalResultDataCell = this.getInternalObject();
						var lDecimals = sap.zen.ResultDataCellWrapper
								.sProvideDecimals(loInternalResultDataCell,
										this);
						var lFormatString = sap.zen.ResultDataCellWrapper
								.sCalcFormatString(thousandSeparator,
										decimalSeparator, lDecimals);
						lFormatString = sap.zen.ResultDataCellWrapper
								.sCalcNumberFormatString(
										loInternalResultDataCell,
										lFormatString, addNegativeNumberFormat,
										addCurrencyUnitInfo, wrapCurrencyUnit,
										this);
						return lFormatString;
					},
					isInputStringValid : function(input) {
						var loInternalResultDataCell = this.getInternalObject();
						var lValid;
						var lValueType;
						if (loInternalResultDataCell === null) {
							return false;
						}
						lValid = true;
						lValueType = loInternalResultDataCell.getValueType();
						try {
							if (lValueType === sap.firefly.XValueType.CALENDAR_DAY) {
								sap.firefly.XDateTime
										.createDateTimeFromStringWithFlag(
												input, true);
							} else {
								if (lValueType === sap.firefly.XValueType.DATE_TIME) {
									sap.firefly.XDateTime
											.createDateTimeFromStringWithFlag(
													input, true);
								} else {
									if (lValueType === sap.firefly.XValueType.DATE) {
										sap.firefly.XDate
												.createDateFromStringWithFlag(
														input, true);
									} else {
										if (lValueType === sap.firefly.XValueType.TIME) {
											sap.firefly.XTime
													.createTimeFromStringWithFlag(
															input, true);
										} else {
											if (lValueType === sap.firefly.XValueType.TIMESPAN) {
												lValid = true;
											} else {
												if (lValueType === sap.firefly.XValueType.AMOUNT) {
													lValid = true;
												} else {
													if (lValueType === sap.firefly.XValueType.DOUBLE) {
														lValid = true;
													} else {
														if (lValueType === sap.firefly.XValueType.LONG) {
															lValid = true;
														} else {
															if (lValueType === sap.firefly.XValueType.INTEGER) {
																lValid = true;
															}
														}
													}
												}
											}
										}
									}
								}
							}
						} catch (e) {
							lValid = false;
						}
						return lValid;
					},
					isEqualTo : function(other) {
						var loOtherResultDataCell;
						if (other === null) {
							return false;
						}
						loOtherResultDataCell = other;
						if (this.getResultSet().getDataSource().isEqualTo(
								loOtherResultDataCell.getResultSet()
										.getDataSource())
								&& this.rowIndex === loOtherResultDataCell
										.getRow()
								&& this.columnIndex === loOtherResultDataCell
										.getColumn()) {
							return true;
						}
						return false;
					},
					releaseObject : function() {
						this.oResultSet = null;
						this.rowIndex = -1;
						this.columnIndex = -1;
						this.currencyUnit = null;
						this.currencyUnitProvided = false;
						this.decimals = sap.zen.ResultDataCellWrapper.NO_DECIMALS;
						this.decimalsProvided = false;
						this.formatString = null;
						this.formatStringProvided = false;
						this.formattedValue = null;
						this.formattedValueProvided = false;
						this.numberFormatString = null;
						this.numberFormatStringWithCurrencyUnit = null;
						this.fullNumberFormatString = null;
						this.fullNumberFormatStringWithCurrencyUnit = null;
						this.numberFormatStringProvided = false;
						this.scalingFactor = sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR;
						this.scalingFactorProvided = false;
						this.scalingFactorValue = 0;
						this.scalingFactorValueProvided = false;
						this.valueInExternalFormat = null;
						this.valueInExternalFormatProvided = false;
						this.value = null;
						this.internalValue = null;
						this.valueProvided = false;
						sap.zen.ResultDataCellWrapper.$superclass.releaseObject
								.call(this);
					},
					clone : function() {
						throw sap.firefly.XException
								.createUnsupportedOperationException();
					}
				});
$Firefly
		.createClass(
				"sap.zen.ResultSetWrapper",
				sap.firefly.XObject,
				{
					$statics : {
						checkAndConvertSapDateToIso : function(oDimension,
								SAPDateValue) {
							var lISODateValue = null;
							var loKeyField = oDimension.getKeyField();
							var lValueType;
							var loDate;
							if (loKeyField === null) {
								throw sap.firefly.XException
										.createIllegalStateException(sap.firefly.XStringUtils
												.concatenate2(
														"Cannot find key field for dimension ",
														oDimension.getName()));
							}
							lValueType = loKeyField.getValueType();
							if (lValueType === sap.firefly.XValueType.DATE
									&& sap.firefly.XString.size(SAPDateValue) === 8) {
								loDate = sap.firefly.XDate
										.createDateFromSAPFormat(SAPDateValue);
								lISODateValue = loDate.toIsoFormat();
							}
							return lISODateValue;
						},
						sGetDimensionMemberText : function(oDimensionMember,
								oFieldValue) {
							var lDimensionMemberText;
							if (oDimensionMember === null) {
								return null;
							}
							lDimensionMemberText = null;
							if (oFieldValue !== null) {
								lDimensionMemberText = oFieldValue
										.getFormattedValue();
							}
							if (lDimensionMemberText === null) {
								lDimensionMemberText = oDimensionMember
										.getText();
							}
							if (lDimensionMemberText === null) {
								lDimensionMemberText = oDimensionMember
										.getName();
							}
							if (lDimensionMemberText === null) {
								lDimensionMemberText = "";
							}
							return lDimensionMemberText;
						},
						sGetDecimals : function(oResultDataCell,
								oDimensionMember) {
							if (oResultDataCell === null
									&& oDimensionMember === null) {
								return sap.zen.ResultDataCellWrapper.NO_DECIMALS;
							}
							if (oResultDataCell !== null) {
								return oResultDataCell.getDecimals();
							}
							if (oDimensionMember !== null) {
								return oDimensionMember.getDecimals();
							}
							return sap.zen.ResultDataCellWrapper.NO_DECIMALS;
						},
						sGetUniformDecimals : function(oResultDataCell,
								oTupleElement) {
							var loResultSet = null;
							var loInternalResultSet;
							var loQueryModel;
							var lUniformDecimals;
							var lRow;
							var lColumn;
							var loMeasureDimension;
							var lMeasureAxisType;
							var lMeasureMemberIndex;
							var lMeasureMemberData;
							var loResultDataCell;
							var lMeasureMemberDataIndex;
							var lDecimals;
							if (oResultDataCell !== null) {
								loResultSet = oResultDataCell.getResultSet();
							} else {
								if (oTupleElement !== null) {
									loResultSet = oTupleElement.getResultSet();
								}
							}
							if (loResultSet === null
									|| !loResultSet.isValid()
									|| (oResultDataCell === null && oTupleElement === null)) {
								return sap.zen.ResultDataCellWrapper.NO_DECIMALS;
							}
							loInternalResultSet = loResultSet
									.getInternalObject();
							loQueryModel = loInternalResultSet.getQueryModel();
							lUniformDecimals = sap.zen.ResultDataCellWrapper.NO_DECIMALS;
							lRow = 0;
							lColumn = 0;
							if (oResultDataCell !== null) {
								lRow = oResultDataCell.getRow();
								lColumn = oResultDataCell.getColumn();
							} else {
								if (oTupleElement !== null) {
									lRow = oTupleElement.getFirstTuple()
											.getIndex();
									lColumn = lRow;
								}
							}
							loMeasureDimension = loQueryModel
									.getMeasureDimension();
							lMeasureAxisType = null;
							if (loMeasureDimension !== null) {
								lMeasureAxisType = loMeasureDimension.getAxis()
										.getType();
								if (lMeasureAxisType !== sap.firefly.AxisType.ROWS
										&& lMeasureAxisType !== sap.firefly.AxisType.COLUMNS) {
									return sap.zen.ResultDataCellWrapper.NO_DECIMALS;
								}
							}
							lMeasureMemberIndex = 0;
							lMeasureMemberData = 0;
							if (lMeasureAxisType === sap.firefly.AxisType.ROWS) {
								lMeasureMemberIndex = lRow;
								lMeasureMemberData = loResultSet
										.getAmountOfDataColumns();
							} else {
								lMeasureMemberIndex = lColumn;
								lMeasureMemberData = loResultSet
										.getAmountOfDataRows();
							}
							loResultDataCell = null;
							if (lMeasureAxisType === sap.firefly.AxisType.ROWS) {
								loResultDataCell = loResultSet
										.getResultDataCell(lMeasureMemberIndex,
												0);
							} else {
								loResultDataCell = loResultSet
										.getResultDataCell(0,
												lMeasureMemberIndex);
							}
							lUniformDecimals = loResultDataCell.getDecimals();
							for (lMeasureMemberDataIndex = 0; lMeasureMemberDataIndex < lMeasureMemberData; lMeasureMemberDataIndex++) {
								if (lMeasureAxisType === sap.firefly.AxisType.ROWS) {
									loResultDataCell = loResultSet
											.getResultDataCell(
													lMeasureMemberIndex,
													lMeasureMemberDataIndex);
								} else {
									loResultDataCell = loResultSet
											.getResultDataCell(
													lMeasureMemberDataIndex,
													lMeasureMemberIndex);
								}
								if (loResultDataCell === null) {
									continue;
								}
								lDecimals = loResultDataCell.getDecimals();
								if (lDecimals !== lUniformDecimals) {
									lUniformDecimals = sap.zen.ResultDataCellWrapper.NO_DECIMALS;
									break;
								}
							}
							return lUniformDecimals;
						},
						sGetUniformCurrencyUnit : function(oResultDataCell,
								oTupleElement) {
							var loResultSet = null;
							var loInternalResultSet;
							var loQueryModel;
							var loUniformCurrencyUnit;
							var lRow;
							var lColumn;
							var loMeasureDimension;
							var lMeasureAxisType;
							var lMeasureMemberIndex;
							var lMeasureMemberData;
							var loResultDataCell;
							var lMeasureMemberDataIndex;
							var loCurrencyUnit;
							if (oResultDataCell !== null) {
								loResultSet = oResultDataCell.getResultSet();
							} else {
								if (oTupleElement !== null) {
									loResultSet = oTupleElement.getResultSet();
								}
							}
							if (loResultSet === null
									|| !loResultSet.isValid()
									|| (oResultDataCell === null && oTupleElement === null)) {
								return null;
							}
							loInternalResultSet = loResultSet
									.getInternalObject();
							loQueryModel = loInternalResultSet.getQueryModel();
							loUniformCurrencyUnit = null;
							lRow = 0;
							lColumn = 0;
							if (oResultDataCell !== null) {
								lRow = oResultDataCell.getRow();
								lColumn = oResultDataCell.getColumn();
							} else {
								if (oTupleElement !== null) {
									lRow = oTupleElement.getFirstTuple()
											.getIndex();
									lColumn = lRow;
								}
							}
							loMeasureDimension = loQueryModel
									.getMeasureDimension();
							lMeasureAxisType = null;
							if (loMeasureDimension !== null) {
								lMeasureAxisType = loMeasureDimension.getAxis()
										.getType();
								if (lMeasureAxisType !== sap.firefly.AxisType.ROWS
										&& lMeasureAxisType !== sap.firefly.AxisType.COLUMNS) {
									return null;
								}
							}
							lMeasureMemberIndex = 0;
							lMeasureMemberData = 0;
							if (lMeasureAxisType === sap.firefly.AxisType.ROWS) {
								lMeasureMemberIndex = lRow;
								lMeasureMemberData = loResultSet
										.getAmountOfDataColumns();
							} else {
								lMeasureMemberIndex = lColumn;
								lMeasureMemberData = loResultSet
										.getAmountOfDataRows();
							}
							loResultDataCell = null;
							if (lMeasureAxisType === sap.firefly.AxisType.ROWS) {
								loResultDataCell = loResultSet
										.getResultDataCell(lMeasureMemberIndex,
												0);
							} else {
								loResultDataCell = loResultSet
										.getResultDataCell(0,
												lMeasureMemberIndex);
							}
							loUniformCurrencyUnit = loResultDataCell
									.getCurrencyUnit();
							for (lMeasureMemberDataIndex = 0; lMeasureMemberDataIndex < lMeasureMemberData; lMeasureMemberDataIndex++) {
								if (lMeasureAxisType === sap.firefly.AxisType.ROWS) {
									loResultDataCell = loResultSet
											.getResultDataCell(
													lMeasureMemberIndex,
													lMeasureMemberDataIndex);
								} else {
									loResultDataCell = loResultSet
											.getResultDataCell(
													lMeasureMemberDataIndex,
													lMeasureMemberIndex);
								}
								if (loResultDataCell === null) {
									continue;
								}
								loCurrencyUnit = loResultDataCell
										.getCurrencyUnit();
								if (!(loCurrencyUnit.hasCurrency() === loUniformCurrencyUnit
										.hasCurrency()
										&& loCurrencyUnit.hasUnit() === loUniformCurrencyUnit
												.hasUnit()
										&& loCurrencyUnit.isMixed() === loUniformCurrencyUnit
												.isMixed()
										&& loCurrencyUnit.hasPrefix() === loUniformCurrencyUnit
												.hasPrefix()
										&& loCurrencyUnit.hasSuffix() === loUniformCurrencyUnit
												.hasSuffix()
										&& loCurrencyUnit.hasFormatted() === loUniformCurrencyUnit
												.hasFormatted()
										&& sap.firefly.XString.isEqual(
												loCurrencyUnit.getPrefix(),
												loUniformCurrencyUnit
														.getPrefix())
										&& sap.firefly.XString.isEqual(
												loCurrencyUnit.getSuffix(),
												loUniformCurrencyUnit
														.getSuffix())
										&& sap.firefly.XString.isEqual(
												loCurrencyUnit.getFormatted(),
												loUniformCurrencyUnit
														.getFormatted()) && loCurrencyUnit
										.isEmpty() === loUniformCurrencyUnit
										.isEmpty())) {
									loUniformCurrencyUnit = null;
									break;
								}
							}
							return loUniformCurrencyUnit;
						},
						sGetScalingFactor : function(oResultDataCell,
								oDimensionMember) {
							if (oResultDataCell === null
									&& oDimensionMember === null) {
								return sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR;
							}
							if (oResultDataCell !== null) {
								return oResultDataCell.getScalingFactor();
							}
							if (oDimensionMember !== null) {
								return oDimensionMember.getScalingFactor();
							}
							return sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR;
						},
						sGetUniformScalingFactor : function(oResultDataCell,
								oTupleElement) {
							var loResultSet = null;
							var loInternalResultSet;
							var loQueryModel;
							var lUniformScalingFactor;
							var lRow;
							var lColumn;
							var loMeasureDimension;
							var lMeasureAxisType;
							var lMeasureMemberIndex;
							var lMeasureMemberData;
							var loResultDataCell;
							var lMeasureMemberDataIndex;
							var lScalingFactor;
							if (oResultDataCell !== null) {
								loResultSet = oResultDataCell.getResultSet();
							} else {
								if (oTupleElement !== null) {
									loResultSet = oTupleElement.getResultSet();
								}
							}
							if (loResultSet === null
									|| !loResultSet.isValid()
									|| (oResultDataCell === null && oTupleElement === null)) {
								return sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR;
							}
							loInternalResultSet = loResultSet
									.getInternalObject();
							loQueryModel = loInternalResultSet.getQueryModel();
							lUniformScalingFactor = sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR;
							lRow = 0;
							lColumn = 0;
							if (oResultDataCell !== null) {
								lRow = oResultDataCell.getRow();
								lColumn = oResultDataCell.getColumn();
							} else {
								if (oTupleElement !== null) {
									lRow = oTupleElement.getFirstTuple()
											.getIndex();
									lColumn = lRow;
								}
							}
							loMeasureDimension = loQueryModel
									.getMeasureDimension();
							lMeasureAxisType = null;
							if (loMeasureDimension !== null) {
								lMeasureAxisType = loMeasureDimension.getAxis()
										.getType();
								if (lMeasureAxisType !== sap.firefly.AxisType.ROWS
										&& lMeasureAxisType !== sap.firefly.AxisType.COLUMNS) {
									return sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR;
								}
							}
							lMeasureMemberIndex = 0;
							lMeasureMemberData = 0;
							if (lMeasureAxisType === sap.firefly.AxisType.ROWS) {
								lMeasureMemberIndex = lRow;
								lMeasureMemberData = loResultSet
										.getAmountOfDataColumns();
							} else {
								lMeasureMemberIndex = lColumn;
								lMeasureMemberData = loResultSet
										.getAmountOfDataRows();
							}
							loResultDataCell = null;
							if (lMeasureAxisType === sap.firefly.AxisType.ROWS) {
								loResultDataCell = loResultSet
										.getResultDataCell(lMeasureMemberIndex,
												0);
							} else {
								loResultDataCell = loResultSet
										.getResultDataCell(0,
												lMeasureMemberIndex);
							}
							lUniformScalingFactor = loResultDataCell
									.getScalingFactor();
							for (lMeasureMemberDataIndex = 0; lMeasureMemberDataIndex < lMeasureMemberData; lMeasureMemberDataIndex++) {
								if (lMeasureAxisType === sap.firefly.AxisType.ROWS) {
									loResultDataCell = loResultSet
											.getResultDataCell(
													lMeasureMemberIndex,
													lMeasureMemberDataIndex);
								} else {
									loResultDataCell = loResultSet
											.getResultDataCell(
													lMeasureMemberDataIndex,
													lMeasureMemberIndex);
								}
								if (loResultDataCell === null) {
									continue;
								}
								lScalingFactor = loResultDataCell
										.getScalingFactor();
								if (lScalingFactor !== lUniformScalingFactor) {
									lUniformScalingFactor = sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR;
									break;
								}
							}
							return lUniformScalingFactor;
						},
						getFormattedValueOfResultMember : function(
								oDimensionMember) {
							var loInternalDimensionMember = oDimensionMember
									.getInternalObject();
							var loDimension = oDimensionMember.getDimension();
							var loInternalDimension = loDimension
									.getInternalObject();
							var loInternalResultDimensionMember = loInternalDimension
									.getResultMember(loInternalDimensionMember
											.getMemberType());
							if (loInternalResultDimensionMember !== null) {
								return loInternalResultDimensionMember
										.getFormattedValue();
							}
							return oDimensionMember.getText();
						},
						create : function(oDataSource) {
							var loInstance = null;
							if (oDataSource !== null) {
								loInstance = new sap.zen.ResultSetWrapper();
								loInstance.initMe(oDataSource);
							}
							return loInstance;
						}
					},
					oDataSource : null,
					oInternalResultSet : null,
					tResultDataCells : null,
					tTuples : null,
					oResultSetPaging : null,
					syncState : null,
					initMe : function(oDataSource) {
						this.oDataSource = oDataSource;
						this.oInternalResultSet = null;
						this.tResultDataCells = sap.firefly.XListOfNameObject
								.create();
						this.tTuples = sap.firefly.XListOfNameObject.create();
						this.oResultSetPaging = sap.zen.ResultSetPaging
								.create(this);
					},
					synchronize : function(oListener, oBaggage, asynchron) {
						var loActionResult;
						var loDataSource;
						var loQueryManager;
						var lRefreshPossible;
						var lRefreshRequired;
						var loAction;
						var loPaging;
						var ltAxesPaging;
						var lAxisPagingIndex;
						var loAxisPaging;
						var loResultSetContainer;
						var lSyncState;
						var loQueryExecutionResponse;
						if (this.syncState === sap.firefly.SyncState.PROCESSING) {
							return null;
						}
						loActionResult = sap.zen.ActionResponse
								.createActionResponse();
						loDataSource = this.getDataSource();
						loQueryManager = loDataSource.getQueryManager();
						lRefreshPossible = loQueryManager !== null
								&& loDataSource.isInitialized();
						lRefreshRequired = loDataSource.isDataSourceChanged()
								|| (!asynchron);
						if (lRefreshPossible && lRefreshRequired) {
							this.syncState = sap.firefly.SyncState.PROCESSING;
							loAction = sap.zen.ActionSynchronizeResultSet
									.create(this, loActionResult, oBaggage);
							loAction.addListener(oListener);
							loPaging = this.getServerPaging();
							ltAxesPaging = loPaging.getAxesPaging();
							for (lAxisPagingIndex = 0; lAxisPagingIndex < ltAxesPaging
									.size(); lAxisPagingIndex++) {
								loAxisPaging = ltAxesPaging
										.get(lAxisPagingIndex);
								loAxisPaging
										.setPage(
												sap.zen.ResultSetAxisPaging.OFFSET_DEFAULT,
												sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
							}
							loResultSetContainer = loQueryManager
									.getActiveResultSetContainer();
							lSyncState = loResultSetContainer.getSyncState();
							if (!sap.firefly.SyncState.IN_SYNC
									.isEqualTo(lSyncState)) {
								loQueryExecutionResponse = null;
								if (asynchron) {
									loQueryExecutionResponse = loQueryManager
											.processQueryExecution(
													sap.firefly.SyncType.NON_BLOCKING,
													this, loAction);
								} else {
									loQueryExecutionResponse = loQueryManager
											.processQueryExecution(
													sap.firefly.SyncType.BLOCKING,
													this, loAction);
									if (!sap.firefly.SyncState.IN_SYNC
											.isEqualTo(this.syncState)) {
										this.onQueryExecuted(
												loQueryExecutionResponse,
												loQueryExecutionResponse
														.getData(), loAction);
									}
								}
								loActionResult.actionPerformed = true;
								loActionResult
										.addAllMessages(loQueryExecutionResponse);
							}
							if (!loActionResult.actionWasPerformed()) {
								this.syncState = sap.firefly.SyncState.IN_SYNC;
							}
						}
						return loActionResult;
					},
					getInternalObject : function() {
						var loPaging = this.getServerPaging();
						if (loPaging !== null) {
							if (loPaging.isPagingActive()
									&& loPaging.getState() !== sap.firefly.SyncState.IN_SYNC) {
								this.synchronize(null, null, false);
							}
						}
						return this.oInternalResultSet;
					},
					setInternalResultSetFromContainer : function(oAction,
							oInternalResultSetContainer) {
						var loInternalResultSet = null;
						if (oInternalResultSetContainer !== null) {
							this
									.getDataSource()
									.getMessageWriter()
									.createMessages(oInternalResultSetContainer);
							loInternalResultSet = oInternalResultSetContainer
									.getClassicResultSet();
						}
						this.setInternalResultSet(oAction, loInternalResultSet);
					},
					setInternalResultSet : function(oAction, oInternalResultSet) {
						var loDataSource;
						var loQueryManager;
						var ltAxesPaging;
						var lAxisPagingIndex;
						var loAxisPaging;
						if (oInternalResultSet === this.oInternalResultSet) {
							return;
						}
						loDataSource = this.getDataSource();
						loQueryManager = loDataSource.getQueryManager();
						if (loQueryManager === null
								|| !loDataSource.isInitialized()
								|| oInternalResultSet === null) {
							loDataSource
									.getMessageWriter()
									.createErrorMessage(
											loDataSource
													.getMessageWriter()
													.getLocalization()
													.getText1(
															"com.sap.ip.bi.zen.rt.components.ds.impl.ERROR_DS_NOT_INITIALIZED",
															loDataSource
																	.getName()));
						}
						if (oInternalResultSet !== null) {
							if (!this.getServerPaging().isPagingActive()) {
								if (oInternalResultSet.getRowsAxis()
										.getTuplesCount() !== oInternalResultSet
										.getRowsAxis().getTuplesCountTotal()
										|| oInternalResultSet.getColumnsAxis()
												.getTuplesCount() !== oInternalResultSet
												.getColumnsAxis()
												.getTuplesCountTotal()) {
									sap.zen.CLocalizationDataSourceMessages.RESULTSET_TOO_LARGE
											.addMessageToMessageHandler(
													loDataSource
															.getMessageWriter(),
													sap.firefly.Severity.ERROR,
													null, null, null);
								}
							}
						}
						this.oInternalResultSet = oInternalResultSet;
						this.releaseChildObjects();
						this.tResultDataCells = sap.firefly.XListOfNameObject
								.create();
						this.tTuples = sap.firefly.XListOfNameObject.create();
						ltAxesPaging = this.getServerPaging().getAxesPaging();
						for (lAxisPagingIndex = 0; lAxisPagingIndex < ltAxesPaging
								.size(); lAxisPagingIndex++) {
							loAxisPaging = ltAxesPaging.get(lAxisPagingIndex);
							loAxisPaging.handleResultSetSynchronized(oAction
									.getContext(), oAction.getResponse(), null);
						}
					},
					getDataSource : function() {
						return this.oDataSource;
					},
					onQueryExecuted : function(extResult, resultSetContainer,
							customIdentifier) {
						var loAction = customIdentifier;
						var loInternalResultSetContainer = extResult.getData();
						if (loInternalResultSetContainer === null) {
							this.getDataSource().getMessageWriter()
									.createMessages(extResult);
						}
						this.setInternalResultSetFromContainer(loAction,
								loInternalResultSetContainer);
						this.syncState = sap.firefly.SyncState.IN_SYNC;
						loAction.callListeners();
					},
					getServerPaging : function() {
						return this.oResultSetPaging;
					},
					isValid : function() {
						var loInternalResultSet = this.getInternalObject();
						if (loInternalResultSet === null) {
							return false;
						}
						return true;
					},
					hasErrors : function() {
						var loInternalResultSet = this.getInternalObject();
						var loResultSetContainer;
						var lHasErrors;
						if (loInternalResultSet === null) {
							loResultSetContainer = this.getDataSource()
									.getQueryManager()
									.getActiveResultSetContainer();
							if (loResultSetContainer === null) {
								return true;
							}
							return loResultSetContainer.hasErrors();
						}
						lHasErrors = true;
						lHasErrors = lHasErrors
								&& loInternalResultSet.getState()
										.isErrorState();
						lHasErrors = lHasErrors
								&& loInternalResultSet.hasErrors();
						return loInternalResultSet.hasErrors();
					},
					getErrors : function() {
						var loInternalResultSet;
						var loResultSetContainer;
						if (!this.hasErrors()) {
							return null;
						}
						loInternalResultSet = this.getInternalObject();
						if (loInternalResultSet === null) {
							loResultSetContainer = this.getDataSource()
									.getQueryManager()
									.getActiveResultSetContainer();
							if (loResultSetContainer === null) {
								return null;
							}
							return loResultSetContainer.getErrors().get(0)
									.toString();
						}
						return loInternalResultSet.getSummary();
					},
					hasData : function() {
						var loInternalResultSet = this.getInternalObject();
						if (loInternalResultSet === null) {
							return false;
						}
						return loInternalResultSet.getState().hasData()
								&& this.getAmountOfRows() > 0
								&& this.getAmountOfColumns() > 0;
					},
					isComplete : function() {
						var loInternalResultSet = this.getInternalObject();
						if (loInternalResultSet === null) {
							return true;
						}
						if (!this.getServerPaging().isPagingActive()) {
							if (loInternalResultSet.getRowsAxis()
									.getTuplesCount() !== loInternalResultSet
									.getRowsAxis().getTuplesCountTotal()
									|| loInternalResultSet.getColumnsAxis()
											.getTuplesCount() !== loInternalResultSet
											.getColumnsAxis()
											.getTuplesCountTotal()) {
								return false;
							}
						}
						return true;
					},
					getAmountOfRows : function() {
						var lDataRows = this.getAmountOfDataRows();
						var lTupleRows = this
								.getAmountOfTuplesOnAxis(sap.firefly.AxisType.ROWS);
						if (lDataRows > lTupleRows) {
							return lDataRows;
						}
						return lTupleRows;
					},
					getAmountOfColumns : function() {
						var lDataCols = this.getAmountOfDataColumns();
						var lTupleCols = this
								.getAmountOfTuplesOnAxis(sap.firefly.AxisType.COLUMNS);
						if (lDataCols > lTupleCols) {
							return lDataCols;
						}
						return lTupleCols;
					},
					getAmountOfTuplesOnAxis : function(axis) {
						var loInternalResultSet = this.getInternalObject();
						var lAmountOfTuples;
						if (loInternalResultSet === null) {
							return 0;
						}
						lAmountOfTuples = 0;
						if (this.getServerPaging().isPagingActive()) {
							lAmountOfTuples = loInternalResultSet.getAxis(axis)
									.getTuplesCountTotal();
						} else {
							lAmountOfTuples = loInternalResultSet.getAxis(axis)
									.getTuplesCount();
						}
						return lAmountOfTuples;
					},
					getAmountOfTupleElementsOnAxis : function(axis) {
						var loInternalResultSet = this.getInternalObject();
						if (loInternalResultSet === null) {
							return 0;
						}
						return loInternalResultSet.getAxis(axis)
								.getTupleElementsCount();
					},
					getAxisDimensions : function(axis) {
						var ltDimensions = sap.firefly.XList.create();
						var loInternalResultSet = this.getInternalObject();
						var ltResultDimensions;
						var lResultDimensionIndex;
						var loResultDimension;
						var loInternalDimension;
						var loDimension;
						if (loInternalResultSet === null) {
							return ltDimensions;
						}
						ltResultDimensions = loInternalResultSet.getAxis(axis)
								.getRsDimensions();
						for (lResultDimensionIndex = 0; lResultDimensionIndex < ltResultDimensions
								.size(); lResultDimensionIndex++) {
							loResultDimension = ltResultDimensions
									.get(lResultDimensionIndex);
							if (loResultDimension === null) {
								continue;
							}
							loInternalDimension = loResultDimension
									.getDimension();
							loDimension = sap.zen.DimensionWrapper.create(this
									.getDataSource(), this, loInternalDimension
									.getName());
							ltDimensions.add(loDimension);
						}
						return ltDimensions;
					},
					hasDataCells : function() {
						var loInternalResultSet = this.getInternalObject();
						var lHasData;
						if (loInternalResultSet === null) {
							return false;
						}
						lHasData = true;
						lHasData = lHasData
								&& loInternalResultSet.getState().hasData();
						lHasData = lHasData
								&& (loInternalResultSet
										.getAvailableDataCellCount() > 0);
						lHasData = lHasData
								&& (loInternalResultSet.getDataRows() > 0 || loInternalResultSet
										.getDataColumns() > 0);
						return lHasData;
					},
					getAmountOfDataRows : function() {
						var loInternalResultSet = this.getInternalObject();
						if (loInternalResultSet === null) {
							return 0;
						}
						return loInternalResultSet.getDataRows();
					},
					getAmountOfDataColumns : function() {
						var loInternalResultSet = this.getInternalObject();
						if (loInternalResultSet === null) {
							return 0;
						}
						return loInternalResultSet.getDataColumns();
					},
					isDataEntryEnabled : function() {
						var loInternalResultSet = this.getInternalObject();
						if (loInternalResultSet === null) {
							return false;
						}
						return loInternalResultSet.isDataEntryEnabled();
					},
					doesMeasureWithScalingFactorExist : function() {
						var loInternalResultSet = this.getInternalObject();
						var loQueryModel;
						var lMeasureWithScalingFactorExists;
						var loInternalMeasureDimension;
						var loDimension;
						var ltInternalDimensionMembers;
						var lDimensionMemberIndex;
						var loInternalDimensionMember;
						var loDimensionMember;
						var lScalingFactor;
						if (loInternalResultSet === null) {
							return false;
						}
						loQueryModel = loInternalResultSet.getQueryModel();
						lMeasureWithScalingFactorExists = false;
						loInternalMeasureDimension = loQueryModel
								.getMeasureDimension();
						if (loInternalMeasureDimension !== null) {
							loDimension = sap.zen.DimensionWrapper.create(this
									.getDataSource(), this,
									loInternalMeasureDimension.getName());
							ltInternalDimensionMembers = loInternalResultSet
									.getAxis(
											loInternalMeasureDimension
													.getAxis().getType())
									.getAllMembers(loInternalMeasureDimension);
							for (lDimensionMemberIndex = 0; lDimensionMemberIndex < ltInternalDimensionMembers
									.size(); lDimensionMemberIndex++) {
								loInternalDimensionMember = ltInternalDimensionMembers
										.get(lDimensionMemberIndex);
								if (loInternalDimensionMember === null) {
									continue;
								}
								loDimensionMember = sap.zen.DimensionMemberWrapper
										.create(loDimension,
												loInternalDimensionMember);
								lScalingFactor = loDimensionMember
										.getScalingFactor();
								if (lScalingFactor > 0) {
									lMeasureWithScalingFactorExists = true;
									break;
								}
							}
						}
						return lMeasureWithScalingFactorExists;
					},
					getAmountOfDimensionsOnAxis : function(axis) {
						var loInternalResultSet = this.getInternalObject();
						if (loInternalResultSet === null) {
							return 0;
						}
						return loInternalResultSet.getAxis(axis)
								.getRsDimensions().size();
					},
					getAmountOfVisibleFieldsOnAxis : function(axis) {
						var loInternalResultSet = this.getInternalObject();
						var lVisibleFields;
						var loAxis;
						var ltInternalResultDimensions;
						var lDimensionIndex;
						var loInternalResultDimension;
						var loDimension;
						var ltVisibleFields;
						if (loInternalResultSet === null) {
							return 0;
						}
						lVisibleFields = 0;
						loAxis = loInternalResultSet.getAxis(axis);
						ltInternalResultDimensions = loAxis.getRsDimensions();
						for (lDimensionIndex = 0; lDimensionIndex < ltInternalResultDimensions
								.size(); lDimensionIndex++) {
							loInternalResultDimension = ltInternalResultDimensions
									.get(lDimensionIndex);
							if (loInternalResultDimension === null) {
								continue;
							}
							loDimension = sap.zen.DimensionWrapper.create(this
									.getDataSource(), this,
									loInternalResultDimension.getDimension()
											.getName());
							ltVisibleFields = loDimension.getResultSetFields();
							lVisibleFields = lVisibleFields
									+ ltVisibleFields.size();
						}
						return lVisibleFields;
					},
					getResultDataCell : function(rowIndex, colIndex) {
						var loInternalResultSet = this.getInternalObject();
						var loResultDataCell;
						var lKey;
						if (loInternalResultSet === null) {
							return null;
						}
						loResultDataCell = null;
						lKey = sap.zen.ResultDataCellWrapper.sGetName(
								this.oDataSource, rowIndex, colIndex);
						if (this.tResultDataCells.containsKey(lKey)) {
							loResultDataCell = this.tResultDataCells
									.getByKey(lKey);
							return loResultDataCell;
						}
						loResultDataCell = sap.zen.ResultDataCellWrapper
								.create(this, rowIndex, colIndex);
						return loResultDataCell;
					},
					getTuple : function(axis, tupleIndex, oDimension,
							memberName) {
						var loTuple = null;
						var ltTuples;
						var lTupleIndex;
						var loExistingTuple;
						var lKey;
						if (memberName !== null) {
							loTuple = sap.zen.TupleWrapper.create(this, axis,
									tupleIndex, oDimension, memberName);
							ltTuples = this.tTuples.getValuesAsReadOnlyList();
							for (lTupleIndex = 0; lTupleIndex < ltTuples.size(); lTupleIndex++) {
								loExistingTuple = ltTuples.get(lTupleIndex);
								if (loExistingTuple === null) {
									continue;
								}
								if (loExistingTuple.getAxis() === loTuple
										.getAxis()
										&& loExistingTuple.getIndex() === loTuple
												.getIndex()) {
									return loExistingTuple;
								}
							}
						} else {
							lKey = sap.zen.TupleWrapper.sGetName(this, axis,
									tupleIndex);
							if (this.tTuples.containsKey(lKey)) {
								loTuple = this.tTuples.getByKey(lKey);
								return loTuple;
							}
						}
						loTuple = sap.zen.TupleWrapper.create(this, axis,
								tupleIndex, oDimension, memberName);
						return loTuple;
					},
					getGrid : function(mergeContent,
							displayScalingFactorsInHeader, oDisplayArea) {
						return sap.zen.Grid.create(this, mergeContent,
								displayScalingFactorsInHeader, oDisplayArea);
					},
					releaseObject : function() {
						this.oDataSource = null;
						if (this.oResultSetPaging !== null) {
							this.oResultSetPaging.releaseObject();
							this.oResultSetPaging = null;
						}
						this.releaseChildObjects();
						sap.zen.ResultSetWrapper.$superclass.releaseObject
								.call(this);
					},
					releaseChildObjects : function() {
						var loResultDataCellIterator;
						var loResultDataCell;
						var loTupleIterator;
						var loTuple;
						if (this.tResultDataCells !== null) {
							loResultDataCellIterator = this.tResultDataCells
									.getIterator();
							while (loResultDataCellIterator.hasNext()) {
								loResultDataCell = loResultDataCellIterator
										.next();
								if (loResultDataCell !== null) {
									loResultDataCell.releaseObject();
								}
							}
							this.tResultDataCells.releaseObject();
							this.tResultDataCells = null;
						}
						if (this.tTuples !== null) {
							loTupleIterator = this.tTuples.getIterator();
							while (loTupleIterator.hasNext()) {
								loTuple = loTupleIterator.next();
								if (loTuple !== null) {
									loTuple.releaseObject();
								}
							}
							this.tTuples.releaseObject();
							this.tTuples = null;
						}
					},
					clone : function() {
						throw sap.firefly.XException
								.createUnsupportedOperationException();
					}
				});
$Firefly
		.createClass(
				"sap.zen.TupleElementWrapper",
				sap.firefly.XObject,
				{
					$statics : {
						sGetName : function(oTuple, tupleElementIndex) {
							var lKey;
							if (oTuple === null || tupleElementIndex < 0) {
								return null;
							}
							lKey = sap.firefly.XStringUtils.concatenate3(oTuple
									.getName(), ";", sap.firefly.XInteger
									.convertIntegerToString(tupleElementIndex));
							return lKey;
						},
						sGetTupleElementObject : function(oTuple,
								tupleElementIndex, dimensionName) {
							var loInternalTuple = oTuple.getInternalObject();
							var loInternalTupleElement;
							var loDimension;
							if (loInternalTuple === null) {
								return null;
							}
							loInternalTupleElement = null;
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(dimensionName)) {
								loDimension = loInternalTuple.getAxis()
										.getQueryModel().getDimensionByName(
												dimensionName);
								loInternalTupleElement = loInternalTuple
										.getElementByDimension(loDimension);
							} else {
								loInternalTupleElement = loInternalTuple
										.getElementByIndex(tupleElementIndex);
							}
							return loInternalTupleElement;
						},
						create : function(oTuple, tupleElementIndex, oDimension) {
							var loInstance = null;
							var lDimensionName = null;
							var loInternalTupleElement;
							if (oDimension !== null) {
								lDimensionName = oDimension.getName();
								if (oDimension.getProperties().isUDHActive()) {
									lDimensionName = null;
									tupleElementIndex = 0;
								}
							}
							loInternalTupleElement = sap.zen.TupleElementWrapper
									.sGetTupleElementObject(oTuple,
											tupleElementIndex, lDimensionName);
							if (loInternalTupleElement !== null) {
								loInstance = new sap.zen.TupleElementWrapper();
								loInstance.initMe(oTuple,
										loInternalTupleElement, oDimension);
							}
							return loInstance;
						}
					},
					oTuple : null,
					tupleElementIndex : 0,
					oDimension : null,
					oDimensionMember : null,
					initMe : function(oTuple, oTupleElement, oDimension) {
						this.oTuple = oTuple;
						this.tupleElementIndex = oTupleElement.getIndexOnAxis();
						this.oDimension = oDimension;
						if (this.oDimension === null) {
							this.oDimension = sap.zen.DimensionWrapper.create(
									this.getDataSource(), this.getResultSet(),
									oTupleElement.getDimension().getName());
						}
						this.oDimensionMember = sap.zen.DimensionMemberWrapper
								.create(this.oDimension, oTupleElement
										.getDimensionMember());
						if (this.oDimension.getProperties().isUDHActive()) {
							this.tupleElementIndex = 0;
						}
					},
					getInternalObject : function() {
						return sap.zen.TupleElementWrapper
								.sGetTupleElementObject(this.oTuple,
										this.tupleElementIndex, null);
					},
					getDataSource : function() {
						return this.oTuple.getDataSource();
					},
					getResultSet : function() {
						return this.oTuple.getResultSet();
					},
					getName : function() {
						return sap.zen.TupleElementWrapper.sGetName(
								this.oTuple, this.tupleElementIndex);
					},
					getAxis : function() {
						return this.oTuple.getAxis();
					},
					getTuple : function() {
						return this.oTuple;
					},
					getFirstTuple : function() {
						var loInternalTupleElement = this.getInternalObject();
						var lFirstTupleIndex;
						var loServerPaging;
						if (loInternalTupleElement === null) {
							return null;
						}
						lFirstTupleIndex = loInternalTupleElement
								.getFirstTuple().getAxisIndex();
						loServerPaging = this.getResultSet().getServerPaging();
						if (loServerPaging.isPagingActive()) {
							lFirstTupleIndex = lFirstTupleIndex
									+ loServerPaging.getAxisPaging(
											this.getAxis()).getOffset();
						}
						return this.getResultSet().getTuple(this.getAxis(),
								lFirstTupleIndex, null, null);
					},
					getIndex : function() {
						return this.tupleElementIndex;
					},
					getDimension : function() {
						return this.oDimension;
					},
					getDimensionMember : function() {
						return this.oDimensionMember;
					},
					getDrillState : function() {
						var loInternalTupleElement = this.getInternalObject();
						if (loInternalTupleElement === null) {
							return null;
						}
						return loInternalTupleElement.getDrillState();
					},
					getCompactDrillState : function() {
						if (this.isLeaf()) {
							return sap.firefly.DrillState.LEAF;
						} else {
							if (this.isExpanded()) {
								return sap.firefly.DrillState.EXPANDED;
							} else {
								if (this.isCollapsed()) {
									return sap.firefly.DrillState.COLLAPSED;
								}
							}
						}
						return null;
					},
					isLeaf : function() {
						var lDrillState = this.getDrillState();
						if (lDrillState === sap.firefly.DrillState.LEAF) {
							return true;
						}
						return false;
					},
					isExpanded : function() {
						var lDrillState = this.getDrillState();
						if (lDrillState === sap.firefly.DrillState.EXPANDED) {
							return true;
						}
						return false;
					},
					isCollapsed : function() {
						var lDrillState = this.getDrillState();
						if (lDrillState === sap.firefly.DrillState.COLLAPSED) {
							return true;
						}
						return false;
					},
					getNodeAlignment : function() {
						var lDrillState = this.getDrillState();
						if (lDrillState === sap.firefly.DrillState.EXPANDED) {
							return this.getDimension().getProperties()
									.getHierarchyAlignment();
						}
						return null;
					},
					toggleDrillState : function(triggerChangedEvent) {
						var loInternalTupleElement = this.getInternalObject();
						var loProperties;
						var lDrillState;
						var loDataSourceChangeCause;
						if (loInternalTupleElement === null) {
							return false;
						}
						loProperties = this.getDimension().getProperties();
						lDrillState = this.getDrillState();
						if (this.isExpanded()) {
							lDrillState = sap.firefly.DrillState.COLLAPSED;
						} else {
							if (lDrillState === sap.firefly.DrillState.COLLAPSED) {
								lDrillState = sap.firefly.DrillState.EXPANDED;
							}
						}
						loInternalTupleElement.setNextDrillState(lDrillState);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.ExpandCollapseHierarchyNode
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							if (lDrillState !== null) {
								loDataSourceChangeCause.addProperty(
										"NewDrillState", lDrillState.getName());
							}
							if (lDrillState !== null) {
								loDataSourceChangeCause.addProperty(
										"rootcause_hierarchy", lDrillState
												.getName());
							}
							loDataSourceChangeCause.addProperty(
									"rootcause_hierarchy_directiondown",
									sap.firefly.XBoolean
											.convertBooleanToString(true));
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
						return true;
					},
					getDisplayLevel : function() {
						var loInternalTupleElement = this.getInternalObject();
						if (loInternalTupleElement === null) {
							return 0;
						}
						return loInternalTupleElement.getDisplayLevel();
					},
					isTotal : function(checkPrecedingTupleElements) {
						var loInternalTupleElement = this.getInternalObject();
						var loDimensionMember;
						var loTuple;
						var lTupleElementIndex;
						var loTupleElement;
						if (loInternalTupleElement !== null) {
							loDimensionMember = loInternalTupleElement
									.getDimensionMember();
							if (loDimensionMember !== null) {
								if (loDimensionMember.getMemberType()
										.isResult()) {
									return true;
								}
							}
						}
						if (checkPrecedingTupleElements) {
							loTuple = this.getTuple();
							for (lTupleElementIndex = 0; lTupleElementIndex < this
									.getIndex(); lTupleElementIndex++) {
								loTupleElement = loTuple.getTupleElement(
										lTupleElementIndex, null);
								if (loTupleElement === null) {
									continue;
								}
								if (loTupleElement.isTotal(false)) {
									return true;
								}
							}
						}
						return false;
					},
					expandCollapseHierarchyNode : function(drillState,
							triggerChangedEvent) {
						var loInternalTupleElement = this.getInternalObject();
						var lDrillState;
						var loDataSourceChangeCause;
						if (loInternalTupleElement === null) {
							return false;
						}
						lDrillState = drillState;
						if (lDrillState === null
								|| (lDrillState !== sap.firefly.DrillState.EXPANDED && lDrillState !== sap.firefly.DrillState.COLLAPSED)) {
							lDrillState = loInternalTupleElement
									.getDrillState();
						}
						if (loInternalTupleElement.getDrillState() === lDrillState) {
							return false;
						}
						loInternalTupleElement.setNextDrillState(lDrillState);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.ExpandCollapseHierarchyNode
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							if (lDrillState !== null) {
								loDataSourceChangeCause.addProperty(
										"NewDrillState", lDrillState.getName());
							}
							if (lDrillState !== null) {
								loDataSourceChangeCause.addProperty(
										"rootcause_hierarchy", lDrillState
												.getName());
							}
							loDataSourceChangeCause.addProperty(
									"rootcause_hierarchy_directiondown",
									sap.firefly.XBoolean
											.convertBooleanToString(true));
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
						return true;
					},
					getActionObjectProperties : function() {
						var ltProperties = sap.firefly.XHashMapOfStringByString
								.create();
						var loInternalTupleElement = this.getInternalObject();
						if (loInternalTupleElement === null) {
							return ltProperties;
						}
						if (this.getAxis() !== null) {
							ltProperties.put("Axis", this.getAxis().getName());
						}
						ltProperties.put("TupleElement", this.getName());
						if (!this.isLeaf()) {
							ltProperties.put("DisplayLevel",
									sap.firefly.XInteger
											.convertIntegerToString(this
													.getDisplayLevel()));
							if (this.getDrillState() !== null) {
								ltProperties.put("DrillState", this
										.getDrillState().getName());
							}
							if (this.getNodeAlignment() !== null) {
								ltProperties.put("Alignment", this
										.getNodeAlignment().getName());
							}
						}
						return ltProperties;
					},
					isEqualTo : function(other) {
						var loOtherTupleElement;
						if (other === null) {
							return false;
						}
						loOtherTupleElement = other;
						if (this.getDataSource().isEqualTo(
								loOtherTupleElement.getDataSource())
								&& this.oTuple.isEqualTo(loOtherTupleElement
										.getTuple())
								&& this.tupleElementIndex === loOtherTupleElement
										.getIndex()) {
							return true;
						}
						return false;
					},
					releaseObject : function() {
						this.oTuple = null;
						this.tupleElementIndex = -1;
						this.oDimension = null;
						this.oDimensionMember = null;
						sap.zen.TupleElementWrapper.$superclass.releaseObject
								.call(this);
					},
					clone : function() {
						throw sap.firefly.XException
								.createUnsupportedOperationException();
					},
					toString : function() {
						var loObject = sap.firefly.PrStructure.create();
						var loJsonString = null;
						var loJsonInteger = null;
						loJsonString = sap.firefly.PrString.create();
						if (this.getDataSource() !== null) {
							loJsonString.setStringValue(this.getDataSource()
									.getName());
						}
						loObject.setElementByName("DataSource", loJsonString);
						loJsonString = sap.firefly.PrString.create();
						if (this.getAxis() !== null) {
							loJsonString.setStringValue(this.getAxis()
									.getName());
						}
						loObject.setElementByName("Axis", loJsonString);
						loJsonInteger = sap.firefly.PrInteger.create();
						if (this.getTuple() !== null) {
							loJsonInteger.setIntegerValue(this.getTuple()
									.getIndex());
						}
						loObject.setElementByName("TupleIndex", loJsonInteger);
						loJsonInteger = sap.firefly.PrInteger.create();
						loJsonInteger.setIntegerValue(this.getIndex());
						loObject.setElementByName("Index", loJsonInteger);
						loJsonString = sap.firefly.PrString.create();
						if (this.getDimension() !== null) {
							loJsonString.setStringValue(this.getDimension()
									.toString());
						}
						loObject.setElementByName("Dimension", loJsonString);
						loJsonString = sap.firefly.PrString.create();
						if (this.getDimension() !== null) {
							loJsonString.setStringValue(this
									.getDimensionMember().toString());
						}
						loObject.setElementByName("DimensionMember",
								loJsonString);
						loJsonInteger = sap.firefly.PrInteger.create();
						loJsonInteger.setIntegerValue(this.getDisplayLevel());
						loObject
								.setElementByName("DisplayLevel", loJsonInteger);
						loJsonString = sap.firefly.PrString.create();
						if (this.getDrillState() !== null) {
							loJsonString.setStringValue(this.getDrillState()
									.getName());
						}
						loObject.setElementByName("DrillState", loJsonString);
						return loObject.toString();
					}
				});
$Firefly
		.createClass(
				"sap.zen.TupleWrapper",
				sap.firefly.XObject,
				{
					$statics : {
						sGetName : function(oResultSet, axis, tupleIndex) {
							var lKey;
							if (oResultSet === null || axis === null
									|| tupleIndex < 0) {
								return null;
							}
							lKey = sap.firefly.XStringUtils
									.concatenate5(
											oResultSet.getDataSource()
													.getName(),
											";",
											axis.getName(),
											";",
											sap.firefly.XInteger
													.convertIntegerToString(tupleIndex));
							return lKey;
						},
						sGetTupleObject : function(oResultSet, axis,
								tupleIndex, dimensionName, memberName) {
							var loInternalResultSet = oResultSet
									.getInternalObject();
							var loInternalAxis;
							var loInternalTuple;
							var loInternalTupleElement;
							var lDimensionMemberName;
							var ltMemberNameSplit;
							var lTupleIndex;
							var ltDimensionMemberNameSplit;
							var loInternalDimension;
							var ltTupleElements;
							var lTupleElementIndex;
							if (loInternalResultSet === null) {
								return null;
							}
							if (axis === null
									|| (axis !== sap.firefly.AxisType.ROWS && axis !== sap.firefly.AxisType.COLUMNS)) {
								return null;
							}
							loInternalAxis = loInternalResultSet.getAxis(axis);
							if (loInternalAxis === null) {
								return null;
							}
							loInternalTuple = null;
							loInternalTupleElement = null;
							lDimensionMemberName = null;
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(memberName)) {
								ltMemberNameSplit = sap.firefly.XStringTokenizer
										.splitString(memberName, "/");
								memberName = ltMemberNameSplit
										.get(ltMemberNameSplit.size() - 1);
								for (lTupleIndex = 0; lTupleIndex < loInternalAxis
										.getTuplesCount(); lTupleIndex++) {
									loInternalTuple = sap.zen.TupleWrapper
											.sRetrieveInternalTupleObject(
													oResultSet, axis,
													lTupleIndex);
									if (loInternalTuple === null) {
										continue;
									}
									ltDimensionMemberNameSplit = null;
									if (sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(dimensionName)) {
										loInternalDimension = loInternalTuple
												.getAxis().getQueryModel()
												.getDimensionByName(
														dimensionName);
										loInternalTupleElement = loInternalTuple
												.getElementByDimension(loInternalDimension);
										lDimensionMemberName = loInternalTupleElement
												.getDimensionMember().getName();
										ltDimensionMemberNameSplit = sap.firefly.XStringTokenizer
												.splitString(
														lDimensionMemberName,
														".");
										if (ltDimensionMemberNameSplit.size() > 1) {
											lDimensionMemberName = ltDimensionMemberNameSplit
													.get(ltDimensionMemberNameSplit
															.size() - 1);
											lDimensionMemberName = sap.firefly.XString
													.substring(
															lDimensionMemberName,
															1,
															sap.firefly.XString
																	.size(lDimensionMemberName) - 1);
										}
										if (sap.firefly.XString.isEqual(
												memberName,
												lDimensionMemberName)) {
											return loInternalTuple;
										}
									} else {
										ltTupleElements = loInternalTuple
												.getElements();
										for (lTupleElementIndex = 0; lTupleElementIndex < ltTupleElements
												.size(); lTupleElementIndex++) {
											loInternalTupleElement = ltTupleElements
													.get(lTupleElementIndex);
											if (loInternalTupleElement === null) {
												continue;
											}
											lDimensionMemberName = loInternalTupleElement
													.getDimensionMember()
													.getName();
											ltDimensionMemberNameSplit = sap.firefly.XStringTokenizer
													.splitString(
															lDimensionMemberName,
															".");
											if (ltDimensionMemberNameSplit
													.size() > 1) {
												lDimensionMemberName = ltDimensionMemberNameSplit
														.get(ltDimensionMemberNameSplit
																.size() - 1);
												lDimensionMemberName = sap.firefly.XString
														.substring(
																lDimensionMemberName,
																1,
																sap.firefly.XString
																		.size(lDimensionMemberName) - 1);
											}
											if (sap.firefly.XString.isEqual(
													memberName,
													lDimensionMemberName)) {
												return loInternalTuple;
											}
										}
									}
								}
							} else {
								loInternalTuple = sap.zen.TupleWrapper
										.sRetrieveInternalTupleObject(
												oResultSet, axis, tupleIndex);
							}
							return loInternalTuple;
						},
						sRetrieveInternalTupleObject : function(oResultSet,
								axis, tupleIndex) {
							var lTupleIndex = tupleIndex;
							var loServerPaging = oResultSet.getServerPaging();
							var loAxisServerPaging;
							var lOffsetFrom;
							var lOffsetTo;
							var loInternalResultSet;
							var loInternalTuple;
							if (loServerPaging.isPagingActive()) {
								loAxisServerPaging = null;
								loAxisServerPaging = loServerPaging
										.getAxisPaging(axis);
								if (loAxisServerPaging !== null) {
									lOffsetFrom = loAxisServerPaging
											.getOffset();
									lOffsetTo = lOffsetFrom
											+ loAxisServerPaging.getSize() - 1;
									if (tupleIndex < lOffsetFrom
											|| tupleIndex > lOffsetTo) {
										lOffsetFrom = tupleIndex;
										loAxisServerPaging
												.setPage(
														lOffsetFrom,
														sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
									}
									lTupleIndex = lTupleIndex - lOffsetFrom;
								}
							}
							loInternalResultSet = oResultSet
									.getInternalObject();
							if (loInternalResultSet === null
									|| loInternalResultSet.getAxis(axis)
											.getTuplesCount() <= lTupleIndex) {
								return null;
							}
							loInternalTuple = loInternalResultSet.getAxis(axis)
									.getTupleByIndex(lTupleIndex);
							return loInternalTuple;
						},
						create : function(oResultSet, axis, tupleIndex,
								oDimension, memberName) {
							var loInstance = null;
							var lDimensionName = null;
							var loInternalTuple;
							if (oDimension !== null) {
								lDimensionName = oDimension.getName();
							}
							loInternalTuple = sap.zen.TupleWrapper
									.sGetTupleObject(oResultSet, axis,
											tupleIndex, lDimensionName,
											memberName);
							if (loInternalTuple !== null) {
								loInstance = new sap.zen.TupleWrapper();
								loInstance.initMe(oResultSet, loInternalTuple);
							}
							return loInstance;
						}
					},
					oResultSet : null,
					axis : null,
					tupleIndex : 0,
					tTupleElements : null,
					initMe : function(oResultSet, oInternalTuple) {
						var loServerPaging;
						this.oResultSet = oResultSet;
						this.axis = oInternalTuple.getAxis().getType();
						this.tupleIndex = oInternalTuple.getAxisIndex();
						this.tTupleElements = sap.firefly.XListOfNameObject
								.create();
						loServerPaging = this.oResultSet.getServerPaging();
						if (loServerPaging.isPagingActive()) {
							this.tupleIndex = this.tupleIndex
									+ loServerPaging.getAxisPaging(this.axis)
											.getOffset();
						}
					},
					getDataSource : function() {
						return this.oResultSet.getDataSource();
					},
					getResultSet : function() {
						return this.oResultSet;
					},
					getName : function() {
						return sap.zen.TupleWrapper.sGetName(this.oResultSet,
								this.axis, this.tupleIndex);
					},
					getAxis : function() {
						return this.axis;
					},
					getOtherAxis : function() {
						var loInternalTuple = this.getInternalObject();
						var loInternalAxis;
						if (loInternalTuple === null) {
							return null;
						}
						loInternalAxis = loInternalTuple.getAxis();
						if (loInternalAxis === null) {
							return null;
						}
						if (loInternalAxis.getType() === sap.firefly.AxisType.COLUMNS) {
							return sap.firefly.AxisType.ROWS;
						}
						return sap.firefly.AxisType.COLUMNS;
					},
					getIndex : function() {
						return this.tupleIndex;
					},
					isTotal : function() {
						var lTupleElementIndex;
						var loTupleElement;
						for (lTupleElementIndex = 0; lTupleElementIndex < this
								.getAmountOfTupleElements(); lTupleElementIndex++) {
							loTupleElement = this.getTupleElement(
									lTupleElementIndex, null);
							if (loTupleElement === null) {
								continue;
							}
							if (loTupleElement.isTotal(false)) {
								return true;
							}
						}
						return false;
					},
					getAmountOfTupleElements : function() {
						var loInternalTuple = this.getInternalObject();
						if (loInternalTuple !== null) {
							return loInternalTuple.size();
						}
						return 0;
					},
					getTupleElement : function(tupleElementIndex, oDimension) {
						var loInternalTuple = this.getInternalObject();
						var loTupleElement;
						var ltTupleElements;
						var lTupleElementIndex;
						var lKey;
						if (loInternalTuple === null) {
							return null;
						}
						loTupleElement = null;
						if (oDimension !== null) {
							ltTupleElements = this.tTupleElements
									.getValuesAsReadOnlyList();
							for (lTupleElementIndex = 0; lTupleElementIndex < ltTupleElements
									.size(); lTupleElementIndex++) {
								loTupleElement = ltTupleElements
										.get(lTupleElementIndex);
								if (loTupleElement === null) {
									continue;
								}
								if (sap.firefly.XString.isEqual(loTupleElement
										.getDimension().getName(), oDimension
										.getName())) {
									return loTupleElement;
								}
							}
						} else {
							lKey = sap.zen.TupleElementWrapper.sGetName(this,
									tupleElementIndex);
							if (this.tTupleElements.containsKey(lKey)) {
								loTupleElement = this.tTupleElements
										.getByKey(lKey);
								return loTupleElement;
							}
						}
						loTupleElement = sap.zen.TupleElementWrapper.create(
								this, tupleElementIndex, oDimension);
						return loTupleElement;
					},
					getTupleElements : function() {
						var ltTupleElements = sap.firefly.XList.create();
						var loInternalTuple = this.getInternalObject();
						var lTupleElementIndex;
						var loTupleElement;
						if (loInternalTuple === null) {
							return ltTupleElements;
						}
						for (lTupleElementIndex = 0; lTupleElementIndex < this
								.getAmountOfTupleElements(); lTupleElementIndex++) {
							loTupleElement = this.getTupleElement(
									lTupleElementIndex, null);
							if (loTupleElement === null) {
								continue;
							}
							ltTupleElements.add(loTupleElement);
						}
						return ltTupleElements;
					},
					isEqualTo : function(other) {
						var loOtherTuple;
						if (other === null) {
							return false;
						}
						loOtherTuple = other;
						if (this.getDataSource().isEqualTo(
								loOtherTuple.getDataSource())
								&& this.axis.isEqualTo(loOtherTuple.getAxis())
								&& this.tupleIndex === loOtherTuple.getIndex()) {
							return true;
						}
						return false;
					},
					getInternalObject : function() {
						return sap.zen.TupleWrapper.sGetTupleObject(
								this.oResultSet, this.axis, this.tupleIndex,
								null, null);
					},
					releaseObject : function() {
						this.oResultSet = null;
						this.axis = null;
						this.tupleIndex = -1;
						this.releaseChildObjects();
						sap.zen.TupleWrapper.$superclass.releaseObject
								.call(this);
					},
					releaseChildObjects : function() {
						var loTupleElementIterator;
						var loTupleElement;
						if (this.tTupleElements !== null) {
							loTupleElementIterator = this.tTupleElements
									.getIterator();
							while (loTupleElementIterator.hasNext()) {
								loTupleElement = loTupleElementIterator.next();
								if (loTupleElement !== null) {
									loTupleElement.releaseObject();
								}
							}
							this.tTupleElements.releaseObject();
							this.tTupleElements = null;
						}
					},
					clone : function() {
						throw sap.firefly.XException
								.createUnsupportedOperationException();
					},
					toString : function() {
						var loObject = sap.firefly.PrStructure.create();
						var loJsonString = null;
						var loJsonBool = null;
						var loJsonInteger = null;
						loJsonString = sap.firefly.PrString.create();
						if (this.oResultSet.getDataSource() !== null) {
							loJsonString.setStringValue(this.oResultSet
									.getDataSource().getName());
						}
						loObject.setElementByName("DataSource", loJsonString);
						loJsonString = sap.firefly.PrString.create();
						if (this.getAxis() !== null) {
							loJsonString.setStringValue(this.getAxis()
									.getName());
						}
						loObject.setElementByName("Axis", loJsonString);
						loJsonInteger = sap.firefly.PrInteger.create();
						loJsonInteger.setIntegerValue(this.getIndex());
						loObject.setElementByName("Index", loJsonInteger);
						loJsonString = sap.firefly.PrString.create();
						if (this.getOtherAxis() !== null) {
							loJsonString.setStringValue(this.getOtherAxis()
									.getName());
						}
						loObject.setElementByName("OtherAxis", loJsonString);
						loJsonBool = sap.firefly.PrBoolean.create();
						loJsonBool.setBooleanValue(this.isTotal());
						loObject.setElementByName("IsTotal", loJsonBool);
						loJsonString = sap.firefly.PrString.create();
						if (this.tTupleElements !== null) {
							loJsonString.setStringValue(this.tTupleElements
									.toString());
						}
						loObject
								.setElementByName("TupleElements", loJsonString);
						return loObject.toString();
					}
				});
$Firefly.createClass("sap.zen.VariableProcessorIterator", sap.firefly.XObject,
		{
			$statics : {
				create : function(dataSources) {
					var iterator = new sap.zen.VariableProcessorIterator();
					iterator.actualVariableProcessor = null;
					iterator.lookForNext = true;
					if (dataSources !== null && dataSources.size() > 0) {
						iterator.dataSourcesIterator = dataSources
								.getIterator();
					} else {
						iterator.dataSourcesIterator = null;
					}
					return iterator;
				}
			},
			dataSourcesIterator : null,
			actualVariableProcessor : null,
			lookForNext : false,
			hasNext : function() {
				if (this.lookForNext) {
					this.actualVariableProcessor = this.getNext();
				}
				this.lookForNext = false;
				return this.actualVariableProcessor !== null;
			},
			next : function() {
				if (this.lookForNext) {
					this.actualVariableProcessor = this.getNext();
				}
				this.lookForNext = true;
				return this.actualVariableProcessor;
			},
			getNext : function() {
				var dataSource;
				var lQueryManager;
				var variableProcessor;
				while (this.dataSourcesIterator !== null
						&& this.dataSourcesIterator.hasNext()) {
					dataSource = this.dataSourcesIterator.next();
					lQueryManager = dataSource.getQueryManager();
					if (lQueryManager !== null) {
						variableProcessor = lQueryManager
								.getVariableProcessor();
						if (variableProcessor !== null) {
							if (variableProcessor.hasVariables()) {
								return sap.zen.DSNameVariableProcessorPair
										.create(dataSource.getId(),
												variableProcessor);
							}
						}
					}
				}
				return null;
			}
		});
$Firefly
		.createClass(
				"sap.zen.ProjectionDimension",
				sap.zen.Renderer,
				{
					$statics : {
						create : function(oJsonDataProjector,
								oProjectionInformation, oDimension) {
							var loInstance = new sap.zen.ProjectionDimension();
							loInstance.initMe(oJsonDataProjector,
									oProjectionInformation, oDimension);
							return loInstance;
						}
					},
					oJsonDataProjector : null,
					oProjectionInformation : null,
					oDimension : null,
					tProjectionMembers : null,
					initMe : function(oJsonDataProjector,
							oProjectionInformation, oDimension) {
						this.oJsonDataProjector = oJsonDataProjector;
						this.oProjectionInformation = oProjectionInformation;
						this.oDimension = oDimension;
						this.tProjectionMembers = sap.firefly.XListOfNameObject
								.create();
					},
					getName : function() {
						return this.oDimension.getName();
					},
					getDimension : function() {
						return this.oDimension;
					},
					addProjectionMember : function(oDimensionMember) {
						return this.addProjectionMemberInternal(null,
								oDimensionMember);
					},
					addProjectionMemberFromTupleElement : function(
							oTupleElement) {
						return this.addProjectionMemberInternal(oTupleElement,
								null);
					},
					addProjectionMemberInternal : function(oTupleElement,
							oDimensionMember) {
						var loDimensionMember = oDimensionMember;
						var loProjectionMember;
						if (oTupleElement !== null) {
							loDimensionMember = oTupleElement
									.getDimensionMember();
						}
						loProjectionMember = this.tProjectionMembers
								.getByKey(loDimensionMember.getName());
						if (loProjectionMember === null) {
							if (oTupleElement !== null) {
								loProjectionMember = sap.zen.ProjectionMember
										.createFromTupleElement(
												this.oJsonDataProjector,
												this.oProjectionInformation,
												oTupleElement,
												this.tProjectionMembers.size());
							} else {
								loProjectionMember = sap.zen.ProjectionMember
										.create(this.oJsonDataProjector,
												this.oProjectionInformation,
												oDimensionMember,
												this.tProjectionMembers.size());
							}
							this.tProjectionMembers.add(loProjectionMember);
						}
						return loProjectionMember;
					},
					getProjectionMember : function(index) {
						var ltProjectionMembers = this.tProjectionMembers
								.getValuesAsReadOnlyList();
						var lProjectionMemberIndex;
						var loProjectionMember;
						for (lProjectionMemberIndex = 0; lProjectionMemberIndex < ltProjectionMembers
								.size(); lProjectionMemberIndex++) {
							loProjectionMember = ltProjectionMembers
									.get(lProjectionMemberIndex);
							if (loProjectionMember === null) {
								continue;
							}
							if (loProjectionMember.getIndex() === index) {
								return loProjectionMember;
							}
						}
						return null;
					},
					render : function() {
						var lKey = this.oDimension.getName();
						var lAlignment;
						var ltProjectionMembers;
						var lProjectionMemberIndex;
						var loProjectionMember;
						if (this.oDimension.isMeasureStructure()) {
							lKey = "[Measures]";
						}
						this.oJsonDataProjector.oRenderSerializer.openJsonTag();
						this.oJsonDataProjector.oRenderSerializer.addAttribute(
								"key", lKey);
						this.oJsonDataProjector.oRenderSerializer.addAttribute(
								"text", this.oDimension.getText());
						if (this.oProjectionInformation !== null) {
							if (this.oProjectionInformation.isSwapAxes()) {
								this.oJsonDataProjector.oRenderSerializer
										.addAttribute(
												"axis",
												sap.firefly.XString
														.convertToUpperCase(this.oDimension
																.getOtherAxis()
																.getName()));
							} else {
								this.oJsonDataProjector.oRenderSerializer
										.addAttribute(
												"axis",
												sap.firefly.XString
														.convertToUpperCase(this.oDimension
																.getAxis()
																.getName()));
							}
						}
						this.oJsonDataProjector.oRenderSerializer
								.addIntegerAttribute("axis_index",
										this.oDimension.getIndexOnAxis());
						if (this.oDimension.isMeasureStructure()) {
							this.oJsonDataProjector.oRenderSerializer
									.addBooleanAttribute("containsMeasures",
											true);
						}
						if (this.oDimension.getProperties()
								.isHierarchyAssignedAndActive()) {
							this.oJsonDataProjector.oRenderSerializer
									.openTag("hierarchy");
							this.oJsonDataProjector.oRenderSerializer
									.addAttribute("key", this.oDimension
											.getProperties().getHierarchyKey());
							this.oJsonDataProjector.oRenderSerializer
									.addAttribute("text", this.oDimension
											.getProperties().getHierarchyText());
							lAlignment = this.oDimension.getProperties()
									.getHierarchyAlignment();
							if (sap.firefly.Alignment.CHILDREN_ABOVE_PARENT
									.isEqualTo(lAlignment)) {
								this.oJsonDataProjector.oRenderSerializer
										.addAttribute("nodeAlignment", "bottom");
							} else {
								if (sap.firefly.Alignment.CHILDREN_BELOW_PARENT
										.isEqualTo(lAlignment)) {
									this.oJsonDataProjector.oRenderSerializer
											.addAttribute("nodeAlignment",
													"top");
								}
							}
							this.oJsonDataProjector.oRenderSerializer
									.closeTag();
						}
						this.oJsonDataProjector.oRenderSerializer
								.openArray("members");
						ltProjectionMembers = this.tProjectionMembers
								.getValuesAsReadOnlyList();
						for (lProjectionMemberIndex = 0; lProjectionMemberIndex < ltProjectionMembers
								.size(); lProjectionMemberIndex++) {
							loProjectionMember = ltProjectionMembers
									.get(lProjectionMemberIndex);
							if (loProjectionMember === null) {
								continue;
							}
							loProjectionMember.render();
						}
						this.oJsonDataProjector.oRenderSerializer.closeArray();
						this.oJsonDataProjector.oRenderSerializer
								.closeJsonTag();
					},
					renderIndexFromSelection : function(tProjectionInstances) {
						var loProjectionInstance = tProjectionInstances
								.getByKey(this.oDimension.getName());
						var lProjectionString;
						var ltProjectionStrings;
						var i;
						if (loProjectionInstance !== null
								&& loProjectionInstance.isString()) {
							lProjectionString = loProjectionInstance
									.getProjectionString();
							this
									.renderEntryforIndexFromSelection(lProjectionString
											.getStringValue());
						} else {
							if (loProjectionInstance !== null
									&& loProjectionInstance.isList()) {
								this.oJsonDataProjector.oRenderSerializer
										.openJsonArray();
								ltProjectionStrings = loProjectionInstance
										.getProjectionStrings();
								for (i = 0; i < ltProjectionStrings.size(); i++) {
									this
											.renderEntryforIndexFromSelection(ltProjectionStrings
													.get(i));
								}
								this.oJsonDataProjector.oRenderSerializer
										.closeJsonArray();
							} else {
								this.oJsonDataProjector.oRenderSerializer
										.addIntegerToArray(sap.firefly.XIntegerValue
												.create(-1));
							}
						}
					},
					renderEntryforIndexFromSelection : function(
							projectionString) {
						var ltProjectionMembers = this.tProjectionMembers
								.getValuesAsReadOnlyList();
						var lProjectionMemberIndex;
						var loProjectionMember;
						var loDimensionMember;
						for (lProjectionMemberIndex = 0; lProjectionMemberIndex < ltProjectionMembers
								.size(); lProjectionMemberIndex++) {
							loProjectionMember = ltProjectionMembers
									.get(lProjectionMemberIndex);
							if (loProjectionMember === null) {
								continue;
							}
							loDimensionMember = loProjectionMember
									.getDimensionMember();
							if ((loDimensionMember.isTotal() && sap.firefly.XString
									.isEqual(projectionString,
											"(RESULT_MEMBER)"))
									|| sap.firefly.XString.isEqual(
											projectionString, loDimensionMember
													.getName())) {
								this.oJsonDataProjector.oRenderSerializer
										.addIntegerToArray(sap.firefly.XIntegerValue
												.create(loProjectionMember
														.getIndex()));
								return;
							}
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.ProjectionMember",
				sap.zen.Renderer,
				{
					$statics : {
						create : function(oJsonDataProjector,
								oProjectionInformation, oDimensionMember, index) {
							var loInstance = new sap.zen.ProjectionMember();
							loInstance.initMe(oJsonDataProjector,
									oProjectionInformation, null,
									oDimensionMember, index);
							return loInstance;
						},
						createFromTupleElement : function(oJsonDataProjector,
								oProjectionInformation, oTupleElement, index) {
							var loInstance = new sap.zen.ProjectionMember();
							loInstance.initMe(oJsonDataProjector,
									oProjectionInformation, oTupleElement,
									null, index);
							return loInstance;
						}
					},
					oJsonDataProjector : null,
					oProjectionInformation : null,
					oTupleElement : null,
					oDimensionMember : null,
					index : 0,
					oSampleCell : null,
					initMe : function(oJsonDataProjector,
							oProjectionInformation, oTupleElement,
							oDimensionMember, index) {
						this.oJsonDataProjector = oJsonDataProjector;
						this.oProjectionInformation = oProjectionInformation;
						this.oTupleElement = oTupleElement;
						this.oDimensionMember = oDimensionMember;
						this.index = index;
						this.oSampleCell = null;
						if (this.oTupleElement !== null) {
							this.oDimensionMember = this.oTupleElement
									.getDimensionMember();
						}
					},
					getName : function() {
						return this.oDimensionMember.getName();
					},
					getDimensionMember : function() {
						return this.oDimensionMember;
					},
					getIndex : function() {
						return this.index;
					},
					configurePotentialSampleCell : function(
							oPotentialSampleCell) {
						if (this.oSampleCell === null) {
							if (oPotentialSampleCell.isValueValid()) {
								this.oSampleCell = oPotentialSampleCell;
							}
						}
					},
					render : function() {
						var loInternalDimensionMember = this.oDimensionMember
								.getInternalObject();
						var lKey = this.oDimensionMember.getName();
						var lText = this.oDimensionMember.getText();
						var lMemberType = loInternalDimensionMember
								.getMemberType();
						var lMemberTypeName = sap.firefly.XString
								.convertToUpperCase(lMemberType.toString());
						var lDisplayLevel;
						var loInternalTupleElement;
						if (sap.firefly.MemberType.RESULT
								.isEqualTo(lMemberType)) {
							lMemberTypeName = "RESULT";
							lKey = "Result";
						}
						this.oJsonDataProjector.oRenderSerializer.openJsonTag();
						this.oJsonDataProjector.oRenderSerializer.addAttribute(
								"key", lKey);
						if (lText !== null) {
							this.oJsonDataProjector.oRenderSerializer
									.addAttribute("text", lText);
						} else {
							this.oJsonDataProjector.oRenderSerializer
									.addNullAttribute("text");
						}
						if (!sap.firefly.MemberType.MEMBER
								.isEqualTo(lMemberType)) {
							this.oJsonDataProjector.oRenderSerializer
									.addAttribute("type", lMemberTypeName);
						}
						this.renderMeasureSpecifics();
						if (this.oTupleElement !== null) {
							if (!this.oTupleElement.isLeaf()) {
								this.oJsonDataProjector.oRenderSerializer
										.addAttribute(
												"nodeState",
												sap.firefly.XString
														.convertToUpperCase(this.oTupleElement
																.getDrillState()
																.toString()));
							}
							lDisplayLevel = this.oTupleElement
									.getDisplayLevel();
							if (lDisplayLevel !== 0) {
								this.oJsonDataProjector.oRenderSerializer
										.addIntegerAttribute("level",
												lDisplayLevel);
							}
							if (this.oDimensionMember.getDimension()
									.getProperties()
									.isHierarchyAssignedAndActive()) {
								loInternalTupleElement = this.oTupleElement
										.getInternalObject();
								if (loInternalTupleElement.getParentNode() !== null) {
									this.oJsonDataProjector.oRenderSerializer
											.addAttribute(
													"parent",
													loInternalTupleElement
															.getParentNode()
															.getDimensionMember()
															.getName());
								}
							}
						}
						this.oJsonDataProjector.oRenderSerializer
								.closeJsonTag();
					},
					renderMeasureSpecifics : function() {
						var lUniformCurrencyUnit;
						var lHasUniformCurrencyUnit;
						var lHasUniformFormat;
						var lDecimals;
						var lHasUniformScalingFactor;
						var lScalingFactor;
						var lCurrencyUnit;
						var lFormatString;
						if (this.oSampleCell !== null) {
							lUniformCurrencyUnit = sap.zen.ResultSetWrapper
									.sGetUniformCurrencyUnit(this.oSampleCell,
											null);
							lHasUniformCurrencyUnit = false;
							if (lUniformCurrencyUnit !== null) {
								lHasUniformCurrencyUnit = true;
							}
							lHasUniformFormat = false;
							lDecimals = sap.zen.ResultSetWrapper
									.sGetUniformDecimals(this.oSampleCell, null);
							if (lDecimals !== sap.zen.ResultDataCellWrapper.NO_DECIMALS) {
								lHasUniformFormat = true;
							}
							lHasUniformScalingFactor = false;
							lScalingFactor = sap.zen.ResultSetWrapper
									.sGetUniformScalingFactor(this.oSampleCell,
											null);
							if (lScalingFactor !== sap.zen.ResultDataCellWrapper.NO_SCALING_FACTOR) {
								lHasUniformScalingFactor = true;
							}
							if (lHasUniformCurrencyUnit) {
								lCurrencyUnit = null;
								if (lUniformCurrencyUnit !== null) {
									lHasUniformCurrencyUnit = true;
									lCurrencyUnit = lUniformCurrencyUnit
											.getPrefix();
									if (sap.firefly.XStringUtils
											.isNullOrEmpty(lCurrencyUnit)) {
										lCurrencyUnit = lUniformCurrencyUnit
												.getSuffix();
									}
									if (sap.firefly.XStringUtils
											.isNullOrEmpty(lCurrencyUnit)) {
										lCurrencyUnit = lUniformCurrencyUnit
												.getFormatted();
									}
								}
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(lCurrencyUnit)) {
									this.oJsonDataProjector.oRenderSerializer
											.addAttribute("unitOfMeasure",
													lCurrencyUnit);
								}
							}
							if (lHasUniformFormat) {
								lFormatString = this.oSampleCell
										.getNumberFormatString(true,
												lHasUniformCurrencyUnit);
								this.oJsonDataProjector.oRenderSerializer
										.addAttribute("formatString",
												lFormatString);
							}
							if (lHasUniformScalingFactor) {
								this.oJsonDataProjector.oRenderSerializer
										.addAttribute(
												"scalingFactor",
												sap.firefly.XInteger
														.convertIntegerToString(lScalingFactor));
							}
						}
					}
				});
$Firefly.createClass("sap.zen.RendererWithDimensions", sap.zen.Renderer, {
	oJsonDataProjector : null,
	oProjectionInformation : null,
	tProjectionDimensions : null,
	initMe : function(oJsonDataProjector, oProjectionInformation,
			tProjectionDimensions) {
		this.oJsonDataProjector = oJsonDataProjector;
		this.oProjectionInformation = oProjectionInformation;
		this.tProjectionDimensions = tProjectionDimensions;
	},
	addDimension : function(oDimension) {
		var loProjectionDimension = this.tProjectionDimensions
				.getByKey(oDimension.getName());
		if (loProjectionDimension === null) {
			loProjectionDimension = sap.zen.ProjectionDimension.create(
					this.oJsonDataProjector, this.oProjectionInformation,
					oDimension);
			this.tProjectionDimensions.add(loProjectionDimension);
		}
		return loProjectionDimension;
	},
	addTupleEntries : function(oTuple, tTupleElementIndexes, offset) {
		var lTupleElementIndex;
		var loTupleElement;
		var loProjectionDimension;
		var loProjectionMember;
		if (oTuple === null) {
			return;
		}
		for (lTupleElementIndex = 0; lTupleElementIndex < oTuple
				.getAmountOfTupleElements(); lTupleElementIndex++) {
			loTupleElement = oTuple.getTupleElement(lTupleElementIndex, null);
			loProjectionDimension = this.addDimension(loTupleElement
					.getDimension());
			loProjectionMember = loProjectionDimension
					.addProjectionMemberFromTupleElement(loTupleElement);
			tTupleElementIndexes.set(lTupleElementIndex + offset,
					sap.firefly.XIntegerValue.create(loProjectionMember
							.getIndex()));
		}
	}
});
$Firefly.createClass("sap.zen.GlobalScriptsComponentFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.GlobalScriptsControl();
			}
		});
$Firefly
		.createClass(
				"sap.zen.BookmarkRequestHandler",
				sap.firefly.XObject,
				{
					BOOKMARKSET_PARAM : null,
					CLIENT_PARAM : null,
					CLIENT_NUMBER : null,
					EXPAND_DATA_PARAM : null,
					SEARCH_BY_REFERENCE_PARAM : null,
					SEARCH_BY_REFERENCES_EX_PARAM : null,
					DELETE_BY_REFERENCE_PARAM : null,
					BOOKMARK_TYPE_PARAM : null,
					TLOGOS : null,
					OBJECT_IDS : null,
					INCLUDEOWNED : null,
					ISGLOBAL : null,
					GROUPID : null,
					EXACTMATCH : null,
					rootNode : null,
					bmId : null,
					allBmIds : null,
					allBms : null,
					bm : null,
					application : null,
					csrfToken : null,
					localHost : null,
					url : null,
					bwMode : false,
					initParams : function(client) {
						this.BOOKMARKSET_PARAM = "BookmarkSet";
						this.CLIENT_PARAM = "?sap-client=";
						this.CLIENT_NUMBER = client;
						this.EXPAND_DATA_PARAM = "&$expand=Data";
						this.SEARCH_BY_REFERENCE_PARAM = "searchByReferenceSubset?";
						this.SEARCH_BY_REFERENCES_EX_PARAM = "searchByReferencesEx?";
						this.DELETE_BY_REFERENCE_PARAM = "deleteByReferenceSubset?";
						this.BOOKMARK_TYPE_PARAM = "BookmarkType='_BOOKMARKTYPE'";
						this.TLOGOS = "&Tlogos='_TLOGOS'";
						this.OBJECT_IDS = "&ObjectIds='_OBJECTID'";
						this.ISGLOBAL = "&IncludePublic=_ISGLOBAL";
						this.INCLUDEOWNED = "&IncludeOwned=_INCLUDEOWNED";
						this.GROUPID = "&GroupIdentifier='_GROUPID'";
						this.EXACTMATCH = "&ExactMatch=_EXACTMATCH";
					},
					initBase : function(localHost, url) {
						this.application = localHost.getApplication();
						this.localHost = localHost;
						this.url = url;
						this.initParams(localHost.getClient());
					},
					callGetBookmarkXmlRequest : function(bmId) {
						var requestUrl = sap.firefly.XString.concatenate2(
								this.BOOKMARKSET_PARAM, "('");
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, bmId);
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, "')");
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, this.CLIENT_PARAM);
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, this.CLIENT_NUMBER);
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, this.EXPAND_DATA_PARAM);
						requestUrl = sap.firefly.XString.concatenate2(this.url,
								requestUrl);
						if (this.bm !== null) {
							this.bm.clear();
						}
						this.getRequestRpc(requestUrl);
						return this.bm;
					},
					callSaveBookmarkRequest : function(bookmarkXmlToPost) {
						var postUrl = sap.firefly.XString.concatenate2(
								this.BOOKMARKSET_PARAM, this.CLIENT_PARAM);
						postUrl = sap.firefly.XString.concatenate2(postUrl,
								this.CLIENT_NUMBER);
						postUrl = sap.firefly.XString.concatenate2(this.url,
								postUrl);
						this.postRequestRpc(postUrl, bookmarkXmlToPost);
						return this.bmId;
					},
					callDeleteBookmarkRequest : function(bookmarkId) {
						var requestUrl = sap.firefly.XString.concatenate2(
								this.BOOKMARKSET_PARAM, "('");
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, bookmarkId);
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, "')");
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, this.CLIENT_PARAM);
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, this.CLIENT_NUMBER);
						requestUrl = sap.firefly.XString.concatenate2(this.url,
								requestUrl);
						this.deleteRequest(requestUrl);
					},
					callDeleteAllBookmarksRequest : function(appName,
							bookmarkType) {
						var requestUrl = sap.firefly.XString.concatenate2(
								this.DELETE_BY_REFERENCE_PARAM,
								sap.firefly.XString.replace(
										this.BOOKMARK_TYPE_PARAM,
										"_BOOKMARKTYPE", bookmarkType));
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, sap.firefly.XString.replace(
										this.TLOGOS, "_TLOGOS", "AZAP"));
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, sap.firefly.XString.replace(
										this.OBJECT_IDS, "_OBJECTID", appName));
						requestUrl = sap.firefly.XString.concatenate2(this.url,
								requestUrl);
						this.getRequestRpc(requestUrl);
					},
					callGetAllBookmarksXmlRequest : function(appName,
							bookmarkType, groupIdentifier, queries, mode) {
						var requestUrl;
						var objectIds;
						var i;
						if (groupIdentifier === null) {
							requestUrl = sap.firefly.XString.concatenate2(
									this.SEARCH_BY_REFERENCE_PARAM,
									sap.firefly.XString.replace(
											this.BOOKMARK_TYPE_PARAM,
											"_BOOKMARKTYPE", bookmarkType));
						} else {
							requestUrl = sap.firefly.XString.concatenate2(
									this.SEARCH_BY_REFERENCES_EX_PARAM,
									sap.firefly.XString.replace(
											this.BOOKMARK_TYPE_PARAM,
											"_BOOKMARKTYPE", bookmarkType));
							requestUrl = sap.firefly.XString.concatenate2(
									requestUrl, sap.firefly.XString.replace(
											this.GROUPID, "_GROUPID",
											groupIdentifier));
							requestUrl = sap.firefly.XString.concatenate2(
									requestUrl, sap.firefly.XString.replace(
											this.EXACTMATCH, "_EXACTMATCH",
											"false"));
						}
						objectIds = "";
						if (queries.size() > 0) {
							requestUrl = sap.firefly.XString.concatenate2(
									requestUrl, sap.firefly.XString
											.replace(this.TLOGOS, "_TLOGOS",
													"AZAP,ELEM"));
							for (i = 0; i < queries.size(); i++) {
								objectIds = sap.firefly.XString.concatenate2(
										objectIds, ",");
								objectIds = sap.firefly.XString.concatenate2(
										objectIds, queries.get(i).toString());
							}
						} else {
							requestUrl = sap.firefly.XString.concatenate2(
									requestUrl, sap.firefly.XString.replace(
											this.TLOGOS, "_TLOGOS", "AZAP"));
						}
						objectIds = sap.firefly.XString.concatenate2(appName,
								objectIds);
						requestUrl = sap.firefly.XString.concatenate2(
								requestUrl, sap.firefly.XString
										.replace(this.OBJECT_IDS, "_OBJECTID",
												objectIds));
						if (sap.firefly.XString.compare(mode.getValue(),
								"GET_ALL") === 0) {
							requestUrl = sap.firefly.XString
									.concatenate2(requestUrl,
											sap.firefly.XString.replace(
													this.ISGLOBAL, "_ISGLOBAL",
													"true"));
							requestUrl = sap.firefly.XString.concatenate2(
									requestUrl, sap.firefly.XString.replace(
											this.INCLUDEOWNED, "_INCLUDEOWNED",
											"true"));
						} else {
							if (sap.firefly.XString.compare(mode.getValue(),
									"GET_USER") === 0) {
								requestUrl = sap.firefly.XString.concatenate2(
										requestUrl, sap.firefly.XString
												.replace(this.ISGLOBAL,
														"_ISGLOBAL", "false"));
								requestUrl = sap.firefly.XString.concatenate2(
										requestUrl,
										sap.firefly.XString.replace(
												this.INCLUDEOWNED,
												"_INCLUDEOWNED", "true"));
							} else {
								if (sap.firefly.XString.compare(
										mode.getValue(), "GET_GLOBAL") === 0) {
									requestUrl = sap.firefly.XString
											.concatenate2(
													requestUrl,
													sap.firefly.XString
															.replace(
																	this.ISGLOBAL,
																	"_ISGLOBAL",
																	"true"));
									requestUrl = sap.firefly.XString
											.concatenate2(
													requestUrl,
													sap.firefly.XString
															.replace(
																	this.INCLUDEOWNED,
																	"_INCLUDEOWNED",
																	"false"));
								}
							}
						}
						requestUrl = sap.firefly.XString.concatenate2(this.url,
								requestUrl);
						this.getRequestRpc(requestUrl);
						return this.allBms;
					},
					getRequest : function(url) {
						var httpClient = sap.firefly.HttpClientFactory
								.newInstanceByProtocol(this.application
										.getSession(), this.localHost
										.getProtocolType());
						var request = httpClient.getRequest();
						var processHttpRequest;
						request.setConnectionInfo(this.localHost);
						request.setPath(url);
						request
								.setMethod(sap.firefly.HttpRequestMethod.HTTP_GET);
						request
								.setAcceptContentType(sap.firefly.HttpContentType.APPLICATION_XML);
						request.setTextContentEncoding("UTF-8");
						processHttpRequest = httpClient.processHttpRequest(
								sap.firefly.SyncType.BLOCKING, this, null);
						return this.rootNode;
					},
					getRequestRpc : function(url) {
						var connection = this.application.getConnectionPool()
								.getConnection(this.getSelf().getName());
						var rpcFunction = connection.newRpcFunction(url);
						var request = rpcFunction.getRequest();
						var processRpcRequest;
						request
								.setMethod(sap.firefly.HttpRequestMethod.HTTP_GET);
						processRpcRequest = rpcFunction
								.processFunctionExecution(
										sap.firefly.SyncType.BLOCKING, this,
										null);
						return this.rootNode;
					},
					getCsrfToken : function() {
						var httpClient = sap.firefly.HttpClientFactory
								.newInstanceByProtocol(this.application
										.getSession(), this.localHost
										.getProtocolType());
						var request = httpClient.getRequest();
						var processHttpRequest;
						request.setConnectionInfo(this.localHost);
						request.setPath(this.url);
						request
								.setMethod(sap.firefly.HttpRequestMethod.HTTP_GET);
						request.addHeaderLine("X-CSRF-Token: Fetch");
						processHttpRequest = httpClient.processHttpRequest(
								sap.firefly.SyncType.BLOCKING, this, null);
						return this.csrfToken;
					},
					postRequest : function(url, bookmarkXmlToPost) {
						var httpClient;
						var request;
						var processHttpRequest;
						this.getCsrfToken();
						httpClient = sap.firefly.HttpClientFactory
								.newInstanceByProtocol(this.application
										.getSession(), this.localHost
										.getProtocolType());
						request = httpClient.getRequest();
						request.setConnectionInfo(this.localHost);
						request.setPath(url);
						request
								.setMethod(sap.firefly.HttpRequestMethod.HTTP_POST);
						request.addHeaderLine(sap.firefly.XString.concatenate2(
								"X-CSRF-Token: ", this.csrfToken));
						request.setBinaryContent(sap.firefly.XByteArray
								.convertStringToXByteArray(bookmarkXmlToPost));
						request.setTextContentEncoding("UTF-8");
						processHttpRequest = httpClient.processHttpRequest(
								sap.firefly.SyncType.BLOCKING, this, null);
						return this.bmId;
					},
					postRequestRpc : function(url, bookmarkXmlToPost) {
						var connection = this.application.getConnectionPool()
								.getConnection(this.getSelf().getName());
						var rpcFunction = connection.newRpcFunction(url);
						var request = rpcFunction.getRequest();
						var processRpcRequest;
						request
								.setMethod(sap.firefly.HttpRequestMethod.HTTP_POST);
						request.setRequestStructure(bookmarkXmlToPost);
						request
								.setAcceptContentType(sap.firefly.HttpContentType.APPLICATION_JSON);
						processRpcRequest = rpcFunction
								.processFunctionExecution(
										sap.firefly.SyncType.BLOCKING, this,
										null);
						return this.bmId;
					},
					deleteRequest : function(url) {
						var connection = this.application.getConnectionPool()
								.getConnection(this.getSelf().getName());
						var rpcFunction = connection.newRpcFunction(url);
						var request = rpcFunction.getRequest();
						request
								.setMethod(sap.firefly.HttpRequestMethod.HTTP_DELETE);
						rpcFunction.processFunctionExecution(
								sap.firefly.SyncType.BLOCKING, this, null);
					},
					onHttpResponse : function(extResult, response,
							customIdentifier) {
						var content;
						var rootNode;
						var bookmarkSetNode;
						var bookmarkDataNode;
						var dataProperty;
						var dataNodeText;
						var decoded;
						var mpropertiesNode;
						var titleProperty;
						var ownerProperty;
						var allBookmarksNode;
						var allBookmarksNodeEntries;
						var mpropertiesNode2;
						var i;
						var mpropertiesNode2String;
						var mpropertiesNode2XString;
						if (extResult.hasErrors() === false) {
							content = response.getStringContent();
							this.rootNode = sap.buddha.XXmlUtils
									.getRootNode(content);
							if (this.bwMode) {
								rootNode = sap.buddha.XXmlUtils
										.getRootNode(content);
								if (rootNode !== null) {
									bookmarkSetNode = rootNode
											.getFirstChildWithAttributeValue(
													"title", "type", "text",
													false);
									if (sap.firefly.XString.containsString(
											bookmarkSetNode.getText(),
											"BookmarkSet('")) {
										bookmarkDataNode = rootNode
												.getFirstChildWithAttributeValue(
														"link", "title",
														"Data", false);
										if (this.bm === null) {
											this.bm = sap.firefly.XArray
													.create(3);
										} else {
											this.bm.clear();
										}
										if (bookmarkDataNode !== null) {
											dataProperty = bookmarkDataNode
													.getFirstChildWithAttributeValue(
															"d:Data", null,
															null, true);
											if (dataProperty !== null) {
												dataNodeText = dataProperty
														.getText();
												decoded = sap.firefly.XByteArray
														.convertXByteArrayToString(sap.firefly.XHttpUtils
																.decodeBase64ToByteArray(dataNodeText));
												if (decoded !== null) {
													this.bm
															.set(
																	2,
																	sap.firefly.XStringValue
																			.create(decoded));
												}
											}
										}
										mpropertiesNode = rootNode
												.getFirstChildWithAttributeValue(
														"content", "type",
														"application/xml",
														false);
										if (mpropertiesNode !== null) {
											titleProperty = mpropertiesNode
													.getFirstChildWithAttributeValue(
															"d:Title", null,
															null, true);
											if (titleProperty !== null) {
												this.bm
														.set(
																0,
																sap.firefly.XStringValue
																		.create(titleProperty
																				.getText()));
											}
											ownerProperty = mpropertiesNode
													.getFirstChildWithAttributeValue(
															"d:Owner", null,
															null, true);
											if (ownerProperty !== null) {
												this.bm
														.set(
																1,
																sap.firefly.XStringValue
																		.create(ownerProperty
																				.getText()));
											}
										}
									} else {
										if (rootNode
												.getFirstChildWithAttributeValue(
														"title", "type",
														"text", false) !== null) {
											allBookmarksNode = (rootNode
													.getFirstChildWithAttributeValue(
															"title", "type",
															"text", false));
											if (sap.firefly.XString.isEqual(
													allBookmarksNode.getText(),
													"BookmarkSet")) {
												if (this.allBmIds === null) {
													this.allBmIds = sap.firefly.XList
															.create();
												}
												if (!this.allBmIds.isEmpty()) {
													this.allBmIds.clear();
												}
												allBookmarksNodeEntries = rootNode
														.getChildrenWoBiNameSpace("entry");
												for (i = 0; i < allBookmarksNodeEntries
														.size(); i++) {
													mpropertiesNode2 = allBookmarksNodeEntries
															.get(i)
															.getFirstChildWithAttributeValue(
																	"m:properties",
																	null, null,
																	true);
													mpropertiesNode2String = mpropertiesNode2
															.getFirstChildWithAttributeValue(
																	"d:Id",
																	null, null,
																	true)
															.getText();
													mpropertiesNode2XString = sap.firefly.XStringValue
															.create(mpropertiesNode2String);
													this.allBmIds
															.add(mpropertiesNode2XString);
												}
											}
										}
									}
								}
							}
						}
					},
					onFunctionExecuted : function(extResult, response,
							customIdentifier) {
						var responseStr;
						var jsonParser;
						var jsonElement;
						var bookmarkResponse;
						var d;
						var results;
						var resultsSize;
						var i;
						var currentBookmark;
						var bookmarkId;
						var bookmarkUserid;
						var bookmarkName;
						var bookmarkReadOnly;
						var bookmarkGlobal;
						var bookmarkGroupId;
						var currentBM;
						var data;
						var bookmarkData;
						var decoded;
						var title;
						var owner;
						if (extResult.hasErrors() === false
								&& response.getRootElement() !== null) {
							responseStr = response.toString();
							jsonParser = sap.firefly.JsonParserFactory
									.newInstance();
							jsonElement = jsonParser.parse(responseStr);
							if (jsonParser.hasErrors()) {
								throw sap.firefly.XException
										.createRuntimeException(jsonParser
												.getSummary());
							}
							if (jsonElement !== null) {
								if (jsonElement.getType() !== sap.firefly.PrElementType.STRUCTURE) {
									throw sap.firefly.XException
											.createRuntimeException("JSON string is not a structure");
								}
								bookmarkResponse = jsonElement.getPermaCopy()
										.asStructure();
								if (bookmarkResponse !== null) {
									if (bookmarkResponse.hasValueByName("d")) {
										d = bookmarkResponse
												.getStructureByName("d");
										if (d.hasValueByName("results")) {
											if (this.allBms === null) {
												this.allBms = sap.firefly.XHashMapByString
														.create();
											}
											if (!this.allBms.isEmpty()) {
												this.allBms.clear();
											}
											results = d
													.getListByName("results");
											if (results !== null) {
												resultsSize = results.size();
												for (i = 0; i < resultsSize; i++) {
													currentBookmark = results
															.getStructureByIndex(i);
													bookmarkId = currentBookmark
															.getStringByName("Id");
													bookmarkUserid = currentBookmark
															.getStringByNameWithDefault(
																	"Owner", "");
													bookmarkName = currentBookmark
															.getStringByNameWithDefault(
																	"Title", "");
													bookmarkReadOnly = currentBookmark
															.getBooleanByNameWithDefault(
																	"IsReadOnly",
																	false);
													bookmarkGlobal = currentBookmark
															.getBooleanByNameWithDefault(
																	"IsPublic",
																	false);
													bookmarkGroupId = currentBookmark
															.getStringByNameWithDefault(
																	"GroupIdentifier",
																	"");
													currentBM = new sap.zen.Bookmark();
													currentBM.initMe2(
															bookmarkName,
															bookmarkUserid, "",
															bookmarkId,
															bookmarkGroupId,
															bookmarkGlobal,
															bookmarkReadOnly);
													this.allBms.put(bookmarkId,
															currentBM);
												}
											}
										} else {
											if (d.hasValueByName("Data")) {
												try {
													data = d
															.getStructureByName("Data");
												} catch (e) {
													return;
												}
												bookmarkData = null;
												if (data.isStructure()) {
													bookmarkData = data
															.getStringByNameWithDefault(
																	"Data", "");
												}
												if (sap.firefly.XStringUtils
														.isNullOrEmpty(bookmarkData)) {
													this.bmId = d
															.getStringByNameWithDefault(
																	"Id", "");
												} else {
													if (this.bm === null) {
														this.bm = sap.firefly.XArray
																.create(3);
													} else {
														this.bm.clear();
													}
													decoded = sap.firefly.XByteArray
															.convertXByteArrayToString(sap.firefly.XHttpUtils
																	.decodeBase64ToByteArray(bookmarkData));
													if (decoded !== null) {
														this.bm
																.set(
																		2,
																		sap.firefly.XStringValue
																				.create(decoded));
													}
													title = d
															.getStringByName("Title");
													if (title !== null) {
														this.bm
																.set(
																		0,
																		sap.firefly.XStringValue
																				.create(title));
													} else {
														this.bm
																.set(
																		0,
																		sap.firefly.XStringValue
																				.create(""));
													}
													owner = d
															.getStringByName("Owner");
													if (owner !== null) {
														this.bm
																.set(
																		1,
																		sap.firefly.XStringValue
																				.create(owner));
													}
												}
											}
										}
									}
								}
							}
						}
					},
					initBaseBW : function(systemDescription) {
						var url = "/sap/opu/odata/sap/RSAO_ODATA_SRV";
						var systemAlias = systemDescription
								.getProperties()
								.getStringByNameWithDefault("systemAlias", null);
						var inFix = "";
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(systemAlias)) {
							inFix = sap.firefly.XStringUtils.concatenate2(
									";o=", systemAlias);
						}
						url = sap.firefly.XStringUtils.concatenate3(url, inFix,
								"/");
						this.url = url;
						this.localHost = systemDescription;
						this.bwMode = true;
						this.application = systemDescription.getApplication();
						this.initParams(systemDescription.getClient());
					},
					initBaseHanaRemote : function(systemDescription, biappName) {
						var url = "/sap/opu/odata/sap/RSAO_ODATA_SRV/";
						this.url = url;
						this.localHost = systemDescription;
						this.bwMode = true;
						this.application = systemDescription.getApplication();
						this.initParams(systemDescription.getClient());
					},
					toString : function() {
						return "";
					},
					getResourceBundleContent : function(url) {
						return "";
					},
					getSelf : function() {
						return this.localHost;
					}
				});
$Firefly
		.createClass(
				"sap.zen.GetBookmarksMode",
				sap.zen.XEnum,
				{
					$statics : {
						GETBOOKMARKSMODE : null,
						GET_ALL : null,
						GET_USER : null,
						GET_GLOBAL : null,
						staticSetup : function() {
							sap.zen.GetBookmarksMode.GETBOOKMARKSMODE = "GETBOOKMARKSMODE";
							sap.zen.GetBookmarksMode.GET_ALL = sap.zen.GetBookmarksMode
									.create("GET_ALL");
							sap.zen.GetBookmarksMode.GET_USER = sap.zen.GetBookmarksMode
									.create("GET_USER");
							sap.zen.GetBookmarksMode.GET_GLOBAL = sap.zen.GetBookmarksMode
									.create("GET_GLOBAL");
						},
						create : function(value) {
							var xEnum = new sap.zen.GetBookmarksMode();
							xEnum.setValue(value);
							return xEnum;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.GetBookmarksMode.GETBOOKMARKSMODE,
									value);
						}
					},
					equals : function(type) {
						return (sap.firefly.XString.compare(this.getValue(),
								type.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.GetBookmarksMode.GETBOOKMARKSMODE;
					}
				});
$Firefly
		.createClass(
				"sap.zen.LocalizationText",
				sap.zen.XEnum,
				{
					$statics : {
						sGetEnumObject : function(oEnum, value) {
							return sap.zen.XEnum.valueOf(oEnum.getEnumType(),
									value);
						},
						defaultLocalizationPrefix : "com.sap.zen.firefly.impl.",
						sAddTrailingTripleDotsToText : function(text) {
							var lcTripleDots = "...";
							if (sap.firefly.XString
									.endsWith(text, lcTripleDots)) {
								return text;
							}
							return sap.firefly.XStringUtils.concatenate2(text,
									lcTripleDots);
						},
						sConvertSeverityToMessageType : function(severity) {
							var lMessageType = null;
							if (severity === sap.firefly.Severity.ERROR) {
								lMessageType = sap.zen.ItemMessageType.ERROR;
							} else {
								if (severity === sap.firefly.Severity.WARNING) {
									lMessageType = sap.zen.ItemMessageType.WARNING;
								} else {
									if (severity === sap.firefly.Severity.INFO) {
										lMessageType = sap.zen.ItemMessageType.INFO;
									} else {
										lMessageType = sap.zen.ItemMessageType.ERROR;
									}
								}
							}
							return lMessageType;
						},
						sAddUnspecifiedMessageToComponent : function(
								oComponent, severity, message) {
							var loItemMessage = sap.zen.ItemMessage
									.create(
											message,
											sap.zen.LocalizationText
													.sConvertSeverityToMessageType(severity));
							oComponent.setItemMessage(loItemMessage);
						},
						sAddMessagesToComponent : function(oComponent,
								tMessages) {
							var lMessageIndex;
							var loMessage;
							if (tMessages === null || tMessages.size() <= 0) {
								return;
							}
							for (lMessageIndex = 0; lMessageIndex < tMessages
									.size(); lMessageIndex++) {
								loMessage = tMessages.get(lMessageIndex);
								if (loMessage === null) {
									continue;
								}
								sap.zen.LocalizationText
										.sAddUnspecifiedMessageToComponent(
												oComponent, loMessage
														.getSeverity(),
												loMessage.getText());
							}
						}
					},
					defaultText : null,
					initMe : function(id, defaultText) {
						this.setValue(id);
						this.defaultText = defaultText;
					},
					getId : function() {
						return this.getValue();
					},
					getEnumType : function() {
						return this.getLocalizationPrefix();
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationText.defaultLocalizationPrefix;
					},
					getLocalizationKey : function(oLocalization) {
						var lKey;
						if (oLocalization === null) {
							return null;
						}
						lKey = null;
						lKey = sap.firefly.XStringUtils
								.concatenate2(
										sap.zen.LocalizationText.defaultLocalizationPrefix,
										this.getId());
						if (oLocalization.hasText(lKey)) {
							return lKey;
						}
						if (sap.firefly.XString
								.isEqual(
										sap.zen.LocalizationText.defaultLocalizationPrefix,
										this.getLocalizationPrefix())) {
							return lKey;
						}
						lKey = sap.firefly.XStringUtils.concatenate2(this
								.getLocalizationPrefix(), this.getId());
						if (oLocalization.hasText(lKey)) {
							return lKey;
						}
						return lKey;
					},
					checkText : function(text, arg1, arg2, arg3) {
						if (text === null
								|| sap.firefly.XString.startsWith(text,
										"MissingResource")) {
							text = this.defaultText;
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(arg1)) {
								text = sap.firefly.XString.replace(text, "{0}",
										arg1);
							}
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(arg2)) {
								text = sap.firefly.XString.replace(text, "{1}",
										arg2);
							}
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(arg3)) {
								text = sap.firefly.XString.replace(text, "{2}",
										arg3);
							}
						}
					},
					getText : function(oLocalization, arg1, arg2, arg3) {
						var lText = null;
						var lKey;
						if (oLocalization !== null) {
							lKey = this.getLocalizationKey(oLocalization);
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(arg3)) {
								lText = oLocalization.getText3(lKey, arg1,
										arg2, arg3);
							} else {
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(arg2)) {
									lText = oLocalization.getText2(lKey, arg1,
											arg2);
								} else {
									if (sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(arg1)) {
										lText = oLocalization.getText1(lKey,
												arg1);
									} else {
										lText = oLocalization.getText(lKey);
									}
								}
							}
							if (sap.firefly.XString.isEqual(lKey, lText)) {
								lText = this.defaultText;
							}
							this.checkText(lText, arg1, arg2, arg3);
						}
						return lText;
					},
					getTextWithTripleDots : function(oLocalization, arg1, arg2,
							arg3) {
						var lText = null;
						lText = this.getText(oLocalization, arg1, arg2, arg3);
						lText = sap.zen.LocalizationText
								.sAddTrailingTripleDotsToText(lText);
						return lText;
					},
					addMessageToMessageHandler : function(oMessageWriter,
							severity, arg1, arg2, arg3) {
						var loMessage = sap.firefly.XMessage.createMessage(
								sap.firefly.OriginLayer.APPLICATION, severity,
								0, this.getText(oMessageWriter
										.getLocalization(), arg1, arg2, arg3),
								null, false, null);
						oMessageWriter.createMessage(loMessage);
					},
					addMessageToComponent : function(oComponent, severity,
							arg1, arg2, arg3) {
						var loItemMessage = sap.zen.ItemMessage
								.create(
										this.getText(oComponent.getPage()
												.getLocalization(), arg1, arg2,
												arg3),
										sap.zen.LocalizationText
												.sConvertSeverityToMessageType(severity));
						oComponent.setItemMessage(loItemMessage);
					}
				});
$Firefly
		.createClass(
				"sap.zen.PlaceHolderType",
				sap.zen.XEnum,
				{
					$statics : {
						PLACEHOLDERTYPE : null,
						STRING : null,
						BOOLEAN : null,
						DOUBLE : null,
						INTEGER : null,
						staticSetup : function() {
							sap.zen.PlaceHolderType.PLACEHOLDERTYPE = "PLACEHOLDERTYPE";
							sap.zen.PlaceHolderType.STRING = sap.zen.PlaceHolderType
									.create("STRING");
							sap.zen.PlaceHolderType.INTEGER = sap.zen.PlaceHolderType
									.create("INTEGER");
							sap.zen.PlaceHolderType.DOUBLE = sap.zen.PlaceHolderType
									.create("DOUBLE");
							sap.zen.PlaceHolderType.BOOLEAN = sap.zen.PlaceHolderType
									.create("BOOLEAN");
						},
						create : function(value) {
							var xEnum = new sap.zen.PlaceHolderType();
							xEnum.setValue(value);
							return xEnum;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.PlaceHolderType.PLACEHOLDERTYPE,
									value);
						}
					},
					equals : function(type) {
						return (sap.firefly.XString.compare(this.getValue(),
								type.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.PlaceHolderType.PLACEHOLDERTYPE;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ZBackendServices",
				sap.firefly.XObject,
				{
					systemDescription : null,
					content : null,
					response : null,
					ishanaSystem : function() {
						var systemType = this.systemDescription.getSystemType();
						var isHana = systemType
								.isTypeOf(sap.firefly.SystemType.HANA);
						return isHana;
					},
					create : function(messageWriter) {
						var serviceConfig = sap.firefly.OlapApiModule.SERVICE_TYPE_OLAP_CATALOG
								.createServiceConfig(this.systemDescription
										.getApplication());
						var extResult;
						var olapCatalogManager;
						serviceConfig.setSystemName(this.systemDescription
								.getName());
						extResult = serviceConfig
								.processOlapCatalogManagerCreation(
										sap.firefly.SyncType.BLOCKING, null,
										null);
						messageWriter.createMessages(extResult);
						olapCatalogManager = extResult.getData();
						return olapCatalogManager;
					},
					getQueries : function(olapCatalogManager, filter,
							messageWriter, planningModels) {
						var processGetResult;
						var result;
						olapCatalogManager.setResultMaxSize(10);
						olapCatalogManager.setResultOffset(0);
						if (this.ishanaSystem()) {
							if (planningModels) {
								olapCatalogManager
										.setSelectedType(sap.firefly.MetaObjectType.PLANNING);
							} else {
								olapCatalogManager
										.setSelectedType(sap.firefly.MetaObjectType.DBVIEW);
							}
						} else {
							olapCatalogManager
									.setSelectedType(sap.firefly.MetaObjectType.QUERY);
						}
						olapCatalogManager.setSearchOnName(true);
						olapCatalogManager.setSearchFilter(filter);
						processGetResult = olapCatalogManager.processGetResult(
								sap.firefly.SyncType.BLOCKING, null, null);
						messageWriter.createMessages(processGetResult);
						result = processGetResult.getData();
						return result;
					},
					getApplications : function(messageWriter) {
						var list = sap.firefly.XList.create();
						var httpClient = sap.firefly.HttpClientFactory
								.newInstanceByProtocol(this.systemDescription
										.getApplication().getSession(),
										this.systemDescription
												.getProtocolType());
						var request = httpClient.getRequest();
						var processHttpRequest;
						var response;
						var content;
						var splitString;
						var i;
						var appName;
						var techName;
						var description;
						var member;
						var processHttpRequest2;
						var response2;
						var content2;
						var node;
						var entriesNodes;
						var i2;
						var entryNode;
						var contentNode;
						var propertiesNode;
						var techNameNode;
						var descrNode;
						var techName2;
						var description2;
						var member2;
						request.setConnectionInfo(this.systemDescription);
						request
								.setMethod(sap.firefly.HttpRequestMethod.HTTP_GET);
						if (this.ishanaSystem()) {
							request
									.setAcceptContentType(sap.firefly.HttpContentType.TEXT_PLAIN);
							request.setTextContentEncoding("UTF-8");
							request
									.setPath("/sap/bi/aas/rt/repo.xsjs?api=listAppNames");
							processHttpRequest = httpClient.processHttpRequest(
									sap.firefly.SyncType.BLOCKING, null, null);
							messageWriter.createMessages(processHttpRequest);
							response = processHttpRequest.getData();
							if (processHttpRequest.hasErrors() === false) {
								content = response.getStringContent();
								splitString = sap.firefly.XStringTokenizer
										.splitString(content, "\n");
								for (i = 0; i < splitString.size(); i++) {
									appName = splitString.get(i);
									techName = appName;
									description = appName;
									member = new sap.zen.Member();
									member.doInit(techName, description);
									list.add(member);
								}
							}
						} else {
							request
									.setAcceptContentType(sap.firefly.HttpContentType.APPLICATION_XML);
							request.setTextContentEncoding("UTF-8");
							request
									.setPath("/sap/opu/odata/sap/RSAO_ODATA_SRV/BiApplicationSet");
							processHttpRequest2 = httpClient
									.processHttpRequest(
											sap.firefly.SyncType.BLOCKING,
											null, null);
							messageWriter.createMessages(processHttpRequest2);
							response2 = processHttpRequest2.getData();
							if (processHttpRequest2.hasErrors() === false) {
								content2 = response2.getStringContent();
								node = sap.buddha.XXmlUtils
										.getRootNode(content2);
								entriesNodes = node
										.getChildrenWoBiNameSpace("entry");
								for (i2 = 0; i2 < entriesNodes.size(); i2++) {
									entryNode = entriesNodes.get(i2);
									contentNode = entryNode
											.getFirstChildWoBiNameSpace("content");
									propertiesNode = contentNode
											.getFirstChildWoBiNameSpace("m:properties");
									techNameNode = propertiesNode
											.getFirstChildWoBiNameSpace("d:Techname");
									descrNode = propertiesNode
											.getFirstChildWoBiNameSpace("d:Descr");
									techName2 = techNameNode.getText();
									description2 = descrNode.getText();
									member2 = new sap.zen.Member();
									member2.doInit(techName2, description2);
									list.add(member2);
								}
							}
						}
						return list;
					},
					getMimes : function(messageWriter, applicationName) {
						var list = sap.firefly.XList.create();
						var httpClient = sap.firefly.HttpClientFactory
								.newInstanceByProtocol(this.systemDescription
										.getApplication().getSession(),
										this.systemDescription
												.getProtocolType());
						var request = httpClient.getRequest();
						var processHttpRequest;
						var response;
						var content;
						var splitString;
						var i;
						var appName;
						var techName;
						var description;
						var member;
						request.setConnectionInfo(this.systemDescription);
						request
								.setMethod(sap.firefly.HttpRequestMethod.HTTP_GET);
						if (this.ishanaSystem()) {
							request
									.setAcceptContentType(sap.firefly.HttpContentType.TEXT_PLAIN);
							request.setTextContentEncoding("UTF-8");
							request
									.setPath(sap.firefly.XString
											.concatenate2(
													"/sap/bi/aas/rt/repo.xsjs?api=getMimes&app=",
													applicationName));
							processHttpRequest = httpClient.processHttpRequest(
									sap.firefly.SyncType.BLOCKING, null, null);
							messageWriter.createMessages(processHttpRequest);
							response = processHttpRequest.getData();
							if (processHttpRequest.hasErrors() === false) {
								content = response.getStringContent();
								splitString = sap.firefly.XStringTokenizer
										.splitString(content, "\n");
								for (i = 0; i < splitString.size(); i++) {
									appName = splitString.get(i);
									techName = appName;
									description = appName;
									member = new sap.zen.Member();
									member.doInit(techName, description);
									list.add(member);
								}
							}
						}
						return list;
					},
					addProperty : function(sb, name, value) {
						sb.append(name);
						sb.append("=");
						sb.append(value);
						sb.appendNewLine();
					},
					downloadApplication : function(page, applicationName) {
						var zip = this.getApplicationAsZip(page,
								applicationName);
						zip.saveZip(sap.firefly.XString.concatenate2(
								applicationName, ".zip"));
						return true;
					},
					getApplicationAsZip : function(page, applicationName) {
						var zip = page.createNewZip();
						var stringBuffer = sap.firefly.XStringBuffer.create();
						var contentAsString;
						var application;
						var mimes;
						var i;
						var mime;
						var value;
						var path;
						var loader;
						var loadMime;
						stringBuffer.append(sap.firefly.XString.concatenate2(
								"#", sap.firefly.XDateTime.createDateTime()
										.toIsoFormat()));
						this.addProperty(stringBuffer,
								"Application-Ui5MainMode", sap.firefly.XBoolean
										.convertBooleanToString(true));
						this.addProperty(stringBuffer, "Runtime-Version", page
								.getInfo().runtimeVersion);
						this.addProperty(stringBuffer, "Platform-Version",
								"1580");
						this
								.addProperty(stringBuffer, "Platform-Id",
										"com.sap.ip.bi.zen.connectivity.netweaverfirefly");
						this.addProperty(stringBuffer,
								"Application-LastModifiedBy", "unknown");
						this.addProperty(stringBuffer, "Application-CreatedOn",
								"");
						this.addProperty(stringBuffer,
								"Application-Description", "");
						this.addProperty(stringBuffer,
								"Application-PromptValue", "");
						this.addProperty(stringBuffer, "Platform-User",
								this.systemDescription.getUser());
						this
								.addProperty(stringBuffer, "Platform-Name",
										"Local");
						this.addProperty(stringBuffer,
								"Application-LastModifiedOn", "");
						this.addProperty(stringBuffer,
								"Application-ExportedOn", "");
						this.addProperty(stringBuffer,
								"Application-HasStandardDataSources", "");
						this.addProperty(stringBuffer,
								"Application-DataSources", "");
						this.addProperty(stringBuffer,
								"Application-TechnicalName", applicationName);
						this.addProperty(stringBuffer, "Application-Version",
								"1580");
						this.addProperty(stringBuffer, "Application-Name",
								applicationName);
						this.addProperty(stringBuffer, "Platform-Host",
								this.systemDescription.getHost());
						contentAsString = stringBuffer.toString();
						zip.saveStringToFile("export.properties",
								contentAsString);
						if (this.ishanaSystem()) {
							application = this.systemDescription
									.getApplication();
							mimes = this.getMimes(page, applicationName);
							for (i = 0; i < mimes.size(); i++) {
								mime = mimes.get(i);
								value = mime.getValue();
								if ((value !== null)
										&& sap.firefly.XString.size(value) > 0) {
									path = this.systemDescription
											.getProtocolType().getName();
									path = sap.firefly.XStringUtils
											.concatenate2(path, "://");
									path = sap.firefly.XStringUtils
											.concatenate2(path,
													this.systemDescription
															.getHost());
									path = sap.firefly.XStringUtils
											.concatenate3(
													path,
													":",
													sap.firefly.XInteger
															.convertIntegerToString(this.systemDescription
																	.getPort()));
									path = sap.firefly.XStringUtils
											.concatenate5(path,
													"/designstudio/",
													applicationName, "/", value);
									loader = new sap.buddha.XJSAndCSSLoader();
									loadMime = loader.loadMime(path);
									zip.saveToFile(value, loadMime);
								}
							}
						} else {
							contentAsString = page.getTemplateLoader()
									.getContentAsString();
							zip.saveStringToFile("content.biapp",
									contentAsString);
						}
						return zip;
					},
					onHttpResponse : function(extResult, response,
							customIdentifier) {
						if (extResult.hasErrors() === false) {
							this.response = response;
						}
					},
					setSystem : function(systemDescription) {
						this.systemDescription = systemDescription;
					}
				});
$Firefly.createClass("sap.zen.PlanningFunctionFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ZPlanningFunction();
			}
		});
$Firefly.createClass("sap.zen.PlanningSequenceFactory",
		sap.zen.PageObjectFactory, {
			createObject : function(objectProperties) {
				return new sap.zen.ZPlanningSequence();
			}
		});
$Firefly.createClass("sap.zen.BuddhaModule", sap.firefly.DfModule, {
	$statics : {
		XS_SERVICE_ZEN_APP : "SERVICE.ZEN_APP",
		XS_SERVICE_CONFIG_ZEN_APP : "SERVICE_CONFIG.ZEN_APP",
		SERVICE_TYPE_ZEN_APP : null,
		s_module : null,
		getInstance : function() {
			var buddhaModule;
			if (sap.zen.BuddhaModule.s_module === null) {
				buddhaModule = new sap.zen.BuddhaModule();
				sap.zen.BuddhaModule.s_module = buddhaModule;
				buddhaModule.setup();
			}
			return sap.zen.BuddhaModule.s_module;
		}
	},
	setup : function() {
		var loRegistrationService = sap.firefly.RegistrationService
				.getInstance();
		sap.zen.BuddhaModule.SERVICE_TYPE_ZEN_APP = sap.firefly.ServiceType
				.create(sap.zen.BuddhaModule.XS_SERVICE_ZEN_APP,
						sap.zen.BuddhaModule.XS_SERVICE_CONFIG_ZEN_APP);
		sap.zen.ZenTemplateServiceConfig.staticSetup();
		sap.zen.ZenTemplateService.staticSetup();
		sap.zen.MemberPresentation.staticSetup();
		sap.zen.MemberDisplay.staticSetup();
		sap.zen.ItemMessageType.staticSetup();
		sap.zen.ChartType.staticSetup();
		sap.zen.LegendPosition.staticSetup();
		sap.zen.Layout.staticSetup();
		sap.zen.DataSourceType.staticSetup();
		sap.zen.ChartAxisScaling.staticSetup();
		sap.zen.PlaceHolderType.staticSetup();
		sap.zen.PageObject.staticSetup();
		sap.zen.ZAxisType.staticSetup();
		sap.zen.DataSourceScriptApiUtils.staticSetup();
		sap.zen.TotalsDisplay.staticSetup();
		sap.zen.ExportType.staticSetup();
		sap.zen.ZNavigationPanelMode.staticSetup();
		sap.zen.CLocalizationAbsoluteLayoutMessages.staticSetup();
		sap.zen.CLocalizationCommandResolverMessages.staticSetup();
		sap.zen.CLocalizationBookmarkMessages.staticSetup();
		loRegistrationService.addReference(
				sap.zen.BuddhaModule.XS_SERVICE_CONFIG_ZEN_APP,
				sap.zen.ZenTemplateServiceConfig.CLAZZ);
		loRegistrationService.addReference(
				sap.zen.BuddhaModule.XS_SERVICE_ZEN_APP,
				sap.zen.ZenTemplateService.CLAZZ);
	}
});
$Firefly.createClass("sap.zen.KeyValueObject", sap.firefly.XObject, {
	key : null,
	value : null,
	doInit : function(key, value) {
		this.key = key;
		this.value = value;
	},
	getKey : function() {
		return this.key;
	},
	getValue : function() {
		return this.value;
	},
	compareTo : function(objectToCompare) {
		var otherKeyValueObject;
		var compare;
		if (objectToCompare === null) {
			return -1;
		}
		if (objectToCompare === this) {
			return 0;
		}
		otherKeyValueObject = objectToCompare;
		compare = sap.firefly.XString.compare(this.getValue(),
				otherKeyValueObject.getValue());
		if (compare === 0) {
			compare = sap.firefly.XString.compare(this.getKey(),
					otherKeyValueObject.getKey());
		}
		return compare;
	}
});
$Firefly.createClass("sap.zen.Member", sap.firefly.XObject, {
	key : null,
	value : null,
	doInit : function(key, value) {
		this.key = key;
		this.value = value;
	},
	getKey : function() {
		return this.key;
	},
	getValue : function() {
		return this.value;
	},
	getAttachedObject : function() {
		return null;
	}
});
$Firefly
		.createClass(
				"sap.zen.MemberList",
				sap.firefly.XObject,
				{
					allMembers : null,
					allMembersIterator : null,
					maxNumber : 0,
					allMemberText : null,
					currentNumber : 0,
					memDisp : null,
					keyPres : null,
					next : function() {
						var member = new sap.zen.Member();
						var lDimensionMember;
						var text;
						var key2;
						var key;
						var value;
						if (this.currentNumber === 0
								&& this.allMemberText !== null) {
							member.doInit("", this.allMemberText);
						} else {
							lDimensionMember = this.allMembersIterator.next();
							text = lDimensionMember.getText();
							key2 = lDimensionMember.getKeyFieldValue(false);
							key = null;
							if (sap.firefly.XString.isEqual("TEXT",
									this.keyPres)) {
								key = text;
							} else {
								if (sap.firefly.XString.isEqual("EXTERNAL_KEY",
										this.keyPres)) {
									key = key2;
								} else {
									if (sap.firefly.XString.isEqual(
											"INTERNAL_KEY", this.keyPres)) {
										key = key2;
									} else {
										if (sap.firefly.XString.isEqual(
												"EXTERNAL_NONCOMPOUNDED_KEY",
												this.keyPres)) {
											key = key2;
										} else {
											if (sap.firefly.XString
													.isEqual(
															"INTERNAL_NONCOMPOUNDED_KEY",
															this.keyPres)) {
												key = key2;
											} else {
												key = key2;
											}
										}
									}
								}
							}
							if (key === null) {
								key = lDimensionMember.getName();
							}
							if (key === null) {
								key = "";
							}
							value = "";
							if (sap.firefly.XString.isEqual("TEXT",
									this.memDisp)) {
								value = text;
							} else {
								if (sap.firefly.XString.isEqual("KEY",
										this.memDisp)) {
									value = key2;
								} else {
									if (sap.firefly.XString.isEqual("KEY_TEXT",
											this.memDisp)) {
										value = sap.firefly.XStringUtils
												.concatenate3(key2, " - ", text);
									} else {
										if (sap.firefly.XString.isEqual(
												"TEXT_KEY", this.memDisp)) {
											value = sap.firefly.XStringUtils
													.concatenate3(text, " - ",
															key2);
										}
									}
								}
							}
							if (value === null) {
								value = lDimensionMember.getName();
							}
							member.doInit(key, value);
						}
						this.currentNumber++;
						return member;
					},
					hasNext : function() {
						return (this.allMembersIterator.hasNext() && this.maxNumber > this.currentNumber);
					},
					getMemberByKey : function(key) {
						return null;
					},
					reset : function() {
					},
					doInit : function(allMembers, visibleFields, maxNumber,
							allMemberText, keyPres, memDisp) {
						this.allMembers = allMembers;
						this.allMembersIterator = this.allMembers.getIterator();
						this.maxNumber = maxNumber;
						this.allMemberText = allMemberText;
						this.keyPres = keyPres;
						this.memDisp = memDisp;
					}
				});
$Firefly
		.createClass(
				"sap.zen.CXpDSExportLayout",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "EXPORT_LAYOUT",
						SHEETS_GRID_FILTERS : null,
						SHEETS_GRID_FILTERS_VARIABLES : null,
						SHEETS_GRID_FILTERS_VARIABLES_INFO : null,
						SHEETS_GRID_INFO : null,
						SINGLE_SHEET_ALL : null,
						staticSetup : function() {
							if (sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS !== null) {
								return;
							}
							sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS = sap.zen.CXpDSExportLayout
									.create("SHEETS_GRID_FILTERS");
							sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS_VARIABLES = sap.zen.CXpDSExportLayout
									.create("SHEETS_GRID_FILTERS_VARIABLES");
							sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS_VARIABLES_INFO = sap.zen.CXpDSExportLayout
									.create("SHEETS_GRID_FILTERS_INFO");
							sap.zen.CXpDSExportLayout.SHEETS_GRID_INFO = sap.zen.CXpDSExportLayout
									.create("SHEETS_GRID_INFO");
							sap.zen.CXpDSExportLayout.SINGLE_SHEET_ALL = sap.zen.CXpDSExportLayout
									.create("SINGLE_SHEET_ALL");
						},
						create : function(value) {
							var loInstance = new sap.zen.CXpDSExportLayout();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.CXpDSExportLayout.ENUM_TYPE, value);
						}
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.CXpDSExportLayout.ENUM_TYPE;
					}
				});
$Firefly.createClass("sap.zen.CXpDSItem", sap.zen.XEnum,
		{
			$statics : {
				ENUM_TYPE : "DATASOURCE_ITEM",
				TECHNICAL_INFORMATION : null,
				VARIABLES : null,
				FILTERS : null,
				GRID : null,
				INFO : null,
				DATASOURCE : null,
				staticSetup : function() {
					if (sap.zen.CXpDSItem.TECHNICAL_INFORMATION !== null) {
						return;
					}
					sap.zen.CXpDSItem.TECHNICAL_INFORMATION = sap.zen.CXpDSItem
							.create("TECHNICAL_INFORMATION");
					sap.zen.CXpDSItem.VARIABLES = sap.zen.CXpDSItem
							.create("VARIABLES");
					sap.zen.CXpDSItem.FILTERS = sap.zen.CXpDSItem
							.create("FILTERS");
					sap.zen.CXpDSItem.GRID = sap.zen.CXpDSItem.create("GRID");
					sap.zen.CXpDSItem.INFO = sap.zen.CXpDSItem.create("INFO");
					sap.zen.CXpDSItem.DATASOURCE = sap.zen.CXpDSItem
							.create("DATASOURCE");
				},
				create : function(value) {
					var loInstance = new sap.zen.CXpDSItem();
					loInstance.setValue(value);
					return loInstance;
				},
				valueOf2 : function(value) {
					return sap.zen.XEnum.valueOf(sap.zen.CXpDSItem.ENUM_TYPE,
							value);
				}
			},
			equals : function(oEnum) {
				return (sap.firefly.XString.compare(this.getValue(), oEnum
						.getValue()) === 0);
			},
			getEnumType : function() {
				return sap.zen.CXpDSItem.ENUM_TYPE;
			}
		});
$Firefly
		.createClass(
				"sap.zen.CXpDSTechInfo",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "TECHNICAL_INFORMATION",
						QUERY_NAME : null,
						QUERY_DESCRIPTION : null,
						INFOPROVIDER_NAME : null,
						INFOPROVIDER_DESCRIPTION : null,
						CREATED_BY : null,
						CREATED_ON : null,
						CHANGED_BY : null,
						CHANGED_ON : null,
						REFRESHED_BY : null,
						REFRESHED_ON : null,
						LAST_DATA_UPDATE : null,
						staticSetup : function() {
							if (sap.zen.CXpDSTechInfo.QUERY_NAME !== null) {
								return;
							}
							sap.zen.CXpDSTechInfo.QUERY_NAME = sap.zen.CXpDSTechInfo
									.create("QUERY_NAME", 1);
							sap.zen.CXpDSTechInfo.QUERY_DESCRIPTION = sap.zen.CXpDSTechInfo
									.create("QUERY_DESCRIPTION", 2);
							sap.zen.CXpDSTechInfo.INFOPROVIDER_NAME = sap.zen.CXpDSTechInfo
									.create("INFOPROVIDER_NAME", 4);
							sap.zen.CXpDSTechInfo.INFOPROVIDER_DESCRIPTION = sap.zen.CXpDSTechInfo
									.create(
											"CHANINFOPROVIDER_DESCRIPTIONGED_ON",
											8);
							sap.zen.CXpDSTechInfo.CREATED_BY = sap.zen.CXpDSTechInfo
									.create("CREATED_BY", 16);
							sap.zen.CXpDSTechInfo.CREATED_ON = sap.zen.CXpDSTechInfo
									.create("CREATED_ON", 32);
							sap.zen.CXpDSTechInfo.CHANGED_BY = sap.zen.CXpDSTechInfo
									.create("CHANGED_BY", 64);
							sap.zen.CXpDSTechInfo.CHANGED_ON = sap.zen.CXpDSTechInfo
									.create("CHANGED_ON", 128);
							sap.zen.CXpDSTechInfo.REFRESHED_BY = sap.zen.CXpDSTechInfo
									.create("REFRESHED_BY", 256);
							sap.zen.CXpDSTechInfo.REFRESHED_ON = sap.zen.CXpDSTechInfo
									.create("REFRESHED_ON", 512);
							sap.zen.CXpDSTechInfo.LAST_DATA_UPDATE = sap.zen.CXpDSTechInfo
									.create("LAST_DATA_UPDATE", 1024);
						},
						create : function(value, binaryValue) {
							var loInstance = new sap.zen.CXpDSTechInfo();
							var lValue = value;
							if (lValue === null) {
								lValue = sap.firefly.XInteger
										.convertIntegerToString(binaryValue);
							}
							loInstance.setValue(lValue);
							loInstance.setBinaryValue(binaryValue);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.CXpDSTechInfo.ENUM_TYPE, value);
						}
					},
					binaryValue : 0,
					setBinaryValue : function(binaryValue) {
						this.binaryValue = binaryValue;
					},
					getBinaryValue : function() {
						return this.binaryValue;
					},
					containsAny : function(object) {
						if (sap.firefly.XMath.binaryAnd(this.getBinaryValue(),
								object.getBinaryValue()) > 0) {
							return true;
						}
						return false;
					},
					containsAll : function(object) {
						if (sap.firefly.XMath.binaryAnd(this.getBinaryValue(),
								object.getBinaryValue()) === object
								.getBinaryValue()) {
							return true;
						}
						return false;
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.CXpDSTechInfo.ENUM_TYPE;
					}
				});
$Firefly
		.createClass(
				"sap.zen.COpenOfficeType",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "OPENOFFICE_TYPE",
						SHEETJS : null,
						SHEETJS_PROTOBI : null,
						staticSetup : function() {
							if (sap.zen.COpenOfficeType.SHEETJS !== null) {
								return;
							}
							sap.zen.COpenOfficeType.SHEETJS = sap.zen.COpenOfficeType
									.create("SHEETJS");
							sap.zen.COpenOfficeType.SHEETJS_PROTOBI = sap.zen.COpenOfficeType
									.create("SHEETJS_PROTOBI");
						},
						create : function(value) {
							var loInstance = new sap.zen.COpenOfficeType();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.COpenOfficeType.ENUM_TYPE, value);
						}
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.COpenOfficeType.ENUM_TYPE;
					}
				});
$Firefly
		.createClass(
				"sap.zen.CXpDataCellValueType",
				sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "CELL_VALUE_TYPE",
						STANDARD : null,
						NUMBER : null,
						DATE : null,
						TIME : null,
						TIMESTAMP : null,
						staticSetup : function() {
							if (sap.zen.CXpDataCellValueType.STANDARD !== null) {
								return;
							}
							sap.zen.CXpDataCellValueType.STANDARD = sap.zen.CXpDataCellValueType
									.create("STANDARD");
							sap.zen.CXpDataCellValueType.NUMBER = sap.zen.CXpDataCellValueType
									.create("NUMBER");
							sap.zen.CXpDataCellValueType.DATE = sap.zen.CXpDataCellValueType
									.create("DATE");
							sap.zen.CXpDataCellValueType.TIME = sap.zen.CXpDataCellValueType
									.create("TIME");
							sap.zen.CXpDataCellValueType.TIMESTAMP = sap.zen.CXpDataCellValueType
									.create("TIMESTAMP");
						},
						create : function(value) {
							var loInstance = new sap.zen.CXpDataCellValueType();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.CXpDataCellValueType.ENUM_TYPE,
									value);
						}
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.CXpDataCellValueType.ENUM_TYPE;
					}
				});
$Firefly
		.createClass("sap.zen.CXpStyle", sap.zen.XEnum,
				{
					$statics : {
						ENUM_TYPE : "STYLE_TYPE",
						NONE : null,
						STANDARD : null,
						GROUP : null,
						HEADER : null,
						TOTAL : null,
						staticSetup : function() {
							if (sap.zen.CXpStyle.NONE !== null) {
								return;
							}
							sap.zen.CXpStyle.NONE = sap.zen.CXpStyle
									.create("NONE");
							sap.zen.CXpStyle.STANDARD = sap.zen.CXpStyle
									.create("DEFAULT");
							sap.zen.CXpStyle.GROUP = sap.zen.CXpStyle
									.create("GROUP");
							sap.zen.CXpStyle.HEADER = sap.zen.CXpStyle
									.create("HEADER");
							sap.zen.CXpStyle.TOTAL = sap.zen.CXpStyle
									.create("TOTAL");
						},
						create : function(value) {
							var loInstance = new sap.zen.CXpStyle();
							loInstance.setValue(value);
							return loInstance;
						},
						valueOf2 : function(value) {
							return sap.zen.XEnum.valueOf(
									sap.zen.CXpStyle.ENUM_TYPE, value);
						}
					},
					equals : function(oEnum) {
						return (sap.firefly.XString.compare(this.getValue(),
								oEnum.getValue()) === 0);
					},
					getEnumType : function() {
						return sap.zen.CXpStyle.ENUM_TYPE;
					}
				});
$Firefly.createClass("sap.zen.XpCollection", sap.zen.XpObject, {
	tChildren : null,
	initMe : function(oParent) {
		sap.zen.XpCollection.$superclass.initMe.call(this, oParent);
		this.tChildren = sap.firefly.XHashMapByString.create();
	},
	getRows : function() {
		var lRows = 0;
		var i;
		var lObject;
		var lObjectRows;
		for (i = 0; i < this.getAmountOfChildren(); i++) {
			lObject = this.getChild(i);
			lObjectRows = lObject.getLayout().getRows();
			lRows = lRows + lObjectRows;
		}
		return lRows;
	},
	getColumns : function() {
		var lColumns = 0;
		var i;
		var lObject;
		var lObjectColumns;
		for (i = 0; i < this.getAmountOfChildren(); i++) {
			lObject = this.getChild(i);
			lObjectColumns = lObject.getLayout().getColumns();
			if (lObjectColumns > lColumns) {
				lColumns = lObjectColumns;
			}
		}
		return lColumns;
	},
	getAmountOfChildren : function() {
		return this.tChildren.size();
	},
	getChildren : function() {
		return this.tChildren;
	},
	getChild : function(index) {
		return this.tChildren.getValuesAsReadOnlyList().get(index);
	},
	getChildByKey : function(key) {
		return this.tChildren.getByKey(key);
	},
	addChild : function(oChild) {
		var lKey;
		if (oChild === null) {
			return;
		}
		(oChild).setParent(this);
		lKey = sap.firefly.XInteger.convertIntegerToString(this.tChildren
				.size());
		this.addChildByKey(lKey, oChild);
	},
	addChildByKey : function(key, oChild) {
		if (oChild === null
				|| oChild.getObjectType() === sap.zen.CXpObjectType.UNDEFINED
				|| oChild.getObjectType() === null) {
			return;
		}
		(oChild).setParent(this);
		this.tChildren.put(key, oChild);
	},
	removeChildren : function() {
		this.tChildren.clear();
	},
	removeChildByKey : function(key) {
		this.tChildren.remove(key);
	},
	releaseObject : function() {
		var loChildIterator;
		var loChild;
		sap.zen.XpCollection.$superclass.releaseObject.call(this);
		if (this.tChildren !== null) {
			loChildIterator = this.tChildren.getIterator();
			while (loChildIterator.hasNext()) {
				loChild = loChildIterator.next();
				loChild.releaseObject();
			}
			this.tChildren.clear();
		}
		this.tChildren = null;
	}
});
$Firefly.createClass("sap.zen.XpDataCell", sap.zen.XpObject, {
	$statics : {
		NO_FORMAT_STRING : ""
	},
	initMe : function(oParent) {
		sap.zen.XpDataCell.$superclass.initMe.call(this, oParent);
	},
	getObjectType : function() {
		return sap.zen.CXpObjectType.DATA_CELL;
	},
	getRowIndex : function() {
		return 0;
	},
	getColumnIndex : function() {
		return 0;
	},
	getRowSpan : function() {
		return 1;
	},
	getColumnSpan : function() {
		return 1;
	},
	getDataCellStyle : function() {
		return sap.zen.CXpStyle.STANDARD;
	},
	getValue : function() {
		return "";
	},
	getValueType : function() {
		return sap.firefly.XValueType.STRING;
	},
	getFormatString : function() {
		return sap.zen.XpDataCell.NO_FORMAT_STRING;
	},
	getFormattedValue : function() {
		return this.getValue();
	},
	provideNumberFormatString : function(thousandSeparator, decimalSeparator) {
		return sap.zen.XpDataCell.NO_FORMAT_STRING;
	},
	releaseObject : function() {
		sap.zen.XpDataCell.$superclass.releaseObject.call(this);
	}
});
$Firefly
		.createClass(
				"sap.zen.LocalizationAbsoluteLayout",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.components.abslayout.impl."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationAbsoluteLayout.LOCALIZATION_PREFIX;
					}
				});
$Firefly
		.createClass(
				"sap.zen.LocalizationActionSheet",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.components.actionsheet.impl."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationActionSheet.LOCALIZATION_PREFIX;
					}
				});
$Firefly
		.createClass(
				"sap.zen.LocalizationContextMenu",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.components.contextmenu.impl."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationContextMenu.LOCALIZATION_PREFIX;
					}
				});
$Firefly.createClass("sap.zen.LocalizationDialog", sap.zen.LocalizationText, {
	getLocalizationPrefix : function() {
		return sap.zen.LocalizationText.defaultLocalizationPrefix;
	}
});
$Firefly
		.createClass(
				"sap.zen.LocalizationFilterBar",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.components.filterbar.impl."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationFilterBar.LOCALIZATION_PREFIX;
					}
				});
$Firefly
		.createClass(
				"sap.zen.CharacteristicMemberVariableWrapper",
				sap.zen.CharacteristicWrapper,
				{
					$statics : {
						createVariableWrapper : function(variable) {
							var wrapper = new sap.zen.CharacteristicMemberVariableWrapper();
							wrapper.variable = variable;
							wrapper.dimensionMemberVariable = variable;
							wrapper.characteristicName = wrapper.dimensionMemberVariable
									.getDimension().getName();
							if (variable.getQueryModel() !== null) {
								wrapper.oSourceQueryModel = variable
										.getQueryModel();
							}
							wrapper.variableMode = true;
							wrapper.tTargetCharacteristicsQueryViews = sap.firefly.XList
									.create();
							wrapper.oMemberCache = sap.zen.MemberCache.create(
									null, null);
							return sap.zen.VariableWrapper
									.createVariableWrapper(wrapper);
						}
					},
					variable : null,
					dimensionMemberVariable : null,
					dataSourceName : null,
					supportsValueHelp : function() {
						return this.getDimensionMemberVariable()
								.supportsValueHelp();
					},
					initMe2 : function(variable, memberDisplay, dataSourceName,
							dataSource, messageWriter) {
						var dimension;
						this.variable = variable;
						this.dimensionMemberVariable = variable;
						dimension = this.getDimensionMemberVariable()
								.getDimension();
						sap.zen.CharacteristicMemberVariableWrapper.$superclass.initMe
								.call(this, dataSource, dimension, null, null,
										memberDisplay, messageWriter, true);
						this.dataSourceName = dataSourceName;
					},
					getName : function() {
						var name = this.variable.getName();
						return sap.zen.VariableContainerWrapper
								.getFullVariableName(this.dataSourceName, name);
					},
					getNameForSelector : function() {
						var name = this.getDimensionMemberVariable()
								.getDimension().getName();
						return name;
					},
					getText : function() {
						return this.variable.getText();
					},
					setVariableValue : function(value) {
						var dimensionMemberVariable;
						if (this.variable.isInputEnabled()) {
							if (this.variable
									.getVariableType()
									.isEqualTo(
											sap.firefly.VariableType.DIMENSION_MEMBER_VARIABLE)
									|| this.variable
											.getVariableType()
											.isEqualTo(
													sap.firefly.VariableType.HIERARCHY_NODE_VARIABLE)) {
								dimensionMemberVariable = this.dimensionMemberVariable;
								value = sap.zen.ResultSetWrapper
										.checkAndConvertSapDateToIso(
												dimensionMemberVariable
														.getDimension(), value);
								dimensionMemberVariable.setValueByString(value);
							}
						}
						return true;
					},
					setInternalKey : function(key) {
						try {
							this.setValueok(this.setVariableValue(key));
						} catch (e) {
							if (this.oMessageWriter !== null) {
								sap.zen.CLocalizationFilterMessages.INVALID_SELECTION_2
										.addMessageToMessageHandler(
												this.oMessageWriter,
												sap.firefly.Severity.WARNING,
												null, null, null);
							}
							this.setValueok(false);
						}
						return this.checkValue();
					},
					isMandatory : function() {
						return this.variable.isMandatory();
					},
					supportsMultiSelection : function() {
						return this.getDimensionMemberVariable()
								.getSelectionCapabilities()
								.supportsMultipleValues();
					},
					hasSelectionState : function() {
						return sap.zen.CharacteristicMemberVariableWrapper.$superclass.hasSelectionState
								.call(this);
					},
					supportsInterval : function() {
						var selectionCapability;
						var group;
						if (this.oDataSource !== null
								&& this.oDataSource.isHanaSystem()) {
							return true;
						}
						selectionCapability = this.getDimensionMemberVariable()
								.getSelectionCapability();
						group = (selectionCapability).getGroup();
						return sap.firefly.QSetSignComparisonOperatorGroup.INTERVAL === group;
					},
					supportsRange : function() {
						var selectionCapability;
						var group;
						if (this.oDataSource !== null
								&& this.oDataSource.isHanaSystem()) {
							return true;
						}
						selectionCapability = this.getDimensionMemberVariable()
								.getSelectionCapability();
						if (selectionCapability.isSelectionCapabilityGroup()) {
							group = (selectionCapability).getGroup();
							return sap.firefly.QSetSignComparisonOperatorGroup.RANGE === group;
						}
						return false;
					},
					supportsExcluding : function() {
						var selectionCapability;
						var supportedSetSign;
						var supportsExcluding;
						if (this.oDataSource !== null
								&& this.oDataSource.isHanaSystem()) {
							return true;
						}
						selectionCapability = this.getDimensionMemberVariable()
								.getSelectionCapability();
						supportedSetSign = selectionCapability
								.getSupportedSetSign();
						supportsExcluding = supportedSetSign
								.contains(sap.firefly.SetSign.EXCLUDING);
						return supportsExcluding;
					},
					getSelectionState : function() {
						return this.getDimensionMemberVariable()
								.getMemberSelection();
					},
					getDimension : function() {
						return this.getDimensionMemberVariable().getDimension();
					},
					getVariable : function() {
						return this.variable;
					},
					isCharacteristicHierarchical : function() {
						return sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(this
										.getDimensionMemberVariable()
										.getHierarchyName());
					},
					processValueHelp : function() {
						return this.getDimension().processVariableHelp(
								this.variable.getName(),
								sap.firefly.SyncType.BLOCKING, null, null);
					},
					isMemberAllowedForSelection : function(member) {
						if (this.isMandatory()
								&& !this.variable.isInitialValueAllowed()
								&& sap.firefly.XStringUtils
										.isNullOrEmpty(member.getName())) {
							return false;
						}
						return true;
					},
					getDimensionMemberVariable : function() {
						if (this.dimensionMemberVariable === null) {
							this.dimensionMemberVariable = this.variable;
						}
						return this.dimensionMemberVariable;
					},
					addInputString : function(inputString) {
						return this.addKeyToSelection(inputString, true);
					}
				});
$Firefly
		.createClass(
				"sap.zen.OptionListVariableWrapper",
				sap.zen.AbstractVariableWrapper,
				{
					$statics : {
						createVariableWrapper2 : function(variable) {
							var wrapper = new sap.zen.OptionListVariableWrapper();
							wrapper.variable = variable;
							wrapper.optionVariable = variable;
							return sap.zen.VariableWrapper
									.createVariableWrapper(wrapper);
						}
					},
					optionVariable : null,
					initMe2 : function(variable, memberDisplay, dataSourceName,
							dataSource, messageWriter) {
						sap.zen.OptionListVariableWrapper.$superclass.initMe
								.call(this, variable, dataSourceName);
						this.optionVariable = variable;
					},
					setVariableValue : function(value) {
						if (this.optionVariable.isInputEnabled()) {
							this.optionVariable.setOptionByName(value);
						}
						return true;
					},
					getInternalKey : function() {
						var lKey = null;
						var lCurrenctOption = this.optionVariable
								.getCurrentOption();
						if (lCurrenctOption !== null) {
							lKey = lCurrenctOption.getText();
						}
						return lKey;
					},
					getSelectionStateMembers : function() {
						var ltMemberWrappers = sap.firefly.XList.create();
						var lOption = this.optionVariable.getCurrentOption();
						var lMemberWrapper;
						if (lOption !== null) {
							lMemberWrapper = sap.zen.OptionMemberWrapper
									.create(lOption);
							ltMemberWrappers.add(lMemberWrapper);
						}
						return ltMemberWrappers;
					},
					getMembers : function() {
						var ltMemberWrappers = sap.firefly.XList.create();
						var ltOptions = this.optionVariable.getOptions();
						var lOptionIndex;
						var lOption;
						var lMemberWrapper;
						for (lOptionIndex = 0; lOptionIndex < ltOptions.size(); lOptionIndex++) {
							lOption = ltOptions.get(lOptionIndex);
							lMemberWrapper = sap.zen.OptionMemberWrapper
									.create(lOption);
							if (lMemberWrapper !== null) {
								ltMemberWrappers.add(lMemberWrapper);
							}
						}
						return ltMemberWrappers;
					},
					getMemberType : function() {
						return sap.zen.Type.STRING;
					},
					isCharacteristicHierarchical : function() {
						return false;
					},
					hasMoreThanMaxElements : function() {
						return sap.firefly.XBooleanValue.create(false);
					},
					getMember : function(key) {
						var lMemberWrapper = null;
						var lOption = this.optionVariable.getOptions()
								.getByKey(key);
						if (lOption !== null) {
							lMemberWrapper = sap.zen.OptionMemberWrapper
									.create(lOption);
						}
						return lMemberWrapper;
					},
					supportsSelection : function() {
						return true;
					},
					supportsMultiSelection : function() {
						return false;
					},
					supportsPattern : function() {
						return false;
					},
					supportsExcluding : function() {
						return false;
					},
					supportsRange : function() {
						return false;
					},
					supportsInterval : function() {
						return false;
					},
					hasSelectionState : function() {
						var lHasState = false;
						var lCurrentOption = this.optionVariable
								.getCurrentOption();
						if (lCurrentOption !== null) {
							lHasState = true;
						}
						return lHasState;
					},
					supportsValueHelp : function() {
						return true;
					},
					setInternalKey : function(key) {
						(this.optionVariable).setStringValue(key);
						return true;
					},
					getValueAsText : function() {
						return this.getInternalKey();
					},
					parseInputString : function(inputString) {
						var ltRanges = sap.firefly.XList.create();
						var ltOptions;
						var lOption;
						var lMemberWrapper;
						var lRange;
						if (this.variable.isInputEnabled()
								&& inputString !== null) {
							ltOptions = this.optionVariable.getOptions();
							if (ltOptions !== null) {
								lOption = ltOptions.getByKey(inputString);
								if (lOption !== null) {
									lMemberWrapper = sap.zen.OptionMemberWrapper
											.create(lOption);
									if (lMemberWrapper !== null) {
										lRange = new sap.zen.Range();
										lRange.initMe2(lMemberWrapper);
										ltRanges.add(lRange);
									}
								}
							}
						}
						return ltRanges;
					},
					setFullRangeQuery : function(fullRanges) {
						var lValue;
						if (fullRanges !== null && !fullRanges.isEmpty()) {
							lValue = fullRanges.get(0).getFrom().getKey();
							this.setInternalKey(lValue);
						}
					},
					setInputString : function(inputString) {
						return false;
					},
					setFullRangeQueryByField : function(fullRanges,
							useDisplayKey) {
						this.setFullRangeQuery(fullRanges);
					},
					getValueType : function() {
						return this.optionVariable.getValueType();
					}
				});
$Firefly
		.createClass(
				"sap.zen.TextVariableWrapper",
				sap.zen.AbstractVariableWrapper,
				{
					$statics : {
						EMPTY_VALUE : "",
						createVariableWrapper : function(variable) {
							var wrapper = new sap.zen.TextVariableWrapper();
							wrapper.variable = variable;
							return sap.zen.VariableWrapper
									.createVariableWrapper(wrapper);
						}
					},
					initMe : function(variable, dataSourceName) {
						sap.zen.TextVariableWrapper.$superclass.initMe.call(
								this, variable, dataSourceName);
					},
					setInternalKey : function(key) {
						var lSimpleTypeVariable;
						var lFormulaVariable;
						if (this.variable.isInputEnabled()) {
							if (this.variable
									.getVariableType()
									.isEqualTo(
											sap.firefly.VariableType.SIMPLE_TYPE_VARIABLE)
									|| this.variable
											.getVariableType()
											.isEqualTo(
													sap.firefly.VariableType.TEXT_VARIABLE)) {
								lSimpleTypeVariable = this.variable;
								if (lSimpleTypeVariable.getValueType()
										.isEqualTo(
												sap.firefly.XValueType.STRING)) {
									lSimpleTypeVariable.setStringValue(key);
								} else {
									if (lSimpleTypeVariable
											.getValueType()
											.isEqualTo(
													sap.firefly.XValueType.INTEGER)) {
										lSimpleTypeVariable
												.setIntegerValue(sap.firefly.XInteger
														.convertStringToInteger(key));
									} else {
										if (lSimpleTypeVariable
												.getValueType()
												.isEqualTo(
														sap.firefly.XValueType.LONG)) {
											lSimpleTypeVariable
													.setLongValue(sap.firefly.XLong
															.convertStringToLong(key));
										} else {
											if (lSimpleTypeVariable
													.getValueType()
													.isEqualTo(
															sap.firefly.XValueType.DOUBLE)) {
												lSimpleTypeVariable
														.setDoubleValue(sap.firefly.XDouble
																.convertStringToDouble(key));
											}
										}
									}
								}
							} else {
								if (this.variable
										.getVariableType()
										.isEqualTo(
												sap.firefly.VariableType.FORMULA_VARIABLE)) {
									lFormulaVariable = this.variable;
									lFormulaVariable
											.setDoubleValue(sap.firefly.XDouble
													.convertStringToDouble(key));
								}
							}
						}
						return true;
					},
					getMemberType : function() {
						var lValueType = this.variable.getValueType();
						if (lValueType.isEqualTo(sap.firefly.XValueType.STRING)) {
							return sap.zen.Type.STRING;
						} else {
							if (lValueType
									.isEqualTo(sap.firefly.XValueType.INTEGER)
									|| lValueType
											.isEqualTo(sap.firefly.XValueType.LONG)) {
								return sap.zen.Type.INTEGER;
							} else {
								if (lValueType
										.isEqualTo(sap.firefly.XValueType.DOUBLE)) {
									return sap.zen.Type.DOUBLE;
								}
							}
						}
						return sap.zen.Type.UNKNOWN;
					},
					getMember : function(key) {
						var lMemberWrapper = null;
						var lValue = this.getValue();
						if (lValue !== null) {
							lMemberWrapper = sap.zen.TextMemberWrapper.create(
									lValue, this.getMemberType());
						}
						return lMemberWrapper;
					},
					getValue : function() {
						var lValue = sap.zen.TextVariableWrapper.EMPTY_VALUE;
						var lSimpleTypeVariable;
						var lValueType;
						var lFormulaTypeVariable;
						try {
							if (this.variable
									.getVariableType()
									.isEqualTo(
											sap.firefly.VariableType.SIMPLE_TYPE_VARIABLE)
									|| this.variable
											.getVariableType()
											.isEqualTo(
													sap.firefly.VariableType.TEXT_VARIABLE)) {
								lSimpleTypeVariable = this.variable;
								if (lSimpleTypeVariable.hasValue()) {
									lValueType = lSimpleTypeVariable
											.getValueType();
									if (lValueType
											.isEqualTo(sap.firefly.XValueType.STRING)) {
										lValue = lSimpleTypeVariable
												.getStringValue();
									} else {
										if (lValueType
												.isEqualTo(sap.firefly.XValueType.INTEGER)) {
											lValue = sap.firefly.XInteger
													.convertIntegerToString(lSimpleTypeVariable
															.getIntegerValue());
										} else {
											if (lValueType
													.isEqualTo(sap.firefly.XValueType.LONG)) {
												lValue = sap.firefly.XLong
														.convertLongToString(lSimpleTypeVariable
																.getLongValue());
											} else {
												if (lValueType
														.isEqualTo(sap.firefly.XValueType.DOUBLE)) {
													lValue = sap.firefly.XDouble
															.convertDoubleToString(lSimpleTypeVariable
																	.getDoubleValue());
												}
											}
										}
									}
								}
							} else {
								if (this.variable
										.getVariableType()
										.isEqualTo(
												sap.firefly.VariableType.FORMULA_VARIABLE)) {
									lFormulaTypeVariable = this.variable;
									if (lFormulaTypeVariable.hasValue()) {
										lValue = sap.firefly.XDouble
												.convertDoubleToString(lFormulaTypeVariable
														.getFormulaValue());
									}
								}
							}
						} catch (exception) {
							lValue = sap.zen.TextVariableWrapper.EMPTY_VALUE;
						}
						return lValue;
					},
					getMembers : function() {
						var ltMemberWrappers = sap.firefly.XList.create();
						var lMemberWrapper = this.getMember(null);
						if (lMemberWrapper !== null) {
							ltMemberWrappers.add(lMemberWrapper);
						}
						return ltMemberWrappers;
					},
					hasSelectionState : function() {
						var lSimpleTypeVariable = this.variable;
						return lSimpleTypeVariable.hasValue();
					},
					getSelectionStateMembers : function() {
						return this.getMembers();
					},
					getInternalKey : function() {
						return this.getValue();
					},
					getValueAsText : function() {
						return this.getInternalKey();
					},
					parseInputString : function(inputString) {
						var ltRanges = sap.firefly.XList.create();
						var lMemberWrapper;
						var simpleTypeVariable;
						var range;
						if (this.variable.isInputEnabled()
								&& inputString !== null) {
							lMemberWrapper = null;
							try {
								if (this.variable
										.getVariableType()
										.isEqualTo(
												sap.firefly.VariableType.SIMPLE_TYPE_VARIABLE)
										|| this.variable
												.getVariableType()
												.isEqualTo(
														sap.firefly.VariableType.TEXT_VARIABLE)) {
									simpleTypeVariable = this.variable;
									if (simpleTypeVariable
											.getValueType()
											.isEqualTo(
													sap.firefly.XValueType.INTEGER)) {
										sap.firefly.XInteger
												.convertStringToInteger(inputString);
									} else {
										if (simpleTypeVariable
												.getValueType()
												.isEqualTo(
														sap.firefly.XValueType.LONG)) {
											sap.firefly.XLong
													.convertStringToLong(inputString);
										} else {
											if (simpleTypeVariable
													.getValueType()
													.isEqualTo(
															sap.firefly.XValueType.DOUBLE)) {
												sap.firefly.XDouble
														.convertStringToDouble(inputString);
											}
										}
									}
								} else {
									if (this.variable
											.getVariableType()
											.isEqualTo(
													sap.firefly.VariableType.FORMULA_VARIABLE)) {
										sap.firefly.XDouble
												.convertStringToDouble(inputString);
									}
								}
								lMemberWrapper = sap.zen.TextMemberWrapper
										.create(inputString, this
												.getMemberType());
							} catch (exception) {
								lMemberWrapper = null;
							}
							if (lMemberWrapper !== null) {
								range = new sap.zen.Range();
								range.initMe2(lMemberWrapper);
								ltRanges.add(range);
							}
						}
						return ltRanges;
					},
					setFullRangeQuery : function(fullRanges) {
						var lValue;
						if (fullRanges !== null && !fullRanges.isEmpty()) {
							lValue = fullRanges.get(0).getFrom().getKey();
							this.setInternalKey(lValue);
						} else {
							this.setInternalKey("");
						}
					},
					setInputString : function(inputString) {
						return this.setInternalKey(inputString);
					},
					setFullRangeQueryByField : function(fullRanges,
							useDisplayKey) {
						this.setFullRangeQuery(fullRanges);
					},
					getValueType : function() {
						return this.variable.getValueType();
					}
				});
$Firefly
		.createClass(
				"sap.zen.LocalizationFilter",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.components.filterpanel.impl."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationFilter.LOCALIZATION_PREFIX;
					}
				});
$Firefly
		.createClass(
				"sap.zen.LocalizationGridLayout",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.components.gridlayout.impl."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationGridLayout.LOCALIZATION_PREFIX;
					}
				});
$Firefly
		.createClass(
				"sap.zen.LocalizationHtml5Chart",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.components.sdkcharts.control."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationHtml5Chart.LOCALIZATION_PREFIX;
					}
				});
$Firefly
		.createClass(
				"sap.zen.LocalizationMessageView",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.components.messageview.impl."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationMessageView.LOCALIZATION_PREFIX;
					}
				});
$Firefly.createClass("sap.zen.BuildInSDKComponentFactory",
		sap.zen.SDKComponentFactory, {
			isBuiltIn : function() {
				return true;
			},
			pathToContributionFiles : null,
			getSDKRoot : function(page) {
				return page.getSDKLoader().parseBuildInContributionXml(
						page.getApplication().getSystemLandscape()
								.getSystemDescription("self"),
						this.pathToContributionFiles);
			},
			setPathToContributionFiles : function(p) {
				this.pathToContributionFiles = p;
				return this;
			},
			loadZtlJs : function(page) {
				page.getSDKLoader().loadBuiltinZtl(
						this.pathToContributionFiles, page.getWindow());
			}
		});
$Firefly
		.createClass(
				"sap.zen.LocalizationSplitter",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.components.splitter.impl."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationSplitter.LOCALIZATION_PREFIX;
					}
				});
$Firefly
		.createClass(
				"sap.zen.LocalizationTabstrip",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.components.tabstrip.impl."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationTabstrip.LOCALIZATION_PREFIX;
					}
				});
$Firefly.createClass("sap.zen.LocalizationCrosstab", sap.zen.LocalizationText,
		{
			$statics : {
				LOCALIZATION_PREFIX : "com.sap.ip.bi.ui.nonur.zen.table."
			},
			getLocalizationPrefix : function() {
				return sap.zen.LocalizationCrosstab.LOCALIZATION_PREFIX;
			}
		});
$Firefly
		.createClass(
				"sap.zen.Dimension",
				sap.firefly.XObject,
				{
					$statics : {
						MAX_MEMBERS : 50,
						VALUE_TYPE_INT : 1,
						VALUE_TYPE_EXT : 2,
						VALUE_TYPE_TEXT : 4,
						SORT_PARAM_SORTTYPE : "SortType",
						SORT_PARAM_SORTDIRECTION : "XSortDirection",
						sGetDimensionObject : function(oDataSource,
								dimensionName) {
							var loQueryManager;
							var loQueryModel;
							var loInternalDimension;
							if (oDataSource === null) {
								return null;
							}
							loQueryManager = oDataSource.getQueryManager();
							if (loQueryManager === null) {
								return null;
							}
							loQueryModel = loQueryManager.getQueryModel();
							if (loQueryModel === null) {
								return null;
							}
							loInternalDimension = loQueryModel
									.getDimensionByName(dimensionName);
							if (loInternalDimension === null
									&& sap.firefly.XString.isEqual(
											"[Measures]", dimensionName)) {
								loInternalDimension = loQueryModel
										.getMeasureDimension();
							}
							return loInternalDimension;
						},
						sGetFieldObject : function(oDataSource, dimensionName,
								fieldName) {
							var loInternalDimension = sap.zen.Dimension
									.sGetDimensionObject(oDataSource,
											dimensionName);
							var loInternalField;
							if (loInternalDimension === null) {
								return null;
							}
							loInternalField = null;
							if (!sap.firefly.XStringUtils
									.isNullOrEmpty(fieldName)) {
								loInternalField = loInternalDimension
										.getFieldByName(fieldName);
							}
							return loInternalField;
						},
						sGetAttributeObject : function(oDataSource,
								dimensionName, attributeName) {
							var loInternalDimension = sap.zen.Dimension
									.sGetDimensionObject(oDataSource,
											dimensionName);
							var loInternalAttribute;
							if (loInternalDimension === null) {
								return null;
							}
							loInternalAttribute = loInternalDimension
									.getMainAttribute();
							if (!sap.firefly.XStringUtils
									.isNullOrEmpty(attributeName)) {
								loInternalAttribute = loInternalDimension
										.getAttributeByName(attributeName);
							}
							return loInternalAttribute;
						},
						sGetKeyFieldObject : function(oDataSource,
								dimensionName, attributeName, useDisplayKey) {
							var loInternalDimension;
							var loInternalAttribute;
							var lIsMainAttribute;
							var loInternalField;
							if (oDataSource === null) {
								return null;
							}
							loInternalDimension = sap.zen.Dimension
									.sGetDimensionObject(oDataSource,
											dimensionName);
							if (loInternalDimension === null) {
								return null;
							}
							loInternalAttribute = sap.zen.Dimension
									.sGetAttributeObject(oDataSource,
											dimensionName, attributeName);
							if (loInternalAttribute === null) {
								return null;
							}
							lIsMainAttribute = sap.firefly.XString.isEqual(
									loInternalAttribute.getName(),
									loInternalDimension.getMainAttribute()
											.getName());
							loInternalField = null;
							if (lIsMainAttribute) {
								if (loInternalDimension.supportsHierarchy()
										&& loInternalDimension
												.isHierarchyAssignedAndActive()) {
									if (useDisplayKey) {
										loInternalField = loInternalDimension
												.getHierarchyDisplayKeyField();
									}
									if (loInternalField === null) {
										loInternalField = loInternalDimension
												.getHierarchyKeyField();
									}
								} else {
									if (loInternalDimension.isCompound()
											|| (loInternalDimension
													.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND) !== null)) {
										if (useDisplayKey) {
											loInternalField = loInternalAttribute
													.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND);
										}
										if (loInternalField === null) {
											loInternalField = loInternalAttribute
													.getFirstFieldByType(sap.firefly.PresentationType.KEY_NOT_COMPOUND);
										}
									}
								}
							}
							if (loInternalField === null) {
								if (useDisplayKey) {
									loInternalField = loInternalAttribute
											.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY);
								}
								if (loInternalField === null) {
									loInternalField = loInternalAttribute
											.getKeyField();
								}
							}
							return loInternalField;
						},
						sGetTextFieldObject : function(oDataSource,
								dimensionName, attributeName,
								textPresentationType) {
							var loInternalField;
							var loInternalDimension;
							var loInternalAttribute;
							var lIsMainAttribute;
							var lTextPresentationType;
							if (oDataSource === null) {
								return null;
							}
							loInternalField = null;
							loInternalDimension = sap.zen.Dimension
									.sGetDimensionObject(oDataSource,
											dimensionName);
							if (loInternalDimension === null) {
								return null;
							}
							loInternalAttribute = sap.zen.Dimension
									.sGetAttributeObject(oDataSource,
											dimensionName, attributeName);
							if (loInternalAttribute === null) {
								return null;
							}
							lIsMainAttribute = sap.firefly.XString.isEqual(
									loInternalAttribute.getName(),
									loInternalDimension.getMainAttribute()
											.getName());
							lTextPresentationType = null;
							if (textPresentationType === null) {
								lTextPresentationType = sap.zen.DataSourceScriptApiUtils
										.getPreferredTextPresentation(loInternalAttribute);
							} else {
								lTextPresentationType = textPresentationType;
							}
							if (lIsMainAttribute
									&& loInternalDimension.supportsHierarchy()
									&& loInternalDimension
											.isHierarchyAssignedAndActive()) {
								if (textPresentationType === null
										|| lTextPresentationType === sap.firefly.PresentationType.TEXT) {
									loInternalField = loInternalDimension
											.getHierarchyTextField();
								}
							}
							if (loInternalField === null) {
								if (lTextPresentationType === sap.firefly.PresentationType.TEXT) {
									loInternalField = loInternalAttribute
											.getTextField();
								} else {
									loInternalField = loInternalAttribute
											.getFirstFieldByType(lTextPresentationType);
								}
							}
							return loInternalField;
						},
						sSwapAxes : function(oDataSource, axis1, axis2,
								triggerChangedEvent) {
							var loQueryManager;
							var loQueryModel;
							var loAxis1;
							var loAxis2;
							var ltAxis1Dimensions;
							var ltAxis2Dimensions;
							var loDataSourceChangeCause;
							if (oDataSource === null) {
								return;
							}
							loQueryManager = oDataSource.getQueryManager();
							if (loQueryManager === null) {
								return;
							}
							loQueryModel = loQueryManager.getQueryModel();
							if (loQueryModel === null) {
								return;
							}
							loAxis1 = loQueryModel.getAxis(axis1);
							loAxis2 = loQueryModel.getAxis(axis2);
							ltAxis1Dimensions = sap.zen.Dimension
									.sGetAxisDimensionObjects(loAxis1);
							ltAxis2Dimensions = sap.zen.Dimension
									.sGetAxisDimensionObjects(loAxis2);
							sap.zen.Dimension.sAddDimensionsToAxis(loAxis2,
									ltAxis1Dimensions);
							sap.zen.Dimension.sAddDimensionsToAxis(loAxis1,
									ltAxis2Dimensions);
							if (triggerChangedEvent) {
								loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
								loDataSourceChangeCause
										.setAction(sap.zen.CDataSourceChangeAction.SwapAxes
												.toString());
								if (loAxis1 !== null) {
									loDataSourceChangeCause.addProperty(
											"Axis1", loAxis1.getName());
								}
								if (loAxis2 !== null) {
									loDataSourceChangeCause.addProperty(
											"Axis2", loAxis2.getName());
								}
								oDataSource.raiseDataSourceChangedEvent(
										loDataSourceChangeCause, false, true);
							}
						},
						sGetAxisDimensionObjects : function(oAxis) {
							var ltAxisDimensions = sap.firefly.XList.create();
							var ltDimensions = null;
							var lDimensionIndex = 0;
							var loDimension;
							ltDimensions = oAxis.getDimensions();
							for (lDimensionIndex = 0; lDimensionIndex < ltDimensions
									.size(); lDimensionIndex++) {
								loDimension = ltDimensions.get(lDimensionIndex);
								if (loDimension === null) {
									continue;
								}
								ltAxisDimensions.add(loDimension);
							}
							return ltAxisDimensions;
						},
						sAddDimensionsToAxis : function(oAxis, tDimensions) {
							var lDimensionIndex;
							var loDimension;
							for (lDimensionIndex = 0; lDimensionIndex < tDimensions
									.size(); lDimensionIndex++) {
								loDimension = tDimensions.get(lDimensionIndex);
								if (loDimension === null) {
									continue;
								}
								oAxis.add(loDimension);
							}
						},
						sSetTotalsOptions : function(oDataSource, oResultSet,
								totalsDisplay, totalsPosition,
								triggerChangedEvent) {
							var loQueryManager;
							var loQueryModel;
							var lChanged;
							var ltAxes;
							var ltAppliedAxes;
							var lAxisIndex;
							var lAxis;
							var loDataSourceChangeCause;
							if (oResultSet !== null && oDataSource === null) {
								oDataSource = oResultSet.getDataSource();
							}
							if (oDataSource !== null && oResultSet === null) {
								oResultSet = oDataSource.getResultSet();
							}
							if (oDataSource === null || oResultSet === null) {
								return false;
							}
							loQueryManager = oDataSource.getQueryManager();
							if (loQueryManager === null) {
								return false;
							}
							loQueryModel = loQueryManager.getQueryModel();
							if (loQueryModel === null) {
								return false;
							}
							lChanged = true;
							ltAxes = sap.firefly.XList.create();
							ltAxes.add(sap.firefly.AxisType.ROWS);
							ltAxes.add(sap.firefly.AxisType.COLUMNS);
							ltAxes.add(sap.firefly.AxisType.FREE);
							ltAppliedAxes = sap.firefly.XList.create();
							for (lAxisIndex = 0; lAxisIndex < ltAxes.size(); lAxisIndex++) {
								lAxis = ltAxes.get(lAxisIndex);
								if (lAxis === null) {
									continue;
								}
								if (sap.zen.Dimension.sSetTotalsOptionsForAxis(
										oDataSource, oResultSet, lAxis,
										totalsDisplay, totalsPosition, false)) {
									lChanged = true;
									ltAppliedAxes.add(lAxis);
								}
							}
							if (!lChanged) {
								return false;
							}
							if (triggerChangedEvent) {
								loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
								loDataSourceChangeCause
										.setAction(sap.zen.CDataSourceChangeAction.SetTotalsOptions
												.toString());
								loDataSourceChangeCause.addProperty("Axes",
										sap.firefly.XStringUtils.concatenate5(
												sap.firefly.AxisType.ROWS
														.getName(), ", ",
												sap.firefly.AxisType.COLUMNS
														.getName(), ", ",
												sap.firefly.AxisType.FREE
														.getName()));
								loDataSourceChangeCause.addProperty(
										"TotalsDisplay", totalsDisplay);
								loDataSourceChangeCause.addProperty(
										"TotalsPosition", totalsPosition);
								oDataSource.raiseDataSourceChangedEvent(
										loDataSourceChangeCause, false, true);
							}
							return true;
						},
						sSetTotalsOptionsForAxis : function(oDataSource,
								oResultSet, axis, totalsDisplay,
								totalsPosition, triggerChangedEvent) {
							var loQueryManager;
							var loQueryModel;
							var loInternalAxis;
							var lChanged;
							var ltInternalDimensions;
							var lDimensionIndex;
							var loInternalDimension;
							var loDimension;
							var loProperties;
							var loDataSourceChangeCause;
							if (oResultSet !== null) {
								oDataSource = oResultSet.getDataSource();
							}
							if (oDataSource !== null && oResultSet === null) {
								oResultSet = oDataSource.getResultSet();
							}
							if (oDataSource === null || oResultSet === null) {
								return false;
							}
							loQueryManager = oDataSource.getQueryManager();
							if (loQueryManager === null) {
								return false;
							}
							loQueryModel = loQueryManager.getQueryModel();
							if (loQueryModel === null) {
								return false;
							}
							loInternalAxis = loQueryModel.getAxis(axis);
							if (loInternalAxis === null
									|| !loInternalAxis
											.supportsResultAlignment()) {
								return false;
							}
							lChanged = true;
							if (sap.zen.Dimension.sSetTotalsPositionForAxis(
									oDataSource, axis, totalsPosition, false)) {
								lChanged = true;
							}
							ltInternalDimensions = sap.zen.Dimension
									.sGetAxisDimensionObjects(loInternalAxis);
							for (lDimensionIndex = 0; lDimensionIndex < ltInternalDimensions
									.size(); lDimensionIndex++) {
								loInternalDimension = ltInternalDimensions
										.get(lDimensionIndex);
								if (loInternalDimension === null) {
									continue;
								}
								loDimension = sap.zen.DimensionWrapper.create(
										oDataSource, oResultSet,
										loInternalDimension.getName());
								loProperties = loDimension.getProperties();
								if (loProperties.setTotalsDisplay(
										totalsDisplay, false)) {
									lChanged = true;
								}
							}
							if (!lChanged) {
								return false;
							}
							if (triggerChangedEvent) {
								loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
								loDataSourceChangeCause
										.setAction(sap.zen.CDataSourceChangeAction.SetTotalsOptions
												.toString());
								loDataSourceChangeCause.addProperty("Axis",
										loInternalAxis.getName());
								loDataSourceChangeCause.addProperty(
										"TotalsDisplay", totalsDisplay);
								loDataSourceChangeCause.addProperty(
										"TotalsPosition", totalsPosition);
								oDataSource.raiseDataSourceChangedEvent(
										loDataSourceChangeCause, false, true);
							}
							return true;
						},
						sSetTotalsPositionForAxis : function(oDataSource, axis,
								totalsPosition, triggerChangedEvent) {
							var loInternalAxis;
							var loQueryManager;
							var loQueryModel;
							var lResultAlignment;
							var loDataSourceChangeCause;
							if (oDataSource === null) {
								return false;
							}
							loInternalAxis = null;
							loQueryManager = oDataSource.getQueryManager();
							if (loQueryManager === null) {
								return false;
							}
							loQueryModel = loQueryManager.getQueryModel();
							if (loQueryModel === null) {
								return false;
							}
							loInternalAxis = loQueryModel.getAxis(axis);
							if (loInternalAxis === null
									|| !loInternalAxis
											.supportsResultAlignment()) {
								return false;
							}
							lResultAlignment = null;
							if (sap.firefly.XString.isEqual(
									sap.zen.TotalsPosition.getBEFOREInternal(),
									totalsPosition)
									|| sap.firefly.XString.isEqual(
											sap.firefly.ResultAlignment.TOP
													.getName(), totalsPosition)
									|| sap.firefly.XString
											.isEqual(
													sap.firefly.XString
															.convertToUpperCase(sap.firefly.ResultAlignment.TOP
																	.getName()),
													totalsPosition)) {
								lResultAlignment = sap.firefly.ResultAlignment.TOP;
							} else {
								if (sap.firefly.XString.isEqual(
										sap.zen.TotalsPosition
												.getAFTERInternal(),
										totalsPosition)
										|| sap.firefly.XString
												.isEqual(
														sap.firefly.ResultAlignment.BOTTOM
																.getName(),
														totalsPosition)
										|| sap.firefly.XString
												.isEqual(
														sap.firefly.XString
																.convertToUpperCase(sap.firefly.ResultAlignment.BOTTOM
																		.getName()),
														totalsPosition)) {
									lResultAlignment = sap.firefly.ResultAlignment.BOTTOM;
								} else {
									if (sap.firefly.XString.isEqual(
											sap.zen.TotalsPosition
													.getDEFAULTInternal(),
											totalsPosition)
											|| sap.firefly.XString
													.isEqual(
															sap.firefly.ResultAlignment.NONE
																	.getName(),
															totalsPosition)
											|| sap.firefly.XString
													.isEqual(
															sap.firefly.XString
																	.convertToUpperCase(sap.firefly.ResultAlignment.NONE
																			.getName()),
															totalsPosition)) {
										lResultAlignment = sap.firefly.ResultAlignment.NONE;
									}
								}
							}
							if (lResultAlignment === null
									|| !loInternalAxis
											.supportsResultAlignmentType(lResultAlignment)) {
								return false;
							}
							if (loInternalAxis.getResultAlignment() === lResultAlignment) {
								return false;
							}
							loInternalAxis.setResultAlignment(lResultAlignment);
							if (triggerChangedEvent) {
								loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
								loDataSourceChangeCause
										.setAction(sap.zen.CDataSourceChangeAction.SetTotalsPosition
												.toString());
								loDataSourceChangeCause.addProperty("Axis",
										loInternalAxis.getName());
								loDataSourceChangeCause.addProperty(
										"TotalsPosition", lResultAlignment
												.getName());
								oDataSource.raiseDataSourceChangedEvent(
										loDataSourceChangeCause, false, true);
							}
							return true;
						},
						sGetTotalsPositionForAxis : function(oDataSource, axis) {
							var loInternalAxis;
							var loQueryManager;
							var loQueryModel;
							var lResultAlignment;
							if (oDataSource === null) {
								return null;
							}
							loInternalAxis = null;
							loQueryManager = oDataSource.getQueryManager();
							if (loQueryManager === null) {
								return null;
							}
							loQueryModel = loQueryManager.getQueryModel();
							if (loQueryModel === null) {
								return null;
							}
							loInternalAxis = loQueryModel.getAxis(axis);
							if (loInternalAxis === null) {
								return null;
							}
							lResultAlignment = loInternalAxis
									.getResultAlignment();
							if (lResultAlignment === sap.firefly.ResultAlignment.TOP
									|| lResultAlignment === sap.firefly.ResultAlignment.BOTTOM
									|| lResultAlignment === sap.firefly.ResultAlignment.NONE) {
								return lResultAlignment;
							}
							return sap.firefly.ResultAlignment.NONE;
						},
						sSetZeroSuppressionForAxis : function(oDataSource,
								axis, zeroSuppression, triggerChangedEvent) {
							var loInternalAxis;
							var loQueryManager;
							var loQueryModel;
							var lZeroSuppression;
							var loDataSourceChangeCause;
							if (oDataSource === null) {
								return false;
							}
							loInternalAxis = null;
							loQueryManager = oDataSource.getQueryManager();
							if (loQueryManager === null) {
								return false;
							}
							loQueryModel = loQueryManager.getQueryModel();
							if (loQueryModel === null) {
								return false;
							}
							loInternalAxis = loQueryModel.getAxis(axis);
							if (loInternalAxis === null
									|| !loInternalAxis
											.supportsZeroSuppression()) {
								return false;
							}
							lZeroSuppression = null;
							if (zeroSuppression) {
								lZeroSuppression = sap.firefly.ZeroSuppressionType.ALL_CELLS_ARE_ZERO;
							} else {
								lZeroSuppression = sap.firefly.ZeroSuppressionType.NONE;
							}
							if (lZeroSuppression === null) {
								return false;
							}
							if (loInternalAxis.getZeroSuppressionType() === lZeroSuppression) {
								return false;
							}
							loInternalAxis
									.setZeroSuppressionType(lZeroSuppression);
							if (triggerChangedEvent) {
								loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
								loDataSourceChangeCause
										.setAction(sap.zen.CDataSourceChangeAction.SetZeroSuppression
												.toString());
								loDataSourceChangeCause.addProperty("Axis",
										loInternalAxis.getName());
								loDataSourceChangeCause.addProperty(
										"ZeroSuppression", lZeroSuppression
												.getName());
								oDataSource.raiseDataSourceChangedEvent(
										loDataSourceChangeCause, false, true);
							}
							return true;
						},
						sGetZeroSuppressionForAxis : function(oDataSource, axis) {
							var loInternalAxis;
							var loQueryManager;
							var loQueryModel;
							var lZeroSuppression;
							if (oDataSource === null) {
								return false;
							}
							loInternalAxis = null;
							loQueryManager = oDataSource.getQueryManager();
							if (loQueryManager === null) {
								return false;
							}
							loQueryModel = loQueryManager.getQueryModel();
							if (loQueryModel === null) {
								return false;
							}
							loInternalAxis = loQueryModel.getAxis(axis);
							if (loInternalAxis === null) {
								return false;
							}
							lZeroSuppression = loInternalAxis
									.getZeroSuppressionType();
							if (sap.firefly.ZeroSuppressionType.ALL_CELLS_ARE_ZERO
									.isEqualTo(lZeroSuppression)) {
								return true;
							}
							return false;
						},
						sGetValueFromMember : function(oValue, valueType) {
							var lValue = "";
							var lInternal = null;
							var lExternal = null;
							var lText = null;
							if (sap.firefly.XMath.binaryAnd(valueType,
									sap.zen.Dimension.VALUE_TYPE_EXT) > 0) {
								lExternal = oValue.getDisplayKey();
							}
							if (sap.firefly.XMath.binaryAnd(valueType,
									sap.zen.Dimension.VALUE_TYPE_TEXT) > 0) {
								lText = oValue.getText();
							}
							if (sap.firefly.XMath.binaryAnd(valueType,
									sap.zen.Dimension.VALUE_TYPE_INT) > 0) {
								lInternal = oValue.getKey();
							}
							if (lExternal !== null) {
								lValue = lExternal;
							}
							if (lText !== null) {
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(lValue)
										&& !sap.firefly.XString.isEqual(
												lExternal, lText)) {
									lValue = sap.firefly.XStringUtils
											.concatenate4(lValue, " (", lText,
													")");
								} else {
									lValue = lText;
								}
							}
							if (lInternal !== null) {
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(lValue)
										&& !sap.firefly.XString.isEqual(
												lExternal, lInternal)) {
									lValue = sap.firefly.XStringUtils
											.concatenate4(lValue, " [",
													lInternal, "]");
								} else {
									lValue = lInternal;
								}
							}
							if (sap.firefly.XStringUtils.isNullOrEmpty(lValue)) {
								lValue = oValue.getKey();
							}
							return lValue;
						},
						sGetValuesFromRangeList : function(tRangeValues,
								valueType) {
							var lValuesText;
							var lRangeIndex;
							var loRange;
							var lRangeLowText;
							var lRangeHighText;
							var lRangeText;
							if (tRangeValues === null
									|| tRangeValues.size() === 0) {
								return "";
							}
							lValuesText = "";
							for (lRangeIndex = 0; lRangeIndex < tRangeValues
									.size(); lRangeIndex++) {
								loRange = tRangeValues.get(lRangeIndex);
								if (loRange === null) {
									continue;
								}
								lRangeLowText = sap.zen.Dimension
										.sGetValueFromMember(loRange.getFrom(),
												valueType);
								lRangeHighText = null;
								if (loRange.getOperation() === sap.zen.Operation.BT) {
									lRangeHighText = sap.zen.Dimension
											.sGetValueFromMember(loRange
													.getTo(), valueType);
								}
								lRangeText = lRangeLowText;
								if (sap.zen.Operation.LT.isEqualTo(loRange
										.getOperation())) {
									lRangeText = sap.firefly.XStringUtils
											.concatenate2("<", lRangeLowText);
								} else {
									if (sap.zen.Operation.LE.isEqualTo(loRange
											.getOperation())) {
										lRangeText = sap.firefly.XStringUtils
												.concatenate2("<=",
														lRangeLowText);
									} else {
										if (sap.zen.Operation.GT
												.isEqualTo(loRange
														.getOperation())) {
											lRangeText = sap.firefly.XStringUtils
													.concatenate2(">",
															lRangeLowText);
										} else {
											if (sap.zen.Operation.GE
													.isEqualTo(loRange
															.getOperation())) {
												lRangeText = sap.firefly.XStringUtils
														.concatenate2(">=",
																lRangeLowText);
											} else {
												if (sap.zen.Operation.BT
														.isEqualTo(loRange
																.getOperation())) {
													lRangeText = sap.firefly.XStringUtils
															.concatenate3(
																	lRangeLowText,
																	" - ",
																	lRangeHighText);
												}
											}
										}
									}
								}
								if (loRange.isExclude()) {
									lRangeText = sap.firefly.XStringUtils
											.concatenate2("!", lRangeText);
								}
								if (lRangeIndex === 0) {
									lValuesText = lRangeText;
								} else {
									lValuesText = sap.firefly.XStringUtils
											.concatenate3(lValuesText, "; ",
													lRangeText);
								}
							}
							return lValuesText;
						},
						createDimension : function(oDataSource, oResultSet,
								dimensionName) {
							var loInstance = null;
							var loInternalDimension = sap.zen.Dimension
									.sGetDimensionObject(oDataSource,
											dimensionName);
							if (loInternalDimension !== null) {
								loInstance = new sap.zen.Dimension();
								loInstance.initMe(null, oDataSource,
										oResultSet, dimensionName);
							}
							return loInstance;
						},
						createProperties : function(oParent, oDataSource,
								oResultSet, dimensionName) {
							var loInstance = null;
							var loInternalDimension;
							if (oParent !== null
									&& !sap.firefly.XString.isEqual(oParent
											.getName(), dimensionName)) {
								loInternalDimension = sap.zen.Dimension
										.sGetDimensionObject(oDataSource,
												dimensionName);
								if (loInternalDimension !== null) {
									loInstance = new sap.zen.Dimension();
									loInstance.initMe(oParent, oDataSource,
											oResultSet, dimensionName);
								}
							}
							return loInstance;
						}
					},
					oParent : null,
					oDataSource : null,
					oResultSet : null,
					dimensionName : null,
					initMe : function(oParent, oDataSource, oResultSet,
							dimensionName) {
						this.oParent = oParent;
						this.oDataSource = oDataSource;
						this.oResultSet = oResultSet;
						if (this.oResultSet !== null) {
							this.oDataSource = this.oResultSet.getDataSource();
						}
						this.dimensionName = dimensionName;
					},
					getInternalObject : function() {
						return sap.zen.Dimension.sGetDimensionObject(this
								.getDataSource(), this.dimensionName);
					},
					getDataSource : function() {
						return this.oDataSource;
					},
					getResultSet : function() {
						if (this.oResultSet === null) {
							this.oResultSet = this.getDataSource()
									.getResultSet();
						}
						return this.oResultSet;
					},
					getName : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return null;
						}
						return loInternalDimension.getName();
					},
					getText : function() {
						var loInternalDimension = this.getInternalObject();
						var lText;
						if (loInternalDimension === null) {
							return null;
						}
						lText = loInternalDimension.getText();
						if (lText === null) {
							lText = loInternalDimension.getName();
						}
						return lText;
					},
					getHeaderText : function(fieldName) {
						var lText = null;
						var loInternalAttribute;
						var loInternalField;
						if (!this.isMeasureStructure()) {
							lText = this.getText();
							loInternalAttribute = null;
							if (fieldName !== null) {
								loInternalField = sap.zen.Dimension
										.sGetFieldObject(this.getDataSource(),
												this.getName(), fieldName);
								if (loInternalField !== null) {
									loInternalAttribute = loInternalField
											.getAttribute();
								}
							} else {
								loInternalAttribute = sap.zen.Dimension
										.sGetAttributeObject(this
												.getDataSource(), this
												.getName(), null);
							}
							if (loInternalAttribute !== null
									&& sap.zen.DataSourceScriptApiUtils
											.isAttribute1(loInternalAttribute
													.getQueryModel()
													.getQueryManager(),
													loInternalAttribute)) {
								lText = loInternalAttribute.getText();
								if (sap.firefly.XStringUtils
										.isNullOrEmpty(lText)) {
									lText = loInternalAttribute.getKeyField()
											.getAliasName();
								}
							}
						}
						return lText;
					},
					getKeyField : function(attributeName, useDisplayKey) {
						var lFieldName = null;
						var loInternalField = sap.zen.Dimension
								.sGetKeyFieldObject(this.getDataSource(), this
										.getName(), attributeName,
										useDisplayKey);
						if (loInternalField !== null) {
							lFieldName = loInternalField.getName();
						}
						return lFieldName;
					},
					getTextField : function(attributeName, textPresentationType) {
						var lFieldName = null;
						var loInternalField = sap.zen.Dimension
								.sGetTextFieldObject(this.getDataSource(), this
										.getName(), attributeName,
										textPresentationType);
						if (loInternalField !== null) {
							lFieldName = loInternalField.getName();
						}
						return lFieldName;
					},
					getValueType : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return null;
						}
						return loInternalDimension.getKeyField().getValueType();
					},
					isStructure : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return false;
						}
						return loInternalDimension.isStructure();
					},
					isMeasureStructure : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return false;
						}
						return loInternalDimension.isMeasureStructure();
					},
					isCompound : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return false;
						}
						if (loInternalDimension.isCompound()) {
							return true;
						}
						if (loInternalDimension
								.getFirstFieldByType(sap.firefly.PresentationType.DISPLAY_KEY_NOT_COMPOUND) !== null) {
							return true;
						}
						return false;
					},
					isUDH : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return false;
						}
						return false;
					},
					getAxis : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return null;
						}
						return loInternalDimension.getAxis().getType();
					},
					getOtherAxis : function() {
						var lAxis = this.getAxis();
						if (lAxis.isEqualTo(sap.firefly.AxisType.COLUMNS)) {
							return sap.firefly.AxisType.ROWS;
						} else {
							if (lAxis.isEqualTo(sap.firefly.AxisType.ROWS)) {
								return sap.firefly.AxisType.COLUMNS;
							} else {
								return lAxis;
							}
						}
					},
					getIndexOnAxis : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return -1;
						}
						return loInternalDimension.getIndexOnAxis();
					},
					getFilterHeaderText : function() {
						var lValue = "";
						if (this.isMeasureStructure()) {
							sap.zen.CLocalizationFilterTexts.staticSetup();
							lValue = sap.zen.CLocalizationFilterTexts.MEASURES
									.getText(this.getDataSource()
											.getMessageWriter()
											.getLocalization(), null, null,
											null);
						} else {
							lValue = this.getText();
							if (sap.firefly.XStringUtils.isNullOrEmpty(lValue)) {
								lValue = sap.zen.DataSourceScriptApiUtils
										.getDimensionNameForNavigation(this
												.getDataSource().getPage(),
												this);
							}
						}
						return lValue;
					},
					clearFilter : function(triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loInternalFilter;
						var loSelectionState;
						var loCartesianProduct;
						var loCartesianList;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						loInternalFilter = loInternalDimension.getQueryModel()
								.getSelector();
						loSelectionState = loInternalFilter
								.getSelectionStateContainer();
						loCartesianProduct = loSelectionState
								.getCartesianProduct();
						if (loCartesianProduct === null) {
							return;
						}
						loCartesianList = loCartesianProduct
								.getCartesianList(loInternalDimension);
						if (loCartesianList === null) {
							return;
						}
						loCartesianList.clear();
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.ClearDimensionFilter
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					},
					setFilter : function(oObject, useDisplayKey,
							triggerChangedEvent) {
						var loRange = sap.zen.DataSourceScriptApiUtils
								.convertSelectionObjectToRangeList(oObject,
										true, true, false);
						this.setFilterFromRange(loRange.getSecondObject(),
								useDisplayKey, triggerChangedEvent);
					},
					setFilterValue : function(value, useDisplayKey,
							triggerChangedEvent) {
						var loMemberWrapperLow = null;
						var ltRanges;
						var loRange;
						if (value !== null) {
							loMemberWrapperLow = new sap.zen.MemberKeyWrapper();
							loMemberWrapperLow.initMe(value);
						}
						if (loMemberWrapperLow === null) {
							return;
						}
						ltRanges = sap.firefly.XList.create();
						loRange = new sap.zen.Range();
						loRange.initMe2(loMemberWrapperLow);
						loRange.setOperation(sap.zen.Operation.EQ);
						loRange.setExclude(false);
						ltRanges.add(loRange);
						this.setFilterFromRange(ltRanges, useDisplayKey,
								triggerChangedEvent);
					},
					setFilterRange : function(lowValue, highValue, exclude,
							useDisplayKey, triggerChangedEvent) {
						var loMemberWrapperLow = null;
						var loMemberWrapperHigh;
						var ltRanges;
						var loRange;
						if (lowValue !== null) {
							loMemberWrapperLow = new sap.zen.MemberKeyWrapper();
							loMemberWrapperLow.initMe(lowValue);
						}
						loMemberWrapperHigh = null;
						if (highValue !== null) {
							loMemberWrapperHigh = new sap.zen.MemberKeyWrapper();
							loMemberWrapperHigh.initMe(highValue);
						}
						if (loMemberWrapperLow === null
								&& loMemberWrapperHigh === null) {
							return;
						}
						ltRanges = sap.firefly.XList.create();
						loRange = new sap.zen.Range();
						if (loMemberWrapperLow !== null
								&& loMemberWrapperHigh !== null) {
							loRange.initMe2(loMemberWrapperLow);
							loRange.setTo(loMemberWrapperHigh);
							loRange.setOperation(sap.zen.Operation.BT);
							loRange.setExclude(exclude);
						} else {
							if (loMemberWrapperLow !== null) {
								loRange.initMe2(loMemberWrapperLow);
								loRange.setOperation(sap.zen.Operation.GE);
								loRange.setExclude(exclude);
							} else {
								loRange.initMe2(loMemberWrapperHigh);
								loRange.setOperation(sap.zen.Operation.LE);
								loRange.setExclude(exclude);
							}
						}
						ltRanges.add(loRange);
						this.setFilterFromRange(ltRanges, useDisplayKey,
								triggerChangedEvent);
					},
					setFilterFromRange : function(tRanges, useDisplayKey,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loCharacteristicWrapper;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						if (tRanges === null || tRanges.isEmpty()) {
							return;
						}
						loCharacteristicWrapper = new sap.zen.CharacteristicWrapper();
						loCharacteristicWrapper.initMe(this.getDataSource(),
								loInternalDimension, null, null,
								sap.zen.FPMemberDisplay.KEY_TEXT, this
										.getDataSource().getMessageWriter(),
								false);
						loCharacteristicWrapper.resetQuery();
						loCharacteristicWrapper.setFullRangeQueryByField(
								tRanges, useDisplayKey);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.SetDimensionFilter
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty("Filter",
									tRanges.toString());
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					},
					getFilterValues : function() {
						var loInternalDimension = this.getInternalObject();
						var loCharacteristicWrapper;
						if (loInternalDimension === null) {
							return null;
						}
						loCharacteristicWrapper = new sap.zen.CharacteristicWrapper();
						loCharacteristicWrapper.initMe(this.getDataSource(),
								loInternalDimension, null, null,
								sap.zen.FPMemberDisplay.KEY_TEXT, this
										.getDataSource().getMessageWriter(),
								false);
						return loCharacteristicWrapper.getAllSelections();
					},
					getFilterValuesAsString : function(valueType) {
						return sap.zen.Dimension.sGetValuesFromRangeList(this
								.getFilterValues(), valueType);
					},
					getVariableValues : function(variableName) {
						var loVariable = this.getDataSource().getQueryManager()
								.getVariableContainer().getVariable(
										variableName);
						var loVariableWrapper = sap.zen.VariableWrapper
								.createWrapper(loVariable, this.getDataSource()
										.getMessageWriter());
						return loVariableWrapper.getAllSelections();
					},
					getVariableValuesAsString : function(variableName,
							valueType) {
						return sap.zen.Dimension.sGetValuesFromRangeList(this
								.getVariableValues(variableName), valueType);
					},
					getResultSetFields : function() {
						var ltVisibleFields = sap.firefly.XListOfString
								.create();
						var loInternalDimension = this.getInternalObject();
						var loInternalResultSet;
						var ltInternalResultDimensions;
						var lDimensionIndex;
						var loResultDimension;
						var ltVisibleResultFields;
						var lFieldIndex;
						var lFieldName;
						var ltInternalResultSetAttributes;
						var loResultSetAttributeIndex;
						var loInternalResultSetAttribute;
						var ltInternalResultSetFields;
						var loResultSetFieldsIndex;
						var loInternalResultSetField;
						if (loInternalDimension === null) {
							return ltVisibleFields;
						}
						loInternalResultSet = this.getResultSet()
								.getInternalObject();
						if (loInternalResultSet !== null) {
							ltInternalResultDimensions = loInternalResultSet
									.getAxis(this.getAxis()).getRsDimensions();
							for (lDimensionIndex = 0; lDimensionIndex < ltInternalResultDimensions
									.size(); lDimensionIndex++) {
								loResultDimension = ltInternalResultDimensions
										.get(lDimensionIndex);
								if (loResultDimension === null) {
									continue;
								}
								if (loResultDimension.getDimension() === loInternalDimension) {
									ltVisibleResultFields = loResultDimension
											.getVisibleFields();
									for (lFieldIndex = 0; lFieldIndex < ltVisibleResultFields
											.size(); lFieldIndex++) {
										lFieldName = ltVisibleResultFields.get(
												lFieldIndex).getName();
										ltVisibleFields.add(lFieldName);
									}
								}
							}
						} else {
							ltInternalResultSetAttributes = loInternalDimension
									.getResultSetAttributes();
							for (loResultSetAttributeIndex = 0; loResultSetAttributeIndex < ltInternalResultSetAttributes
									.size(); loResultSetAttributeIndex++) {
								loInternalResultSetAttribute = ltInternalResultSetAttributes
										.get(loResultSetAttributeIndex);
								if (loInternalResultSetAttribute === null) {
									continue;
								}
								ltInternalResultSetFields = loInternalResultSetAttribute
										.getResultSetFields();
								for (loResultSetFieldsIndex = 0; loResultSetFieldsIndex < ltInternalResultSetFields
										.size(); loResultSetFieldsIndex++) {
									loInternalResultSetField = ltInternalResultSetFields
											.get(loResultSetFieldsIndex);
									if (loInternalResultSetField === null) {
										continue;
									}
									if (this.getDataSource().isHanaSystem()) {
										if (this.isMeasureStructure()) {
											if (sap.firefly.XString.isEqual(
													loInternalDimension
															.getTextField()
															.getName(),
													loInternalResultSetField
															.getName())) {
												ltVisibleFields
														.add(loInternalResultSetField
																.getName());
											}
										} else {
											if (sap.zen.DataSourceScriptApiUtils
													.isViewableDimension(loInternalDimension)) {
												ltVisibleFields
														.add(loInternalResultSetField
																.getName());
											}
										}
									} else {
										ltVisibleFields
												.add(loInternalResultSetField
														.getName());
									}
								}
							}
						}
						return ltVisibleFields;
					},
					getDimensionMembers : function(maxMembers) {
						var ltDimensionMembers = sap.firefly.XList.create();
						var loInternalDimension = this.getInternalObject();
						var loInternalDimensionMember;
						var loDimensionMember;
						var ltInternalStructureMembers;
						var i;
						var loInternalStructureMember;
						var ltVisibleFields;
						var ltInternalSelectorFields;
						var lVisibleFieldIndex;
						var lVisibleField;
						var loInternalField;
						var loResult;
						var ltData;
						var lMemberIndex;
						var loDataNode;
						if (loInternalDimension === null) {
							return ltDimensionMembers;
						}
						loInternalDimensionMember = null;
						loDimensionMember = null;
						if (this.isMeasureStructure()) {
							ltInternalStructureMembers = loInternalDimension
									.getAllStructureMembers();
							for (i = 0; i < ltInternalStructureMembers.size(); i++) {
								loInternalStructureMember = ltInternalStructureMembers
										.get(i);
								loDimensionMember = sap.zen.DimensionMemberWrapper
										.create(this, loInternalStructureMember);
								ltDimensionMembers.add(loDimensionMember);
							}
						} else {
							loInternalDimension.clearSelectorSelections();
							loInternalDimension
									.setSelectorPagingEnd(maxMembers);
							ltVisibleFields = this.getResultSetFields();
							if (ltVisibleFields !== null) {
								ltInternalSelectorFields = loInternalDimension
										.getSelectorFields();
								for (lVisibleFieldIndex = 0; lVisibleFieldIndex < ltVisibleFields
										.size(); lVisibleFieldIndex++) {
									lVisibleField = ltVisibleFields
											.get(lVisibleFieldIndex);
									loInternalField = loInternalDimension
											.getFieldByName(lVisibleField);
									if (loInternalField !== null) {
										ltInternalSelectorFields
												.add(loInternalField);
									}
								}
							}
							loResult = loInternalDimension.processMemberHelp(
									sap.firefly.SyncType.BLOCKING, null, null);
							if (loResult.isValid()) {
								ltData = loResult.getData();
								for (lMemberIndex = 0; lMemberIndex < ltData
										.size(); lMemberIndex++) {
									loDataNode = ltData.get(lMemberIndex);
									if (loDataNode === null) {
										continue;
									}
									loInternalDimensionMember = loDataNode
											.getDimensionMember();
									loDimensionMember = sap.zen.DimensionMemberWrapper
											.create(this,
													loInternalDimensionMember);
									ltDimensionMembers.add(loDimensionMember);
								}
							}
						}
						return ltDimensionMembers;
					},
					getDimensionMembersForFieldValues : function(fieldName,
							tValues) {
						return this.fetchDimensionMembers(fieldName, tValues,
								-1);
					},
					fetchDimensionMembers : function(fieldName, tValues,
							maxMembers) {
						var ltDimensionMembers = sap.firefly.XList.create();
						var loInternalDimension = this.getInternalObject();
						var loInternalDimensionMember;
						var loDimensionMember;
						var loKeyField;
						var loDisplayKeyField;
						var loTextField;
						var ltInternalSelectorFields;
						var ltVisibleFields;
						var lVisibleFieldIndex;
						var lVisibleField;
						var loInternalField;
						var loField;
						var lValueIndex;
						var lSearchString;
						var loResult;
						var ltData;
						var lMemberIndex;
						var loDataNode;
						if (loInternalDimension === null) {
							return ltDimensionMembers;
						}
						loInternalDimensionMember = null;
						loDimensionMember = null;
						loKeyField = loInternalDimension.getFieldByName(this
								.getKeyField(null, false));
						loDisplayKeyField = loInternalDimension
								.getFieldByName(this.getKeyField(null, true));
						loTextField = loInternalDimension.getFieldByName(this
								.getTextField(null, null));
						loInternalDimension.clearSelectorSelections();
						if (tValues !== null && !tValues.isEmpty()) {
							loInternalDimension.setSelectorPagingEnd(-1);
						} else {
							loInternalDimension
									.setSelectorPagingEnd(maxMembers);
						}
						ltInternalSelectorFields = loInternalDimension
								.getSelectorFields();
						ltInternalSelectorFields.add(loKeyField);
						ltInternalSelectorFields.add(loDisplayKeyField);
						if (this.getMemberDisplay(null) !== sap.zen.CMemberDisplayMode.KEY
								&& !loInternalDimension.getKeyField()
										.getValueType().isTypeOf(
												sap.firefly.XValueType.DATE)) {
							ltInternalSelectorFields.add(loTextField);
							ltInternalSelectorFields.add(loInternalDimension
									.getTextField());
						}
						ltVisibleFields = this.getResultSetFields();
						if (ltVisibleFields !== null) {
							for (lVisibleFieldIndex = 0; lVisibleFieldIndex < ltVisibleFields
									.size(); lVisibleFieldIndex++) {
								lVisibleField = ltVisibleFields
										.get(lVisibleFieldIndex);
								loInternalField = loInternalDimension
										.getFieldByName(lVisibleField);
								if (loInternalField !== null) {
									ltInternalSelectorFields
											.add(loInternalField);
								}
							}
						}
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(fieldName)
								&& tValues !== null) {
							loField = loInternalDimension
									.getFieldByName(fieldName);
							for (lValueIndex = 0; lValueIndex < tValues.size(); lValueIndex++) {
								lSearchString = tValues.get(lValueIndex);
								if (!this.isMeasureStructure()) {
									if (!loInternalDimension
											.supportsLowerCase()
											|| loField.getValueType() === sap.firefly.XValueType.UPPER_CASE_STRING) {
										lSearchString = sap.firefly.XString
												.convertToUpperCase(lSearchString);
									} else {
										if (loField.getValueType() === sap.firefly.XValueType.LOWER_CASE_STRING) {
											lSearchString = sap.firefly.XString
													.convertToLowerCase(lSearchString);
										}
									}
								}
								loInternalDimension.addSelectorSelection(this
										.createValueObjectForField(loField,
												lSearchString), loField,
										sap.firefly.ComparisonOperator.EQUAL);
							}
						}
						loResult = loInternalDimension.processMemberHelp(
								sap.firefly.SyncType.BLOCKING, null, null);
						if (loResult.isValid()) {
							ltData = loResult.getData();
							for (lMemberIndex = 0; lMemberIndex < ltData.size(); lMemberIndex++) {
								loDataNode = ltData.get(lMemberIndex);
								if (loDataNode === null) {
									continue;
								}
								loInternalDimensionMember = loDataNode
										.getDimensionMember();
								loDimensionMember = sap.zen.DimensionMemberWrapper
										.create(this, loInternalDimensionMember);
								ltDimensionMembers.add(loDimensionMember);
							}
						}
						return ltDimensionMembers;
					},
					createValueObjectForField : function(oField, value) {
						var lValueType = oField.getValueType();
						var loDate;
						var ltValuess;
						var ltDimensionMembers;
						try {
							if (lValueType === sap.firefly.XValueType.STRING) {
								return sap.firefly.XStringValue.create(value);
							} else {
								if (lValueType === sap.firefly.XValueType.LONG) {
									return sap.firefly.XLongValue
											.create(sap.firefly.XLong
													.convertStringToLong(value));
								} else {
									if (lValueType === sap.firefly.XValueType.INTEGER) {
										return sap.firefly.XIntegerValue
												.create(sap.firefly.XInteger
														.convertStringToInteger(value));
									} else {
										if ((lValueType === sap.firefly.XValueType.DOUBLE)
												|| (lValueType === sap.firefly.XValueType.DECIMAL_FLOAT)) {
											return sap.firefly.XDoubleValue
													.create(sap.firefly.XDouble
															.convertStringToDouble(value));
										} else {
											if (lValueType === sap.firefly.XValueType.DATE) {
												loDate = null;
												try {
													loDate = sap.firefly.XDate
															.createDateFromString(
																	value, null);
												} catch (lABAPDateException) {
													loDate = null;
												}
												if (loDate === null) {
													try {
														loDate = sap.firefly.XDate
																.createDateFromString(
																		value,
																		sap.firefly.XValueFormat.ISO_DATE);
													} catch (lISODateException) {
														loDate = null;
													}
												}
												if (loDate === null
														&& sap.firefly.XStringUtils
																.isNotNullAndNotEmpty(value)) {
													ltValuess = sap.firefly.XListOfString
															.create();
													ltValuess.add(value);
													ltDimensionMembers = this
															.getDimensionMembersForFieldValues(
																	this
																			.getKeyField(
																					null,
																					false),
																	ltValuess);
													if (!ltDimensionMembers
															.isEmpty()) {
														loDate = ltDimensionMembers
																.get(0)
																.getInternalObject()
																.getKeyFieldValue()
																.getDateValue();
													}
												}
												return loDate;
											} else {
												if (lValueType === sap.firefly.XValueType.TIME) {
													return sap.firefly.XTime
															.createTimeFromString(
																	value, null);
												} else {
													if (lValueType === sap.firefly.XValueType.DATE_TIME) {
														return sap.firefly.XDateTime
																.createDateTimeFromString(
																		value,
																		null);
													} else {
														if (lValueType === sap.firefly.XValueType.TIMESPAN) {
															return sap.firefly.XTimeSpan
																	.create(sap.firefly.XLong
																			.convertStringToLong(value));
														}
													}
												}
											}
										}
									}
								}
							}
						} catch (e) {
							return null;
						}
						throw sap.firefly.XException
								.createIllegalStateException(sap.firefly.XStringUtils
										.concatenate2(
												"Value type not supported: ",
												lValueType.getName()));
					},
					getDimensionMembersInResultSet : function(maxMembers) {
						var ltDimensionMembers = sap.firefly.XList.create();
						var loInternalDimension = this.getInternalObject();
						var loResultSet;
						var loInternalResultSet;
						var lDimensionMemberIndex;
						var loDimensionMember;
						var ltInternalDimensionMembers;
						var loInternalDimensionMember;
						var ltAllDimensionMembers;
						var ltDimensionMemberMap;
						var loCharacteristicWrapper;
						var ltRanges;
						var ltRemoveDimensionMember;
						var lRangeIndex;
						var loRange;
						if (loInternalDimension === null) {
							return ltDimensionMembers;
						}
						loResultSet = this.getResultSet();
						if (loResultSet === null) {
							return ltDimensionMembers;
						}
						loInternalResultSet = loResultSet.getInternalObject();
						if (loInternalResultSet === null) {
							return ltDimensionMembers;
						}
						lDimensionMemberIndex = 0;
						loDimensionMember = null;
						if (loResultSet.hasData()) {
							ltInternalDimensionMembers = loInternalResultSet
									.getAxis(this.getAxis()).getAllMembers(
											loInternalDimension);
							if (ltInternalDimensionMembers !== null
									&& !ltInternalDimensionMembers.isEmpty()) {
								for (lDimensionMemberIndex = 0; lDimensionMemberIndex < ltInternalDimensionMembers
										.size(); lDimensionMemberIndex++) {
									loInternalDimensionMember = ltInternalDimensionMembers
											.get(lDimensionMemberIndex);
									if (loInternalDimensionMember === null) {
										continue;
									}
									loDimensionMember = sap.zen.DimensionMemberWrapper
											.create(this,
													loInternalDimensionMember);
									ltDimensionMembers.add(loDimensionMember);
								}
							}
						} else {
							if (!this.isMeasureStructure()) {
								return ltDimensionMembers;
							}
							ltAllDimensionMembers = this
									.getDimensionMembers(maxMembers);
							ltDimensionMemberMap = sap.firefly.XHashMapByString
									.create();
							for (lDimensionMemberIndex = 0; lDimensionMemberIndex < ltAllDimensionMembers
									.size(); lDimensionMemberIndex++) {
								loDimensionMember = ltAllDimensionMembers
										.get(lDimensionMemberIndex);
								if (loDimensionMember === null) {
									continue;
								}
								ltDimensionMemberMap.put(loDimensionMember
										.getName(), loDimensionMember);
							}
							loCharacteristicWrapper = new sap.zen.CharacteristicWrapper();
							loCharacteristicWrapper.initMe(
									this.getDataSource(), loInternalDimension,
									null, null,
									sap.zen.FPMemberDisplay.KEY_TEXT,
									this.getDataSource().getMessageWriter(),
									false);
							ltRanges = loCharacteristicWrapper
									.getAllSelections();
							ltRemoveDimensionMember = sap.firefly.XList
									.create();
							for (lRangeIndex = 0; lRangeIndex < ltRanges.size(); lRangeIndex++) {
								loRange = ltRanges.get(lRangeIndex);
								if (loRange === null) {
									continue;
								}
								if (!loRange.isExclude()) {
									if (loRange.getOperation() === sap.zen.Operation.EQ) {
										ltDimensionMembers
												.add(ltDimensionMemberMap
														.getByKey(loRange
																.getFrom()
																.getKey()));
									}
								} else {
									if (loRange.getOperation() === sap.zen.Operation.EQ) {
										ltRemoveDimensionMember
												.add(ltDimensionMemberMap
														.getByKey(loRange
																.getFrom()
																.getKey()));
									}
								}
							}
							if (ltDimensionMembers.isEmpty()
									|| !ltRemoveDimensionMember.isEmpty()) {
								for (lDimensionMemberIndex = 0; lDimensionMemberIndex < ltAllDimensionMembers
										.size(); lDimensionMemberIndex++) {
									loDimensionMember = ltAllDimensionMembers
											.get(lDimensionMemberIndex);
									if (loDimensionMember === null) {
										continue;
									}
									ltDimensionMembers.add(loDimensionMember);
								}
							}
							for (lDimensionMemberIndex = 0; lDimensionMemberIndex < ltRemoveDimensionMember
									.size(); lDimensionMemberIndex++) {
								loDimensionMember = ltRemoveDimensionMember
										.get(lDimensionMemberIndex);
								if (loDimensionMember === null) {
									continue;
								}
								ltDimensionMembers
										.removeElement(loDimensionMember);
							}
						}
						return ltDimensionMembers;
					},
					isDimensionMemberInResultSet : function(memberName) {
						var loInternalDimension = this.getInternalObject();
						var ltVisibleDimensionMembers;
						var lAmountOfVisibleDimensionMembers;
						var lAmountOfDimensionMembers;
						var lDimensionMemberIsVisible;
						var i;
						var loVisibleDimensionMember;
						if (loInternalDimension === null) {
							return false;
						}
						ltVisibleDimensionMembers = this
								.getDimensionMembersInResultSet(-1);
						lAmountOfVisibleDimensionMembers = ltVisibleDimensionMembers
								.size();
						lAmountOfDimensionMembers = loInternalDimension
								.getAllStructureMembers().size();
						lDimensionMemberIsVisible = (lAmountOfDimensionMembers === lAmountOfVisibleDimensionMembers);
						if (lDimensionMemberIsVisible !== true) {
							for (i = 0; i < ltVisibleDimensionMembers.size(); i++) {
								loVisibleDimensionMember = ltVisibleDimensionMembers
										.get(i);
								if (loVisibleDimensionMember === null) {
									continue;
								}
								if (sap.firefly.XString.isEqual(
										loVisibleDimensionMember.getName(),
										memberName)) {
									lDimensionMemberIsVisible = true;
									break;
								}
							}
						}
						return lDimensionMemberIsVisible;
					},
					addDimensionMemberToResultSet : function(memberName,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var ltVisibleDimensionMembers;
						var ltRanges;
						var loRange;
						var loMemberWrapper;
						var i;
						var loVisibleDimensionMember;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						ltVisibleDimensionMembers = this
								.getDimensionMembersInResultSet(-1);
						ltRanges = sap.firefly.XList.create();
						loRange = null;
						loMemberWrapper = null;
						for (i = 0; i < ltVisibleDimensionMembers.size(); i++) {
							loVisibleDimensionMember = ltVisibleDimensionMembers
									.get(i);
							if (loVisibleDimensionMember === null) {
								continue;
							}
							loMemberWrapper = new sap.zen.MemberKeyWrapper();
							loMemberWrapper.initMe(loVisibleDimensionMember
									.getName());
							loRange = new sap.zen.Range();
							loRange.initMe2(loMemberWrapper);
							loRange.setOperation(sap.zen.Operation.EQ);
							loRange.setExclude(false);
							ltRanges.add(loRange);
						}
						loMemberWrapper = new sap.zen.MemberKeyWrapper();
						loMemberWrapper.initMe(memberName);
						loRange = new sap.zen.Range();
						loRange.initMe2(loMemberWrapper);
						loRange.setOperation(sap.zen.Operation.EQ);
						loRange.setExclude(false);
						ltRanges.add(loRange);
						if (loInternalDimension.getAllStructureMembers().size() === ltRanges
								.size()) {
							this.clearFilter(false);
						} else {
							this.setFilterFromRange(ltRanges, false, false);
						}
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.AddMemberToResultSet
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty(
									"DimensionMember", memberName);
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					},
					removeDimensionMemberFromResultSet : function(memberName,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var ltVisibleDimensionMembers;
						var ltRanges;
						var loRange;
						var loMemberWrapper;
						var i;
						var loVisibleDimensionMember;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						ltVisibleDimensionMembers = this
								.getDimensionMembersInResultSet(-1);
						ltRanges = sap.firefly.XList.create();
						loRange = null;
						loMemberWrapper = null;
						for (i = 0; i < ltVisibleDimensionMembers.size(); i++) {
							loVisibleDimensionMember = ltVisibleDimensionMembers
									.get(i);
							if (loVisibleDimensionMember === null) {
								continue;
							}
							if (sap.firefly.XString.isEqual(
									loVisibleDimensionMember.getName(),
									memberName)) {
								continue;
							}
							loMemberWrapper = new sap.zen.MemberKeyWrapper();
							loMemberWrapper.initMe(loVisibleDimensionMember
									.getName());
							loRange = new sap.zen.Range();
							loRange.initMe2(loMemberWrapper);
							loRange.setOperation(sap.zen.Operation.EQ);
							loRange.setExclude(false);
							ltRanges.add(loRange);
						}
						this.setFilterFromRange(ltRanges, false, false);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.RemoveMemberFromResultSet
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty(
									"DimensionMember", memberName);
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					},
					isAttributeInResultSet : function(attributeName) {
						var loInternalDimension = this.getInternalObject();
						var loInternalAttribute;
						if (loInternalDimension === null) {
							return false;
						}
						loInternalAttribute = sap.zen.Dimension
								.sGetAttributeObject(this.getDataSource(), this
										.getName(), attributeName);
						if (loInternalAttribute === null) {
							return false;
						}
						return loInternalDimension.getResultSetAttributes()
								.contains(loInternalAttribute)
								|| loInternalDimension.getResultSetFields()
										.contains(
												loInternalAttribute
														.getKeyField());
					},
					addAttributeToResultSet : function(attributeName,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loInternalAttribute;
						var ltInternalResultSetAttributes;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						loInternalAttribute = sap.zen.Dimension
								.sGetAttributeObject(this.getDataSource(), this
										.getName(), attributeName);
						if (loInternalAttribute === null) {
							return;
						}
						ltInternalResultSetAttributes = loInternalDimension
								.getResultSetAttributes();
						ltInternalResultSetAttributes.add(loInternalAttribute);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.AddAttributeToResultSet
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty("Attribute",
									attributeName);
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					},
					removeAttributeFromResultSet : function(attributeName,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loInternalAttribute;
						var ltInternalResultSetAttributes;
						var ltInternaloResultSetFields;
						var loResultSetFieldIndex;
						var loInternalResultSetField;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						loInternalAttribute = sap.zen.Dimension
								.sGetAttributeObject(this.getDataSource(), this
										.getName(), attributeName);
						if (loInternalAttribute === null) {
							return;
						}
						ltInternalResultSetAttributes = loInternalDimension
								.getResultSetAttributes();
						ltInternalResultSetAttributes
								.removeElement(loInternalAttribute);
						ltInternaloResultSetFields = loInternalAttribute
								.getResultSetFields();
						for (loResultSetFieldIndex = 0; loResultSetFieldIndex < ltInternaloResultSetFields
								.size(); loResultSetFieldIndex++) {
							loInternalResultSetField = ltInternaloResultSetFields
									.get(loResultSetFieldIndex);
							if (loInternalResultSetField === null) {
								continue;
							}
							loInternalDimension.getResultSetFields()
									.removeElement(loInternalResultSetField);
							loInternalDimension.getMainAttribute()
									.getResultSetFields().removeElement(
											loInternalResultSetField);
						}
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.RemoveAttributeFromResultSet
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty("Attribute",
									attributeName);
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					},
					getProperties : function() {
						var loInternalDimension = this.getInternalObject();
						var loProperties;
						if (loInternalDimension === null) {
							return null;
						}
						loProperties = this;
						return loProperties;
					},
					getDimension : function() {
						return this;
					},
					getAttributes : function() {
						var loInternalDimension = this.getInternalObject();
						var ltAttributes;
						var ltInternalAttributes;
						var lAttributeIndex;
						var loInternalAttribute;
						if (loInternalDimension === null) {
							return null;
						}
						ltAttributes = sap.firefly.XListOfString.create();
						ltInternalAttributes = loInternalDimension
								.getAttributes();
						for (lAttributeIndex = 0; lAttributeIndex < ltInternalAttributes
								.size(); lAttributeIndex++) {
							loInternalAttribute = ltInternalAttributes
									.get(lAttributeIndex);
							if (loInternalAttribute === null) {
								continue;
							}
							if (sap.zen.DataSourceScriptApiUtils.isAttribute(
									this.getDataSource(), loInternalAttribute)) {
								ltAttributes.add(loInternalAttribute.getName());
							}
						}
						return ltAttributes;
					},
					getAttributeText : function(attributeName) {
						var loInternalDimension = this.getInternalObject();
						var loInternalAttribute;
						var lText;
						if (loInternalDimension === null) {
							return null;
						}
						loInternalAttribute = sap.zen.Dimension
								.sGetAttributeObject(this.getDataSource(), this
										.getName(), attributeName);
						if (loInternalAttribute === null) {
							return null;
						}
						lText = loInternalAttribute.getText();
						if (lText === null) {
							lText = loInternalAttribute.getName();
						}
						return lText;
					},
					getSupportedMemberDisplayOptions : function(attributeName) {
						var loInternalDimension = this.getInternalObject();
						var loInternalAttribute;
						var lSupportsTexts;
						var loInternalField;
						var ltSupportedMemberDisplay;
						if (loInternalDimension === null) {
							return null;
						}
						loInternalAttribute = sap.zen.Dimension
								.sGetAttributeObject(this.getDataSource(), this
										.getName(), attributeName);
						lSupportsTexts = false;
						if (loInternalAttribute !== null) {
							loInternalField = loInternalAttribute
									.getTextField();
							lSupportsTexts = loInternalField !== null
									&& loInternalField
											.getPresentationType()
											.isTypeOf(
													sap.firefly.PresentationType.TEXT);
						}
						ltSupportedMemberDisplay = sap.firefly.XList.create();
						ltSupportedMemberDisplay
								.add(sap.zen.CMemberDisplayMode.KEY);
						if (lSupportsTexts) {
							ltSupportedMemberDisplay
									.add(sap.zen.CMemberDisplayMode.TEXT);
							ltSupportedMemberDisplay
									.add(sap.zen.CMemberDisplayMode.KEY_TEXT);
							ltSupportedMemberDisplay
									.add(sap.zen.CMemberDisplayMode.TEXT_KEY);
						}
						return ltSupportedMemberDisplay;
					},
					setMemberDisplay : function(attributeName, memberDisplay,
							textPresentationType, triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loInternalAttribute;
						var loInternalKeyField;
						var loInternalTextField;
						var ltInternalResultSetFields;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						loInternalAttribute = sap.zen.Dimension
								.sGetAttributeObject(this.getDataSource(), this
										.getName(), attributeName);
						if (loInternalAttribute === null) {
							return;
						}
						loInternalKeyField = sap.zen.Dimension
								.sGetKeyFieldObject(this.getDataSource(), this
										.getName(), attributeName, true);
						loInternalTextField = sap.zen.Dimension
								.sGetTextFieldObject(this.getDataSource(), this
										.getName(), attributeName,
										textPresentationType);
						ltInternalResultSetFields = loInternalAttribute
								.getResultSetFields();
						ltInternalResultSetFields.clear();
						if (memberDisplay === sap.zen.CMemberDisplayMode.TEXT) {
							ltInternalResultSetFields.add(loInternalTextField);
						} else {
							if (memberDisplay === sap.zen.CMemberDisplayMode.KEY) {
								ltInternalResultSetFields
										.add(loInternalKeyField);
							} else {
								if (memberDisplay === sap.zen.CMemberDisplayMode.KEY_TEXT) {
									ltInternalResultSetFields
											.add(loInternalKeyField);
									ltInternalResultSetFields
											.add(loInternalTextField);
								} else {
									if (memberDisplay === sap.zen.CMemberDisplayMode.TEXT_KEY) {
										ltInternalResultSetFields
												.add(loInternalTextField);
										ltInternalResultSetFields
												.add(loInternalKeyField);
									}
								}
							}
						}
						if (attributeName !== null) {
							loInternalDimension
									.setFieldLayoutType(sap.firefly.FieldLayoutType.ATTRIBUTE_BASED);
						}
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.SetMemberDisplay
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty(
									"MemberDisplay", memberDisplay.getValue());
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					},
					getMemberDisplay : function(attributeName) {
						var loInternalDimension = this.getInternalObject();
						var loInternalAttribute;
						var ltInternaloResultSetFields;
						var lKeyPresentationIndex;
						var lTextPresentationIndex;
						var loResultSetFieldsIndex;
						var loInternalResultSetField;
						var loInternalFieldContainer;
						var loInternalMainAttribute;
						var lFieldPresentationType;
						var lMemberDisplay;
						if (loInternalDimension === null) {
							return null;
						}
						loInternalAttribute = sap.zen.Dimension
								.sGetAttributeObject(this.getDataSource(), this
										.getName(), attributeName);
						if (loInternalAttribute === null) {
							return null;
						}
						ltInternaloResultSetFields = loInternalAttribute
								.getResultSetFields();
						lKeyPresentationIndex = -1;
						lTextPresentationIndex = -1;
						for (loResultSetFieldsIndex = 0; loResultSetFieldsIndex < ltInternaloResultSetFields
								.size(); loResultSetFieldsIndex++) {
							loInternalResultSetField = ltInternaloResultSetFields
									.get(loResultSetFieldsIndex);
							if (loInternalResultSetField === null) {
								continue;
							}
							if (sap.zen.DataSourceScriptApiUtils
									.isHanaSystem(this.getDataSource())) {
								loInternalFieldContainer = loInternalDimension;
								loInternalMainAttribute = loInternalDimension
										.getMainAttribute();
								if (loInternalAttribute !== null) {
									loInternalFieldContainer = loInternalAttribute;
									loInternalMainAttribute = loInternalAttribute;
								}
								if (loInternalDimension.supportsHierarchy()
										&& loInternalDimension
												.isHierarchyAssignedAndActive()) {
									if (loInternalResultSetField === loInternalFieldContainer
											.getHierarchyKeyField()
											|| loInternalResultSetField === loInternalMainAttribute
													.getHierarchyDisplayKeyField()
											|| loInternalResultSetField === loInternalFieldContainer
													.getHierarchyDisplayKeyField()) {
										lKeyPresentationIndex = loResultSetFieldsIndex;
									} else {
										if (loInternalResultSetField === loInternalFieldContainer
												.getHierarchyTextField()
												|| loInternalResultSetField === loInternalMainAttribute
														.getHierarchyTextField()) {
											lTextPresentationIndex = loResultSetFieldsIndex;
										}
									}
								} else {
									if (loInternalResultSetField === loInternalFieldContainer
											.getKeyField()
											|| loInternalResultSetField === loInternalFieldContainer
													.getDisplayKeyField()) {
										lKeyPresentationIndex = loResultSetFieldsIndex;
									} else {
										if (loInternalResultSetField === loInternalFieldContainer
												.getTextField()
												|| loInternalResultSetField === loInternalMainAttribute
														.getTextField()) {
											lTextPresentationIndex = loResultSetFieldsIndex;
										}
									}
								}
							} else {
								lFieldPresentationType = null;
								if (loInternalAttribute !== null
										&& loInternalAttribute === loInternalResultSetField
												.getAttribute()) {
									lFieldPresentationType = loInternalResultSetField
											.getPresentationType();
								} else {
									if (loInternalAttribute === null
											&& sap.firefly.XString.isEqual(
													loInternalResultSetField
															.getAttribute()
															.getName(),
													loInternalDimension
															.getMainAttribute()
															.getName())) {
										lFieldPresentationType = loInternalResultSetField
												.getPresentationType();
									}
								}
								if (lFieldPresentationType !== null) {
									if (lFieldPresentationType
											.isTypeOf(sap.firefly.PresentationType.ABSTRACT_KEY)) {
										lKeyPresentationIndex = loResultSetFieldsIndex;
									} else {
										if (lFieldPresentationType
												.isTypeOf(sap.firefly.PresentationType.TEXT)) {
											lTextPresentationIndex = loResultSetFieldsIndex;
										}
									}
								}
							}
						}
						lMemberDisplay = null;
						if (lKeyPresentationIndex > -1
								&& lTextPresentationIndex === -1) {
							lMemberDisplay = sap.zen.CMemberDisplayMode.KEY;
						} else {
							if (lKeyPresentationIndex > -1
									&& lTextPresentationIndex > -1) {
								if (lKeyPresentationIndex < lTextPresentationIndex) {
									lMemberDisplay = sap.zen.CMemberDisplayMode.KEY_TEXT;
								} else {
									lMemberDisplay = sap.zen.CMemberDisplayMode.TEXT_KEY;
								}
							} else {
								if (lKeyPresentationIndex === -1
										&& lTextPresentationIndex > -1) {
									lMemberDisplay = sap.zen.CMemberDisplayMode.TEXT;
								}
							}
						}
						if (sap.zen.DataSourceScriptApiUtils.isHanaSystem(this
								.getDataSource())) {
							if (loInternalDimension.isMeasureStructure()) {
								lMemberDisplay = sap.zen.CMemberDisplayMode.TEXT;
							}
						}
						if (lMemberDisplay === null) {
							lMemberDisplay = sap.zen.CMemberDisplayMode.NONE;
						}
						return lMemberDisplay;
					},
					getSupportedTotalsDisplayOptions : function() {
						var ltTotalsDisplay = sap.firefly.XList.create();
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return ltTotalsDisplay;
						}
						if (!loInternalDimension.supportsResultVisibility()) {
							return ltTotalsDisplay;
						}
						ltTotalsDisplay
								.add(sap.firefly.ResultVisibility.VISIBLE);
						ltTotalsDisplay
								.add(sap.firefly.ResultVisibility.HIDDEN);
						if (loInternalDimension
								.supportsConditionalResultVisibility()) {
							ltTotalsDisplay
									.add(sap.firefly.ResultVisibility.CONDITIONAL);
						}
						return ltTotalsDisplay;
					},
					getTotalsDisplayOptions : function() {
						var ltTotalsDisplay = sap.firefly.XList.create();
						ltTotalsDisplay
								.add(sap.firefly.ResultVisibility.VISIBLE);
						ltTotalsDisplay
								.add(sap.firefly.ResultVisibility.HIDDEN);
						ltTotalsDisplay
								.add(sap.firefly.ResultVisibility.CONDITIONAL);
						return ltTotalsDisplay;
					},
					setTotalsDisplay : function(totalsDisplay,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var lResultVisibility;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return false;
						}
						if (!loInternalDimension.supportsResultVisibility()) {
							return false;
						}
						lResultVisibility = null;
						if (sap.firefly.XString.isEqual(
								sap.zen.TotalsDisplay.HIDE, totalsDisplay)
								|| sap.firefly.XString.isEqual(
										sap.firefly.ResultVisibility.HIDDEN
												.getName(), totalsDisplay)
								|| sap.firefly.XString
										.isEqual(
												sap.firefly.XString
														.convertToUpperCase(sap.firefly.ResultVisibility.HIDDEN
																.getName()),
												totalsDisplay)) {
							lResultVisibility = sap.firefly.ResultVisibility.HIDDEN;
						} else {
							if (sap.firefly.XString.isEqual(
									sap.zen.TotalsDisplay.SHOW, totalsDisplay)
									|| sap.firefly.XString
											.isEqual(
													sap.firefly.ResultVisibility.VISIBLE
															.getName(),
													totalsDisplay)
									|| sap.firefly.XString
											.isEqual(
													sap.firefly.XString
															.convertToUpperCase(sap.firefly.ResultVisibility.VISIBLE
																	.getName()),
													totalsDisplay)) {
								lResultVisibility = sap.firefly.ResultVisibility.VISIBLE;
							} else {
								if (sap.firefly.XString
										.isEqual(
												sap.zen.TotalsDisplay.HIDE_IF_ONLY_ONE_MEMBER,
												totalsDisplay)
										|| sap.firefly.XString
												.isEqual(
														sap.firefly.ResultVisibility.CONDITIONAL
																.getName(),
														totalsDisplay)
										|| sap.firefly.XString
												.isEqual(
														sap.firefly.XString
																.convertToUpperCase(sap.firefly.ResultVisibility.CONDITIONAL
																		.getName()),
														totalsDisplay)) {
									if (loInternalDimension
											.supportsConditionalResultVisibility()) {
										lResultVisibility = sap.firefly.ResultVisibility.CONDITIONAL;
									}
								}
							}
						}
						if (lResultVisibility === null) {
							return false;
						}
						if (loInternalDimension.getResultVisibility() === lResultVisibility) {
							return false;
						}
						loInternalDimension
								.setResultVisibility(lResultVisibility);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.SetTotalsDisplay
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty(
									"TotalsDisplay", lResultVisibility
											.getName());
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
						return true;
					},
					getTotalsDisplay : function() {
						var loInternalDimension = this.getInternalObject();
						var lResultVisibility;
						if (loInternalDimension === null) {
							return null;
						}
						lResultVisibility = loInternalDimension
								.getResultVisibility();
						if (lResultVisibility === sap.firefly.ResultVisibility.VISIBLE
								|| lResultVisibility === sap.firefly.ResultVisibility.HIDDEN
								|| lResultVisibility === sap.firefly.ResultVisibility.CONDITIONAL) {
							return lResultVisibility;
						}
						return null;
					},
					getSupportedTotalsPositionOptions : function() {
						var ltTotalsPosition = sap.firefly.XList.create();
						var loInternalDimension = this.getInternalObject();
						var loAxis;
						if (loInternalDimension === null) {
							return ltTotalsPosition;
						}
						loAxis = loInternalDimension.getAxis();
						if (loAxis === null) {
							return ltTotalsPosition;
						}
						if (!loAxis.supportsResultAlignment()) {
							return ltTotalsPosition;
						}
						if (loAxis
								.supportsResultAlignmentType(sap.firefly.ResultAlignment.NONE)) {
							ltTotalsPosition
									.add(sap.firefly.ResultAlignment.NONE);
						}
						if (loAxis
								.supportsResultAlignmentType(sap.firefly.ResultAlignment.TOP)) {
							ltTotalsPosition
									.add(sap.firefly.ResultAlignment.TOP);
						}
						if (loAxis
								.supportsResultAlignmentType(sap.firefly.ResultAlignment.BOTTOM)) {
							ltTotalsPosition
									.add(sap.firefly.ResultAlignment.BOTTOM);
						}
						return ltTotalsPosition;
					},
					getTotalsPositionOptions : function() {
						var ltTotalsPosition = sap.firefly.XList.create();
						ltTotalsPosition.add(sap.firefly.ResultAlignment.NONE);
						ltTotalsPosition.add(sap.firefly.ResultAlignment.TOP);
						ltTotalsPosition
								.add(sap.firefly.ResultAlignment.BOTTOM);
						return ltTotalsPosition;
					},
					setTotalsPosition : function(totalsPosition,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loInternalAxis;
						if (loInternalDimension === null) {
							return false;
						}
						loInternalAxis = loInternalDimension.getAxis();
						if (loInternalAxis === null
								|| !loInternalAxis.supportsResultAlignment()) {
							return false;
						}
						return sap.zen.Dimension.sSetTotalsPositionForAxis(this
								.getDataSource(), loInternalAxis.getType(),
								totalsPosition, triggerChangedEvent);
					},
					getTotalsPosition : function() {
						var loInternalDimension = this.getInternalObject();
						var loInternalAxis;
						if (loInternalDimension === null) {
							return null;
						}
						loInternalAxis = loInternalDimension.getAxis();
						if (loInternalAxis === null) {
							return null;
						}
						return sap.zen.Dimension.sGetTotalsPositionForAxis(this
								.getDataSource(), loInternalAxis.getType());
					},
					setZeroSuppression : function(zeroSuppression,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loInternalAxis;
						if (loInternalDimension === null) {
							return false;
						}
						loInternalAxis = loInternalDimension.getAxis();
						if (loInternalAxis === null
								|| !loInternalAxis.supportsResultAlignment()) {
							return false;
						}
						return sap.zen.Dimension.sSetZeroSuppressionForAxis(
								this.getDataSource(), loInternalAxis.getType(),
								zeroSuppression, triggerChangedEvent);
					},
					getZeroSuppression : function() {
						var loInternalDimension = this.getInternalObject();
						var loInternalAxis;
						if (loInternalDimension === null) {
							return false;
						}
						loInternalAxis = loInternalDimension.getAxis();
						if (loInternalAxis === null
								|| !loInternalAxis.supportsResultAlignment()) {
							return false;
						}
						return sap.zen.Dimension.sGetZeroSuppressionForAxis(
								this.getDataSource(), loInternalAxis.getType());
					},
					getSupportedSortTypeOptions : function(attributeName) {
						var loInternalDimension = this.getInternalObject();
						var ltSupportedSortTypes;
						var loSortingManager;
						var lSupported;
						var loInternalStructureMember;
						var loInternalAttribute;
						if (loInternalDimension === null) {
							return null;
						}
						ltSupportedSortTypes = sap.firefly.XList.create();
						loSortingManager = loInternalDimension.getQueryModel()
								.getSortingManager();
						lSupported = false;
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(attributeName)) {
							if (this.isMeasureStructure()) {
								loInternalStructureMember = loInternalDimension
										.getStructureMember(attributeName);
								lSupported = loInternalStructureMember !== null
										&& loSortingManager
												.supportsMeasureSorting();
								if (lSupported) {
									ltSupportedSortTypes
											.add(sap.firefly.SortType.MEASURE);
								}
							} else {
								lSupported = loSortingManager
										.supportsDimensionSorting(
												loInternalDimension, null);
								if (lSupported) {
									loInternalAttribute = sap.zen.Dimension
											.sGetAttributeObject(this
													.getDataSource(), this
													.getName(), attributeName);
									lSupported = loSortingManager
											.supportsFieldSorting(loInternalAttribute
													.getKeyField());
									if (lSupported) {
										ltSupportedSortTypes
												.add(sap.firefly.SortType.MEMBER_KEY);
									}
									lSupported = loSortingManager
											.supportsFieldSorting(loInternalAttribute
													.getTextField());
									if (lSupported) {
										ltSupportedSortTypes
												.add(sap.firefly.SortType.MEMBER_TEXT);
									}
								}
							}
						} else {
							lSupported = loSortingManager
									.supportsDimensionSorting(
											loInternalDimension, null);
							if (lSupported) {
								lSupported = loSortingManager
										.supportsDimensionSorting(
												loInternalDimension,
												sap.firefly.SortType.MEMBER_KEY);
								if (lSupported) {
									ltSupportedSortTypes
											.add(sap.firefly.SortType.MEMBER_KEY);
								}
								lSupported = loSortingManager
										.supportsDimensionSorting(
												loInternalDimension,
												sap.firefly.SortType.MEMBER_TEXT);
								if (lSupported) {
									ltSupportedSortTypes
											.add(sap.firefly.SortType.MEMBER_TEXT);
								}
								lSupported = loSortingManager
										.supportsDimensionSorting(
												loInternalDimension,
												sap.firefly.SortType.HIERARCHY);
								if (lSupported) {
									ltSupportedSortTypes
											.add(sap.firefly.SortType.HIERARCHY);
								}
							}
						}
						return ltSupportedSortTypes;
					},
					setSortOperation : function(attributeName, sortType,
							sortDirection, triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loSortingManager;
						var loGenericResultSetSorting;
						var loInternalStructureMember;
						var loMeasureResultSetSorting;
						var loInternalAttribute;
						var loInternalField;
						var ltInternalFields;
						var loFieldResultSetSorting;
						var loDimensionResultSetSorting;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						loSortingManager = loInternalDimension.getQueryModel()
								.getSortingManager();
						loGenericResultSetSorting = null;
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(attributeName)) {
							if (this.isMeasureStructure()) {
								loInternalStructureMember = loInternalDimension
										.getStructureMember(attributeName);
								if (loInternalStructureMember !== null
										&& loSortingManager
												.supportsMeasureSorting()) {
									loMeasureResultSetSorting = loSortingManager
											.getMeasureSorting(
													loInternalStructureMember,
													true);
									loGenericResultSetSorting = loMeasureResultSetSorting;
								}
							} else {
								loInternalAttribute = sap.zen.Dimension
										.sGetAttributeObject(this
												.getDataSource(), this
												.getName(), attributeName);
								loInternalField = null;
								if (sortType === sap.firefly.SortType.MEMBER_KEY
										|| sortType === null) {
									loInternalField = loInternalAttribute
											.getKeyField();
								} else {
									if (sortType === sap.firefly.SortType.MEMBER_TEXT) {
										loInternalField = loInternalAttribute
												.getTextField();
										if (loInternalField === null) {
											ltInternalFields = loInternalAttribute
													.getFields();
											if (ltInternalFields !== null
													&& !ltInternalFields
															.isEmpty()) {
												loInternalField = ltInternalFields
														.get(0);
											}
										}
									}
								}
								if (loInternalField !== null
										&& loInternalField.supportsSorting()) {
									loFieldResultSetSorting = loInternalField
											.getResultSetSorting();
									loGenericResultSetSorting = loFieldResultSetSorting;
								}
							}
						} else {
							if (loSortingManager.supportsDimensionSorting(
									loInternalDimension, null)) {
								loDimensionResultSetSorting = loInternalDimension
										.getResultSetSorting();
								if (sortType === sap.firefly.SortType.MEMBER_KEY) {
									loDimensionResultSetSorting.setSortByKey();
								} else {
									if (sortType === sap.firefly.SortType.MEMBER_TEXT) {
										loDimensionResultSetSorting
												.setSortByText();
									}
								}
								if (sap.firefly.XString.isEqual(sortDirection,
										sap.firefly.SortType.HIERARCHY
												.getName())
										|| sap.firefly.XString
												.isEqual(
														sortDirection,
														sap.firefly.XString
																.convertToUpperCase(sap.firefly.SortType.HIERARCHY
																		.getName()))) {
									loDimensionResultSetSorting
											.setSortByHierarchy();
									loDimensionResultSetSorting
											.setDirection(sap.firefly.XSortDirection.DESCENDING);
								}
								loGenericResultSetSorting = loDimensionResultSetSorting;
							}
						}
						if (loGenericResultSetSorting === null) {
							return;
						}
						if (loGenericResultSetSorting.getSortingType() !== sap.firefly.SortType.HIERARCHY) {
							if (sap.firefly.XString.isEqual(sortDirection,
									sap.firefly.XSortDirection.ASCENDING
											.getName())
									|| sap.firefly.XString
											.isEqual(
													sortDirection,
													sap.firefly.XString
															.convertToUpperCase(sap.firefly.XSortDirection.ASCENDING
																	.getName()))) {
								loGenericResultSetSorting
										.setDirection(sap.firefly.XSortDirection.ASCENDING);
							} else {
								if (sap.firefly.XString.isEqual(sortDirection,
										sap.firefly.XSortDirection.DESCENDING
												.getName())
										|| sap.firefly.XString
												.isEqual(
														sortDirection,
														sap.firefly.XString
																.convertToUpperCase(sap.firefly.XSortDirection.DESCENDING
																		.getName()))) {
									loGenericResultSetSorting
											.setDirection(sap.firefly.XSortDirection.DESCENDING);
								} else {
									if (sap.firefly.XString.isEqual(
											sortDirection,
											sap.firefly.XSortDirection.NONE
													.getName())
											|| sap.firefly.XString
													.isEqual(
															sortDirection,
															sap.firefly.XString
																	.convertToUpperCase(sap.firefly.XSortDirection.NONE
																			.getName()))
											|| (sap.firefly.XString
													.isEqual(
															sortDirection,
															sap.firefly.XSortDirection.DEFAULT_VALUE
																	.getName()))
											|| sap.firefly.XString
													.isEqual(
															sortDirection,
															sap.firefly.XString
																	.convertToUpperCase(sap.firefly.XSortDirection.DEFAULT_VALUE
																			.getName()))) {
										loGenericResultSetSorting
												.setDirection(sap.firefly.XSortDirection.NONE);
									}
								}
							}
						}
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.SortDimension
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							if (this.isMeasureStructure()) {
								loDataSourceChangeCause.addProperty(
										"ByMeasure", attributeName);
							} else {
								loDataSourceChangeCause.addProperty(
										"ByAttribute", attributeName);
							}
							if (loGenericResultSetSorting.getSortingType() !== null) {
								loDataSourceChangeCause.addProperty("SortType",
										loGenericResultSetSorting
												.getSortingType().getName());
							}
							if (loGenericResultSetSorting.getDirection() !== null) {
								loDataSourceChangeCause.addProperty(
										"SortDirection",
										loGenericResultSetSorting
												.getDirection().getName());
							}
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					},
					getSortOperation : function(attributeName) {
						var loInternalDimension = this.getInternalObject();
						var ltSettings;
						var loSortingManager;
						var lIsAttribute;
						var lSortType;
						var lSortDirection;
						var loInternalStructureMember;
						var loMeasureResultSetSorting;
						var loInternalField;
						var loInternalAttribute;
						var loFieldResultSetSorting;
						var loDimensionSorting;
						if (loInternalDimension === null) {
							return null;
						}
						ltSettings = sap.firefly.XHashMapByString.create();
						loSortingManager = loInternalDimension.getQueryModel()
								.getSortingManager();
						lIsAttribute = false;
						lSortType = null;
						lSortDirection = sap.firefly.XSortDirection.DEFAULT_VALUE;
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(attributeName)) {
							if (this.isMeasureStructure()) {
								lIsAttribute = true;
								loInternalStructureMember = loInternalDimension
										.getStructureMember(attributeName);
								if (loInternalStructureMember !== null
										&& loSortingManager
												.supportsMeasureSorting()) {
									loMeasureResultSetSorting = loSortingManager
											.getMeasureSorting(
													loInternalStructureMember,
													true);
									lSortType = sap.firefly.SortType.MEASURE;
									lSortDirection = sap.firefly.XSortDirection.DEFAULT_VALUE;
									if (loMeasureResultSetSorting !== null) {
										lSortDirection = loMeasureResultSetSorting
												.getDirection();
									}
									ltSettings
											.put(
													sap.zen.Dimension.SORT_PARAM_SORTTYPE,
													lSortType);
									ltSettings
											.put(
													sap.zen.Dimension.SORT_PARAM_SORTDIRECTION,
													lSortDirection);
								}
							} else {
								loInternalField = loInternalDimension
										.getFieldByName(attributeName);
								if (loInternalField !== null) {
									loInternalAttribute = loInternalField
											.getAttribute();
									if (loInternalAttribute !== null) {
										lIsAttribute = sap.zen.DataSourceScriptApiUtils
												.isAttribute(this
														.getDataSource(),
														loInternalAttribute);
										if (loInternalField.isKeyField()
												|| loInternalField
														.getPresentationType()
														.isTypeOf(
																sap.firefly.PresentationType.ABSTRACT_KEY)
												|| loInternalField
														.getPresentationType()
														.isTypeOf(
																sap.firefly.PresentationType.HIERARCHY_KEY)
												|| loInternalField
														.getPresentationType()
														.isTypeOf(
																sap.firefly.PresentationType.HIERARCHY_DISPLAY_KEY)) {
											loInternalField = loInternalAttribute
													.getKeyField();
											lSortType = sap.firefly.SortType.MEMBER_KEY;
										} else {
											if (loInternalField
													.getPresentationType()
													.isTypeOf(
															sap.firefly.PresentationType.TEXT)
													|| loInternalField
															.getPresentationType()
															.isTypeOf(
																	sap.firefly.PresentationType.HIERARCHY_TEXT)) {
												loInternalField = loInternalAttribute
														.getTextField();
												lSortType = sap.firefly.SortType.MEMBER_TEXT;
											}
										}
										lSortDirection = sap.firefly.XSortDirection.DEFAULT_VALUE;
										if (lIsAttribute) {
											if (loInternalField
													.supportsSorting()) {
												loFieldResultSetSorting = loInternalField
														.getResultSetSorting();
												if (loFieldResultSetSorting !== null) {
													lSortDirection = loFieldResultSetSorting
															.getDirection();
												}
												ltSettings
														.put(
																sap.zen.Dimension.SORT_PARAM_SORTTYPE,
																lSortType);
												ltSettings
														.put(
																sap.zen.Dimension.SORT_PARAM_SORTDIRECTION,
																lSortDirection);
											}
										}
									}
								}
							}
						}
						if (!lIsAttribute) {
							loDimensionSorting = loSortingManager
									.getDimensionSorting(loInternalDimension,
											false);
							if (loDimensionSorting !== null) {
								if (lSortType === null) {
									lSortType = loDimensionSorting
											.getSortingType();
								}
								if (loDimensionSorting.getSortingType() === lSortType) {
									lSortDirection = loDimensionSorting
											.getDirection();
								}
							}
							if (lSortType === sap.firefly.SortType.MEMBER_KEY
									|| lSortType === sap.firefly.SortType.MEMBER_TEXT
									|| lSortType === sap.firefly.SortType.HIERARCHY) {
								if (loSortingManager.supportsDimensionSorting(
										loInternalDimension, lSortType)) {
									ltSettings
											.put(
													sap.zen.Dimension.SORT_PARAM_SORTTYPE,
													lSortType);
									ltSettings
											.put(
													sap.zen.Dimension.SORT_PARAM_SORTDIRECTION,
													lSortDirection);
								}
							}
						}
						return ltSettings;
					},
					isUDHSupported : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return false;
						}
						return false;
					},
					isUDHActive : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return false;
						}
						return false;
					},
					getUDHDimensions : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return null;
						}
						return sap.firefly.XListOfString.create();
					},
					setUDH : function(active, triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return;
						}
						if (!this.isUDHSupported()) {
							return;
						}
					},
					getUDHDrillLevel : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return 0;
						}
						if (!this.isUDHSupported()) {
							return 0;
						}
						return 0;
					},
					setUDHDrillLevel : function(drillLevel, triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return false;
						}
						if (!this.isUDHSupported()) {
							return false;
						}
						return false;
					},
					setUDHDrilledToDimension : function(dimensionName,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var lDrillLevel;
						if (loInternalDimension === null) {
							return false;
						}
						if (!this.isUDHSupported()) {
							return false;
						}
						lDrillLevel = 0;
						return this.setUDHDrillLevel(lDrillLevel,
								triggerChangedEvent);
					},
					getUDHAlignment : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return null;
						}
						if (!this.isUDHSupported()) {
							return null;
						}
						return null;
					},
					setUDHAlignment : function(alignment, triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return false;
						}
						if (!this.isUDHSupported()) {
							return false;
						}
						return false;
					},
					getHierarchies : function() {
						var loInternalDimension = this.getInternalObject();
						var loDataSource;
						var loQueryManager;
						var ltHierarchies;
						var loSystemDescription;
						var loServiceConfiguration;
						var loResultCatalogManagerCreation;
						var loHierarchyCatalogManager;
						var loResult;
						var loHierarchyCatalog;
						if (loInternalDimension === null) {
							return null;
						}
						loDataSource = this.getDataSource();
						if (loDataSource === null) {
							return null;
						}
						loQueryManager = loDataSource.getQueryManager();
						if (loQueryManager === null) {
							return null;
						}
						ltHierarchies = sap.firefly.XList.create();
						if (this.isStructure()) {
							return ltHierarchies;
						}
						loSystemDescription = loQueryManager
								.getSystemDescription();
						if (sap.firefly.HierarchyCatalogUtil
								.isHierarchyCatalogSupported(loSystemDescription) === false) {
							return ltHierarchies;
						}
						loServiceConfiguration = sap.firefly.OlapApiModule.SERVICE_TYPE_HIERARCHY_CATALOG
								.createServiceConfig(loQueryManager
										.getApplication());
						loServiceConfiguration
								.setSystemName(loSystemDescription.getName());
						loServiceConfiguration
								.setDimension(loInternalDimension);
						if (sap.zen.DataSourceScriptApiUtils
								.isHanaSystem(loDataSource)) {
							loServiceConfiguration
									.setDataSourceName(loInternalDimension
											.getQueryModel().getDataSource()
											.getFullQualifiedName());
						}
						loResultCatalogManagerCreation = loServiceConfiguration
								.processHierarchyCatalogManagerCreation(
										sap.firefly.SyncType.BLOCKING, null,
										null);
						if (loResultCatalogManagerCreation.hasErrors()) {
							return ltHierarchies;
						}
						loHierarchyCatalogManager = loResultCatalogManagerCreation
								.getData();
						loHierarchyCatalogManager
								.setSingleSelectionHierarchyDate(loDataSource
										.getQueryManager().getQueryModel()
										.getDueDate(), true);
						loResult = loHierarchyCatalogManager.processGetResult(
								sap.firefly.SyncType.BLOCKING, null, null);
						if (loResult.hasErrors()) {
							return ltHierarchies;
						}
						loHierarchyCatalog = loResult.getData();
						ltHierarchies = sap.firefly.HierarchyCatalogUtil
								.getHierarchyItems(loHierarchyCatalog);
						return ltHierarchies;
					},
					getHierarchyObjectName : function(oHierarchy) {
						var loDueDate = oHierarchy.getDateTo();
						var lVersion;
						var lName;
						var lHierarchyName;
						if (loDueDate === null) {
							loDueDate = sap.firefly.XDate.createDateWithValues(
									9999, 12, 31);
						}
						lVersion = oHierarchy.getVersionName();
						if (lVersion === null) {
							lVersion = "";
						}
						lName = oHierarchy.getHierarchyName();
						if (sap.firefly.XString.containsString(lName, "/")) {
							lName = sap.firefly.XString.replace(lName, "/",
									"\\\\\\\\/");
						}
						lHierarchyName = lName;
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(lVersion)
								|| loDueDate !== null) {
							lHierarchyName = sap.firefly.XStringUtils
									.concatenate3(lHierarchyName, "/", lVersion);
						}
						if (loDueDate !== null) {
							lHierarchyName = sap.firefly.XStringUtils
									.concatenate3(lHierarchyName, "/",
											loDueDate.toIsoFormat());
						}
						return lHierarchyName;
					},
					getHierarchyKey : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return null;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return null;
						}
						return loInternalDimension.getHierarchy().getName();
					},
					getHierarchyName : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return null;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return null;
						}
						return loInternalDimension.getHierarchyName();
					},
					getHierarchyText : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return null;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return null;
						}
						return loInternalDimension.getHierarchy().getText();
					},
					setHierarchyName : function(hierarchyName,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var lMemberDisplay;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return false;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return false;
						}
						if (sap.firefly.XString.isEqual(loInternalDimension
								.getHierarchyName(), hierarchyName)) {
							return false;
						}
						lMemberDisplay = this.getMemberDisplay(null);
						if (hierarchyName === null) {
							hierarchyName = "";
						}
						loInternalDimension.setHierarchyName(hierarchyName);
						this
								.setMemberDisplay(null, lMemberDisplay, null,
										false);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.AssignHierarchy
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty(
									"HierarchyName", hierarchyName);
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
						return true;
					},
					isHierarchyAssigned : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return false;
						}
						return loInternalDimension.supportsHierarchy()
								&& loInternalDimension.isHierarchyAssigned();
					},
					getHierarchyVersion : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return null;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return null;
						}
						return loInternalDimension.getHierarchyVersion();
					},
					setHierarchyVersion : function(hierarchyVersion,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return false;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return false;
						}
						if (sap.firefly.XString.isEqual(loInternalDimension
								.getHierarchyVersion(), hierarchyVersion)) {
							return false;
						}
						loInternalDimension
								.setHierarchyVersion(hierarchyVersion);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.SetHierarchyVersion
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty(
									"HierarchyVersion", hierarchyVersion);
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
						return true;
					},
					getHierarchyDueDate : function() {
						var loInternalDimension = this.getInternalObject();
						var lHierarchyDueDate;
						if (loInternalDimension === null) {
							return null;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return null;
						}
						lHierarchyDueDate = loInternalDimension
								.getHierarchyDueDate();
						if (lHierarchyDueDate !== null) {
							return lHierarchyDueDate.toSAPFormat();
						}
						return null;
					},
					setHierarchyDueDate : function(hierarchyDueDate,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loHierarchyDueDate;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return false;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return false;
						}
						loHierarchyDueDate = null;
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(hierarchyDueDate)) {
							if (sap.firefly.XString.size(hierarchyDueDate) === 8) {
								loHierarchyDueDate = sap.firefly.XDate
										.createDateFromSAPFormat(hierarchyDueDate);
							} else {
								loHierarchyDueDate = sap.firefly.XDate
										.createDateFromIsoFormat(hierarchyDueDate);
							}
						}
						if ((loInternalDimension.getHierarchyDueDate() === loHierarchyDueDate)
								|| (loInternalDimension.getHierarchyDueDate() !== null && loInternalDimension
										.getHierarchyDueDate().isEqualTo(
												loHierarchyDueDate))) {
							return false;
						}
						loInternalDimension
								.setHierarchyDueDate(loHierarchyDueDate);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.SetHierarchyDueDate
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							if (loHierarchyDueDate !== null) {
								loDataSourceChangeCause.addProperty(
										"HierarchyDueDate", loHierarchyDueDate
												.toString());
							}
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
						return true;
					},
					setHierarchyActive : function(active, triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var lMemberDisplay;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return false;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return false;
						}
						if (loInternalDimension.isHierarchyActive() === active) {
							return false;
						}
						lMemberDisplay = this.getMemberDisplay(null);
						loInternalDimension.setHierarchyActive(active);
						this
								.setMemberDisplay(null, lMemberDisplay, null,
										false);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.ActivateHierarchy
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty("Active",
									sap.firefly.XBoolean
											.convertBooleanToString(active));
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
						return true;
					},
					isHierarchyActive : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return false;
						}
						return loInternalDimension.supportsHierarchy()
								&& loInternalDimension.isHierarchyActive();
					},
					isHierarchyAssignedAndActive : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return false;
						}
						return loInternalDimension.supportsHierarchy()
								&& loInternalDimension
										.isHierarchyAssignedAndActive();
					},
					setHierarchy : function(hierarchyName, hierarchyVersion,
							hierarchyDueDate, active, triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var lChanged;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return false;
						}
						lChanged = true;
						if (this.setHierarchyName(hierarchyName, false)) {
							lChanged = true;
						}
						if (this.setHierarchyVersion(hierarchyVersion, false)) {
							lChanged = true;
						}
						if (this.setHierarchyDueDate(hierarchyDueDate, false)) {
							lChanged = true;
						}
						if (this.setHierarchyActive(active, false)) {
							lChanged = true;
						}
						if (!lChanged) {
							return false;
						}
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.SetHierarchy
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty(
									"HierarchyName", hierarchyName);
							loDataSourceChangeCause.addProperty(
									"HierarchyVersion", hierarchyVersion);
							loDataSourceChangeCause.addProperty(
									"HierarchyDueDate", hierarchyDueDate);
							loDataSourceChangeCause.addProperty("Activate",
									sap.firefly.XBoolean
											.convertBooleanToString(active));
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
						return true;
					},
					getHierarchyAlignment : function() {
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return null;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return null;
						}
						return loInternalDimension.getLowerLevelNodeAlignment();
					},
					setHierarchyAlignment : function(alignment,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return false;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return false;
						}
						if (loInternalDimension.getLowerLevelNodeAlignment() === alignment) {
							return false;
						}
						loInternalDimension
								.setLowerLevelNodeAlignment(alignment);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.SetHierarchyNodeAlignment
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							if (alignment !== null) {
								loDataSourceChangeCause.addProperty(
										"Alignment", alignment.getName());
							}
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
						return true;
					},
					getHierarchyDrillLevel : function() {
						var loInternalDimension = this.getInternalObject();
						var lDrillLevel;
						if (loInternalDimension === null) {
							return 0;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return 0;
						}
						lDrillLevel = loInternalDimension
								.getInitialDrillLevel();
						return lDrillLevel;
					},
					setHierarchyDrillLevel : function(drillLevel,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loInternalHierarchy;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return false;
						}
						if (!loInternalDimension.supportsHierarchy()) {
							return false;
						}
						loInternalHierarchy = loInternalDimension
								.getHierarchy();
						if (loInternalHierarchy === null) {
							return false;
						}
						if (loInternalDimension.getInitialDrillLevel() === drillLevel) {
							return false;
						}
						loInternalDimension.getQueryModel().getDrillManager()
								.removeDrillOperationsByDimension(
										loInternalDimension);
						loInternalDimension.setInitialDrillLevel(drillLevel);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.SetHierarchyDrillLevel
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause
									.addProperty(
											"DrillLevel",
											sap.firefly.XInteger
													.convertIntegerToString(drillLevel));
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
						return true;
					},
					expandCollapseHierarchyNode : function(memberName,
							drillState, triggerChangedEvent) {
						var loResultSet;
						var loTuple;
						var loTupleElement;
						if (!this.isHierarchyActive()) {
							return;
						}
						loResultSet = this.getResultSet();
						if (loResultSet === null) {
							return;
						}
						loTuple = loResultSet.getTuple(this.getAxis(), -1,
								this, memberName);
						loTupleElement = loTuple.getTupleElement(-1, this);
						loTupleElement.expandCollapseHierarchyNode(drillState,
								triggerChangedEvent);
					},
					getActionObjectProperties : function() {
						var ltProperties = sap.firefly.XHashMapOfStringByString
								.create();
						var loInternalDimension = this.getInternalObject();
						if (loInternalDimension === null) {
							return ltProperties;
						}
						ltProperties.put("Dimension", loInternalDimension
								.getName());
						return ltProperties;
					},
					releaseObject : function() {
						this.oParent = null;
						this.oResultSet = null;
						this.dimensionName = null;
						sap.zen.Dimension.$superclass.releaseObject.call(this);
					},
					clone : function() {
						throw sap.firefly.XException
								.createUnsupportedOperationException();
					},
					toString : function() {
						var lObject = sap.firefly.PrStructure.create();
						var lJsonString = null;
						var lJsonBool = null;
						var lJsonInteger = null;
						var lJsonObject = null;
						lJsonString = sap.firefly.PrString.create();
						if (this.getDataSource() !== null) {
							lJsonString.setStringValue(this.getDataSource()
									.getName());
						}
						lObject.setElementByName("DataSource", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						if (this.getAxis() !== null) {
							lJsonString
									.setStringValue(this.getAxis().getName());
						}
						lObject.setElementByName("Axis", lJsonString);
						lJsonInteger = sap.firefly.PrInteger.create();
						lJsonInteger.setIntegerValue(this.getIndexOnAxis());
						lObject.setElementByName("IndexOnAxis", lJsonInteger);
						lJsonString = sap.firefly.PrString.create();
						lJsonString.setStringValue(this.getName());
						lObject.setElementByName("Name", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						lJsonString.setStringValue(this.getText());
						lObject.setElementByName("Text", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						lJsonString.setStringValue(this.getHeaderText(null));
						lObject.setElementByName("HeaderText", lJsonString);
						lJsonBool = sap.firefly.PrBoolean.create();
						lJsonBool.setBooleanValue(this.isStructure());
						lObject.setElementByName("IsStructure", lJsonBool);
						lJsonBool = sap.firefly.PrBoolean.create();
						lJsonBool.setBooleanValue(this.isMeasureStructure());
						lObject.setElementByName("IsMeasureStructure",
								lJsonBool);
						lJsonString = sap.firefly.PrString.create();
						lJsonString.setStringValue(this.getMemberDisplay(null)
								.getValue());
						lObject.setElementByName("MemberDisplay", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						if (this.getTotalsDisplay() !== null) {
							lJsonString.setStringValue(this.getTotalsDisplay()
									.getName());
						}
						lObject.setElementByName("TotalsDisplay", lJsonString);
						lJsonString = sap.firefly.PrString.create();
						if (this.getTotalsPosition() !== null) {
							lJsonString.setStringValue(this.getTotalsPosition()
									.getName());
						}
						lObject.setElementByName("TotalsPosition", lJsonString);
						lJsonBool = sap.firefly.PrBoolean.create();
						lJsonBool.setBooleanValue(this.getZeroSuppression());
						lObject.setElementByName("ZeroSuppression", lJsonBool);
						lJsonObject = sap.firefly.PrStructure.create();
						if (this.isHierarchyAssigned()) {
							lJsonBool = sap.firefly.PrBoolean.create();
							lJsonBool.setBooleanValue(this
									.isHierarchyAssigned());
							lJsonObject.setElementByName("IsAssigned",
									lJsonBool);
							lJsonBool = sap.firefly.PrBoolean.create();
							lJsonBool.setBooleanValue(this.isHierarchyActive());
							lJsonObject.setElementByName("IsActive", lJsonBool);
							lJsonString = sap.firefly.PrString.create();
							lJsonString.setStringValue(this.getHierarchyName());
							lJsonObject.setElementByName("Name", lJsonString);
							lJsonString = sap.firefly.PrString.create();
							lJsonString.setStringValue(this
									.getHierarchyVersion());
							lJsonObject
									.setElementByName("Version", lJsonString);
							lJsonString = sap.firefly.PrString.create();
							lJsonString.setStringValue(this
									.getHierarchyDueDate());
							lJsonObject
									.setElementByName("DueDate", lJsonString);
						}
						lObject.setElementByName("Hierarchy", lJsonObject);
						lJsonString = sap.firefly.PrString.create();
						if (this.getResultSetFields() !== null) {
							lJsonString.setStringValue(this
									.getResultSetFields().toString());
						}
						lObject
								.setElementByName("ResultSetFields",
										lJsonString);
						return lObject.toString();
					},
					moveDimensionToPosOfOtherDimension : function(
							targetDimensionName, placeBefore,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loInternalTargetDimension;
						var loInternalTargetAxis;
						var lTargetDimensionAxisIndex;
						var lDimensionAxisIndexNew;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						loInternalTargetDimension = sap.zen.Dimension
								.sGetDimensionObject(this.getDataSource(),
										targetDimensionName);
						if (loInternalTargetDimension === null) {
							return;
						}
						loInternalTargetAxis = loInternalTargetDimension
								.getAxis();
						if (loInternalTargetAxis.getType() === sap.firefly.AxisType.FREE) {
							return;
						}
						lTargetDimensionAxisIndex = loInternalTargetAxis
								.getIndex(loInternalTargetDimension);
						if (placeBefore) {
							lDimensionAxisIndexNew = lTargetDimensionAxisIndex;
						} else {
							lDimensionAxisIndexNew = lTargetDimensionAxisIndex + 1;
						}
						if (lDimensionAxisIndexNew < loInternalTargetAxis
								.size()) {
							loInternalTargetAxis.insert(lDimensionAxisIndexNew,
									loInternalDimension);
						} else {
							loInternalTargetAxis.add(loInternalDimension);
						}
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.MoveDimensionToPosOfOtherDimension
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							loDataSourceChangeCause.addProperty(
									"TargetDimension", targetDimensionName);
							loDataSourceChangeCause
									.addProperty(
											"TargetAxisPosition",
											sap.firefly.XInteger
													.convertIntegerToString(lDimensionAxisIndexNew));
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					},
					moveDimensionToAxis : function(targetAxis,
							targetAxisPosition, triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loTargetAxis;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						loTargetAxis = this.getDataSource().getQueryManager()
								.getQueryModel().getAxis(targetAxis);
						if (loTargetAxis === null) {
							return;
						}
						if (targetAxisPosition < 0
								|| targetAxisPosition >= loTargetAxis.size()) {
							loTargetAxis.add(loInternalDimension);
						} else {
							if (loInternalDimension.getAxis().getType() === targetAxis) {
								loTargetAxis
										.removeDimensionByIndex(targetAxisPosition);
							}
							loTargetAxis.insert(targetAxisPosition,
									loInternalDimension);
						}
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.MoveDimensionToAxis
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							if (targetAxis !== null) {
								loDataSourceChangeCause.addProperty(
										"TargetAxis", targetAxis.getName());
							}
							loDataSourceChangeCause
									.addProperty(
											"TargetAxisPosition",
											sap.firefly.XInteger
													.convertIntegerToString(targetAxisPosition));
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					},
					removeDimensionFromCurrentAxis : function(
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var lSourceAxis;
						var lTargetAxis;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						lSourceAxis = loInternalDimension.getAxis().getType();
						loInternalDimension.getAxis().getDimensionList()
								.removeElement(loInternalDimension);
						lTargetAxis = loInternalDimension.getAxis().getType();
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.RemoveDimensionFromAxis
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							if (lSourceAxis !== null) {
								loDataSourceChangeCause.addProperty(
										"SourceAxis", lSourceAxis.getName());
							}
							if (lTargetAxis !== null) {
								loDataSourceChangeCause.addProperty(
										"TargetAxis", lTargetAxis.getName());
							}
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					},
					swapDimensions : function(swapDimensionName,
							triggerChangedEvent) {
						var loInternalDimension = this.getInternalObject();
						var loInternalTargetDimension;
						var loInternalAxis;
						var lInternaloAxisIndex;
						var loInternalTargetAxis;
						var lInternalTargetAxisIndex;
						var loDataSourceChangeCause;
						if (loInternalDimension === null) {
							return;
						}
						loInternalTargetDimension = sap.zen.Dimension
								.sGetDimensionObject(this.getDataSource(),
										swapDimensionName);
						if (loInternalTargetDimension === null) {
							return;
						}
						loInternalAxis = loInternalDimension.getAxis();
						lInternaloAxisIndex = loInternalAxis
								.getIndex(loInternalDimension);
						loInternalTargetAxis = loInternalTargetDimension
								.getAxis();
						lInternalTargetAxisIndex = loInternalTargetAxis
								.getIndex(loInternalTargetDimension);
						loInternalAxis.insert(lInternaloAxisIndex,
								loInternalTargetDimension);
						loInternalTargetAxis.insert(lInternalTargetAxisIndex,
								loInternalDimension);
						if (triggerChangedEvent) {
							loDataSourceChangeCause = new sap.zen.DataSourceChangeCause();
							loDataSourceChangeCause
									.setAction(sap.zen.CDataSourceChangeAction.SwapDimensions
											.toString());
							loDataSourceChangeCause.addProperties(this
									.getActionObjectProperties());
							if (loInternalTargetDimension !== null) {
								loDataSourceChangeCause.addProperty(
										"TargetDimension",
										loInternalTargetDimension.getName());
							}
							this.getDataSource().raiseDataSourceChangedEvent(
									loDataSourceChangeCause, false, true);
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.LocalizationDataSource",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.components.ds.impl."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationDataSource.LOCALIZATION_PREFIX;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ResultSetAxisPaging",
				sap.firefly.XObject,
				{
					$statics : {
						SIZE_DEFAULT : -2,
						SIZE_ALL : -1,
						OFFSET_DEFAULT : -1,
						MAX_ROWS : 10000,
						MAX_COLUMNS : 50,
						create : function(oResultSetPaging, axis) {
							var loInstance = null;
							if (oResultSetPaging !== null && axis !== null) {
								loInstance = new sap.zen.ResultSetAxisPaging();
								loInstance.initMe(oResultSetPaging, axis);
							}
							return loInstance;
						}
					},
					oResultSetPaging : null,
					axis : null,
					pagingMode : 0,
					offset : 0,
					size : 0,
					totalSize : 0,
					retrievedSize : 0,
					minSize : 0,
					maxSize : 0,
					pagingState : null,
					initMe : function(oResultSetPaging, axis) {
						this.oResultSetPaging = oResultSetPaging;
						this.axis = axis;
						this.pagingMode = sap.zen.CResultSetPagingMode.RESPECT_MIN_SIZE
								.getBinaryValue()
								+ sap.zen.CResultSetPagingMode.RESPECT_MAX_SIZE
										.getBinaryValue();
						this.applyServerState();
					},
					handleResultSetSynchronized : function(oContext, oResponse,
							oBaggage) {
						this.applyServerState();
					},
					applyServerState : function() {
						var loInternalResultSet;
						this.offset = this.getServerOffset();
						this.size = this.getServerSize();
						loInternalResultSet = this.getResultSet()
								.getInternalObject();
						if (loInternalResultSet === null) {
							this.totalSize = 0;
							this.retrievedSize = 0;
						} else {
							this.totalSize = loInternalResultSet.getAxis(
									this.axis).getTuplesCountTotal();
							this.retrievedSize = loInternalResultSet.getAxis(
									this.axis).getTuplesCount();
						}
						this.pagingState = sap.firefly.SyncState.IN_SYNC;
					},
					getServerOffset : function() {
						var loQueryManager = this.getResultSet()
								.getDataSource().getQueryManager();
						if (loQueryManager === null) {
							return 0;
						}
						if (this.axis === sap.firefly.AxisType.ROWS) {
							return loQueryManager.getOffsetRows();
						} else {
							if (this.axis === sap.firefly.AxisType.COLUMNS) {
								return loQueryManager.getOffsetColumns();
							}
						}
						return 0;
					},
					getServerSize : function() {
						var loQueryManager = this.getResultSet()
								.getDataSource().getQueryManager();
						if (loQueryManager === null) {
							return 0;
						}
						if (this.axis === sap.firefly.AxisType.ROWS) {
							return loQueryManager.getMaxRows();
						} else {
							if (this.axis === sap.firefly.AxisType.COLUMNS) {
								return loQueryManager.getMaxColumns();
							}
						}
						return 0;
					},
					isPagingActive : function() {
						if (this.isPagingActivated()
								&& (this.retrievedSize < this.totalSize)) {
							return true;
						}
						return false;
					},
					isPagingActivated : function() {
						if (sap.zen.CResultSetPagingMode.ACTIVATE_PAGING
								.isContainedWithin(this.pagingMode)) {
							return true;
						}
						return false;
					},
					activatePaging : function() {
						if (sap.zen.CResultSetPagingMode.ACTIVATE_PAGING
								.isContainedWithin(this.pagingMode)) {
							return;
						}
						this.pagingMode = this.pagingMode
								+ sap.zen.CResultSetPagingMode.ACTIVATE_PAGING
										.getBinaryValue();
					},
					deactivatePaging : function() {
						if (!this.isPagingActivated()) {
							return;
						}
						this.pagingMode = this.pagingMode
								- sap.zen.CResultSetPagingMode.ACTIVATE_PAGING
										.getBinaryValue();
						this.setPage(
								sap.zen.ResultSetAxisPaging.OFFSET_DEFAULT,
								sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
					},
					getName : function() {
						return this.axis.getName();
					},
					getAxis : function() {
						return this.axis;
					},
					setMinSize : function(minSize) {
						if (minSize === this.minSize) {
							return;
						}
						this.minSize = minSize;
						if (this.minSize < 0
								&& this.minSize !== sap.zen.ResultSetAxisPaging.SIZE_ALL) {
							this.minSize = 0;
						}
						this.setPage(
								sap.zen.ResultSetAxisPaging.OFFSET_DEFAULT,
								sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
					},
					getMinSize : function() {
						if (sap.zen.CResultSetPagingMode.RESPECT_MIN_SIZE
								.isContainedWithin(this.pagingMode)) {
							return this.minSize;
						}
						return 0;
					},
					setMaxSize : function(maxSize) {
						if (maxSize === this.maxSize) {
							return;
						}
						this.maxSize = maxSize;
						if (this.maxSize < 0
								&& this.maxSize !== sap.zen.ResultSetAxisPaging.SIZE_ALL) {
							this.maxSize = 0;
						}
						this.setPage(
								sap.zen.ResultSetAxisPaging.OFFSET_DEFAULT,
								sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
					},
					getMaxSize : function() {
						var lMaxSize = -1;
						if (this.axis === sap.firefly.AxisType.ROWS) {
							lMaxSize = sap.zen.ResultSetAxisPaging.MAX_ROWS;
						} else {
							if (this.axis === sap.firefly.AxisType.COLUMNS) {
								lMaxSize = sap.zen.ResultSetAxisPaging.MAX_COLUMNS;
							}
						}
						if (this.isPagingActivated()) {
							return lMaxSize;
						}
						if (sap.zen.CResultSetPagingMode.RESPECT_MAX_SIZE
								.isContainedWithin(this.pagingMode)) {
							if (this.maxSize <= 0
									&& this.maxSize !== sap.zen.ResultSetAxisPaging.SIZE_ALL) {
								return lMaxSize;
							}
							return this.maxSize;
						}
						return 0;
					},
					getOffset : function() {
						return this.offset;
					},
					getSize : function() {
						return this.size;
					},
					setPage : function(offset, size) {
						var lCurrentSize = this.getSize();
						var lCurrentOffset;
						var lSize;
						var lOffset;
						var lSizeChanged;
						var lOffsetChanged;
						var loQueryManager;
						if (!this.getResultSet().getDataSource()
								.isDataSourceChanged()
								&& lCurrentSize >= this.totalSize) {
							lCurrentSize = sap.zen.ResultSetAxisPaging.SIZE_ALL;
						}
						lCurrentOffset = this.getOffset();
						lSize = this.validateSize(size);
						lOffset = this.validateOffset(offset, lSize);
						lSizeChanged = false;
						lOffsetChanged = false;
						if (lCurrentOffset !== lOffset) {
							lOffsetChanged = true;
						}
						if (!this.getResultSet().getDataSource()
								.isDataSourceChanged()
								&& (lSize >= this.totalSize && lCurrentSize === sap.zen.ResultSetAxisPaging.SIZE_ALL)) {
							lSizeChanged = false;
						} else {
							if (lCurrentSize !== lSize) {
								lSizeChanged = true;
							}
						}
						loQueryManager = this.getResultSet().getDataSource()
								.getQueryManager();
						if (loQueryManager === null) {
							return;
						}
						if (lOffsetChanged) {
							if (this.axis === sap.firefly.AxisType.ROWS) {
								loQueryManager.setOffsetRows(lOffset);
							} else {
								loQueryManager.setOffsetColumns(lOffset);
							}
							this.offset = lOffset;
							this.pagingState = sap.firefly.SyncState.OUT_OF_SYNC;
						}
						if (lSizeChanged) {
							if (this.axis === sap.firefly.AxisType.ROWS) {
								loQueryManager.setMaxRows(lSize);
							} else {
								loQueryManager.setMaxColumns(lSize);
							}
							this.size = lSize;
							this.pagingState = sap.firefly.SyncState.OUT_OF_SYNC;
						}
					},
					getDataSource : function() {
						return this.oResultSetPaging.getDataSource();
					},
					getResultSet : function() {
						return this.oResultSetPaging.getResultSet();
					},
					getState : function() {
						return this.pagingState;
					},
					setPagingMode : function(pagingMode, offset, size) {
						if (pagingMode === this.pagingMode) {
							return;
						}
						this.pagingMode = pagingMode;
						this.setPage(offset, size);
					},
					getPagingMode : function() {
						return this.pagingMode;
					},
					validateSize : function(size) {
						var lSize = size;
						var lMinSize;
						var lMaxSize;
						if (!this.isPagingActivated()) {
							lSize = -1;
						}
						lMinSize = this.getMinSize();
						lMaxSize = this.getMaxSize();
						if (lSize <= sap.zen.ResultSetAxisPaging.SIZE_DEFAULT) {
							lSize = this.getSize();
						}
						if (lSize <= 0) {
							lSize = sap.zen.ResultSetAxisPaging.SIZE_ALL;
						}
						if (lMinSize > 0
								|| lMinSize === sap.zen.ResultSetAxisPaging.SIZE_ALL) {
							if (lSize >= 0 && lSize < lMinSize) {
								lSize = lMinSize;
							}
						}
						if (lMaxSize > 0
								|| lMaxSize === sap.zen.ResultSetAxisPaging.SIZE_ALL) {
							if (lSize > lMaxSize
									|| lSize === sap.zen.ResultSetAxisPaging.SIZE_ALL) {
								lSize = lMaxSize;
							}
						}
						return lSize;
					},
					validateOffset : function(offset, size) {
						var lOffsetFrom = offset;
						var lOffsetTo = 0;
						var lCurrentOffsetFrom;
						var lCurrentOffsetTo;
						if (!this.isPagingActivated()) {
							lOffsetFrom = 0;
						}
						if (lOffsetFrom <= sap.zen.ResultSetAxisPaging.OFFSET_DEFAULT) {
							lOffsetFrom = this.getOffset();
						}
						lOffsetTo = lOffsetFrom + size;
						if (!this.getResultSet().getDataSource()
								.isDataSourceChanged()) {
							if (size >= this.totalSize
									|| size <= sap.zen.ResultSetAxisPaging.OFFSET_DEFAULT) {
								lOffsetFrom = 0;
								lOffsetTo = lOffsetFrom + size;
							}
							if (lOffsetTo > this.totalSize
									&& this.totalSize > size) {
								lOffsetFrom = this.totalSize - size;
								if (lOffsetFrom < 0) {
									lOffsetFrom = 0;
								}
								lOffsetTo = lOffsetFrom + size;
							}
							lCurrentOffsetFrom = this.getOffset();
							lCurrentOffsetTo = lCurrentOffsetFrom + size;
							if (lOffsetFrom >= lCurrentOffsetFrom
									&& lOffsetTo <= lCurrentOffsetTo) {
								lOffsetFrom = lCurrentOffsetFrom;
							}
						}
						return lOffsetFrom;
					},
					releaseObject : function() {
						this.oResultSetPaging = null;
						this.axis = null;
						this.pagingMode = -1;
						this.offset = -1;
						this.size = -1;
						this.minSize = -1;
						this.maxSize = -1;
						this.retrievedSize = -1;
						this.totalSize = -1;
						this.pagingState = null;
						sap.zen.ResultSetAxisPaging.$superclass.releaseObject
								.call(this);
					}
				});
$Firefly.createClass("sap.zen.ResultSetPaging", sap.firefly.XObject, {
	$statics : {
		create : function(oResultSet) {
			var loInstance = null;
			if (oResultSet !== null) {
				loInstance = new sap.zen.ResultSetPaging();
				loInstance.initMe(oResultSet);
			}
			return loInstance;
		}
	},
	oResultSet : null,
	tAxesPaging : null,
	initMe : function(oResultSet) {
		var loAxisPaging;
		this.oResultSet = oResultSet;
		this.tAxesPaging = sap.firefly.XListOfNameObject.create();
		loAxisPaging = null;
		loAxisPaging = sap.zen.ResultSetAxisPaging.create(this,
				sap.firefly.AxisType.ROWS);
		this.tAxesPaging.add(loAxisPaging);
		loAxisPaging = sap.zen.ResultSetAxisPaging.create(this,
				sap.firefly.AxisType.COLUMNS);
		this.tAxesPaging.add(loAxisPaging);
	},
	isPagingActive : function() {
		var i;
		var loAxisPaging;
		for (i = 0; i < this.tAxesPaging.size(); i++) {
			loAxisPaging = this.tAxesPaging.get(i);
			if (loAxisPaging === null) {
				continue;
			}
			if (loAxisPaging.isPagingActive()) {
				return true;
			}
		}
		return false;
	},
	activatePaging : function() {
		var i;
		var loAxisPaging;
		for (i = 0; i < this.tAxesPaging.size(); i++) {
			loAxisPaging = this.tAxesPaging.get(i);
			if (loAxisPaging === null) {
				continue;
			}
			loAxisPaging.activatePaging();
		}
	},
	deactivatePaging : function() {
		var i;
		var loAxisPaging;
		for (i = 0; i < this.tAxesPaging.size(); i++) {
			loAxisPaging = this.tAxesPaging.get(i);
			if (loAxisPaging === null) {
				continue;
			}
			loAxisPaging.deactivatePaging();
		}
	},
	getAxesPaging : function() {
		var ltAxesPaging = sap.firefly.XListOfNameObject.create();
		var i;
		var loAxisPaging;
		for (i = 0; i < this.tAxesPaging.size(); i++) {
			loAxisPaging = this.tAxesPaging.get(i);
			ltAxesPaging.add(loAxisPaging);
		}
		return ltAxesPaging;
	},
	getAxisPaging : function(axis) {
		return this.tAxesPaging.getByKey(axis.getName());
	},
	getDataSource : function() {
		return this.oResultSet.getDataSource();
	},
	getResultSet : function() {
		return this.oResultSet;
	},
	getState : function() {
		var i;
		var loAxisPaging;
		for (i = 0; i < this.tAxesPaging.size(); i++) {
			loAxisPaging = this.tAxesPaging.get(i);
			if (loAxisPaging === null) {
				continue;
			}
			if (loAxisPaging.getState() === sap.firefly.SyncState.OUT_OF_SYNC) {
				return sap.firefly.SyncState.OUT_OF_SYNC;
			}
		}
		return sap.firefly.SyncState.IN_SYNC;
	},
	setPagingMode : function(pagingMode, offset, size) {
		var i;
		var loAxisPaging;
		for (i = 0; i < this.tAxesPaging.size(); i++) {
			loAxisPaging = this.tAxesPaging.get(i);
			if (loAxisPaging === null) {
				continue;
			}
			loAxisPaging.setPagingMode(pagingMode, offset, size);
		}
	},
	releaseObject : function() {
		var loResultSetAxisPagingInfo;
		var loAxisPaging;
		this.oResultSet = null;
		if (this.tAxesPaging !== null) {
			loResultSetAxisPagingInfo = this.tAxesPaging.getIterator();
			while (loResultSetAxisPagingInfo.hasNext()) {
				loAxisPaging = loResultSetAxisPagingInfo.next();
				if (loAxisPaging !== null) {
					loAxisPaging.releaseObject();
				}
			}
			this.tAxesPaging.releaseObject();
			this.tAxesPaging = null;
		}
		sap.zen.ResultSetPaging.$superclass.releaseObject.call(this);
	}
});
$Firefly
		.createClass(
				"sap.zen.CellSetRenderer",
				sap.zen.RendererWithDimensions,
				{
					$statics : {
						create : function(oJsonDataProjector,
								oProjectionInformation, tProjectionDimensions,
								tProjectionInstances) {
							var loInstance = new sap.zen.CellSetRenderer();
							loInstance
									.initMe1(oJsonDataProjector,
											oProjectionInformation,
											tProjectionDimensions,
											tProjectionInstances);
							return loInstance;
						}
					},
					tProjectionInstances : null,
					tAxesWithFixedDimensions : null,
					tAxesWithVariableDimensions : null,
					tRowTupleIndexes : null,
					tColumnTupleIndexes : null,
					tTuples : null,
					tData : null,
					tRowTuples : null,
					tColumnTuples : null,
					rowAxis : null,
					columnAxis : null,
					initMe1 : function(oJsonDataProjector,
							oProjectionInformation, tProjectionDimensions,
							tProjectionInstances) {
						sap.zen.CellSetRenderer.$superclass.initMe.call(this,
								oJsonDataProjector, oProjectionInformation,
								tProjectionDimensions);
						this.tProjectionInstances = tProjectionInstances;
						this.tTuples = sap.firefly.XList.create();
						this.tData = sap.firefly.XList.create();
						this.tColumnTuples = sap.zen.DummyHashMapOfObjects
								.create();
						this.tRowTuples = sap.zen.DummyHashMapOfObjects
								.create();
						this.putInRealMeasuresName();
					},
					putInRealMeasuresName : function() {
						var loMeasureProjectionInstance = this.tProjectionInstances
								.getByKey("(MEASURES_DIMENSION)");
						var loInternalMeasureDimension;
						if (loMeasureProjectionInstance !== null) {
							this.tProjectionInstances
									.remove("(MEASURES_DIMENSION)");
							this.tProjectionInstances.put("[Measures]",
									loMeasureProjectionInstance);
						}
						loMeasureProjectionInstance = this.tProjectionInstances
								.getByKey("[Measures]");
						if (loMeasureProjectionInstance !== null) {
							this.tProjectionInstances.remove("[Measures]");
							loInternalMeasureDimension = this.oJsonDataProjector
									.getQueryModel().getMeasureDimension();
							if (loInternalMeasureDimension !== null) {
								this.tProjectionInstances.put(
										loInternalMeasureDimension.getName(),
										loMeasureProjectionInstance);
							}
						}
					},
					checkProjectionInstances : function(strictCheck) {
						var loQueryModel = this.oJsonDataProjector
								.getQueryModel();
						var loProjectionInstanceKeyIterator;
						var lProjectionInstanceKey;
						var loProjectionInstance;
						var loInternalDimension;
						var lSelectionConstraint;
						var lSelectionShape;
						if (loQueryModel === null) {
							return false;
						}
						if (this.tProjectionInstances.isEmpty()
								&& !this.oProjectionInformation
										.isAllDataOnEmptySelection()) {
							return false;
						}
						if (this.oJsonDataProjector.oResultSet === null) {
							return false;
						}
						if (this.oJsonDataProjector.oResultSet.hasErrors()
								|| !this.oJsonDataProjector.oResultSet
										.hasData()) {
							return false;
						}
						this.tAxesWithVariableDimensions = sap.firefly.XHashSetOfString
								.create();
						this.tAxesWithFixedDimensions = sap.firefly.XHashSetOfString
								.create();
						loProjectionInstanceKeyIterator = this.tProjectionInstances
								.getKeysAsIteratorOfString();
						while (loProjectionInstanceKeyIterator.hasNext()) {
							lProjectionInstanceKey = loProjectionInstanceKeyIterator
									.next();
							loProjectionInstance = this.tProjectionInstances
									.getByKey(lProjectionInstanceKey);
							loInternalDimension = loQueryModel
									.getDimensionByName(lProjectionInstanceKey);
							if (loInternalDimension === null) {
								this.oJsonDataProjector
										.logItemWarning4(
												"WARNING_PROJECTION_DIM_NOT_FOUND",
												sap.zen.ProjectionUtil
														.stringifyCartesianSelection2(this.tProjectionInstances),
												lProjectionInstanceKey);
								return false;
							}
							if (!(loInternalDimension.getAxis().getType()
									.isEqualTo(sap.firefly.AxisType.ROWS) || loInternalDimension
									.getAxis().getType().isEqualTo(
											sap.firefly.AxisType.COLUMNS))) {
								this.oJsonDataProjector
										.logItemWarning4(
												"WARNING_PROJECTION_DIM_NON_ON_VISIBLE_AXIS",
												sap.zen.ProjectionUtil
														.stringifyCartesianSelection2(this.tProjectionInstances),
												lProjectionInstanceKey);
							}
						}
						this.storeSelectionShape(loQueryModel
								.getAxis(sap.firefly.AxisType.ROWS));
						this.storeSelectionShape(loQueryModel
								.getAxis(sap.firefly.AxisType.COLUMNS));
						lSelectionConstraint = this.oProjectionInformation
								.getSelectionShape();
						lSelectionShape = this.tAxesWithVariableDimensions
								.size();
						if (lSelectionConstraint === 1 && lSelectionShape === 2) {
							if (!this.tProjectionInstances.isEmpty()) {
								this.oJsonDataProjector
										.logItemWarning3(
												"WARNING_PROJECTION_IS_RECTANGLE",
												sap.zen.ProjectionUtil
														.stringifyCartesianSelection2(this.tProjectionInstances));
							}
							return false;
						}
						if (lSelectionConstraint === 1 && lSelectionShape === 0) {
							if (!this.tProjectionInstances.isEmpty()) {
								this.oJsonDataProjector
										.logItemWarning3(
												"WARNING_PROJECTION_IS_CELL",
												sap.zen.ProjectionUtil
														.stringifyCartesianSelection2(this.tProjectionInstances));
							}
							return false;
						}
						if (lSelectionConstraint === 0 && lSelectionShape > 0) {
							if (!this.tProjectionInstances.isEmpty()) {
								this.oJsonDataProjector
										.logItemWarning3(
												"WARNING_PROJECTION_IS_NOT_CELL",
												sap.zen.ProjectionUtil
														.stringifyCartesianSelection2(this.tProjectionInstances));
							}
							return false;
						}
						this.columnAxis = sap.firefly.AxisType.COLUMNS;
						this.rowAxis = sap.firefly.AxisType.ROWS;
						if (this.oProjectionInformation.isSwapAxes()) {
							this.columnAxis = sap.firefly.AxisType.ROWS;
							this.rowAxis = sap.firefly.AxisType.COLUMNS;
						}
						this.tColumnTupleIndexes = this
								.collectAxisTupleIndexes(this.columnAxis);
						this.tRowTupleIndexes = this
								.collectAxisTupleIndexes(this.rowAxis);
						return true;
					},
					storeSelectionShape : function(oInternalAxis) {
						var ltInternalDimensions = oInternalAxis
								.getDimensions();
						var loInternalDimensionIterator = ltInternalDimensions
								.getIterator();
						var loInternalDimension;
						var lDimensionName;
						while (loInternalDimensionIterator.hasNext()) {
							loInternalDimension = loInternalDimensionIterator
									.next();
							if (loInternalDimension === null) {
								continue;
							}
							lDimensionName = loInternalDimension.getName();
							if (this.tProjectionInstances
									.getByKey(lDimensionName) !== null) {
								this.tAxesWithFixedDimensions.put(oInternalAxis
										.getType().getName());
							} else {
								this.tAxesWithVariableDimensions
										.put(oInternalAxis.getType().getName());
							}
						}
					},
					collectAxisTupleIndexes : function(axis) {
						var ltAxisTupleIndexes = sap.firefly.XList.create();
						var lAmountOfTuples = this.oJsonDataProjector.oResultSet
								.getAmountOfTuplesOnAxis(axis);
						var lTupleIndex;
						var loTuple;
						if (lAmountOfTuples > 0) {
							for (lTupleIndex = 0; lTupleIndex < lAmountOfTuples; lTupleIndex++) {
								loTuple = this.oJsonDataProjector.oResultSet
										.getTuple(axis, lTupleIndex, null, null);
								if (loTuple === null) {
									continue;
								}
								if (this.tupleMatches(loTuple)) {
									ltAxisTupleIndexes
											.add(sap.firefly.XIntegerValue
													.create(lTupleIndex));
								}
							}
						} else {
							ltAxisTupleIndexes.add(sap.firefly.XIntegerValue
									.create(0));
						}
						return ltAxisTupleIndexes;
					},
					tupleMatches : function(oTuple) {
						var lTupleElementIndex;
						var loTupleElement;
						var loDimensionMember;
						var loDimension;
						var loProjectionInstance;
						var ltListOfProjectionStrings;
						var lMatch;
						for (lTupleElementIndex = 0; lTupleElementIndex < oTuple
								.getAmountOfTupleElements(); lTupleElementIndex++) {
							loTupleElement = oTuple.getTupleElement(
									lTupleElementIndex, null);
							if (loTupleElement === null) {
								continue;
							}
							loDimensionMember = loTupleElement
									.getDimensionMember();
							loDimension = loTupleElement.getDimension();
							loProjectionInstance = this.tProjectionInstances
									.getByKey(loDimension.getName());
							if (loDimensionMember.isTotal()
									&& (!this.oProjectionInformation
											.isIncludeResults())) {
								if (loProjectionInstance === null) {
									return false;
								}
							}
							if (loProjectionInstance === null) {
								continue;
							}
							if (loProjectionInstance.isString()) {
								ltListOfProjectionStrings = sap.firefly.XListOfString
										.create();
								ltListOfProjectionStrings
										.add(loProjectionInstance
												.getProjectionString()
												.getStringValue());
							} else {
								ltListOfProjectionStrings = loProjectionInstance
										.getProjectionStrings();
							}
							lMatch = this.dimensionMemberMatches(
									ltListOfProjectionStrings,
									loDimensionMember);
							if (!lMatch) {
								return false;
							}
						}
						return true;
					},
					dimensionMemberMatches : function(tValues, oDimensionMember) {
						var loValueIterator = tValues.getIterator();
						var lValue;
						while (loValueIterator.hasNext()) {
							lValue = loValueIterator.next();
							if (oDimensionMember.isTotal()
									&& sap.firefly.XString.isEqual(lValue,
											"(RESULT_MEMBER)")) {
								return true;
							}
							if (sap.firefly.XString.isEqual(lValue,
									oDimensionMember.getName())) {
								return true;
							}
						}
						return false;
					},
					render : function() {
						var loProjectionDimensionIterator;
						var loProjectionDimension;
						var lTuplesIterator;
						var lTupleEntry;
						var j;
						var loResultDataCell;
						var loResultDataCellIterator;
						var lValueException;
						var lValue;
						var DATA_ENTRY_ENABLED;
						var NEW_VALUE;
						var VALID_DATA;
						var cellInfo;
						var newValue2;
						var s;
						this.projectData();
						this.oJsonDataProjector.oRenderSerializer
								.openArray("selection");
						loProjectionDimensionIterator = this.tProjectionDimensions
								.getIterator();
						while (loProjectionDimensionIterator.hasNext()) {
							loProjectionDimension = loProjectionDimensionIterator
									.next();
							if (loProjectionDimension === null) {
								continue;
							}
							loProjectionDimension
									.renderIndexFromSelection(this.tProjectionInstances);
						}
						this.oJsonDataProjector.oRenderSerializer.closeArray();
						if (this.oProjectionInformation.isIncludeTuples()) {
							this.oJsonDataProjector.oRenderSerializer
									.openArray("tuples");
							lTuplesIterator = this.tTuples.getIterator();
							while (lTuplesIterator.hasNext()) {
								lTupleEntry = lTuplesIterator.next();
								this.oJsonDataProjector.oRenderSerializer
										.openJsonArray();
								for (j = 0; j < lTupleEntry.size(); j++) {
									this.oJsonDataProjector.oRenderSerializer
											.addIntegerToArray(lTupleEntry
													.get(j));
								}
								this.oJsonDataProjector.oRenderSerializer
										.closeJsonArray();
							}
							this.oJsonDataProjector.oRenderSerializer
									.closeArray();
						}
						loResultDataCell = null;
						loResultDataCellIterator = null;
						if (this.oProjectionInformation.isIncludeData()) {
							this.oJsonDataProjector.oRenderSerializer
									.openArray("data");
							loResultDataCellIterator = this.tData.getIterator();
							while (loResultDataCellIterator.hasNext()) {
								loResultDataCell = loResultDataCellIterator
										.next();
								lValueException = loResultDataCell
										.getValueException();
								lValue = null;
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(loResultDataCell
												.getFormatString())
										&& loResultDataCell.isPercent()) {
									lValue = loResultDataCell
											.getInternalValue();
								} else {
									lValue = loResultDataCell.getValue();
								}
								if ((lValueException
										.isEqualTo(sap.firefly.ValueException.NORMAL) || lValueException
										.isEqualTo(sap.firefly.ValueException.ZERO))
										&& loResultDataCell.isNumber()) {
									this.oJsonDataProjector.oRenderSerializer
											.addDoubleToArray(lValue);
								} else {
									this.oJsonDataProjector.oRenderSerializer
											.addNullToArray();
								}
							}
							this.oJsonDataProjector.oRenderSerializer
									.closeArray();
						}
						if (this.oProjectionInformation.isIncludeEditable()) {
							DATA_ENTRY_ENABLED = 1;
							NEW_VALUE = 2;
							VALID_DATA = 4;
							this.oJsonDataProjector.oRenderSerializer
									.openArray("editable");
							loResultDataCellIterator = this.tData.getIterator();
							while (loResultDataCellIterator.hasNext()) {
								loResultDataCell = loResultDataCellIterator
										.next();
								cellInfo = 0;
								if (loResultDataCell.isDataEntryEnabled()) {
									cellInfo = DATA_ENTRY_ENABLED;
									if (loResultDataCell.isValueChanged()) {
										cellInfo = cellInfo + NEW_VALUE;
									}
									cellInfo = cellInfo + VALID_DATA;
								}
								this.oJsonDataProjector.oRenderSerializer
										.addIntegerToArray(sap.firefly.XIntegerValue
												.create(cellInfo));
							}
							this.oJsonDataProjector.oRenderSerializer
									.closeArray();
						}
						if (this.oProjectionInformation
								.isIncludeFormattedData()) {
							this.oJsonDataProjector.oRenderSerializer
									.openArray("formattedData");
							loResultDataCellIterator = this.tData.getIterator();
							while (loResultDataCellIterator.hasNext()) {
								loResultDataCell = loResultDataCellIterator
										.next();
								if (loResultDataCell.isDataEntryEnabled()
										&& loResultDataCell.isValueChanged()) {
									newValue2 = loResultDataCell
											.getDoubleValue();
									s = sap.firefly.XDouble
											.convertDoubleToString(newValue2);
									this.oJsonDataProjector.oRenderSerializer
											.addSimpleValueToArray(s);
								} else {
									this.oJsonDataProjector.oRenderSerializer
											.addSimpleValueToArray(loResultDataCell
													.getFormattedValue());
								}
							}
							this.oJsonDataProjector.oRenderSerializer
									.closeArray();
						}
					},
					projectData : function() {
						var loRowTupleIndexIterator = null;
						var loColumnTupleIndexIterator = null;
						var lRowTupleIndex;
						var lColumnTupleIndex;
						var loRowTuple;
						var loColumnTuple;
						var loResultDataCell;
						loRowTupleIndexIterator = this.tRowTupleIndexes
								.getIterator();
						while (loRowTupleIndexIterator.hasNext()) {
							lRowTupleIndex = loRowTupleIndexIterator.next();
							loRowTuple = null;
							if (this.oJsonDataProjector.oResultSet
									.getAmountOfTuplesOnAxis(this.rowAxis) > 0) {
								loRowTuple = this.oJsonDataProjector.oResultSet
										.getTuple(this.rowAxis, lRowTupleIndex
												.getIntegerValue(), null, null);
							}
							loColumnTupleIndexIterator = this.tColumnTupleIndexes
									.getIterator();
							while (loColumnTupleIndexIterator.hasNext()) {
								lColumnTupleIndex = loColumnTupleIndexIterator
										.next();
								loColumnTuple = null;
								if (this.oJsonDataProjector.oResultSet
										.getAmountOfTuplesOnAxis(this.columnAxis) > 0) {
									loColumnTuple = this.oJsonDataProjector.oResultSet
											.getTuple(this.columnAxis,
													lColumnTupleIndex
															.getIntegerValue(),
													null, null);
								}
								loResultDataCell = null;
								if (this.oProjectionInformation.isSwapAxes()) {
									loResultDataCell = this.oJsonDataProjector.oResultSet
											.getResultDataCell(
													lColumnTupleIndex
															.getIntegerValue(),
													lRowTupleIndex
															.getIntegerValue());
								} else {
									loResultDataCell = this.oJsonDataProjector.oResultSet
											.getResultDataCell(lRowTupleIndex
													.getIntegerValue(),
													lColumnTupleIndex
															.getIntegerValue());
								}
								this.addData(loResultDataCell);
								this.addTuples(loRowTuple, loColumnTuple,
										loResultDataCell);
							}
						}
						loRowTupleIndexIterator = this.tRowTupleIndexes
								.getIterator();
						while (loRowTupleIndexIterator.hasNext()) {
							lRowTupleIndex = loRowTupleIndexIterator.next();
							loRowTuple = null;
							if (this.oJsonDataProjector.oResultSet
									.getAmountOfTuplesOnAxis(this.rowAxis) > 0) {
								loRowTuple = this.oJsonDataProjector.oResultSet
										.getTuple(this.rowAxis, lRowTupleIndex
												.getIntegerValue(), null, null);
							}
							this.tRowTuples.put(loRowTuple, this
									.createAxisTuple(loRowTuple));
						}
						loColumnTupleIndexIterator = this.tColumnTupleIndexes
								.getIterator();
						while (loColumnTupleIndexIterator.hasNext()) {
							lColumnTupleIndex = loColumnTupleIndexIterator
									.next();
							loColumnTuple = null;
							if (this.oJsonDataProjector.oResultSet
									.getAmountOfTuplesOnAxis(this.columnAxis) > 0) {
								loColumnTuple = this.oJsonDataProjector.oResultSet
										.getTuple(this.columnAxis,
												lColumnTupleIndex
														.getIntegerValue(),
												null, null);
							}
							this.tColumnTuples.put(loColumnTuple, this
									.createAxisTuple(loColumnTuple));
						}
					},
					addData : function(oResultDataCell) {
						this.tData.add(oResultDataCell);
					},
					addTuples : function(oRowTuple, oColumnTuple,
							oSampleResultDataCell) {
						var lColumnTupleElements = 0;
						var lRowTupleElements;
						var ltTupleElementIndexes;
						if (oColumnTuple !== null) {
							lColumnTupleElements = oColumnTuple
									.getAmountOfTupleElements();
						}
						lRowTupleElements = 0;
						if (oRowTuple !== null) {
							lRowTupleElements = oRowTuple
									.getAmountOfTupleElements();
						}
						ltTupleElementIndexes = sap.firefly.XArray
								.create(lColumnTupleElements
										+ lRowTupleElements);
						this.addTupleEntries(oColumnTuple,
								ltTupleElementIndexes, 0);
						this.addTupleEntries(oRowTuple, ltTupleElementIndexes,
								lColumnTupleElements);
						this.configureMeasure(ltTupleElementIndexes,
								oSampleResultDataCell);
						this.tTuples.add(ltTupleElementIndexes);
					},
					configureMeasure : function(tTupleElementIndexes,
							oPotentialSampleCell) {
						var i;
						var loProjectionDimension;
						var loProjectionMeasure;
						for (i = 0; i < tTupleElementIndexes.size(); i++) {
							loProjectionDimension = this.tProjectionDimensions
									.get(i);
							if (loProjectionDimension.getDimension()
									.isMeasureStructure()) {
								loProjectionMeasure = loProjectionDimension
										.getProjectionMember(tTupleElementIndexes
												.get(i).getIntegerValue());
								loProjectionMeasure
										.configurePotentialSampleCell(oPotentialSampleCell);
								return;
							}
						}
						if (this.oJsonDataProjector
								.getMeasureProjectionDimension() === null) {
							this.oJsonDataProjector
									.setMeasureProjectionDimension(this.oProjectionInformation);
						}
					},
					createAxisTuple : function(oTuple) {
						var lOtherAxis;
						var lOtherAxisTupleElementsSize;
						var ltTupleElementIndexes;
						var i;
						var lOffset;
						if (oTuple !== null) {
							lOtherAxis = oTuple.getOtherAxis();
							lOtherAxisTupleElementsSize = oTuple.getResultSet()
									.getAmountOfTupleElementsOnAxis(lOtherAxis);
							ltTupleElementIndexes = sap.firefly.XArray
									.create(oTuple.getAmountOfTupleElements()
											+ lOtherAxisTupleElementsSize);
							for (i = 0; i < ltTupleElementIndexes.size(); i++) {
								ltTupleElementIndexes.set(i,
										sap.firefly.XIntegerValue.create(-1));
							}
							lOffset = 0;
							if (!oTuple.getAxis().isEqualTo(this.columnAxis)) {
								lOffset = lOtherAxisTupleElementsSize;
							}
							this.addTupleEntries(oTuple, ltTupleElementIndexes,
									lOffset);
							return ltTupleElementIndexes;
						}
						return null;
					},
					renderAxes : function() {
						this.oJsonDataProjector.oRenderSerializer
								.openArray("axis_columns");
						this.renderAxis(this.tColumnTuples);
						this.oJsonDataProjector.oRenderSerializer.closeArray();
						this.oJsonDataProjector.oRenderSerializer
								.openArray("axis_rows");
						this.renderAxis(this.tRowTuples);
						this.oJsonDataProjector.oRenderSerializer.closeArray();
					},
					renderAxis : function(tTupleIndexes) {
						var loTupleIndexIterator = tTupleIndexes
								.getValuesAsIterator();
						var ltTupleElementIndexes;
						var j;
						var lTupleElementIndex;
						while (loTupleIndexIterator.hasNext()) {
							ltTupleElementIndexes = loTupleIndexIterator.next();
							this.oJsonDataProjector.oRenderSerializer
									.openJsonArray();
							if (ltTupleElementIndexes !== null) {
								for (j = 0; j < ltTupleElementIndexes.size(); j++) {
									lTupleElementIndex = ltTupleElementIndexes
											.get(j);
									this.oJsonDataProjector.oRenderSerializer
											.addIntegerToArray(lTupleElementIndex);
								}
							} else {
								this.oJsonDataProjector.oRenderSerializer
										.addIntegerToArray(sap.firefly.XIntegerValue
												.create(-1));
							}
							this.oJsonDataProjector.oRenderSerializer
									.closeJsonArray();
						}
					},
					renderRowAndColumsCount : function() {
						this.oJsonDataProjector.oRenderSerializer
								.addIntegerAttribute("columnCount",
										this.tColumnTuples.size());
						this.oJsonDataProjector.oRenderSerializer
								.addIntegerAttribute("rowCount",
										this.tRowTuples.size());
					}
				});
$Firefly
		.createClass(
				"sap.zen.LocalizationBookmark",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.zen.rt.bookmark.resolver.impl."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationBookmark.LOCALIZATION_PREFIX;
					}
				});
$Firefly
		.createClass(
				"sap.zen.LocalizationCommandResolver",
				sap.zen.LocalizationText,
				{
					$statics : {
						LOCALIZATION_PREFIX : "com.sap.ip.bi.bundle.zen.rt.components.command.resolver."
					},
					getLocalizationPrefix : function() {
						return sap.zen.LocalizationCommandResolver.LOCALIZATION_PREFIX;
					}
				});
$Firefly
		.createClass(
				"sap.zen.Page",
				sap.firefly.XObject,
				{
					$statics : {
						ALL_SEMANTIC_OBJECTS : "*",
						NAV_PARAMS : "NAV_PARAMS",
						NAV_ALLOWED_SEMANTIC_SOURCES : "NAV_SOURCES",
						NAV_SEMANTIC_MAPPINGS : "NAV_SEMANTIC_MAPPINGS",
						NAV_INITIAL_STATE : "NAV_INITIAL_STATE",
						DATALIMIT_ROWS : "XDATALIMIT_ROWS",
						DATALIMIT_COLS : "XDATALIMIT_COLS",
						EXCEL_VERSION : "XEXCEL_VERSION"
					},
					dataLimitRows : 0,
					dataLimitCols : 0,
					useExcelVersion : 0,
					useExcelOpenOfficeType : null,
					tDataSources : null,
					tComponents : null,
					tPlanningObjects : null,
					oRootComponent : null,
					initial : false,
					contentChanged : false,
					oFactory : null,
					oApplication : null,
					oWindow : null,
					scripts : null,
					relativePathToApp : null,
					renderQueue : 0,
					numberOfStartedRefreshes : 0,
					hanaMode : false,
					json : null,
					newComponentIdIndex : 0,
					jsonObj : null,
					designMode : false,
					dshControlId : null,
					sdkLoader : null,
					appName : null,
					oRootNode : null,
					renderStep : 0,
					pageId : null,
					oPlanning : null,
					oTemplateLoader : null,
					localPortForRemoteDebugging : 0,
					oBookmarkRequestHandler : null,
					forcePrompt : false,
					startUpScriptAlreadyExecuted : false,
					userAgent : null,
					navigationParamObject : null,
					navigationAllowedSemanticSourcesList : null,
					variableScreenAlreadyRendered : false,
					inVarSubmitOrBackgroundProcessingScript : false,
					tVariableProcessorList : null,
					dataSourceInitializeMode : false,
					numberOfINitialDataSources : 0,
					asynchronousEnabled : false,
					optimizeDSRequests : false,
					navigationParametersJson : null,
					tAddtionalRequiredJavaScripts : null,
					inOnBeforePromptsSubmit : false,
					externalNameToDimensionMappings : null,
					reverseNameMappings : null,
					navigationInfoObjectToSemanticObjectMappingsMap : null,
					tAllRequiredModules : null,
					tNewRequiredModules : null,
					oLogging : null,
					copyOfUrlParameterForSupportZip : null,
					copyOfUrlParameterForBackToStart : null,
					rstt : null,
					oLocalization : null,
					inBackToStartMode : false,
					tVisiblePrompts : null,
					navigationInitialState : null,
					pageIdForScripting : null,
					rightToLeft : false,
					tDialogs : null,
					oMessageComponent : null,
					oMessageManager : null,
					asyncResultSetAlreadyFetched : false,
					useExternalSemanticObjectMappings : function() {
						return (this.navigationInfoObjectToSemanticObjectMappingsMap !== null);
					},
					getLogging : function() {
						return this.oLogging;
					},
					setMyWindow : function(oWindow) {
						this.oWindow = oWindow;
					},
					wrapAndSetInContext : function(idToUse, obj) {
						var additionalScriptAfterWrapping;
						this.oWindow.wrapAndPutInContext(idToUse, obj);
						additionalScriptAfterWrapping = obj
								.getAdditionalScriptAfterWrapping();
						if (additionalScriptAfterWrapping !== null) {
							this
									.execWithoutRerender(additionalScriptAfterWrapping);
						}
					},
					decreaseInitializedNumberDataSourceAndCheckForZero : function() {
						this.numberOfINitialDataSources--;
						return (this.numberOfINitialDataSources === 0);
					},
					increaseInitializedNumberDataSource : function() {
						this.numberOfINitialDataSources++;
					},
					isDataSourceInitializeMode : function() {
						return this.dataSourceInitializeMode;
					},
					setHanaMode : function(hanaMode) {
						this.hanaMode = hanaMode;
					},
					isHanaMode : function() {
						return (this.hanaMode === true);
					},
					getRelativePathToApp : function() {
						return this.relativePathToApp;
					},
					getDataSource : function(dataSource) {
						return this.tDataSources.getByKey(dataSource);
					},
					createVirtualDataSource : function(dataSource) {
						this.initializeDataSourceObject(dataSource);
						return dataSource;
					},
					createDataSourceObject : function(initParameter) {
						var obj = this.oFactory.createObject(initParameter,
								this, null);
						this.initializeDataSourceObject(obj);
						return obj;
					},
					initializeDataSourceObject : function(obj) {
						this.tDataSources.put(obj.getName(), obj);
						this.oWindow.wrapAndPutInContext(obj.getId(), obj);
					},
					getComponentType : function(initParameter) {
						var type = initParameter.getAttribute("type");
						return type;
					},
					getComponents : function() {
						return this.tComponents;
					},
					getComponent : function(component) {
						return this.tComponents.getByKey(component);
					},
					getComponentsByType : function(componentType) {
						var resultList = sap.firefly.XList.create();
						var componentsIterator = this.tComponents.getIterator();
						var component;
						while (componentsIterator.hasNext()) {
							component = componentsIterator.next();
							if (sap.firefly.XString.isEqual(componentType,
									component.getType())) {
								resultList.add(component);
							}
						}
						return resultList;
					},
					containsComponentType : function(ctype) {
						var iterator = this.tComponents.getIterator();
						var comp;
						while (iterator.hasNext()) {
							comp = iterator.next();
							if (sap.firefly.XString.isEqual(comp.getType(),
									ctype)) {
								return true;
							}
						}
						return false;
					},
					createComponentObject : function(initParameter, parent) {
						var obj = this.oFactory.createObject(initParameter,
								this, parent);
						var type;
						var logging;
						if (obj === null) {
							type = initParameter.getAttribute("type");
							logging = this.getLogging();
							if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								logging
										.debug(sap.firefly.XString
												.concatenate2(
														"factory missing for ",
														type), "", null);
							}
							return null;
						}
						this.tComponents.put(obj.getName(), obj);
						if (obj.addToContainerChildren()) {
							this.wrapAndSetInContext(obj.getId(), obj);
						}
						return obj;
					},
					createComponentObjectWOInitParameter : function(type, uid,
							parent) {
						var obj = this.oFactory.createObjectInternal(type, uid,
								this, null, parent, true);
						var logging;
						if (obj === null) {
							logging = this.getLogging();
							if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								logging
										.debug(sap.firefly.XString
												.concatenate2(
														"factory missing for ",
														type), "", null);
							}
							return null;
						}
						this.tComponents.put(obj.getName(), obj);
						this.wrapAndSetInContext(obj.getId(), obj);
						return obj;
					},
					destroyComponent : function(targetItem) {
						var loComponentToDestroy = this.tComponents
								.getByKey(targetItem);
						var loParentComponent;
						if (loComponentToDestroy === null) {
							return;
						}
						loParentComponent = loComponentToDestroy.getParent();
						if (loParentComponent !== null) {
							loParentComponent.removeChild(loComponentToDestroy);
							loParentComponent.setContentChanged(true);
						}
						loComponentToDestroy.releaseObject();
						this.tComponents.remove(targetItem);
					},
					createPlanningObject : function(initParameter, parent) {
						var obj = this.oFactory.createObject(initParameter,
								this, parent);
						var type;
						if (obj === null) {
							type = initParameter.getAttribute("type");
							sap.firefly.XLogger
									.println(sap.firefly.XString.concatenate2(
											"factory missing for ", type));
							return null;
						}
						this.tPlanningObjects.put((obj).getName(), obj);
						this.wrapAndSetInContext((obj).getId(), obj);
						return obj;
					},
					addVariableDialogComponent : function() {
						var loRootComponent = this.getComponent("ROOT");
						var loVariableDialogComponent = this
								.createComponentObjectWOInitParameter(
										sap.zen.VariableDialogControl_M.COMPONENT_TYPE,
										sap.zen.VariableDialogControl_M.VARIABLEDIALOG_UID,
										loRootComponent);
						if (loRootComponent !== null) {
							loRootComponent.addChild(loVariableDialogComponent);
							loVariableDialogComponent
									.setParent(loRootComponent);
						}
						return loVariableDialogComponent;
					},
					getVariableDialogComponent : function() {
						var loComponent = this
								.getComponent(sap.zen.VariableDialogControl_M.VARIABLEDIALOG_UID);
						if (loComponent === null) {
							loComponent = this.addVariableDialogComponent();
						}
						return loComponent;
					},
					addMessageComponent : function() {
						var loRootComponent = this.getComponent("ROOT");
						var loMessageComponent = this
								.createMessageComponent(sap.zen.MessageviewControl.MESSAGEVIEW_UID);
						if (loRootComponent !== null) {
							loRootComponent.addChild(loMessageComponent);
							loMessageComponent.setParent(loRootComponent);
						}
						this.getMessageManager()
								.addListener(loMessageComponent);
						return loMessageComponent;
					},
					getMessageComponent : function() {
						var loComponent = this
								.getComponent(sap.zen.MessageviewControl.MESSAGEVIEW_UID);
						if (loComponent === null) {
							loComponent = this.addMessageComponent();
						}
						return loComponent;
					},
					createMessageComponent : function(id) {
						var loInitParameters = null;
						var loApplicationProperties;
						var loMessageComponent;
						if (sap.firefly.XString.isEqual(id,
								sap.zen.MessageviewControl.MESSAGEVIEW_UID)) {
							loApplicationProperties = this
									.getApplicationPropertiesComponent();
							loInitParameters = loApplicationProperties
									.getInitParameters();
						}
						loMessageComponent = this
								.getFactory()
								.createObjectByType(
										sap.zen.MessageviewControl.COMPONENT_TYPE,
										id, this, loInitParameters);
						this.tComponents.put(loMessageComponent.getName(),
								loMessageComponent);
						this.wrapAndSetInContext(loMessageComponent.getId(),
								loMessageComponent);
						return loMessageComponent;
					},
					getMessageManager : function() {
						var loMessageManager = null;
						var loCurrentDialog = this.getCurrentDialog();
						if (loCurrentDialog !== null) {
							loMessageManager = loCurrentDialog
									.getMessageManager();
						}
						if (loMessageManager === null) {
							loMessageManager = this.oMessageManager;
						}
						return loMessageManager;
					},
					addDialog : function(oDialog) {
						var loMessageManager;
						var loMessageComponent;
						if (oDialog === null) {
							return;
						}
						if (this.tDialogs.contains(oDialog)) {
							return;
						}
						this.tDialogs.insert(0, oDialog);
						loMessageManager = oDialog.getMessageManager();
						loMessageComponent = oDialog.getMessageComponent();
						if (loMessageManager === this.oMessageManager
								|| loMessageManager === null) {
							oDialog.setMessageComponent(this.oMessageComponent);
						} else {
							if (loMessageComponent === null
									|| loMessageComponent === this.oMessageComponent) {
								loMessageComponent = this
										.createMessageComponent(sap.firefly.XStringUtils
												.concatenate3(
														oDialog
																.getComponentName(),
														"_",
														sap.zen.MessageviewControl.MESSAGEVIEW_UID));
								oDialog.setMessageComponent(loMessageComponent);
							}
						}
					},
					removeDialog : function(oDialog, destroy) {
						if (oDialog === null) {
							return;
						}
						this.tDialogs.removeElement(oDialog);
						if (destroy) {
							this.destroyComponent(oDialog.getComponentName());
						}
					},
					getCurrentDialog : function() {
						var lDialogIndex;
						var loDialog;
						if (this.tDialogs !== null && this.tDialogs.size() > 0) {
							for (lDialogIndex = 0; lDialogIndex < this.tDialogs
									.size(); lDialogIndex++) {
								loDialog = this.tDialogs.get(lDialogIndex);
								if (loDialog.isOpen()) {
									return loDialog;
								}
							}
						}
						return null;
					},
					extractConfigParameters : function(paramList) {
						this.dataLimitRows = -2;
						if (paramList.containsKey(sap.zen.Page.DATALIMIT_ROWS)) {
							this.dataLimitRows = sap.firefly.XInteger
									.convertStringToInteger(paramList
											.getByKey(sap.zen.Page.DATALIMIT_ROWS));
							paramList.remove(sap.zen.Page.DATALIMIT_ROWS);
						}
						this.dataLimitCols = -2;
						if (paramList.containsKey(sap.zen.Page.DATALIMIT_COLS)) {
							this.dataLimitCols = sap.firefly.XInteger
									.convertStringToInteger(paramList
											.getByKey(sap.zen.Page.DATALIMIT_COLS));
							paramList.remove(sap.zen.Page.DATALIMIT_COLS);
						}
						this.useExcelVersion = 0;
						this.useExcelOpenOfficeType = sap.zen.COpenOfficeType.SHEETJS_PROTOBI;
						if (paramList.containsKey(sap.zen.Page.EXCEL_VERSION)) {
							this.useExcelVersion = sap.firefly.XDouble
									.convertStringToDouble(paramList
											.getByKey(sap.zen.Page.EXCEL_VERSION));
						}
					},
					getDataLimitRows : function() {
						return this.dataLimitRows;
					},
					getDataLimitCols : function() {
						return this.dataLimitCols;
					},
					extractNavigationParameters : function(paramList) {
						var mappings;
						if (paramList.containsKey(sap.zen.Page.NAV_PARAMS)) {
							this.navigationParamObject = paramList
									.getByKey(sap.zen.Page.NAV_PARAMS);
							paramList.remove(sap.zen.Page.NAV_PARAMS);
						}
						if (paramList
								.containsKey(sap.zen.Page.NAV_INITIAL_STATE)) {
							this.navigationInitialState = paramList
									.getByKey(sap.zen.Page.NAV_INITIAL_STATE);
							paramList.remove(sap.zen.Page.NAV_INITIAL_STATE);
						}
						this.extractAllowedSemanticSources(paramList);
						if (paramList
								.containsKey(sap.zen.Page.NAV_SEMANTIC_MAPPINGS)) {
							mappings = paramList
									.getByKey(sap.zen.Page.NAV_SEMANTIC_MAPPINGS);
							if (mappings !== null) {
								this.navigationInfoObjectToSemanticObjectMappingsMap = sap.buddha.XJsonObject
										.createFromJSonString(mappings)
										.getJSON();
							}
							paramList
									.remove(sap.zen.Page.NAV_SEMANTIC_MAPPINGS);
						}
					},
					extractAllowedSemanticSources : function(paramList) {
						var allowedSources;
						var jsonParser;
						var parseList;
						var listSize;
						var i;
						var semanticSource;
						if (paramList
								.containsKey(sap.zen.Page.NAV_ALLOWED_SEMANTIC_SOURCES)) {
							allowedSources = paramList
									.getByKey(sap.zen.Page.NAV_ALLOWED_SEMANTIC_SOURCES);
							if (allowedSources !== null) {
								this.navigationAllowedSemanticSourcesList = sap.firefly.XListOfString
										.create();
								if (sap.firefly.XString.isEqual(
										sap.zen.Page.ALL_SEMANTIC_OBJECTS,
										allowedSources)) {
									this.navigationAllowedSemanticSourcesList
											.add(allowedSources);
								} else {
									jsonParser = sap.firefly.JsonParserFactory
											.newInstance();
									parseList = jsonParser
											.parse(allowedSources).asList();
									listSize = parseList.size();
									i = 0;
									for (i = 0; i < listSize; i++) {
										semanticSource = parseList
												.getStringByIndex(i);
										this.navigationAllowedSemanticSourcesList
												.add(semanticSource);
									}
								}
							}
							paramList
									.remove(sap.zen.Page.NAV_ALLOWED_SEMANTIC_SOURCES);
						}
					},
					extractAllowedSemanticSourcesFromDataSource : function() {
						var valuesAsIterator;
						var ds;
						var qm;
						var dimensions;
						var externalName;
						if (this.tDataSources !== null
								&& this.navigationAllowedSemanticSourcesList !== null
								&& this.navigationAllowedSemanticSourcesList
										.contains(sap.zen.Page.ALL_SEMANTIC_OBJECTS)) {
							valuesAsIterator = this.tDataSources.getIterator();
							while (valuesAsIterator.hasNext()) {
								ds = valuesAsIterator.next();
								qm = ds.getQueryManager();
								if (qm !== null) {
									dimensions = qm.getQueryModel()
											.getDimensions().getIterator();
									while (dimensions.hasNext()) {
										externalName = dimensions.next()
												.getExternalName();
										if (sap.firefly.XStringUtils
												.isNotNullAndNotEmpty(externalName)) {
											this.navigationAllowedSemanticSourcesList
													.add(externalName);
										}
									}
								}
							}
							this.navigationAllowedSemanticSourcesList
									.removeElement(sap.zen.Page.ALL_SEMANTIC_OBJECTS);
						}
					},
					initBase : function(application, iWindow, path, paramList,
							dshControlId) {
						var keysAsIteratorOfString;
						var key;
						var value;
						this.dshControlId = dshControlId;
						this.oWindow = iWindow;
						this.oApplication = application;
						this.relativePathToApp = path;
						this.oWindow.setPage(this);
						this.rstt = sap.firefly.XStringBuffer.create();
						this.initial = true;
						this.oWindow.increaseLock();
						this.renderStep = -1;
						this.inBackToStartMode = false;
						if (paramList !== null) {
							this.copyOfUrlParameterForBackToStart = sap.firefly.XHashMapOfStringByString
									.create();
							keysAsIteratorOfString = paramList
									.getKeysAsIteratorOfString();
							while (keysAsIteratorOfString.hasNext()) {
								key = keysAsIteratorOfString.next();
								value = paramList.getByKey(key);
								this.copyOfUrlParameterForBackToStart.put(key,
										value);
							}
						}
						this.initBaseInternal();
					},
					initBaseInternal : function() {
						var paramList = null;
						var keysAsIteratorOfString;
						var key;
						var value;
						var sRoot;
						var dummyApp;
						var logging;
						var keysAsIteratorOfString2;
						var key2;
						var value2;
						var pDataSources;
						var pComponents;
						var pComponentsList;
						var initParameter;
						var componentType;
						var component;
						var applicationProperties;
						var promptMode;
						var sFinMode;
						var pDataSourcesList;
						var dataSource;
						if (this.copyOfUrlParameterForBackToStart !== null) {
							paramList = sap.firefly.XHashMapOfStringByString
									.create();
							keysAsIteratorOfString = this.copyOfUrlParameterForBackToStart
									.getKeysAsIteratorOfString();
							while (keysAsIteratorOfString.hasNext()) {
								key = keysAsIteratorOfString.next();
								value = this.copyOfUrlParameterForBackToStart
										.getByKey(key);
								paramList.put(key, value);
							}
						}
						this.tDataSources = sap.firefly.XHashMapByString
								.create();
						this.tComponents = sap.firefly.XHashMapByString
								.create();
						this.tPlanningObjects = sap.firefly.XHashMapByString
								.create();
						this.scripts = sap.firefly.XHashMapByString.create();
						this.oRootComponent = null;
						this.newComponentIdIndex = 0;
						sRoot = this.getTemplateLoader().getContentAsXml();
						this.oRootNode = sRoot;
						this.tDialogs = sap.firefly.XList.create();
						this.oMessageManager = sap.zen.ZenMessageManager
								.create(this);
						this.inOnBeforePromptsSubmit = false;
						if (this.oRootNode === null
								|| this.isCommonsApp(this.oRootNode)) {
							dummyApp = '<bi:biapp xmlns:bi="http://xml.sap.com/2011/biml/biapp" xmlns:jsp="http://java.sun.com/JSP/Page" xmlns="http://www.w3.org/TR/REC-html40" xmlns:h="http://www.w3.org/TR/REC-html40"><bi:component name="APPLICATION_PROPERTIES" type="APPLICATION_PROPERTIES"><bi:property name="THEME" value="sap_belize"/><bi:property name="UI5_MAIN" value="X"/><bi:property name="COMPACT_MODE" value="X"/><bi:property name="MESSAGE_POSITION" value="BOTTOMLEFT"/><bi:property name="MESSAGE_TYPES" value="ERRORS"/></bi:component><bi:component name="ROOT" type="ABSOLUTE_LAYOUT_COMPONENT"/></bi:biapp>';
							this.oRootNode = sap.buddha.XXmlUtils
									.getRootNode(dummyApp);
							sap.zen.CLocalizationCommandResolverMessages.PAGE_APP_NOT_LOADED
									.addMessageToMessageHandler(this,
											sap.firefly.Severity.ERROR, this
													.getAppName(), null, null);
						}
						logging = this.getLogging();
						if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
							this.rstt.append("<step>");
							this.rstt.appendNewLine();
							if (paramList !== null) {
								this.copyOfUrlParameterForSupportZip = sap.firefly.XHashMapOfStringByString
										.create();
								keysAsIteratorOfString2 = paramList
										.getKeysAsIteratorOfString();
								while (keysAsIteratorOfString2.hasNext()) {
									key2 = keysAsIteratorOfString2.next();
									value2 = paramList.getByKey(key2);
									if (logging
											.isLoggable(sap.buddha.XLogging.XDEBUG)) {
										this.rstt
												.append('<urlparameter name="');
										this.rstt.append(key2);
										this.rstt.append('" value="');
										value2 = sap.buddha.XSSEncoder
												.encodeXml(value2);
										this.rstt.append(value2);
										this.rstt.append('"/>');
										this.rstt.appendNewLine();
									}
									this.copyOfUrlParameterForSupportZip.put(
											key2, value2);
								}
							}
							this.rstt.append('<script name="openApp" value="');
							this.rstt.append(this.getAppName());
							this.rstt.append('" language="');
							this.rstt.append("en");
							this.rstt.append('"/>');
							this.rstt.appendNewLine();
						}
						if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
							this.rstt.append("</step>");
							this.rstt.appendNewLine();
						}
						this.startUpScriptAlreadyExecuted = false;
						sap.buddha.XJsonObject.setXWindow(this.oWindow);
						this.tAllRequiredModules = sap.firefly.XHashSetOfString
								.create();
						this.tNewRequiredModules = sap.firefly.XListOfString
								.create();
						pDataSources = this.oRootNode
								.getChildren("data_source_alias");
						pComponents = this.oRootNode.getChildren("component");
						pComponentsList = pComponents.getIterator();
						initParameter = null;
						while (pComponentsList.hasNext()) {
							initParameter = pComponentsList.next();
							componentType = this
									.getComponentType(initParameter);
							if (sap.firefly.XString.isEqual(componentType,
									"APPLICATION_PROPERTIES")) {
								component = this.createComponentObject(
										initParameter, null);
								break;
							}
						}
						applicationProperties = this
								.getApplicationPropertiesComponent();
						promptMode = applicationProperties.getPromptMode();
						this.oWindow.setMainMode(true);
						this.oWindow.setCompactMode(this.isCompactMode());
						sFinMode = sap.firefly.XString.isEqual(promptMode,
								"SFIN");
						this.oWindow.setSFinMode(sFinMode);
						this.extractConfigParameters(paramList);
						this.extractNavigationParameters(paramList);
						applicationProperties.addGlobalVariables(this.oWindow,
								paramList);
						this.asynchronousEnabled = true;
						this.dataSourceInitializeMode = this
								.isAsynchronousEnabled();
						if (this.dataSourceInitializeMode === true) {
							this.dataSourceInitializeMode = !this
									.isSynchronousRequired(pDataSources);
						}
						this.asynchronousEnabled = this.dataSourceInitializeMode;
						this.oPlanning = this.initializePlanning();
						this.numberOfINitialDataSources = 0;
						if (pDataSources !== null) {
							pDataSourcesList = pDataSources.getIterator();
							while (pDataSourcesList.hasNext()) {
								dataSource = this
										.createDataSourceObject(pDataSourcesList
												.next());
							}
						}
						if (!this.dataSourceInitializeMode
								|| (this.numberOfINitialDataSources === 0)) {
							this.dataSourceInitializeMode = false;
							this.doRestOfPageInitialization();
						}
						this.extractAllowedSemanticSourcesFromDataSource();
					},
					isCommonsApp : function(sRoot) {
						var main = sRoot.getFirstChildWithAttributeValue(null,
								"name", "UI5_MAIN", true);
						return main === null
								|| sap.firefly.XStringUtils.isNullOrEmpty(main
										.getAttribute("value"));
					},
					isSynchronousRequired : function(pDataSources) {
						var pDataSourcesList2;
						var dataSourceInitParameter;
						var dataSourceDefinitionNode;
						var dataSourceConnection;
						var sysName;
						var systemDescription;
						var systemType;
						var isBW;
						if (pDataSources !== null && pDataSources.size() > 1) {
							pDataSourcesList2 = pDataSources.getIterator();
							while (pDataSourcesList2.hasNext()) {
								dataSourceInitParameter = pDataSourcesList2
										.next();
								if (dataSourceInitParameter !== null) {
									dataSourceDefinitionNode = dataSourceInitParameter
											.getFirstChildWithNameTag("DATA_SOURCE_DEFINITION");
									if (dataSourceDefinitionNode !== null) {
										dataSourceConnection = dataSourceDefinitionNode
												.getFirstChildWithNameTag("DATA_SOURCE_CONNECTION");
										if ((this.isHanaMode() === true)
												|| (dataSourceConnection === null)) {
											sysName = "self";
										} else {
											sysName = dataSourceConnection
													.getAttribute("value");
										}
										systemDescription = this
												.getApplication()
												.getSystemLandscape()
												.getSystemDescription(sysName);
										systemType = systemDescription
												.getSystemType();
										isBW = systemType !== null
												&& systemType
														.isTypeOf(sap.firefly.SystemType.ABAP);
										if (isBW) {
											return true;
										}
									}
								}
							}
						}
						return false;
					},
					dataSourcesInitialized : function() {
						this.doRestOfPageInitialization();
						this.dataSourceInitializeMode = false;
					},
					doRestOfPageInitialization : function() {
						var application = this.getApplication();
						var lWindow = this.oWindow;
						var applicationProperties = this
								.getApplicationPropertiesComponent();
						var planning = this.oPlanning;
						var pComponents;
						var pComponentsList;
						var initParameter;
						var componentType2;
						var component2;
						var convert;
						var clazz;
						var clazz2;
						var totalsPosition;
						var renderOnlyMessageComponent;
						var variableScreenMustShow;
						pComponents = this.oRootNode.getChildren("component");
						pComponentsList = pComponents.getIterator();
						while (pComponentsList.hasNext()) {
							initParameter = pComponentsList.next();
							componentType2 = this
									.getComponentType(initParameter);
							if ((!sap.firefly.XString.isEqual(componentType2,
									"APPLICATION_PROPERTIES"))
									&& (!sap.firefly.XString
											.isEqual(componentType2,
													"PLANNING_FUNCTION"))
									&& (!sap.firefly.XString
											.isEqual(componentType2,
													"PLANNING_FUNCTION"))
									&& (!sap.firefly.XString.isEqual(
											componentType2,
											"GLOBAL_SCRIPTS_COMPONENT"))) {
								component2 = this.createComponentObject(
										initParameter, null);
							}
						}
						this.oMessageComponent = this.getMessageComponent();
						lWindow.wrapAndPutInContext("Buddha", this);
						lWindow.wrapAndPutInContext("APPLICATION", this);
						lWindow.wrapAndPutInContext("Planning", planning);
						convert = new sap.zen.Convert();
						convert.setPage(this);
						clazz = sap.firefly.XClass.create(sap.zen.ChartType);
						clazz2 = sap.firefly.XClass.create(sap.zen.ExportType);
						lWindow.setEnumContext("MemberPresentation",
								sap.firefly.XClass
										.create(sap.zen.MemberPresentation));
						lWindow.setEnumContext("MemberDisplay",
								sap.firefly.XClass
										.create(sap.zen.MemberDisplay));
						lWindow.setEnumContext("ChartType", sap.firefly.XClass
								.create(sap.zen.ChartType));
						lWindow.setEnumContext("LegendPosition",
								sap.firefly.XClass
										.create(sap.zen.LegendPosition));
						lWindow.setEnumContext("Layout", sap.firefly.XClass
								.create(sap.zen.Layout));
						lWindow.setEnumContext("ChartAxisScaling",
								sap.firefly.XClass
										.create(sap.zen.ChartAxisScaling));
						this.wrapAndSetInContext("Convert", convert);
						lWindow.setEnumContext("DataSourceType",
								sap.firefly.XClass
										.create(sap.zen.DataSourceType));
						lWindow.setEnumContext("ExportType", sap.firefly.XClass
								.create(sap.zen.ExportType));
						lWindow.setEnumContext("Axis", sap.firefly.XClass
								.create(sap.zen.ZAxisType));
						lWindow.setEnumContext("TotalsDisplay",
								sap.firefly.XClass
										.create(sap.zen.TotalsDisplay));
						lWindow.setEnumContext("NavigationPanelMode",
								sap.firefly.XClass
										.create(sap.zen.ZNavigationPanelMode));
						totalsPosition = new sap.zen.TotalsPosition();
						totalsPosition.initMe(this.getMessageWriter());
						(lWindow)
								.putInContext("TotalsPosition", totalsPosition);
						this.oRootComponent = this.getComponent("ROOT");
						this.oMessageComponent.setParent(this.oRootComponent);
						this.variableScreenAlreadyRendered = false;
						if (sap.firefly.XString.size(applicationProperties
								.getOnVarSubmitScript()) > 0) {
							this.inVarSubmitOrBackgroundProcessingScript = true;
							this.tVariableProcessorList = sap.firefly.XList
									.create();
							applicationProperties.execVarSubmitScript();
							this.inVarSubmitOrBackgroundProcessingScript = false;
						}
						renderOnlyMessageComponent = this
								.checkIfApplicationCanNotInstatiated(application);
						variableScreenMustShow = ((applicationProperties
								.isShowPrompt() && sap.zen.VariablesUtils
								.checkForVariables(this.getDataSources())) || sap.zen.VariablesUtils
								.checkForMandatoryVariables(this
										.getDataSources(), this));
						if (variableScreenMustShow) {
							this.transferCollectedVariables();
						}
						if (renderOnlyMessageComponent
								|| variableScreenMustShow
								|| !this.submitVariables()) {
							this
									.renderOnlyMessageComponentOrVariableDialog(renderOnlyMessageComponent);
						} else {
							this.callBeforeInitialRendering(true);
						}
					},
					transferCollectedVariables : function() {
						var needVarScreen = false;
						var i;
						var iVariableProcessor;
						var submitVariablesResult;
						if (this.tVariableProcessorList !== null) {
							for (i = 0; i < this.tVariableProcessorList.size(); i++) {
								iVariableProcessor = this.tVariableProcessorList
										.get(i);
								submitVariablesResult = iVariableProcessor
										.transferVariables(
												sap.firefly.SyncType.BLOCKING,
												null, null);
								if (submitVariablesResult === null
										|| submitVariablesResult.hasErrors()) {
									needVarScreen = true;
								}
								this.getMessageManager().createMessages(
										submitVariablesResult);
							}
						}
						return needVarScreen;
					},
					executeCollectedVariables : function() {
						var needVarScreen = false;
						var i;
						var iVariableProcessor;
						var submitVariablesResult;
						if (this.tVariableProcessorList !== null) {
							for (i = 0; i < this.tVariableProcessorList.size(); i++) {
								iVariableProcessor = this.tVariableProcessorList
										.get(i);
								submitVariablesResult = sap.zen.VariablesUtils
										.submitOrCheckVariableProcessor(iVariableProcessor);
								if (submitVariablesResult === null
										|| submitVariablesResult.hasErrors()) {
									needVarScreen = true;
								}
								this.getMessageManager().createMessages(
										submitVariablesResult);
							}
						}
						return needVarScreen;
					},
					executeBackgroundProcessingScript : function() {
						var applicationProperties = this
								.getApplicationPropertiesComponent();
						var onBackgroundProcessing = applicationProperties
								.getStringPropertyWithDefault(
										"ON_BACKGROUND_PROCESSING", "");
						var logging;
						if ((onBackgroundProcessing !== null)
								&& (sap.firefly.XString
										.size(onBackgroundProcessing) > 0)) {
							this.inVarSubmitOrBackgroundProcessingScript = true;
							this.tVariableProcessorList = sap.firefly.XList
									.create();
							logging = this.getLogging();
							if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								logging
										.debug(
												"Page: enter exec ON_BACKGROUND_PROCESSING",
												onBackgroundProcessing,
												"SCRIPT");
							}
							this.execWithoutRerender(onBackgroundProcessing);
							if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								logging
										.debug(
												"Page: leave exec ON_BACKGROUND_PROCESSING",
												"", "SCRIPT");
							}
							this.inVarSubmitOrBackgroundProcessingScript = false;
							this.executeCollectedVariables();
						}
					},
					renderOnlyMessageComponentOrVariableDialog : function(
							renderOnlyMessageComponent) {
						var errorsExisted;
						this.oRootComponent
								.setInFillManadatoryVariablesMode(true);
						if (!renderOnlyMessageComponent) {
							errorsExisted = this.getMessageManager()
									.containsErrorMessage();
							this
									.getMessageManager()
									.removeNoValuesSetForMandatoryVariableMessages();
							errorsExisted = errorsExisted
									|| sap.zen.VariablesUtils
											.checkForMandatoryVariables(this
													.getDataSources(), this);
							this.openVariableDialogInternal(!errorsExisted);
							this.variableScreenAlreadyRendered = true;
						}
						this.renderAndDispatch();
						this.oWindow.decreaseLock();
					},
					forceFullNonDeltaRender : function() {
						var absoluteLayout;
						this.initial = true;
						absoluteLayout = this.tComponents.getByKey("ROOT");
						absoluteLayout.setContentChangedRecursive();
						this.renderAndDispatch();
						this.initial = false;
					},
					renderAndDispatch : function() {
						var initial = this.initial || this.inBackToStartMode;
						this.render();
						if (!this.isClientServerMode()) {
							this.oWindow.dispatchJsonObject(this.jsonObj,
									initial, this.getDshControlId());
						} else {
							this.oWindow.dispatchJsonString(this.json, initial);
						}
					},
					checkIfApplicationCanNotInstatiated : function(application) {
						var dataSourcesIterator = this.tDataSources
								.getIterator();
						var dataSource2;
						var hanaVariablesSupported;
						var em;
						while (dataSourcesIterator.hasNext()) {
							dataSource2 = dataSourcesIterator.next();
							hanaVariablesSupported = true;
							if (!hanaVariablesSupported) {
								if (sap.zen.VariablesUtils.submitTheVariables(
										this.getDataSources(), this, this) === false) {
									em = "The application could not be run, because ";
									em = sap.firefly.XString
											.concatenate2(
													em,
													"Design Studio is unable to support variables with the currently used HANA revision.");
									this.createErrorMessage(em);
									return true;
								}
							}
						}
						return false;
					},
					submitVariables : function() {
						return sap.zen.VariablesUtils.submitTheVariables(this
								.getDataSources(), this, this);
					},
					callBeforeInitialRendering : function(render) {
						var applicationProperties;
						var forcePrompt;
						var renderOnlyMessageComponent;
						var componentsIterator;
						var component;
						if (!this.startUpScriptAlreadyExecuted) {
							this.reassignInitialViews();
							this.execStartupScript();
							applicationProperties = this
									.getApplicationPropertiesComponent();
							forcePrompt = applicationProperties.isShowPrompt();
							renderOnlyMessageComponent = this
									.checkIfApplicationCanNotInstatiated(this.oApplication);
							if (renderOnlyMessageComponent
									|| ((sap.zen.VariablesUtils
											.checkForVariables(this
													.getDataSources()) === true)
											&& (forcePrompt === true) && (this.variableScreenAlreadyRendered === false))
									|| (this.submitVariables() === false)) {
								this
										.renderOnlyMessageComponentOrVariableDialog(renderOnlyMessageComponent);
								return;
							}
						}
						this.oRootComponent
								.setInFillManadatoryVariablesMode(false);
						componentsIterator = this.tComponents.getIterator();
						while (componentsIterator.hasNext()) {
							component = componentsIterator.next();
							component.beforeInitialRendering();
						}
						if (render) {
							this.initialRendering();
						}
					},
					initializePlanning : function() {
						this.oPlanning = new sap.zen.ZPlanning();
						this.oPlanning.initMe(this);
						return this.oPlanning;
					},
					initialRendering : function() {
						this.renderQueue = 0;
						if (this.isAsynchronousEnabled()) {
							this.triggerAsynchronousRefreshResultSets(true);
						} else {
							this.renderAndDispatch();
							this.oWindow.decreaseLock();
						}
					},
					execStartupScript : function() {
						var applicationProperties = this
								.getApplicationPropertiesComponent();
						applicationProperties.execStartupScript();
						this.startUpScriptAlreadyExecuted = true;
					},
					isClientServerMode : function() {
						return !sap.firefly.XString.isEqual(
								sap.firefly.XSyncEnv.getSyncEnv().getName(),
								sap.firefly.XSyncEnv.EXTERNAL_MAIN_LOOP
										.getName());
					},
					isAsynchronousEnabled : function() {
						return this.asynchronousEnabled
								&& !this.isClientServerMode();
					},
					executeScriptInWindow : function(script) {
						var execute = this.oWindow.execute(script);
						if (!execute) {
							this.addScriptExecutionMessage();
						}
						if (this.forcePrompt) {
							this.forcePrompt = false;
							this.openVariableDialogInternal(true);
						}
						this.updateVariables();
					},
					updateVariables : function() {
						var globalVars = this.oWindow.getGlobalVariables(true);
						var currentAppProps = this
								.getApplicationPropertiesComponent();
						currentAppProps.updateGlobalVariables(globalVars);
					},
					exec : function(script) {
						var val;
						if (this.oLogging
								.isLoggable(sap.buddha.XLogging.XDEBUG)) {
							this.oLogging.debug("Page: enter exec", script,
									"SCRIPT");
							this.rstt.append("<step>");
							this.rstt.appendNewLine();
							this.rstt.append('<script name="script" value="');
							val = sap.buddha.XSSEncoder.encodeXml(script);
							this.rstt.append(val);
							this.rstt.append('"/>');
							this.rstt.appendNewLine();
							this.rstt.append("</step>");
							this.rstt.appendNewLine();
						}
						this.initial = false;
						this.forcePrompt = false;
						this.executeScriptInWindow(script);
						if (!this.inBackToStartMode) {
							if (this.isAsynchronousEnabled()
									&& !this.oRootComponent
											.isInFillManadatoryVariablesMode()) {
								this
										.triggerAsynchronousRefreshResultSets(false);
							} else {
								this.rerender();
							}
						}
						this.inBackToStartMode = false;
						if (this.oLogging
								.isLoggable(sap.buddha.XLogging.XDEBUG)) {
							this.oLogging.debug("Page: leave exec", "",
									"SCRIPT");
						}
					},
					callOnresultsetChangedScripts : function() {
						var loDataSourceIterator = this.tDataSources
								.getIterator();
						var loDataSource;
						while (loDataSourceIterator.hasNext()) {
							loDataSource = loDataSourceIterator.next();
							if (loDataSource === null) {
								continue;
							}
							loDataSource.processOnResultSetChangedScript();
						}
					},
					execWithoutRerender : function(script) {
						var logging = this.getLogging();
						if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
							logging.debug("Page: enter execWithoutRerender",
									script, "SCRIPT");
						}
						this.executeScriptInWindow(script);
						if (logging.isLoggable(sap.buddha.XLogging.XDEBUG)) {
							logging.debug("Page: leave execWithoutRerender",
									"", "SCRIPT");
						}
					},
					triggerAsynchronousRefreshResultSets : function(initial) {
						var ltDataSources;
						var lRender;
						var lDataSourceIndex;
						var loDataSource;
						var loResponse;
						if (!this.isAsynchronousEnabled()) {
							return;
						}
						ltDataSources = null;
						if (this.optimizeDSRequests === true) {
							ltDataSources = this
									.getUsedDataSourcesByDummyRendering();
						} else {
							ltDataSources = this.getAllDataSources();
						}
						lRender = true;
						this.numberOfStartedRefreshes = 0;
						if (ltDataSources !== null) {
							this.numberOfStartedRefreshes = ltDataSources
									.size();
							for (lDataSourceIndex = 0; lDataSourceIndex < ltDataSources
									.size(); lDataSourceIndex++) {
								loDataSource = ltDataSources
										.get(lDataSourceIndex);
								if (loDataSource === null
										|| loDataSource.getQueryManager() === null) {
									this.numberOfStartedRefreshes--;
									continue;
								}
								loResponse = loDataSource.triggerRefresh(this,
										sap.firefly.XBooleanValue
												.create(loDataSource
														.getResultSet()
														.isValid()));
								if (loResponse !== null
										&& loResponse.actionWasPerformed()) {
									if (!loResponse.hasErrors()) {
										if (ltDataSources.size() === 1
												&& !this.asyncResultSetAlreadyFetched) {
											this
													.getWindow()
													.showImmediatelyLoadingIndicator();
											this
													.getWindow()
													.setExecuteShowHideLoadingIndicator(
															false);
											this.oWindow.increaseLock();
										} else {
											lRender = false;
										}
									} else {
										this
												.getWindow()
												.setExecuteShowHideLoadingIndicator(
														true);
										this.numberOfStartedRefreshes--;
									}
									this.asyncResultSetAlreadyFetched = true;
								} else {
									this.numberOfStartedRefreshes--;
								}
							}
						}
						if (lRender) {
							this.rerender();
						}
					},
					handleDataSourceAfterRefresh : function(oContext,
							oResponse, oBaggage) {
						var lWasValidResultSet;
						this.numberOfStartedRefreshes--;
						lWasValidResultSet = oBaggage;
						if (lWasValidResultSet.getBooleanValue() === false) {
							sap.zen.DataSourceChangeCause.NO_REFRESH_REQUIRED
									.setAction(sap.zen.CDataSourceChangeAction.AsyncResultSet
											.toString());
							oContext
									.raiseDataSourceChangedEvent(
											sap.zen.DataSourceChangeCause.NO_REFRESH_REQUIRED,
											false, true);
						}
						this.getWindow().setExecuteShowHideLoadingIndicator(
								true);
						if (this.numberOfStartedRefreshes === 0) {
							this.rerender();
						}
					},
					getAllDataSources : function() {
						var ltDataSources = sap.firefly.XList.create();
						var loDataSourceIterator = this.tDataSources
								.getIterator();
						var loDataSource;
						while (loDataSourceIterator.hasNext()) {
							loDataSource = loDataSourceIterator.next();
							ltDataSources.add(loDataSource);
						}
						return ltDataSources;
					},
					getUsedDataSourcesByDummyRendering : function() {
						var ltDataSources = sap.firefly.XList.create();
						this.oRootComponent
								.getUsedDataSourcesByDummyRendering(ltDataSources);
						return ltDataSources;
					},
					rerender : function() {
						this.renderQueue++;
						if (this.renderQueue === 1) {
							this.renderAndDispatch();
							this.renderQueue--;
							if (this.renderQueue > 0) {
								this.rerender();
							}
							this.oWindow.decreaseLock();
						}
					},
					getApplication : function() {
						return this.oApplication;
					},
					getApplicationPropertiesComponent : function() {
						var component = this
								.getComponent("APPLICATION_PROPERTIES");
						return component;
					},
					isContentChanged : function() {
						return this.contentChanged;
					},
					setContentChanged : function(contentChanged) {
						this.contentChanged = contentChanged;
					},
					render : function() {
						var sb;
						var renderManager;
						var clientServerMode;
						var renderSerializer;
						var isInterComponentDragDropDAllowed;
						var initial;
						var i;
						if (!this.oRootComponent
								.isInFillManadatoryVariablesMode()) {
							this.callOnresultsetChangedScripts();
						}
						sb = null;
						renderManager = new sap.zen.RenderManager();
						clientServerMode = this.isClientServerMode();
						if (clientServerMode) {
							sb = sap.firefly.XStringBuffer.create();
							renderManager.setStringBuffer(sb);
						}
						renderManager.createRenderSerializer();
						renderSerializer = renderManager.getRenderSerializer();
						renderSerializer.openTag("content");
						if (this.pageId !== null) {
							renderSerializer
									.addAttribute("pageId", this.pageId);
						}
						isInterComponentDragDropDAllowed = this
								.getApplicationPropertiesComponent()
								.isInterComponentDragDropEnabled();
						if (isInterComponentDragDropDAllowed) {
							renderSerializer.addBooleanAttribute(
									"bInterComponentDragDropEnabled",
									isInterComponentDragDropDAllowed);
						}
						renderSerializer.openTag("pageContent");
						initial = this.initial || this.inBackToStartMode;
						if (!initial) {
							renderSerializer.openArray("delta");
						}
						this.oRootComponent
								.renderComponentInternal(renderManager);
						if (!initial) {
							renderSerializer.closeArray();
						}
						renderSerializer.closeTag();
						if ((this.tAddtionalRequiredJavaScripts !== null)
								&& (this.tAddtionalRequiredJavaScripts.size() > 0)) {
							renderSerializer
									.openArray("addtionalRequiredJavaScripts");
							for (i = 0; i < this.tAddtionalRequiredJavaScripts
									.size(); i++) {
								renderSerializer
										.addSimpleValueToArray(this.tAddtionalRequiredJavaScripts
												.get(i));
							}
							renderSerializer.closeArray();
						}
						this.writeNewRequiredModules(renderSerializer);
						renderSerializer.closeTag();
						this.setContentChanged(false);
						this.initial = false;
						if (clientServerMode) {
							if (sb !== null) {
								this.json = sb.toString();
							}
						} else {
							this.jsonObj = renderSerializer.getRenderedObject();
						}
						this.renderStep++;
					},
					isDeltaRendering : function() {
						return (this.initial === false);
					},
					setFactory : function(factory) {
						this.oFactory = factory;
					},
					getFactory : function() {
						return this.oFactory;
					},
					getWindow : function() {
						return this.oWindow;
					},
					openNewWindow : function(url) {
						var rootAbsLayout = this.tComponents.getByKey("ROOT");
						rootAbsLayout.openNewWindow(url);
					},
					createErrorMessage : function(message) {
						var loMessage = sap.firefly.XMessage.createMessage(
								sap.firefly.OriginLayer.APPLICATION,
								sap.firefly.Severity.ERROR, 0, message, null,
								false, null);
						this.createMessage(loMessage);
					},
					createWarningMessage : function(message) {
						var loMessage = sap.firefly.XMessage.createMessage(
								sap.firefly.OriginLayer.APPLICATION,
								sap.firefly.Severity.WARNING, 0, message, null,
								false, null);
						this.createMessage(loMessage);
					},
					createInfoMessage : function(message) {
						var loMessage = sap.firefly.XMessage.createMessage(
								sap.firefly.OriginLayer.APPLICATION,
								sap.firefly.Severity.INFO, 0, message, null,
								false, null);
						this.createMessage(loMessage);
					},
					createMessage : function(oMessage) {
						var loMessageManager = this.getMessageManager();
						if (loMessageManager !== null) {
							loMessageManager.createMessage(oMessage);
						}
					},
					createMessages : function(oMessageCollection) {
						var i = 0;
						var errors = oMessageCollection.getSemanticalErrors();
						var messages;
						var infos;
						for (i = 0; i < errors.size(); i++) {
							this.createMessage(errors.get(i));
						}
						errors = oMessageCollection.getErrors();
						for (i = 0; i < errors.size(); i++) {
							this.createMessage(errors.get(i));
						}
						messages = oMessageCollection.getWarnings();
						for (i = 0; i < messages.size(); i++) {
							this.createMessage(messages.get(i));
						}
						infos = oMessageCollection.getInfos();
						for (i = 0; i < infos.size(); i++) {
							this.createMessage(infos.get(i));
						}
					},
					getLocalization : function() {
						return this.oLocalization;
					},
					setLocalization : function(localization) {
						this.oLocalization = localization;
					},
					getUrlComponent : function(percentage) {
						var result;
						var indexOf = sap.firefly.XString.indexOf(percentage,
								".");
						var substring = sap.firefly.XString.substring(
								percentage, 0, indexOf);
						var value;
						substring = sap.firefly.XString.replace(substring, ",",
								"");
						value = sap.firefly.XInteger
								.convertStringToInteger(substring);
						if (value < -70) {
							result = "m4";
						} else {
							if (value < -40) {
								result = "m3";
							} else {
								if (value < -20) {
									result = "m2";
								} else {
									if (value < -10) {
										result = "m1";
									} else {
										if (value > 70) {
											result = "p4";
										} else {
											if (value > 40) {
												result = "p3";
											} else {
												if (value > 20) {
													result = "p2";
												} else {
													if (value > 10) {
														result = "p1";
													} else {
														result = "p0";
													}
												}
											}
										}
									}
								}
							}
						}
						return result;
					},
					alert : function(message) {
					},
					log : function(message) {
						sap.firefly.XLogger.println(message);
					},
					getUserAgent : function() {
						return this.userAgent;
					},
					setUserAgent : function(userAgent) {
						if (userAgent !== null) {
							this.userAgent = userAgent;
						}
					},
					checkNegativeValue : function(percentage) {
						var first = sap.firefly.XString.substring(percentage,
								0, 1);
						return first;
					},
					doBackgroundProcessing : function() {
						var root2 = this.getComponent("ROOT");
						root2.setAfterRendering(true);
						root2.setContentChanged(true);
					},
					designModeUrl : function(url) {
						if (sap.firefly.XString.startsWith(url, "zen://drop?")) {
							this.doTheDrop(url);
						} else {
							if (sap.firefly.XString.startsWith(url,
									"zen://move?")) {
								this.doTheMove(url);
							} else {
								if (sap.firefly.XString.startsWith(url,
										"zen://delete?")) {
									this.doTheDelete(url);
								} else {
									if (sap.firefly.XString.startsWith(url,
											"zen://resize?")) {
										this.doTheResize(url);
									} else {
										if (sap.firefly.XString.startsWith(url,
												"zen://layout")) {
											this.doTheLayout(url);
										} else {
											if (sap.firefly.XString.startsWith(
													url, "zen://select")) {
												this.doTheSelect(url);
											}
										}
									}
								}
							}
						}
					},
					doTheSelect : function(url) {
						var strings5;
						var componentParamString;
						var componentParam;
						var component;
						var propertiesPaneControl;
						url = sap.firefly.XString.substring(url,
								sap.firefly.XString.size("zen://select?"), -1);
						strings5 = sap.firefly.XStringTokenizer.splitString(
								url, "&");
						componentParamString = strings5.get(0);
						componentParam = sap.firefly.XStringTokenizer
								.splitString(componentParamString, "=");
						component = this.getComponent(componentParam.get(1));
						if (component !== null) {
							propertiesPaneControl = this
									.getPropertiesPaneComponent();
							if (propertiesPaneControl !== null) {
								propertiesPaneControl.setStringProperty(
										"COMPONENT_REF", component.getId());
								propertiesPaneControl.setContentChanged(true);
							}
						}
					},
					getPropertiesPaneComponent : function() {
						return this.getComponent("PROPERTIESPANE_1");
					},
					doTheLayout : function(url) {
						var strings5;
						var componentParamString;
						var componentParam;
						var component;
						var i;
						var positionParamString1;
						var positionParam1;
						url = sap.firefly.XString.substring(url,
								sap.firefly.XString.size("zen://layout?"), -1);
						strings5 = sap.firefly.XStringTokenizer.splitString(
								url, "&");
						componentParamString = strings5.get(0);
						componentParam = sap.firefly.XStringTokenizer
								.splitString(componentParamString, "=");
						component = this.getComponent(componentParam.get(1));
						for (i = 1; i < strings5.size(); i++) {
							positionParamString1 = strings5.get(i);
							positionParam1 = sap.firefly.XStringTokenizer
									.splitString(positionParamString1, "=");
							this
									.setPositionParameter(component,
											positionParam1);
						}
					},
					doTheResize : function(url) {
						var strings4;
						var componentParamString;
						var componentParam;
						var component;
						var i;
						var positionParamString1;
						var positionParam1;
						url = sap.firefly.XString.substring(url,
								sap.firefly.XString.size("zen://resize?"), -1);
						strings4 = sap.firefly.XStringTokenizer.splitString(
								url, "&");
						componentParamString = strings4.get(0);
						componentParam = sap.firefly.XStringTokenizer
								.splitString(componentParamString, "=");
						component = this.getComponent(componentParam.get(1));
						for (i = 1; i < strings4.size(); i++) {
							positionParamString1 = strings4.get(i);
							positionParam1 = sap.firefly.XStringTokenizer
									.splitString(positionParamString1, "=");
							this
									.setPositionParameter(component,
											positionParam1);
						}
					},
					doTheDelete : function(url) {
						var strings3;
						var componentsParamString;
						var componentsParam;
						var componentsString;
						var components;
						var i;
						var component;
						var parent;
						url = sap.firefly.XString.substring(url,
								sap.firefly.XString.size("zen://delete?"), -1);
						strings3 = sap.firefly.XStringTokenizer.splitString(
								url, "&");
						componentsParamString = strings3.get(0);
						componentsParam = sap.firefly.XStringTokenizer
								.splitString(componentsParamString, "=");
						componentsString = componentsParam.get(1);
						components = sap.firefly.XStringTokenizer.splitString(
								componentsString, "&");
						for (i = 0; i < components.size(); i++) {
							component = this.getComponent(components.get(i));
							parent = component.getParent();
							parent.removeChild(component);
							this.tComponents.remove(component.getId());
						}
					},
					doTheMove : function(url) {
						var strings2;
						var startPositionParams;
						var containerParam;
						var containerParamString;
						var name;
						var componentParamString;
						var componentParam;
						var component;
						var i;
						var positionParamString1;
						var positionParam1;
						var oldParent;
						var newParentName;
						var newParent;
						url = sap.firefly.XString.substring(url,
								sap.firefly.XString.size("zen://move?"), -1);
						strings2 = sap.firefly.XStringTokenizer.splitString(
								url, "&");
						startPositionParams = 1;
						containerParam = null;
						containerParamString = strings2.get(0);
						if (containerParamString !== null) {
							containerParam = sap.firefly.XStringTokenizer
									.splitString(containerParamString, "=");
							name = containerParam.get(0);
							if (sap.firefly.XString.isEqual(name, "cid")) {
								startPositionParams = 2;
							} else {
								containerParam = null;
							}
						}
						componentParamString = strings2
								.get(startPositionParams - 1);
						componentParam = sap.firefly.XStringTokenizer
								.splitString(componentParamString, "=");
						component = this.getComponent(componentParam.get(1));
						for (i = startPositionParams; i < strings2.size(); i++) {
							positionParamString1 = strings2.get(i);
							positionParam1 = sap.firefly.XStringTokenizer
									.splitString(positionParamString1, "=");
							this
									.setPositionParameter(component,
											positionParam1);
						}
						if (containerParam !== null) {
							oldParent = component.getParent();
							oldParent.removeChild(component);
							newParentName = containerParam.get(1);
							newParent = this.getComponent(newParentName);
							newParent.addChild(component);
						}
					},
					doTheDrop : function(url) {
						var strings;
						var containerParamString;
						var componentParamString;
						var originParamString;
						var positionParamString1;
						var positionParamString2;
						var containerParam;
						var componentParam;
						var originParam;
						var positionParam1;
						var positionParam2;
						var left;
						var top;
						var container;
						var origin;
						var initParameters;
						var originInitParameters;
						var componentType;
						var uid;
						var smartlayoutControl;
						var smartlayoutControlOriginal;
						var paramString1;
						var paramString2;
						var param1;
						var param2;
						var parent;
						var changeOrientation;
						var testComp;
						var component;
						var component2;
						url = sap.firefly.XString.substring(url,
								sap.firefly.XString.size("zen://drop?"), -1);
						strings = sap.firefly.XStringTokenizer.splitString(url,
								"&");
						containerParamString = strings.get(0);
						componentParamString = strings.get(1);
						originParamString = strings.get(2);
						positionParamString1 = strings.get(3);
						positionParamString2 = strings.get(4);
						containerParam = sap.firefly.XStringTokenizer
								.splitString(containerParamString, "=");
						componentParam = sap.firefly.XStringTokenizer
								.splitString(componentParamString, "=");
						originParam = sap.firefly.XStringTokenizer.splitString(
								originParamString, "=");
						positionParam1 = sap.firefly.XStringTokenizer
								.splitString(positionParamString1, "=");
						positionParam2 = sap.firefly.XStringTokenizer
								.splitString(positionParamString2, "=");
						left = positionParam1.get(1);
						top = positionParam2.get(1);
						container = this.getComponent(containerParam.get(1));
						origin = this.getComponent(originParam.get(1));
						initParameters = origin.getInitParameters();
						originInitParameters = initParameters.cloneNode(true);
						componentType = componentParam.get(1);
						uid = sap.firefly.XString
								.concatenate2(
										componentType,
										sap.firefly.XInteger
												.convertIntegerToString(this.newComponentIdIndex));
						originInitParameters.setAttribute("name", uid);
						this.newComponentIdIndex++;
						if (container.isSmartLayout()) {
							smartlayoutControl = container;
							smartlayoutControlOriginal = container;
							paramString1 = strings.get(5);
							paramString2 = strings.get(6);
							param1 = sap.firefly.XStringTokenizer.splitString(
									paramString1, "=");
							param2 = sap.firefly.XStringTokenizer.splitString(
									paramString2, "=");
							parent = smartlayoutControl.getParent();
							changeOrientation = true;
							testComp = smartlayoutControl;
							if (parent.isSmartLayout()) {
								testComp = parent;
							}
							if (((sap.firefly.XString.isEqual(param1.get(1),
									"top") || sap.firefly.XString.isEqual(
									param1.get(1), "bottom")) && (sap.firefly.XString
									.isEqual(testComp.getOrientation(),
											"VERTICAL")))
									|| (((sap.firefly.XString.isEqual(param1
											.get(1), "right") || sap.firefly.XString
											.isEqual(param1.get(1), "left")) && (sap.firefly.XString
											.isEqual(testComp.getOrientation(),
													"HORIZONTAL"))))) {
								changeOrientation = false;
							}
							if (parent.isSmartLayout() && !changeOrientation) {
								smartlayoutControl = parent;
							}
							component = this.createComponentObject(
									originInitParameters, smartlayoutControl);
							if (sap.firefly.XString.isEqual(param1.get(1),
									"top")) {
								smartlayoutControl.setOrientation("VERTICAL");
								smartlayoutControl.addTop(component,
										changeOrientation,
										smartlayoutControlOriginal);
							} else {
								if (sap.firefly.XString.isEqual(param1.get(1),
										"bottom")) {
									smartlayoutControl
											.setOrientation("VERTICAL");
									smartlayoutControl.addBottom(component,
											changeOrientation,
											smartlayoutControlOriginal);
								} else {
									if (sap.firefly.XString.isEqual(param1
											.get(1), "right")) {
										smartlayoutControl
												.setOrientation("HORIZONTAL");
										smartlayoutControl.addRight(component,
												changeOrientation,
												smartlayoutControlOriginal);
									} else {
										if (sap.firefly.XString.isEqual(param1
												.get(1), "left")) {
											smartlayoutControl
													.setOrientation("HORIZONTAL");
											smartlayoutControl.addLeft(
													component,
													changeOrientation,
													smartlayoutControlOriginal);
										} else {
											container.addChild(component);
										}
									}
								}
							}
							component.setLeftMarginAsString("0");
							component.setTopMarginAsString("0");
							component.setRightMarginAsString("0");
							component.setBottomMarginAsString("0");
							component.setWidthAsString("auto");
							component.setHeightAsString("auto");
						} else {
							component2 = this.createComponentObject(
									originInitParameters, container);
							component2.setLeftMarginAsString(left);
							component2.setTopMarginAsString(top);
							container.addChild(component2);
						}
					},
					setPositionParameter : function(component, positionParam2) {
						var val2 = positionParam2.get(1);
						var name2 = positionParam2.get(0);
						if (sap.firefly.XString.isEqual(name2, "w")) {
							component.setWidthAsString(val2);
						} else {
							if (sap.firefly.XString.isEqual(name2, "h")) {
								component.setHeightAsString(val2);
							} else {
								if (sap.firefly.XString.isEqual(name2, "t")) {
									component.setTopMarginAsString(val2);
								} else {
									if (sap.firefly.XString.isEqual(name2, "l")) {
										component.setLeftMarginAsString(val2);
									} else {
										if (sap.firefly.XString.isEqual(name2,
												"r")) {
											component
													.setRightMarginAsString(val2);
										} else {
											if (sap.firefly.XString.isEqual(
													name2, "b")) {
												component
														.setBottomMarginAsString(val2);
											}
										}
									}
								}
							}
						}
					},
					getDataSources : function() {
						return this.tDataSources;
					},
					openPromptDialog : function(width, height) {
						this.openPromptDialogInternal(width, height, false,
								false);
					},
					openVariableDialogInternal : function(enableOKButton) {
						var loApplicationProperties = this
								.getApplicationPropertiesComponent();
						var lWidth = loApplicationProperties
								.getInitialVarScreenWidth();
						var lHeight = loApplicationProperties
								.getInitialVarScreenHeight();
						this.openPromptDialogInternal(lWidth, lHeight, true,
								enableOKButton);
					},
					openPromptDialogInternal : function(width, height,
							disableCancelButton, enableOKButton) {
						var loVariableDialogComponent = this
								.getVariableDialogComponent();
						loVariableDialogComponent
								.setHasCancelButton(!disableCancelButton);
						loVariableDialogComponent
								.setOKButtonEnabled(enableOKButton);
						loVariableDialogComponent.setWidthInt(width);
						loVariableDialogComponent.setHeightInt(height);
						loVariableDialogComponent.showDialog();
					},
					setVariableValue : function(variableName, variableValue) {
						return this.setVariableValueFromFilterArray(
								variableName, variableValue, false);
					},
					addVariableProcessorInQueue : function(variableProcessor) {
						if (!this.tVariableProcessorList
								.contains(variableProcessor)) {
							this.tVariableProcessorList.add(variableProcessor);
						}
					},
					setVariableValueExt : function(variableName, variableValue) {
						return this.setVariableValueFromFilterArray(
								variableName, variableValue, true);
					},
					setVariableValueRange : function(variableName,
							variableValueLow, variableValueHigh) {
						var variableProcessor = null;
						var dataSourcesIterator;
						var dataSource;
						var lQueryManager;
						if (this.getDataSources().size() > 0) {
							dataSourcesIterator = this.getDataSources()
									.getIterator();
							while (dataSourcesIterator.hasNext()) {
								dataSource = dataSourcesIterator.next();
								lQueryManager = dataSource.getQueryManager();
								if (lQueryManager !== null) {
									variableProcessor = lQueryManager
											.getVariableProcessor();
									if (variableProcessor !== null) {
										sap.zen.DataSourceScriptApiUtils
												.setVariableValueRange(
														variableProcessor,
														variableName,
														variableValueLow,
														variableValueHigh,
														this,
														!this.inVarSubmitOrBackgroundProcessingScript);
										dataSource.raiseDataSourceChangedEvent(
												null, true, false);
										if (this.inVarSubmitOrBackgroundProcessingScript) {
											this
													.addVariableProcessorInQueue(variableProcessor);
										}
									}
								}
							}
							this.invalidateDataSourcesReasonVariablesChange();
						}
					},
					setVariableValueFromFilterArray : function(variableName,
							variableValue, displayKey) {
						var variableProcessor = null;
						var valuesWereApplied;
						var dataSourcesIterator;
						var dataSource;
						var lQueryManager;
						var valuesAppliedLocally;
						if (this.getDataSources().size() > 0) {
							valuesWereApplied = true;
							dataSourcesIterator = this.getDataSources()
									.getIterator();
							while (dataSourcesIterator.hasNext()) {
								dataSource = dataSourcesIterator.next();
								lQueryManager = dataSource.getQueryManager();
								if (lQueryManager !== null) {
									variableProcessor = lQueryManager
											.getVariableProcessor();
									if (variableProcessor !== null
											&& sap.zen.DataSourceScriptApiUtils
													.getInputEnabledVariable(
															variableProcessor,
															variableName) !== null) {
										valuesAppliedLocally = sap.zen.DataSourceScriptApiUtils
												.setVariableValue(
														variableProcessor,
														variableName,
														variableValue,
														this,
														!this.inVarSubmitOrBackgroundProcessingScript,
														displayKey);
										if (valuesAppliedLocally) {
											dataSource
													.raiseDataSourceChangedEvent(
															null, true, false);
											if (this.inVarSubmitOrBackgroundProcessingScript) {
												this
														.addVariableProcessorInQueue(variableProcessor);
											}
										} else {
											valuesWereApplied = false;
										}
									} else {
										valuesWereApplied = false;
									}
								}
							}
							this.invalidateDataSourcesReasonVariablesChange();
							return valuesWereApplied;
						}
						return false;
					},
					setDesignMode : function(designMode) {
						this.designMode = designMode;
					},
					isDesignMode : function() {
						return this.designMode;
					},
					addScriptExecutionMessage : function() {
						sap.zen.CLocalizationCommandResolverMessages.PAGE_SCRIPTING_ERROR
								.addMessageToMessageHandler(this,
										sap.firefly.Severity.ERROR, null, null,
										null);
					},
					getDshControlId : function() {
						return this.dshControlId;
					},
					getIdForRendering : function(uid) {
						return sap.firefly.XString.concatenate2(this
								.getDshControlId(), uid);
					},
					getPageIdForScripting : function() {
						if (this.pageIdForScripting === null) {
							this.pageIdForScripting = sap.buddha.XJsUtils
									.createJsIdentifier(this.getDshControlId());
						}
						return sap.firefly.XString.concatenate2(
								this.pageIdForScripting, "Buddha");
					},
					setSDKLoader : function(loader) {
						this.sdkLoader = loader;
					},
					getSDKLoader : function() {
						return this.sdkLoader;
					},
					makeAllDirty : function() {
						if (this.oRootComponent !== null) {
							this.oRootComponent.setContentChangedRecursive();
						}
					},
					invalidateDataSourcesReasonVariablesChange : function() {
						var dataSourcesIterator = this.getDataSources()
								.getIterator();
						var dataSource;
						while (dataSourcesIterator.hasNext()) {
							dataSource = dataSourcesIterator.next();
							dataSource.raiseDataSourceChangedEvent(null, false,
									true);
						}
						this.leaveInitialVariableMode();
					},
					leaveInitialVariableMode : function() {
						if ((this.oRootComponent
								.isInFillManadatoryVariablesMode() === true)
								&& !this.isInOnBeforePromptsSubmit()) {
							this.oRootComponent
									.setInFillManadatoryVariablesMode(false);
							this.callBeforeInitialRendering(false);
						}
					},
					setAppName : function(appName) {
						this.appName = appName;
					},
					getAppName : function() {
						return this.appName;
					},
					getInfo : function() {
						var applicationInfo = new sap.zen.ApplicationInfo();
						applicationInfo.initMe(this);
						return applicationInfo;
					},
					getPlanningService : function() {
						return this.oPlanning.getPlanningService();
					},
					setDataChanged : function() {
						var dataSourcesIterator = this.tDataSources
								.getIterator();
						var dataSource;
						while (dataSourcesIterator.hasNext()) {
							dataSource = dataSourcesIterator.next();
							dataSource.raiseDataSourceChangedEvent(null, false,
									true);
						}
					},
					releaseObject : function() {
						this.logoff();
						sap.zen.Page.$superclass.releaseObject.call(this);
					},
					logoff : function() {
						var dataSourcesIterator = this.tDataSources
								.getIterator();
						var dataSource;
						while (dataSourcesIterator.hasNext()) {
							dataSource = dataSourcesIterator.next();
							dataSource.releaseObject();
							dataSource = null;
						}
						this.oPlanning.releaseObject();
						this.oPlanning = null;
					},
					getPlanningSchema : function() {
						return this.oPlanning.getPlanningSchema();
					},
					reassignInitialViews : function() {
						var pDataSourcesList = this.tDataSources.getIterator();
						var dataSource;
						while (pDataSourcesList.hasNext()) {
							dataSource = pDataSourcesList.next();
							dataSource.reassignInitialView();
						}
					},
					setPageId : function(pageId) {
						this.pageId = pageId;
					},
					getPlanningObject : function(name) {
						return this.tPlanningObjects.getByKey(name);
					},
					getDataArea : function() {
						return this.oPlanning.getDataArea();
					},
					getRoot : function() {
						return this.oRootNode;
					},
					recalculate : function() {
						return this.oPlanning.recalculate();
					},
					setTemplateLoader : function(oTemplateLoader) {
						this.oTemplateLoader = oTemplateLoader;
					},
					setBookmarkRequestHandler : function(bookmarkRequestHandler) {
						this.oBookmarkRequestHandler = bookmarkRequestHandler;
					},
					getJavaScriptWrapperName : function() {
						return "PageObject";
					},
					getAdditionalScriptAfterWrapping : function() {
						return null;
					},
					getMessageWriter : function() {
						return this;
					},
					setBookmarkService : function(bookmarkService) {
						var bookmarkManager = new sap.zen.BookmarkManager();
						bookmarkManager.initMe(this);
						bookmarkManager.setBookmarkService(bookmarkService);
						this.oWindow.wrapAndPutInContext("BookmarkInternal",
								bookmarkManager);
					},
					getTemplateLoader : function() {
						return this.oTemplateLoader;
					},
					getBookmarkRequestHandler : function() {
						return this.oBookmarkRequestHandler;
					},
					setLocalPort : function(port) {
						this.localPortForRemoteDebugging = port;
					},
					getLocalPortForRemoteDebugging : function() {
						return this.localPortForRemoteDebugging;
					},
					getTranslatedText : function(key) {
						var loTemplateLoader = this.getTemplateLoader();
						if (loTemplateLoader !== null) {
							return loTemplateLoader.getTranslatedText(key);
						}
						return null;
					},
					getTranslatedTextsFor : function(componentName) {
						var loTemplateLoader = this.getTemplateLoader();
						if (loTemplateLoader !== null) {
							return loTemplateLoader
									.getTranslatedTextsFor(componentName);
						}
						return sap.firefly.XListOfString.create();
					},
					setForcePrompt : function(forcePrompt) {
						this.forcePrompt = forcePrompt;
					},
					setForcePrompts : function(showPrompt) {
						this.getApplicationPropertiesComponent().setShowPrompt(
								showPrompt);
					},
					getPlanningModels : function(systemName, searchString) {
						return this.getQueriesAsList(systemName, searchString,
								true);
					},
					getQueries : function(systemName, searchString) {
						return this.getQueriesAsList(systemName, searchString,
								false);
					},
					getQueriesAsList : function(systemName, searchString,
							planningModels) {
						var list = sap.firefly.XList.create();
						var systemDescription;
						var backendServices;
						var olapCatalogManager;
						var queries;
						var objectsIterator;
						var olapCatalogItem;
						var dataSourceName;
						var text;
						var type;
						var schemaName;
						var packageName;
						var member;
						var scriptableArray;
						if ((sap.firefly.XString.size(systemName) === 0)
								|| (this.isHanaMode())) {
							systemName = "self";
						}
						systemDescription = this.getApplication()
								.getSystemLandscape().getSystemDescription(
										systemName);
						backendServices = new sap.zen.ZBackendServices();
						backendServices.setSystem(systemDescription);
						olapCatalogManager = backendServices.create(this);
						if (!sap.firefly.XString.endsWith(searchString, "*")) {
							searchString = sap.firefly.XString.concatenate2(
									searchString, "*");
						}
						queries = backendServices.getQueries(
								olapCatalogManager, searchString, this,
								planningModels);
						objectsIterator = queries.getObjectsIterator();
						while (objectsIterator.hasNext()) {
							olapCatalogItem = objectsIterator.next();
							dataSourceName = "";
							text = "";
							if (backendServices.ishanaSystem()) {
								type = olapCatalogItem.getType();
								schemaName = olapCatalogItem.getSchemaName();
								packageName = olapCatalogItem.getPackageName();
								dataSourceName = olapCatalogItem.getName();
								text = sap.firefly.XStringUtils.concatenate3(
										"[", type.getName(), "]");
								text = sap.firefly.XStringUtils.concatenate4(
										text, "[", schemaName, "]");
								text = sap.firefly.XStringUtils.concatenate4(
										text, "[", packageName, "]");
								text = sap.firefly.XStringUtils.concatenate4(
										text, "[", dataSourceName, "]");
								dataSourceName = sap.firefly.XStringUtils
										.concatenate5(type.getName(), "/",
												schemaName, "/", packageName);
								dataSourceName = sap.firefly.XStringUtils
										.concatenate3(dataSourceName, "/",
												olapCatalogItem.getName());
							} else {
								dataSourceName = olapCatalogItem.getName();
								text = olapCatalogItem.getName();
							}
							member = new sap.zen.Member();
							member.doInit(dataSourceName, text);
							list.add(member);
						}
						scriptableArray = this.getWindow().createJSArray(list);
						return scriptableArray;
					},
					isDataSourceTooLarge : function() {
						var loDataSourceIterator = this.getDataSources()
								.getIterator();
						var loDataSource = null;
						var loResultSet = null;
						while (loDataSourceIterator.hasNext()) {
							loDataSource = loDataSourceIterator.next();
							if (loDataSource === null) {
								continue;
							}
							loResultSet = loDataSource.getResultSet();
							if (!loResultSet.isComplete()) {
								return true;
							}
						}
						return false;
					},
					doExport : function(exportType, exportVersion) {
						var loDataSourceIterator;
						var loDataSource;
						var ltContent;
						var loContent;
						if (!sap.firefly.XString.isEqual(exportType,
								sap.zen.ExportType.EXCEL_xlsx)) {
							sap.zen.CLocalizationCommandResolverMessages.PAGE_UNSUPPORTED_EXPORT
									.addMessageToMessageHandler(this,
											sap.firefly.Severity.ERROR,
											exportType, null, null);
							return;
						}
						loDataSourceIterator = this.getDataSources()
								.getIterator();
						loDataSource = null;
						ltContent = sap.firefly.XList.create();
						loContent = null;
						while (loDataSourceIterator.hasNext()) {
							loDataSource = loDataSourceIterator.next();
							if (loDataSource === null) {
								continue;
							}
							loContent = sap.zen.XpDataSource.create(null,
									loDataSource, null);
							ltContent.add(loContent);
						}
						this.exportToExcel(ltContent, exportVersion);
						ltContent.releaseObject();
					},
					exportToExcel : function(tContent, exportVersion) {
						var lSettingsOffset;
						var lExportFormat;
						var lLayout;
						var lFormat;
						var lMergeContent;
						var lSettings;
						var loExcelWorkbook;
						var lContentIndex;
						var loContent;
						if (sap.firefly.XStringUtils
								.isNullOrEmpty(exportVersion)) {
							exportVersion = sap.firefly.XDoubleValue.create(
									this.useExcelVersion).toString();
						}
						lSettingsOffset = sap.firefly.XString.indexOf(
								exportVersion, ".");
						lExportFormat = sap.firefly.XInteger
								.convertStringToInteger(sap.firefly.XString
										.substring(exportVersion, 0,
												lSettingsOffset));
						lLayout = null;
						if (lExportFormat === 0) {
							lLayout = sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS;
						} else {
							if (lExportFormat === 1) {
								lLayout = sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS_VARIABLES;
							} else {
								if (lExportFormat === 2) {
									lLayout = sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS_VARIABLES_INFO;
								} else {
									if (lExportFormat === 3) {
										lLayout = sap.zen.CXpDSExportLayout.SHEETS_GRID_INFO;
									} else {
										if (lExportFormat === 4) {
											lLayout = sap.zen.CXpDSExportLayout.SINGLE_SHEET_ALL;
										} else {
											lLayout = sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS;
										}
									}
								}
							}
						}
						lFormat = false;
						lMergeContent = false;
						if (lSettingsOffset >= 0) {
							lSettings = sap.firefly.XString.substring(
									exportVersion, lSettingsOffset + 1, -1);
							lFormat = sap.firefly.XString.containsString(
									sap.firefly.XString.substring(lSettings, 0,
											1), "1");
							lMergeContent = sap.firefly.XString.containsString(
									sap.firefly.XString.substring(lSettings, 1,
											2), "1");
						}
						loExcelWorkbook = sap.zen.Workbook.create(
								this.useExcelOpenOfficeType, lFormat);
						for (lContentIndex = 0; lContentIndex < tContent.size(); lContentIndex++) {
							loContent = tContent.get(lContentIndex);
							if (loContent === null) {
								continue;
							}
							loContent.setLayout(lLayout);
							(loContent.getDSItem(sap.zen.CXpDSItem.GRID))
									.getGrid().setMergeContent(lMergeContent);
							loContent.prepare();
							this.writeWorkbookContent(loContent,
									loExcelWorkbook, null, null);
						}
						loExcelWorkbook.save("excel.xlsx");
					},
					writeWorkbookContent : function(oCollection,
							oExcelWorkbook, oExcelWorkSheet, oExcelWorkSheetRow) {
						var lChildOnSheet;
						var lChild;
						var loChild;
						var loContainer;
						var loDataCell;
						var lValue;
						var lValueType;
						var lFormatString;
						var lTimeAsString;
						var lTime;
						var lXpFormatString;
						var loDateTime;
						var loDate;
						var loTime;
						var lDataCellValueType;
						if (oExcelWorkbook === null) {
							oExcelWorkbook = sap.zen.Workbook.create(
									this.useExcelOpenOfficeType, false);
						}
						lChildOnSheet = false;
						for (lChild = 0; lChild < oCollection
								.getAmountOfChildren(); lChild++) {
							loChild = oCollection.getChild(lChild);
							if (loChild.getObjectType() === sap.zen.CXpObjectType.CONTAINER) {
								loContainer = loChild;
								if (loContainer.getAmountOfChildren() <= 0) {
									continue;
								}
								if (oExcelWorkSheet === null) {
									lChildOnSheet = true;
								}
								if (lChildOnSheet) {
									oExcelWorkSheet = oExcelWorkbook
											.addWorksheet(loContainer.getName());
								} else {
									if (lChild > 0) {
										oExcelWorkSheetRow = oExcelWorkSheet
												.addRow();
									}
									if (loContainer.hasTitle()) {
										oExcelWorkSheetRow = oExcelWorkSheet
												.addRow();
										oExcelWorkSheetRow
												.addCellWithContent(
														loContainer.getTitle(),
														loContainer.getTitle(),
														sap.zen.XpDataCell.NO_FORMAT_STRING,
														null,
														sap.zen.CXpDataCellValueType.STANDARD,
														sap.zen.CXpStyle.HEADER,
														0, loContainer
																.getLayout()
																.getColumns());
									}
								}
								this.writeWorkbookContent(loChild,
										oExcelWorkbook, oExcelWorkSheet,
										oExcelWorkSheetRow);
								if (lChildOnSheet) {
									if (oExcelWorkSheet !== null) {
										oExcelWorkSheet.close();
									}
									oExcelWorkSheet = null;
								}
								continue;
							}
							if (loChild.getObjectType() === sap.zen.CXpObjectType.DATA_ROW) {
								if (oExcelWorkSheet === null) {
									oExcelWorkSheet = oExcelWorkbook
											.addWorksheet("");
								}
								oExcelWorkSheetRow = oExcelWorkSheet.addRow();
								this.writeWorkbookContent(loChild,
										oExcelWorkbook, oExcelWorkSheet,
										oExcelWorkSheetRow);
								continue;
							}
							if (loChild.getObjectType() === sap.zen.CXpObjectType.DATA_CELL) {
								loDataCell = loChild;
								if (oExcelWorkSheet === null) {
									oExcelWorkSheet = oExcelWorkbook
											.addWorksheet("");
								}
								lValue = loDataCell.getValue();
								lValueType = loDataCell.getValueType();
								lFormatString = null;
								if (lValueType.isNumber()) {
									lFormatString = loDataCell
											.provideNumberFormatString(",", ".");
								} else {
									lFormatString = loDataCell
											.getFormatString();
								}
								if (sap.firefly.XStringUtils
										.isNullOrEmpty(lValue)) {
									lValueType = sap.firefly.XValueType.STRING;
								}
								if (lValueType === sap.firefly.XValueType.DATE
										|| lValueType === sap.firefly.XValueType.DATE_TIME) {
									if (sap.firefly.XString.size(lValue) > 8) {
										lTimeAsString = sap.firefly.XString
												.substring(lValue, 8, -1);
										lTime = sap.firefly.XInteger
												.convertStringToInteger(lTimeAsString);
										if (lTime <= 0) {
											lValue = sap.firefly.XString
													.substring(lValue, 0, 8);
										}
									}
									lValueType = sap.firefly.XValueType.DATE;
								}
								lXpFormatString = null;
								if (lValueType === sap.firefly.XValueType.DATE) {
									if (sap.firefly.XString.size(lValue) > 8) {
										loDateTime = sap.firefly.XDateTime
												.createDateTimeFromSAPFormat(lValue);
										if (loDateTime !== null) {
											lValue = loDateTime.toIsoFormat();
											lXpFormatString = "dd mmm yyyy, hh.mm:ss AM/PM";
										}
									} else {
										loDate = sap.firefly.XDate
												.createDateFromSAPFormat(lValue);
										if (loDate !== null) {
											lValue = loDate.toIsoFormat();
											lXpFormatString = "dd mmm yyyy";
										}
									}
								} else {
									if (lValueType === sap.firefly.XValueType.TIME) {
										loTime = sap.firefly.XTime
												.createTimeFromSAPFormat(lValue);
										if (loTime !== null) {
											lValue = loTime.toIsoFormat();
											lXpFormatString = "hh:mm:ss AM/PM";
										}
									}
								}
								if (lXpFormatString !== null) {
									if (sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(lFormatString)) {
										lFormatString = sap.firefly.XStringUtils
												.concatenate3(lXpFormatString,
														" ", lFormatString);
									} else {
										lFormatString = lXpFormatString;
									}
								}
								lDataCellValueType = null;
								if (lValueType.isNumber()) {
									lDataCellValueType = sap.zen.CXpDataCellValueType.NUMBER;
								} else {
									if (lValueType
											.isTypeOf(sap.firefly.XValueType.DATE)) {
										lDataCellValueType = sap.zen.CXpDataCellValueType.DATE;
									} else {
										if (lValueType
												.isTypeOf(sap.firefly.XValueType.TIME)) {
											lDataCellValueType = sap.zen.CXpDataCellValueType.TIME;
										} else {
											if (lValueType
													.isTypeOf(sap.firefly.XValueType.DATE_TIME)) {
												lDataCellValueType = sap.zen.CXpDataCellValueType.TIMESTAMP;
											} else {
												lDataCellValueType = sap.zen.CXpDataCellValueType.STANDARD;
											}
										}
									}
								}
								oExcelWorkSheetRow.addCellWithContent(lValue,
										loDataCell.getFormattedValue(),
										lFormatString, null,
										lDataCellValueType, loDataCell
												.getDataCellStyle(), loDataCell
												.getRowSpan(), loDataCell
												.getColumnSpan());
								continue;
							}
						}
					},
					doExport2 : function(exportType, exportVersion) {
						this.doExport(exportType, exportVersion);
					},
					getNavigationParameterNames : function() {
						var json = this.getNavigationParametersInternal();
						var ixSet = sap.firefly.XHashSetOfString.create();
						var scriptableArray = null;
						var structureElementNames = json
								.getStructureElementNames();
						var iterator = structureElementNames.getIterator();
						var parameterName;
						var dimensionNames;
						var dimIndex;
						while (iterator.hasNext()) {
							parameterName = iterator.next();
							dimensionNames = this
									.getDimensionNamesForNavigationParamInternal(parameterName);
							for (dimIndex = 0; dimIndex < dimensionNames.size(); dimIndex++) {
								ixSet.put(dimensionNames.get(dimIndex));
							}
						}
						scriptableArray = this
								.getWindow()
								.createJSArrayOfStrings(
										sap.firefly.XListOfString
												.createFromReadOnlyList(ixSet
														.getValuesAsReadOnlyListOfString()));
						return scriptableArray;
					},
					getNavigationParameterValue : function(sParamName) {
						var json = this.getNavigationParametersInternal();
						var obj;
						var jsonSerializer;
						var jsonString;
						var obj2;
						if ((!this.useExternalSemanticObjectMappings())
								&& this.reverseNameMappings
										.containsKey(sParamName)) {
							sParamName = this.reverseNameMappings
									.getByKey(sParamName);
						}
						if (json.hasValueByName(sParamName)) {
							obj = json.getElementByName(sParamName);
							jsonSerializer = sap.firefly.JsonSerializerFactory
									.newInstance();
							jsonString = jsonSerializer.serialize(obj);
							obj2 = this.getWindow().parseJSON(jsonString);
							return obj2;
						}
						return null;
					},
					getExternalMappedSemanticName : function(infoObjectName) {
						if (this.navigationInfoObjectToSemanticObjectMappingsMap
								.containsKey(infoObjectName)) {
							return this.navigationInfoObjectToSemanticObjectMappingsMap
									.getByKey(infoObjectName);
						}
						return infoObjectName;
					},
					getDimensionNamesForNavigationParameterName : function(
							navParamName) {
						return this
								.getWindow()
								.createJSArrayOfStrings(
										this
												.getDimensionNamesForNavigationParamInternal(navParamName));
					},
					getDimensionNamesForNavigationParamInternal : function(
							navParamName) {
						var dimensionNameList = null;
						var dimensionNames;
						if (!this.useExternalSemanticObjectMappings()
								&& this.externalNameToDimensionMappings !== null
								&& this.externalNameToDimensionMappings
										.containsKey(navParamName)) {
							dimensionNames = this.externalNameToDimensionMappings
									.getByKey(navParamName);
							if (!dimensionNames.isEmpty()) {
								dimensionNameList = sap.firefly.XListOfString
										.createFromReadOnlyList(dimensionNames
												.getValuesAsReadOnlyListOfString());
							}
						}
						if (dimensionNameList === null) {
							dimensionNameList = sap.firefly.XListOfString
									.create();
							dimensionNameList.add(navParamName);
						}
						return dimensionNameList;
					},
					getNavigationParametersInternal : function() {
						var allDataSources;
						var dsNum;
						var dataSource;
						var dsMappings;
						var mappingsIterator;
						var externalName;
						var dimensionName;
						var dimensionNames;
						var jsonObj;
						var jsonParser;
						var jsonString;
						this.externalNameToDimensionMappings = sap.firefly.XHashMapByString
								.create();
						this.reverseNameMappings = sap.firefly.XHashMapOfStringByString
								.create();
						if (!this.useExternalSemanticObjectMappings()) {
							allDataSources = this.getAllDataSources();
							for (dsNum = 0; dsNum < allDataSources.size(); dsNum++) {
								dataSource = allDataSources.get(dsNum);
								dsMappings = dataSource
										.getExternalNameMappings();
								mappingsIterator = dsMappings
										.getKeysAsIteratorOfString();
								while (mappingsIterator.hasNext()) {
									externalName = mappingsIterator.next();
									dimensionName = dsMappings
											.getByKey(externalName);
									dimensionNames = null;
									if (this.externalNameToDimensionMappings
											.containsKey(externalName)) {
										dimensionNames = this.externalNameToDimensionMappings
												.getByKey(externalName);
									} else {
										dimensionNames = sap.firefly.XHashSetOfString
												.create();
										this.externalNameToDimensionMappings
												.put(externalName,
														dimensionNames);
									}
									dimensionNames.put(dimensionName);
									this.reverseNameMappings.put(dimensionName,
											externalName);
								}
							}
						}
						jsonParser = sap.firefly.JsonParserFactory
								.newInstance();
						if (this.navigationParamObject !== null) {
							jsonString = this.navigationParamObject;
							jsonObj = jsonParser.parse(jsonString);
							this.navigationParametersJson = jsonObj
									.asStructure();
						} else {
							jsonObj = jsonParser.parse("{}");
							this.navigationParametersJson = jsonObj
									.asStructure();
						}
						return this.navigationParametersJson.getPermaCopy()
								.asStructure();
					},
					getNavigationParameters : function() {
						var json = this.getNavigationParametersInternal();
						var list = sap.firefly.XList.create();
						var structureElementNames = json
								.getStructureElementNames();
						var iterator = structureElementNames.getIterator();
						var key;
						var kvObj;
						var value;
						var elem;
						var elemAsList;
						var elementByIndex;
						var singleRangeEntry;
						var scriptableArray;
						while (iterator.hasNext()) {
							key = iterator.next();
							kvObj = new sap.zen.KeyValueObject();
							value = null;
							elem = json.getElementByName(key);
							if (elem.isString()) {
								value = elem.asString().getStringValue();
							} else {
								if (elem.isList()) {
									elemAsList = elem.asList();
									if (elemAsList.size() > 0) {
										elementByIndex = elemAsList
												.getElementByIndex(0);
										if (elementByIndex.isString()) {
											value = elementByIndex.asString()
													.getStringValue();
										} else {
											if (elementByIndex.isStructure()) {
												singleRangeEntry = elementByIndex
														.asStructure();
												if (singleRangeEntry
														.hasStringByName("low")) {
													value = singleRangeEntry
															.getStringByName("low");
												}
											}
										}
									}
								}
							}
							if (value !== null) {
								kvObj.doInit(key, value);
								list.add(kvObj);
							}
						}
						scriptableArray = this.getWindow().createJSArray(list);
						return scriptableArray;
					},
					getNavigationAllowedSemanticSources : function() {
						return this.navigationAllowedSemanticSourcesList;
					},
					getSystemNames : function() {
						var list = sap.firefly.XList.create();
						var systemNames = this.getApplication()
								.getSystemLandscape().getSystemNames();
						var i;
						var systemName;
						var member;
						var scriptableArray;
						for (i = 0; i < systemNames.size(); i++) {
							systemName = systemNames.get(i);
							member = new sap.zen.Member();
							member.doInit(systemName, systemName);
							list.add(member);
						}
						scriptableArray = this.getWindow().createJSArray(list);
						return scriptableArray;
					},
					getApplications : function(systemName) {
						var systemDescription = this.getApplication()
								.getSystemLandscape().getSystemDescription(
										systemName);
						var backendServices = new sap.zen.ZBackendServices();
						var applications;
						var scriptableArray;
						backendServices.setSystem(systemDescription);
						applications = backendServices.getApplications(this);
						scriptableArray = this.getWindow().createJSArray(
								applications);
						return scriptableArray;
					},
					getMimes : function(systemName, applicationName) {
						var systemDescription = this.getApplication()
								.getSystemLandscape().getSystemDescription(
										systemName);
						var backendServices = new sap.zen.ZBackendServices();
						var applications;
						var scriptableArray;
						backendServices.setSystem(systemDescription);
						applications = backendServices.getMimes(this,
								applicationName);
						scriptableArray = this.getWindow().createJSArray(
								applications);
						return scriptableArray;
					},
					downloadApplication : function(systemName, applicationName) {
						var systemDescription = this.getApplication()
								.getSystemLandscape().getSystemDescription(
										systemName);
						var backendServices = new sap.zen.ZBackendServices();
						var ok;
						backendServices.setSystem(systemDescription);
						ok = backendServices.downloadApplication(this,
								applicationName);
						return ok;
					},
					downloadThisApplicaton : function() {
						var systemDescription = this.getApplication()
								.getSystemLandscape().getSystemDescription(
										"self");
						var backendServices = new sap.zen.ZBackendServices();
						var ok;
						backendServices.setSystem(systemDescription);
						ok = backendServices.downloadApplication(this, this
								.getAppName());
						return ok;
					},
					isBWSystem : function(systemName) {
						var systemDescription = this.oApplication
								.getSystemLandscape().getSystemDescription(
										systemName);
						var systemType;
						var isHana;
						if (systemDescription === null) {
							return false;
						}
						systemType = systemDescription.getSystemType();
						isHana = systemType
								.isTypeOf(sap.firefly.SystemType.HANA);
						return !isHana;
					},
					isInVarSubmitOrBackgroundProcessingScript : function() {
						return this.inVarSubmitOrBackgroundProcessingScript;
					},
					setOptimizeDSRequests : function(optimizeDSRequests) {
						this.optimizeDSRequests = optimizeDSRequests;
					},
					isInFillManadatoryVariablesMode : function() {
						return this.oRootComponent
								.isInFillManadatoryVariablesMode();
					},
					addAddtionalRequiredJavaScripts : function(
							addtionalRequiredJavaScripts) {
						var i;
						if (this.tAddtionalRequiredJavaScripts === null) {
							this.tAddtionalRequiredJavaScripts = sap.firefly.XListOfString
									.create();
						}
						for (i = 0; i < addtionalRequiredJavaScripts.size(); i++) {
							this.tAddtionalRequiredJavaScripts
									.add(addtionalRequiredJavaScripts.get(i));
						}
					},
					isInOnBeforePromptsSubmit : function() {
						return this.inOnBeforePromptsSubmit;
					},
					setOnBeforePromptsSubmit : function(inOnBeforePromptsSubmit) {
						this.inOnBeforePromptsSubmit = inOnBeforePromptsSubmit;
					},
					isMainMode : function() {
						return true;
					},
					isCompactMode : function() {
						return this.getApplicationPropertiesComponent()
								.isCompactMode();
					},
					addRequireModule : function(module) {
						if (!this.tAllRequiredModules.contains(module)) {
							this.tAllRequiredModules.put(module);
							this.tNewRequiredModules.add(module);
						}
					},
					writeNewRequiredModules : function(renderSerializer) {
						var newRequiredModules;
						var entry;
						renderSerializer.openArray("requiredModules");
						newRequiredModules = this.tNewRequiredModules
								.getIterator();
						while (newRequiredModules.hasNext()) {
							entry = newRequiredModules.next();
							renderSerializer.addSimpleValueToArray(entry);
						}
						this.tNewRequiredModules.clear();
						renderSerializer.closeJsonArray();
					},
					setXLogging : function(xLogging) {
						this.oLogging = xLogging;
					},
					getLogs : function() {
						var logs = this.oLogging.getLogs();
						return logs;
					},
					getLogsAsExcel : function() {
						var loWorkbook = this.getLogsAsExcelWorkbook();
						loWorkbook.save("excel.xlsx");
					},
					getLogsAsExcelWorkbook : function() {
						var ltLogs = this.getLogs();
						var loWorkbook = sap.zen.Workbook.create(
								this.useExcelOpenOfficeType, false);
						var loWorkSheet = loWorkbook.addWorksheet("logs");
						var loWorkSheetRow = loWorkSheet.addRow();
						var loLog;
						loWorkSheetRow.addCellWithContent("Level", "Level", "",
								null, sap.zen.CXpDataCellValueType.STANDARD,
								sap.zen.CXpStyle.STANDARD, 0, 0);
						loWorkSheetRow.addCellWithContent("Date", "Date", "",
								null, sap.zen.CXpDataCellValueType.STANDARD,
								sap.zen.CXpStyle.STANDARD, 0, 0);
						loWorkSheetRow.addCellWithContent("Time", "Time", "",
								null, sap.zen.CXpDataCellValueType.STANDARD,
								sap.zen.CXpStyle.STANDARD, 0, 0);
						loWorkSheetRow.addCellWithContent("TimeStamp",
								"TimeStamp", "", null,
								sap.zen.CXpDataCellValueType.STANDARD,
								sap.zen.CXpStyle.STANDARD, 0, 0);
						loWorkSheetRow.addCellWithContent("Component",
								"Component", "", null,
								sap.zen.CXpDataCellValueType.STANDARD,
								sap.zen.CXpStyle.STANDARD, 0, 0);
						loWorkSheetRow.addCellWithContent("Message", "Message",
								"", null,
								sap.zen.CXpDataCellValueType.STANDARD,
								sap.zen.CXpStyle.STANDARD, 0, 0);
						loWorkSheetRow.addCellWithContent("Details", "Details",
								"", null,
								sap.zen.CXpDataCellValueType.STANDARD,
								sap.zen.CXpStyle.STANDARD, 0, 0);
						while (ltLogs.hasNext()) {
							loLog = ltLogs.next();
							loWorkSheetRow = loWorkSheet.addRow();
							loWorkSheetRow.addCellWithContent(
									sap.firefly.XInteger
											.convertIntegerToString(loLog
													.getLevel()),
									sap.firefly.XInteger
											.convertIntegerToString(loLog
													.getLevel()), "", null,
									sap.zen.CXpDataCellValueType.NUMBER,
									sap.zen.CXpStyle.STANDARD, 0, 0);
							loWorkSheetRow.addCellWithContent(loLog.getDate(),
									loLog.getDate(), "", null,
									sap.zen.CXpDataCellValueType.STANDARD,
									sap.zen.CXpStyle.STANDARD, 0, 0);
							loWorkSheetRow.addCellWithContent(loLog.getTime(),
									loLog.getTime(), "", null,
									sap.zen.CXpDataCellValueType.STANDARD,
									sap.zen.CXpStyle.STANDARD, 0, 0);
							loWorkSheetRow.addCellWithContent(
									sap.firefly.XInteger
											.convertIntegerToString(loLog
													.getTimeStamp()),
									sap.firefly.XInteger
											.convertIntegerToString(loLog
													.getTimeStamp()), "", null,
									sap.zen.CXpDataCellValueType.NUMBER,
									sap.zen.CXpStyle.STANDARD, 0, 0);
							loWorkSheetRow.addCellWithContent(loLog
									.getComponent(), loLog.getComponent(), "",
									null,
									sap.zen.CXpDataCellValueType.STANDARD,
									sap.zen.CXpStyle.STANDARD, 0, 0);
							loWorkSheetRow.addCellWithContent(loLog
									.getMessage(), loLog.getMessage(), "",
									null,
									sap.zen.CXpDataCellValueType.STANDARD,
									sap.zen.CXpStyle.STANDARD, 0, 0);
							loWorkSheetRow.addCellWithContent(loLog
									.getDetails(), loLog.getDetails(), "",
									null,
									sap.zen.CXpDataCellValueType.STANDARD,
									sap.zen.CXpStyle.STANDARD, 0, 0);
						}
						loWorkSheet.close();
						return loWorkbook;
					},
					createNewZip : function() {
						return sap.buddha.XZip.create();
					},
					getSupportZip : function() {
						var supportZip = sap.buddha.XZip.create();
						var systemDescription = this.getApplication()
								.getSystemLandscape().getSystemDescription(
										"self");
						var backendServices;
						var applicationAsZip;
						var logsAsExcelWorkbook;
						var excelBinary;
						var sb;
						var keysAsIteratorOfString;
						var key;
						var value;
						if (systemDescription !== null) {
							backendServices = new sap.zen.ZBackendServices();
							backendServices.setSystem(systemDescription);
							applicationAsZip = backendServices
									.getApplicationAsZip(this, this
											.getAppName());
							supportZip.saveToFile("APPLICATION.zip",
									applicationAsZip.getZipAsBinary());
						}
						logsAsExcelWorkbook = this.getLogsAsExcelWorkbook();
						excelBinary = logsAsExcelWorkbook.getAsBinary();
						supportZip.saveToFile("LOGS.xlsx", excelBinary);
						sb = sap.firefly.XStringBuffer.create();
						if (this.copyOfUrlParameterForSupportZip !== null) {
							keysAsIteratorOfString = this.copyOfUrlParameterForSupportZip
									.getKeysAsIteratorOfString();
							while (keysAsIteratorOfString.hasNext()) {
								key = keysAsIteratorOfString.next();
								value = this.copyOfUrlParameterForSupportZip
										.getByKey(key);
								sb.append("&");
								sb.append(key);
								sb.append("=");
								sb.append(value);
							}
						}
						supportZip.saveStringToFile("URLParameter.txt", sb
								.toString());
						supportZip.saveStringToFile("trace.rstt", this.rstt
								.toString());
						supportZip.saveZip("DSH_SUPPORT.zip");
					},
					getNavigationInitialState : function() {
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(this.navigationInitialState)) {
							return this.navigationInitialState;
						}
						return "";
					},
					backToStart : function() {
						this.inBackToStartMode = true;
						this.oPlanning.releaseObject();
						this.oPlanning = null;
						this.initBaseInternal();
					},
					getVisiblePrompts : function() {
						return this.tVisiblePrompts;
					},
					setVisiblePrompts : function(visiblePrompts) {
						var jsonUtil;
						var arr;
						var i;
						if (visiblePrompts !== null) {
							jsonUtil = sap.buddha.XJsonObject
									.create(visiblePrompts);
							if (jsonUtil.isString()) {
								jsonUtil = sap.buddha.XJsonObject
										.createFromJSonString(jsonUtil
												.getString());
							}
							if (jsonUtil.isArray()) {
								this.tVisiblePrompts = sap.firefly.XListOfString
										.create();
								arr = jsonUtil.getArray();
								for (i = 0; i < arr.size(); i++) {
									this.tVisiblePrompts.add(arr.get(i)
											.getString());
								}
							}
						}
					},
					getLocale : function() {
						if (this.getWindow() !== null) {
							return this.getWindow().getLocale();
						}
						return null;
					},
					isRightToLeft : function() {
						return this.rightToLeft;
					},
					setRightToLeft : function(rightToLeft) {
						this.rightToLeft = rightToLeft;
					},
					isAsyncResultSetAlreadyFetched : function() {
						return this.asyncResultSetAlreadyFetched;
					}
				});
$Firefly
		.createClass(
				"sap.zen.PageObject",
				sap.firefly.XObject,
				{
					$statics : {
						positionParameterNameSet : null,
						scriptId : 0,
						staticSetup : function() {
							if (sap.zen.PageObject.positionParameterNameSet === null) {
								sap.zen.PageObject.positionParameterNameSet = sap.firefly.XHashMapOfStringByString
										.create();
								sap.zen.PageObject.positionParameterNameSet
										.put("WIDTH", "X");
								sap.zen.PageObject.positionParameterNameSet
										.put("HEIGHT", "X");
								sap.zen.PageObject.positionParameterNameSet
										.put("TOP_MARGIN", "X");
								sap.zen.PageObject.positionParameterNameSet
										.put("BOTTOM_MARGIN", "X");
								sap.zen.PageObject.positionParameterNameSet
										.put("LEFT_MARGIN", "X");
								sap.zen.PageObject.positionParameterNameSet
										.put("RIGHT_MARGIN", "X");
							}
						},
						convertXXmlNodeToJson : function(xmlNode) {
							var lJsonString = null;
							var lPrElement = sap.zen.PageObject
									.convertXXmlNodeToPrElement(xmlNode);
							if (lPrElement !== null) {
								lJsonString = sap.firefly.JsonSerializerFactory
										.newInstance().serialize(lPrElement);
							}
							return lJsonString;
						},
						convertXXmlNodeToPrElement : function(xmlNode) {
							var lPrElement;
							var lPropertyName;
							var lPropertyValue;
							var ltChildNodes;
							var lPrStructure;
							var lItemIndex;
							var lChildXmlNode;
							var lChildPropertyName;
							var lChildPrElement;
							if (xmlNode === null) {
								return null;
							}
							lPrElement = null;
							lPropertyName = xmlNode.getAttribute("name");
							lPropertyValue = xmlNode.getAttribute("value");
							ltChildNodes = xmlNode.getAllChildren();
							if (ltChildNodes.size() > 0) {
								lPrStructure = sap.firefly.PrStructure.create();
								for (lItemIndex = 0; lItemIndex < ltChildNodes
										.size(); lItemIndex++) {
									lChildXmlNode = ltChildNodes
											.get(lItemIndex);
									lChildPropertyName = lChildXmlNode
											.getAttribute("name");
									lChildPrElement = sap.zen.PageObject
											.convertXXmlNodeToPrElement(lChildXmlNode);
									lPrStructure
											.setElementByName(
													lChildPropertyName,
													lChildPrElement);
								}
								lPrElement = lPrStructure;
							} else {
								if (lPropertyValue === null) {
									lPrElement = sap.firefly.PrStructure
											.create();
								} else {
									lPrElement = sap.firefly.PrString
											.createWithValue(lPropertyValue);
								}
							}
							return lPrElement;
						}
					},
					oPage : null,
					oParent : null,
					type : null,
					oInitParameters : null,
					uid : null,
					name : null,
					tPropertyCache : null,
					contentChanged : false,
					childrenContentChanged : false,
					onlyPositionParameterChanged : false,
					renderPlaceholderOnly : false,
					renderEmptyContent : false,
					getPageObject : function() {
						return this;
					},
					isRenderEmptyContent : function() {
						return this.renderEmptyContent;
					},
					setRenderEmptyContent : function(renderEmptyContent) {
						this.renderEmptyContent = renderEmptyContent;
					},
					isRenderOnlyPlaceholder : function() {
						return this.renderPlaceholderOnly;
					},
					setRenderOnlyPlaceholder : function(renderOnlyPlaceholder) {
						this.renderPlaceholderOnly = renderOnlyPlaceholder;
					},
					isOnlyPositionParameterChanged : function() {
						return this.onlyPositionParameterChanged;
					},
					setOnlyPositionParameterChanged : function(
							onlyPositionParameterChanged) {
						this.onlyPositionParameterChanged = onlyPositionParameterChanged;
					},
					getPropertyBag : function() {
						var mapByString = sap.firefly.XHashMapOfStringByString
								.create();
						var children;
						var i;
						var parameter;
						var name;
						var value;
						var valueNode;
						if (this.oInitParameters !== null) {
							children = this.oInitParameters
									.getChildren("property");
							for (i = 0; i < children.size(); i++) {
								parameter = children.get(i);
								name = parameter.getAttribute("name");
								value = "";
								if ((sap.firefly.XString
										.startsWith(name, "ON_") === true)
										|| (sap.firefly.XString.isEqual(name,
												"ADDITIONAL_PROPERTIES"))) {
									valueNode = parameter
											.getFirstChild("value");
									if (valueNode !== null) {
										value = valueNode.getText();
									} else {
										value = "";
									}
								} else {
									if (sap.firefly.XString.isEqual(name,
											"VISIBLE")) {
										value = parameter.getAttribute("value");
										value = this.convertAbapBool(value);
									} else {
										if (sap.firefly.XString.isEqual(name,
												"ENABLED")) {
											value = parameter
													.getAttribute("value");
											value = this.convertAbapBool(value);
										} else {
											if (sap.firefly.XString.isEqual(
													name, "AXES_SWAPPED")) {
												value = parameter
														.getAttribute("value");
												value = this
														.convertAbapBool(value);
											} else {
												if (sap.firefly.XString
														.isEqual(name,
																"RESULTS_VISIBLE")) {
													value = parameter
															.getAttribute("value");
													value = this
															.convertAbapBool(value);
												} else {
													value = parameter
															.getAttribute("value");
												}
											}
										}
									}
								}
								mapByString.put(name, value);
							}
						}
						return mapByString;
					},
					initBase : function(uid, type, page, parent, initParameter) {
						this.oPage = page;
						this.oParent = parent;
						this.name = uid;
						this.type = type;
						this.uid = uid;
						this.tPropertyCache = sap.firefly.XHashMapByString
								.create();
						this.setInitParameters(initParameter);
					},
					setPage : function(page) {
						this.oPage = page;
					},
					getPage : function() {
						return this.oPage;
					},
					resetStateFlags : function() {
						this.contentChanged = false;
						this.childrenContentChanged = false;
						this.onlyPositionParameterChanged = false;
						this.renderPlaceholderOnly = false;
						this.renderEmptyContent = false;
					},
					setParent : function(parent) {
						this.oParent = parent;
					},
					getParent : function() {
						return this.oParent;
					},
					convertAbapBool : function(value) {
						if (sap.firefly.XString.isEqual(value, "X")) {
							return sap.firefly.XBooleanValue.create(true)
									.toString();
						}
						return sap.firefly.XBooleanValue.create(false)
								.toString();
					},
					setInitParameters : function(initParameters) {
						this.oInitParameters = initParameters;
						this.clearPropertyCache();
					},
					clearPropertyCache : function() {
						this.tPropertyCache.clear();
					},
					getInitParameters : function() {
						return this.oInitParameters;
					},
					getName : function() {
						return this.name;
					},
					getId : function() {
						return this.uid;
					},
					getType : function() {
						return this.type;
					},
					isTechnical : function() {
						var name = this.getName();
						if (name === null) {
							throw sap.firefly.XException
									.createRuntimeException("Internal error");
						}
						if (sap.firefly.XString.startsWith(name, "__")) {
							return true;
						}
						return false;
					},
					create : function() {
					},
					beforeInitialRendering : function() {
						return;
					},
					setContentChanged : function(contentChanged) {
						var parent2;
						this.contentChanged = contentChanged;
						this.onlyPositionParameterChanged = false;
						parent2 = this.getParent();
						if (parent2 !== null) {
							parent2.setChildrenContentChanged();
						}
						if (contentChanged === true) {
							this.getPage().setContentChanged(true);
						}
					},
					hasChildrenContentChanged : function() {
						return this.childrenContentChanged;
					},
					setChildrenContentChanged : function() {
						this.childrenContentChanged = true;
						if (this.onlyPositionParameterChanged) {
							this.onlyPositionParameterChanged = false;
							this.contentChanged = true;
						}
						if (this.getParent() !== null) {
							this.getParent().setChildrenContentChanged();
						}
					},
					isContentChanged : function() {
						return this.contentChanged;
					},
					setProperty : function(name, value, asCData) {
						var oldValue;
						var parameter;
						var valueNode;
						var valueChanged;
						if (this.oInitParameters === null) {
							throw sap.firefly.XException
									.createIllegalStateException("Initparameters are null");
						}
						oldValue = null;
						parameter = this.getPropertyNode(name);
						if (parameter !== null) {
							if (asCData === true) {
								valueNode = parameter.getFirstChild("value");
								if (valueNode !== null) {
									oldValue = valueNode.getText();
								}
							} else {
								oldValue = parameter.getAttribute("value");
							}
						} else {
							oldValue = this.getDefaultProperty(name);
						}
						if (sap.firefly.XString.isEqual("VISIBLE", name)
								|| sap.firefly.XString.isEqual("ENABLED", name)
								|| sap.firefly.XString.isEqual("ICONFIRST",
										name)
								|| sap.firefly.XString.isEqual(
										"DESIGNER_VISIBLE", name)) {
							valueChanged = false;
							if (oldValue !== null) {
								if (!sap.firefly.XString.isEqual(value,
										oldValue)) {
									valueChanged = true;
								}
							} else {
								if (sap.firefly.XString.isEqual("false", value)) {
									valueChanged = true;
								}
							}
							if (!valueChanged) {
								return;
							}
							if (!sap.firefly.XString.isEqual("ENABLED", name)) {
								if (this.getParent() !== null) {
									this.getParent().setContentChanged(true);
								}
							} else {
								this.setContentChanged(true);
							}
						}
						if (oldValue !== null) {
							if (sap.firefly.XString.isEqual(oldValue, value)) {
								return;
							}
						}
						if (asCData === true) {
							this.oInitParameters.setProperty(name, value, true);
						} else {
							this.oInitParameters
									.setProperty(name, value, false);
						}
						if (!sap.zen.PageObject.positionParameterNameSet
								.containsKey(name)) {
							this.setOnlyPositionParameterChanged(false);
							this.setContentChanged(true);
						} else {
							if (!this.isContentChanged()
									&& !this.hasChildrenContentChanged()) {
								this.setOnlyPositionParameterChanged(true);
							} else {
								this.setOnlyPositionParameterChanged(false);
								this.setContentChanged(true);
							}
							if (this.getParent() !== null) {
								this.getParent().setChildrenContentChanged();
								this.getPage().setContentChanged(true);
							}
						}
					},
					getDefaultProperty : function(name) {
						return null;
					},
					getPropertyNode : function(name) {
						var parameter = this.tPropertyCache.getByKey(name);
						var children;
						var i;
						var lname;
						if (parameter !== null) {
							return parameter;
						}
						children = this.oInitParameters.getChildren("property");
						for (i = 0; i < children.size(); i++) {
							parameter = children.get(i);
							lname = parameter.getAttribute("name");
							if (sap.firefly.XString.isEqual(name, lname)) {
								this.tPropertyCache.put(name, parameter);
								return parameter;
							}
						}
						return null;
					},
					getProperty : function(name) {
						var s;
						var value;
						var parameter;
						var valueNode;
						if (this.oInitParameters === null) {
							s = '<bi:component name="';
							s = sap.firefly.XString.concatenate2(s, this
									.getName());
							s = sap.firefly.XString.concatenate2(s, '" type="');
							s = sap.firefly.XString.concatenate2(s, this
									.getType());
							s = sap.firefly.XString.concatenate2(s, '"/>');
							this.oInitParameters = sap.buddha.XXmlUtils
									.getRootNode(s);
						}
						value = null;
						parameter = this.getPropertyNode(name);
						if (parameter !== null) {
							value = parameter.getAttribute("value");
							if (value === null) {
								valueNode = parameter.getFirstChild("value");
								if (valueNode !== null) {
									return valueNode.getText();
								}
							}
							return value;
						}
						return null;
					},
					getStringPropertyWithDefault : function(name, defaultValue) {
						var value = this.getProperty(name);
						if (value !== null) {
							return value;
						}
						return defaultValue;
					},
					setStringProperty : function(name, value) {
						this.setProperty(name, value, false);
					},
					setStringPropertyAsCData : function(name, value) {
						this.setProperty(name, value, true);
					},
					makeBooleanPropertyWithDefault : function(val, defaultValue) {
						if (val === null) {
							return defaultValue;
						}
						if (sap.firefly.XString.size(val) === 0) {
							return false;
						}
						if (sap.firefly.XString.size(val) === 1) {
							if (sap.firefly.XString.isEqual(val, "x")
									|| sap.firefly.XString.isEqual(val, "X")) {
								return true;
							}
							return false;
						}
						if (sap.firefly.XString.isEqual(val, "true")) {
							return true;
						}
						if (sap.firefly.XString.isEqual(val, "false")) {
							return false;
						}
						this.getPage().addScriptExecutionMessage();
						return defaultValue;
					},
					getBooleanPropertyWithDefault : function(name, defaultValue) {
						var val = this.getProperty(name);
						return this.makeBooleanPropertyWithDefault(val,
								defaultValue);
					},
					setBooleanProperty : function(name, value) {
						if (sap.buddha.XObjectConverter.isBoolean(value)) {
							this.setStringProperty(name,
									sap.firefly.XBooleanValue.create(value)
											.toString());
						} else {
							this.getPage().addScriptExecutionMessage();
						}
					},
					getIntPropertyWithDefault : function(name, defaultValue) {
						var value = this.getStringPropertyWithDefault(name,
								null);
						if (value !== null) {
							return sap.firefly.XInteger
									.convertStringToInteger(value);
						}
						return defaultValue;
					},
					setIntProperty : function(name, value) {
						if (sap.buddha.XObjectConverter.isInteger(value)) {
							this.setProperty(name, sap.firefly.XInteger
									.convertIntegerToString(value), false);
						} else {
							this.getPage().addScriptExecutionMessage();
						}
					},
					getDoublePropertyWithDefault : function(name, defaultValue) {
						var value = this.getStringPropertyWithDefault(name,
								null);
						if (value !== null) {
							return sap.firefly.XDouble
									.convertStringToDouble(value);
						}
						return defaultValue;
					},
					setDoubleProperty : function(name, value) {
						if (sap.buddha.XObjectConverter.isDouble(value)) {
							this.setProperty(name, sap.firefly.XDouble
									.convertDoubleToString(value), false);
						} else {
							this.getPage().addScriptExecutionMessage();
						}
					},
					getObjectProperty : function(name) {
						var lObject = null;
						var lXmlNode = this.getPropertyNode(name);
						var lJsonString = sap.zen.PageObject
								.convertXXmlNodeToJson(lXmlNode);
						lObject = this.getPage().getWindow().parseJSON(
								lJsonString);
						return lObject;
					},
					setObjectProperty : function(name, object) {
						var lJsonString = this.getPage().getWindow()
								.stringifyJSON(object);
						var lPrElement = sap.firefly.JsonParserFactory
								.createFromString(lJsonString);
						var lXmlNode = this.oInitParameters
								.getFirstChildWithNameTag(name);
						this.applyPrElementToXXmlNode(lPrElement, lXmlNode);
						this.setContentChanged(true);
					},
					applyPrElementToXXmlNode : function(element, propertyNode) {
						var lType = element.getType();
						var lPrStructure;
						var ltStructureElements;
						var value;
						var i;
						var lElementKey;
						var lElementValue;
						var lChildXmlNode;
						var lPrString;
						if (lType === sap.firefly.PrElementType.STRUCTURE) {
							lPrStructure = element;
							ltStructureElements = lPrStructure
									.getStructureElementNames();
							value = lPrStructure.getStringByName("__value__");
							if (value !== null) {
								propertyNode.setAttribute("value", value);
							}
							for (i = 0; i < ltStructureElements.size(); i++) {
								lElementKey = ltStructureElements.get(i);
								lElementValue = lPrStructure
										.getElementByName(lElementKey);
								lChildXmlNode = propertyNode
										.getFirstChildWithNameTag(lElementKey);
								if (lChildXmlNode === null) {
									lChildXmlNode = propertyNode
											.createChildWithNameTag(lElementKey);
								}
								this.applyPrElementToXXmlNode(lElementValue,
										lChildXmlNode);
							}
						} else {
							if (lType === sap.firefly.PrElementType.STRING) {
								lPrString = element;
								propertyNode.setAttribute("value", lPrString
										.getStringValue());
							} else {
								propertyNode.setAttribute("value", element
										.toString());
							}
						}
					},
					getJsonProperty : function(name) {
						return this.getObjectProperty(name);
					},
					setJsonProperty : function(name, object) {
						if (this.oInitParameters === null) {
							throw sap.firefly.XException
									.createIllegalStateException("initParameters are null");
						}
						this.setObjectProperty(name, object);
					},
					getJsonParser : function() {
						var jsonParser = sap.firefly.JsonParserFactory
								.newInstance();
						return jsonParser;
					},
					createScriptAction : function(script, arguments) {
						var idForRendering;
						var intermediate;
						var s;
						if (script === null
								|| sap.firefly.XString.isEqual(script, "")) {
							return "";
						}
						script = sap.firefly.XString.replace(script,
								"__arguments__", arguments);
						script = sap.buddha.XSSEncoder.encodeJavaScript(script);
						idForRendering = this.getPage().getPageIdForScripting();
						intermediate = sap.firefly.XStringUtils.concatenate4(
								"window.putInQueue(function(){",
								idForRendering, ".exec('", script);
						s = sap.firefly.XStringUtils.concatenate2(intermediate,
								"');});");
						return s;
					},
					createPlaceHolder : function(parameterName, type) {
						var s = parameterName;
						if (type.isEqualTo(sap.zen.PlaceHolderType.STRING)) {
							s = sap.firefly.XStringUtils.concatenate3("'",
									parameterName, "'");
						}
						return s;
					},
					createScriptActionWithPlaceHolders3 : function(target,
							methodName, parameterName1, type1, parameterName2,
							type2, parameterName3, type3) {
						var script;
						var idForRendering;
						var intermediate;
						if (methodName === null
								|| sap.firefly.XString.isEqual(methodName, "")) {
							return "";
						}
						script = sap.firefly.XString.concatenate2(target
								.getId(), ".");
						script = sap.firefly.XStringUtils.concatenate3(script,
								methodName, "(");
						script = sap.firefly.XStringUtils.concatenate3(script,
								this.createPlaceHolder(parameterName1, type1),
								",");
						script = sap.firefly.XStringUtils.concatenate3(script,
								this.createPlaceHolder(parameterName2, type2),
								",");
						script = sap.firefly.XStringUtils.concatenate2(script,
								this.createPlaceHolder(parameterName3, type3));
						script = sap.firefly.XString.concatenate2(script, ");");
						script = sap.buddha.XSSEncoder.encodeJavaScript(script);
						idForRendering = this.getPage().getPageIdForScripting();
						intermediate = sap.firefly.XStringUtils.concatenate4(
								"window.putInQueue(function(){",
								idForRendering, ".exec('", script);
						intermediate = sap.firefly.XStringUtils.concatenate2(
								intermediate, "');");
						intermediate = sap.firefly.XStringUtils.concatenate2(
								intermediate, "});");
						return intermediate;
					},
					createScriptActionWithPlaceHolders2 : function(target,
							methodName, parameterName1, type1, parameterName2,
							type2) {
						var script;
						var idForRendering;
						var intermediate;
						if (methodName === null
								|| sap.firefly.XString.isEqual(methodName, "")) {
							return "";
						}
						script = sap.firefly.XString.concatenate2(target
								.getId(), ".");
						script = sap.firefly.XStringUtils.concatenate3(script,
								methodName, "(");
						script = sap.firefly.XStringUtils.concatenate3(script,
								this.createPlaceHolder(parameterName1, type1),
								",");
						script = sap.firefly.XStringUtils.concatenate2(script,
								this.createPlaceHolder(parameterName2, type2));
						script = sap.firefly.XString.concatenate2(script, ");");
						script = sap.buddha.XSSEncoder.encodeJavaScript(script);
						idForRendering = this.getPage().getPageIdForScripting();
						intermediate = sap.firefly.XStringUtils.concatenate4(
								"window.putInQueue(function(){",
								idForRendering, ".exec('", script);
						intermediate = sap.firefly.XStringUtils.concatenate2(
								intermediate, "');");
						intermediate = sap.firefly.XStringUtils.concatenate2(
								intermediate, "});");
						return intermediate;
					},
					createScript : function(script) {
						var idForRendering;
						var s;
						script = sap.buddha.XSSEncoder.encodeJavaScript(script);
						idForRendering = this.getPage().getPageIdForScripting();
						s = sap.firefly.XStringUtils.concatenate4(
								"window.putInQueue(function(){",
								idForRendering, ".exec('", script);
						s = sap.firefly.XString.concatenate2(s, "');});");
						return s;
					},
					createMethodCallScript : function(methodName) {
						var idForRendering = this.getPage()
								.getPageIdForScripting();
						var s = sap.firefly.XStringUtils.concatenate4(
								"window.putInQueue(function(){",
								idForRendering, ".exec('", this.getId());
						s = sap.firefly.XString.concatenate2(s, ".");
						s = sap.firefly.XString.concatenate2(s, methodName);
						s = sap.firefly.XString.concatenate2(s, "()');});");
						return s;
					},
					createScriptSequenceItemWithPlaceHolders2 : function(
							target, methodeName, parameterName1, type1,
							parameterName2, type2) {
						var scriptSequenceItem = new sap.zen.ScriptSequenceItem();
						scriptSequenceItem.setMethodeName(methodeName);
						scriptSequenceItem
								.addPlaceHolder(parameterName1, type1);
						scriptSequenceItem
								.addPlaceHolder(parameterName2, type2);
						if (target !== null) {
							scriptSequenceItem.setTarget(target);
						}
						return scriptSequenceItem;
					},
					createScriptSequenceItem : function(script) {
						var scriptSequenceItem = new sap.zen.ScriptSequenceItem();
						scriptSequenceItem.setTarget(this);
						scriptSequenceItem.setScript(script);
						return scriptSequenceItem;
					},
					createScriptSequenceItemMethodCall : function(target,
							methodName) {
						var scriptSequenceItem = new sap.zen.ScriptSequenceItem();
						var s = "";
						s = sap.firefly.XString.concatenate2(this.getId(), ".");
						s = sap.firefly.XString.concatenate2(s, methodName);
						s = sap.firefly.XString.concatenate2(s, "();");
						scriptSequenceItem.setScript(s);
						return scriptSequenceItem;
					},
					createListItem : function(key, text) {
						var item = new sap.zen.ListItem();
						item.setValue(key);
						item.setText(text);
						return item;
					},
					toString : function() {
						var xml = this.oInitParameters.toString();
						return xml;
					},
					getBookmarkContent : function() {
						var xml = "";
						if (this.oInitParameters !== null) {
							xml = this.oInitParameters.asBookmarkString();
						}
						return xml;
					},
					getDeltaBookmarkContent : function() {
						var xml = "";
						if (this.oInitParameters !== null) {
							xml = this.oInitParameters
									.asDeltaBookmarkString(null);
						}
						return xml;
					},
					isComponent : function() {
						return false;
					},
					isDataSource : function() {
						return false;
					},
					getJavaScriptWrapperName : function() {
						return "PageObject";
					},
					getAdditionalScriptAfterWrapping : function() {
						return null;
					},
					getMessageWriter : function() {
						return this.getPage();
					},
					createUniquePageObjectId : function(pageObjectType) {
						var itemStorage = this.getPage().getComponents();
						var s = "_COMPONENT";
						var ix;
						var cnt;
						var i;
						var idWeUse;
						var exists;
						if (sap.firefly.XString.endsWith(pageObjectType, s)) {
							pageObjectType = sap.firefly.XString.substring(
									pageObjectType, 0, sap.firefly.XString
											.size(pageObjectType)
											- sap.firefly.XString.size(s));
						}
						ix = 1;
						cnt = itemStorage.size();
						for (i = 0; i < cnt; i++) {
							ix = ix + 1;
							idWeUse = sap.firefly.XStringUtils.concatenate3(
									pageObjectType, "_", sap.firefly.XInteger
											.convertIntegerToString(ix));
							exists = itemStorage.containsKey(idWeUse);
							if (!exists) {
								return idWeUse;
							}
						}
						return sap.firefly.XStringUtils.concatenate3(
								pageObjectType, "_", sap.firefly.XInteger
										.convertIntegerToString(ix));
					},
					createEmptyInitParameter : function(uid, type) {
						var s = '<bi:component name="';
						var rootNode;
						s = sap.firefly.XString.concatenate2(s, uid);
						s = sap.firefly.XString.concatenate2(s, '" type="');
						s = sap.firefly.XString.concatenate2(s, type);
						s = sap.firefly.XString.concatenate2(s, '"');
						s = sap.firefly.XString
								.concatenate2(
										s,
										' xmlns:bi="http://xml.sap.com/2011/biml/biapp" xmlns:jsp="http://java.sun.com/JSP/Page"');
						s = sap.firefly.XString
								.concatenate2(
										s,
										' xmlns="http://www.w3.org/TR/REC-html40" xmlns:h="http://www.w3.org/TR/REC-html40"');
						s = sap.firefly.XString.concatenate2(s, "/>");
						rootNode = sap.buddha.XXmlUtils.getRootNode(s);
						return rootNode;
					},
					isEmptyUrl : function(url) {
						return (url === null)
								|| (sap.firefly.XString.size(url) === 0);
					},
					isStandardUrl : function(lowerCaseUrl) {
						return sap.firefly.XString.containsString(lowerCaseUrl,
								":");
					},
					translateUrl : function(url) {
						if (this.isEmptyUrl(url)) {
							return url;
						}
						if (this.isStandardUrl(url)) {
							return url;
						}
						return sap.firefly.XStringUtils.concatenate2(this
								.getPage().getRelativePathToApp(), url);
					}
				});
$Firefly
		.createClass(
				"sap.zen.XpDSItemCell",
				sap.zen.XpDataCell,
				{
					$statics : {
						create : function(oParent, columnIndex, oItem) {
							var loInstance = null;
							var lValid = false;
							if (oParent !== null) {
								if (oParent.getDataSourceItem() === sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
									if (oItem !== null) {
										lValid = true;
									}
								}
								if (oParent.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES) {
									if (oItem !== null) {
										lValid = true;
									}
								}
								if (oParent.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
									if (oItem !== null) {
										lValid = true;
									}
								}
								if (oParent.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
									if (oItem !== null) {
										lValid = true;
									}
								}
								if (lValid) {
									loInstance = new sap.zen.XpDSItemCell();
									loInstance.oItem = oItem;
									loInstance.rowIndex = oParent.getRowIndex();
									loInstance.columnIndex = columnIndex;
									loInstance.initMe(oParent);
								}
							}
							return loInstance;
						}
					},
					rowIndex : 0,
					columnIndex : 0,
					oItem : null,
					oInternalVariable : null,
					oDimension : null,
					initMe : function(oParent) {
						var loDataSource;
						var loDimensionVariable;
						sap.zen.XpDSItemCell.$superclass.initMe.call(this,
								oParent);
						loDataSource = this.getDataSource();
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES) {
							this.oInternalVariable = this.oItem;
							this.oItem = sap.zen.VariableWrapper.createWrapper(
									this.oInternalVariable, loDataSource
											.getMessageWriter());
							if (this.oInternalVariable
									.getVariableType()
									.isTypeOf(
											sap.firefly.VariableType.DIMENSION_MEMBER_VARIABLE)) {
								loDimensionVariable = this.oInternalVariable;
								this.oDimension = sap.zen.DimensionWrapper
										.create(loDataSource, this
												.getResultSet(),
												loDimensionVariable
														.getDimension()
														.getName());
							}
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
							this.oItem = (this.oItem).getCell(this.rowIndex,
									this.columnIndex);
						}
					},
					getDataSource : function() {
						return (this.getParent()).getDataSource();
					},
					getResultSet : function() {
						return (this.getParent()).getResultSet();
					},
					getDataSourceItem : function() {
						return (this.getParent()).getDataSourceItem();
					},
					getRowIndex : function() {
						return this.rowIndex;
					},
					getColumnIndex : function() {
						return this.columnIndex;
					},
					getRowSpan : function() {
						var lSpan = -1;
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
							lSpan = (this.oItem).getRowSpan();
						}
						if (lSpan >= 0) {
							return lSpan;
						}
						return sap.zen.XpDSItemCell.$superclass.getRowSpan
								.call(this);
					},
					getColumnSpan : function() {
						var lSpan = -1;
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
							lSpan = (this.oItem).getColumnSpan();
						}
						if (lSpan >= 0) {
							return lSpan;
						}
						return sap.zen.XpDSItemCell.$superclass.getColumnSpan
								.call(this);
					},
					getDataCellStyle : function() {
						var lStyle = null;
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
							if (this.columnIndex > 0) {
								lStyle = sap.zen.CXpStyle.STANDARD;
							}
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES) {
							if (this.columnIndex > 0) {
								lStyle = sap.zen.CXpStyle.STANDARD;
							}
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
							if (this.columnIndex > 0) {
								lStyle = sap.zen.CXpStyle.STANDARD;
							}
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
							if ((this.oItem).isHeaderCell()) {
								lStyle = sap.zen.CXpStyle.HEADER;
							}
							if ((this.oItem).isTotal()) {
								lStyle = sap.zen.CXpStyle.TOTAL;
							}
						}
						if (lStyle !== null) {
							return lStyle;
						}
						return sap.zen.XpDSItemCell.$superclass.getDataCellStyle
								.call(this);
					},
					getValue : function() {
						var lValue = null;
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
							lValue = this.getValueForTechInfo();
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES
								|| this.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
							lValue = this.getValueForFilter();
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
							lValue = (this.oItem).getValue();
						}
						if (lValue !== null) {
							return lValue;
						}
						return sap.zen.XpDSItemCell.$superclass.getValue
								.call(this);
					},
					getValueType : function() {
						var lValueType = null;
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
							lValueType = this.getValueTypeForTechInfo();
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES
								|| this.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
							lValueType = this.getValueTypeForFilter();
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
							lValueType = (this.oItem).getValueType();
						}
						if (lValueType !== null) {
							return lValueType;
						}
						return sap.zen.XpDSItemCell.$superclass.getValueType
								.call(this);
					},
					getFormattedValue : function() {
						var lFormattedValue = null;
						var loGridCell;
						var lIndent;
						var lNodeLevel;
						var i;
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
							loGridCell = (this.oItem);
							lFormattedValue = loGridCell.getFormattedValue();
							lIndent = "";
							lNodeLevel = loGridCell.getNodeLevel();
							if (loGridCell.getNodeLevel() > 0) {
								for (i = 0; i < lNodeLevel; i++) {
									lIndent = sap.firefly.XStringUtils
											.concatenate2(lIndent, "  ");
								}
							}
							lFormattedValue = sap.firefly.XStringUtils
									.concatenate2(lIndent, lFormattedValue);
						}
						if (lFormattedValue !== null) {
							return lFormattedValue;
						}
						return sap.zen.XpDSItemCell.$superclass.getFormattedValue
								.call(this);
					},
					getFormatString : function() {
						var lFormatString = null;
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
							lFormatString = this.getFormatStringForTechInfo();
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES
								|| this.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
							lFormatString = this.getFormatStringForFilter();
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
							lFormatString = (this.oItem).getFormatString();
						}
						if (lFormatString !== null) {
							return lFormatString;
						}
						return sap.zen.XpDSItemCell.$superclass.getFormatString
								.call(this);
					},
					provideNumberFormatString : function(thousandSeparator,
							decimalSeparator) {
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
							return (this.oItem).provideNumberFormatString(
									thousandSeparator, decimalSeparator);
						}
						return sap.zen.XpDSItemCell.$superclass.provideNumberFormatString
								.call(this, thousandSeparator, decimalSeparator);
					},
					getValueForTechInfo : function() {
						var lTechInfo;
						var loDataSource;
						var lValue;
						var lTechInfo_Created;
						var lTechInfo_Changed;
						var lTechInfo_Refreshed;
						var loDataSourceInfo;
						if (this.getDataSourceItem() !== sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
							return null;
						}
						lTechInfo = this.oItem;
						loDataSource = this.getDataSource();
						lValue = "";
						lTechInfo_Created = sap.zen.CXpDSTechInfo.create(null,
								sap.zen.CXpDSTechInfo.CREATED_BY
										.getBinaryValue()
										+ sap.zen.CXpDSTechInfo.CREATED_ON
												.getBinaryValue());
						lTechInfo_Changed = sap.zen.CXpDSTechInfo.create(null,
								sap.zen.CXpDSTechInfo.CHANGED_BY
										.getBinaryValue()
										+ sap.zen.CXpDSTechInfo.CHANGED_ON
												.getBinaryValue());
						lTechInfo_Refreshed = sap.zen.CXpDSTechInfo.create(
								null, sap.zen.CXpDSTechInfo.REFRESHED_BY
										.getBinaryValue()
										+ sap.zen.CXpDSTechInfo.REFRESHED_ON
												.getBinaryValue());
						if (this.columnIndex > 0) {
							loDataSourceInfo = loDataSource.getInfo();
							if (lTechInfo
									.containsAny(sap.zen.CXpDSTechInfo.QUERY_NAME)) {
								lValue = loDataSourceInfo.queryTechnicalName;
							} else {
								if (lTechInfo
										.containsAny(sap.zen.CXpDSTechInfo.QUERY_DESCRIPTION)) {
									lValue = loDataSourceInfo.queryDescription;
								} else {
									if (lTechInfo
											.containsAny(sap.zen.CXpDSTechInfo.INFOPROVIDER_NAME)) {
										lValue = loDataSourceInfo.infoProviderTechnicalName;
									} else {
										if (lTechInfo
												.containsAny(sap.zen.CXpDSTechInfo.INFOPROVIDER_DESCRIPTION)) {
											lValue = loDataSourceInfo.infoProviderDescription;
										} else {
											if (lTechInfo
													.containsAll(lTechInfo_Created)) {
												lValue = sap.firefly.XStringUtils
														.concatenate3(
																loDataSourceInfo.createdBy,
																" ",
																loDataSourceInfo.createdAt);
											} else {
												if (lTechInfo
														.containsAny(sap.zen.CXpDSTechInfo.CREATED_BY)) {
													lValue = loDataSourceInfo.createdBy;
												} else {
													if (lTechInfo
															.containsAny(sap.zen.CXpDSTechInfo.CREATED_ON)) {
														lValue = loDataSourceInfo.createdAt;
													} else {
														if (lTechInfo
																.containsAll(lTechInfo_Changed)) {
															lValue = sap.firefly.XStringUtils
																	.concatenate3(
																			loDataSourceInfo.lastChangedBy,
																			" ",
																			loDataSourceInfo.lastChangedAt);
														} else {
															if (lTechInfo
																	.containsAny(sap.zen.CXpDSTechInfo.CHANGED_BY)) {
																lValue = loDataSourceInfo.lastChangedBy;
															} else {
																if (lTechInfo
																		.containsAny(sap.zen.CXpDSTechInfo.CHANGED_ON)) {
																	lValue = loDataSourceInfo.lastChangedAt;
																} else {
																	if (lTechInfo
																			.containsAll(lTechInfo_Refreshed)) {
																		lValue = sap.firefly.XStringUtils
																				.concatenate3(
																						loDataSourceInfo.lastRefreshedBy,
																						" ",
																						loDataSourceInfo.lastRefreshedAt);
																	} else {
																		if (lTechInfo
																				.containsAny(sap.zen.CXpDSTechInfo.REFRESHED_BY)) {
																			lValue = loDataSourceInfo.lastRefreshedBy;
																		} else {
																			if (lTechInfo
																					.containsAny(sap.zen.CXpDSTechInfo.REFRESHED_ON)) {
																				lValue = loDataSourceInfo.lastRefreshedAt;
																			} else {
																				if (lTechInfo
																						.containsAny(sap.zen.CXpDSTechInfo.LAST_DATA_UPDATE)) {
																					lValue = loDataSourceInfo.lastDataUpdate;
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						} else {
							if (lTechInfo
									.containsAny(sap.zen.CXpDSTechInfo.QUERY_NAME)
									|| lTechInfo
											.containsAny(sap.zen.CXpDSTechInfo.QUERY_DESCRIPTION)) {
								lValue = sap.zen.CLocalizationDataSourceTexts.QUERY_NAME
										.getText(loDataSource.getPage()
												.getLocalization(), null, null,
												null);
							} else {
								if (lTechInfo
										.containsAny(sap.zen.CXpDSTechInfo.QUERY_DESCRIPTION)) {
									lValue = sap.zen.CLocalizationDataSourceTexts.QUERY_DESCRIPTION
											.getText(loDataSource.getPage()
													.getLocalization(), null,
													null, null);
								} else {
									if (lTechInfo
											.containsAny(sap.zen.CXpDSTechInfo.INFOPROVIDER_NAME)
											|| lTechInfo
													.containsAny(sap.zen.CXpDSTechInfo.INFOPROVIDER_DESCRIPTION)) {
										lValue = sap.zen.CLocalizationDataSourceTexts.INFOPROVIDER_NAME
												.getText(loDataSource.getPage()
														.getLocalization(),
														null, null, null);
									} else {
										if (lTechInfo
												.containsAny(sap.zen.CXpDSTechInfo.INFOPROVIDER_DESCRIPTION)) {
											lValue = sap.zen.CLocalizationDataSourceTexts.INFOPROVIDER_NAME
													.getText(loDataSource
															.getPage()
															.getLocalization(),
															null, null, null);
										} else {
											if (lTechInfo
													.containsAll(lTechInfo_Created)) {
												lValue = sap.zen.CLocalizationDataSourceTexts.CREATED
														.getText(
																loDataSource
																		.getPage()
																		.getLocalization(),
																null, null,
																null);
											} else {
												if (lTechInfo
														.containsAny(sap.zen.CXpDSTechInfo.CREATED_BY)) {
													lValue = sap.zen.CLocalizationDataSourceTexts.CREATED_BY
															.getText(
																	loDataSource
																			.getPage()
																			.getLocalization(),
																	null, null,
																	null);
												} else {
													if (lTechInfo
															.containsAny(sap.zen.CXpDSTechInfo.CREATED_ON)) {
														lValue = sap.zen.CLocalizationDataSourceTexts.CREATED_ON
																.getText(
																		loDataSource
																				.getPage()
																				.getLocalization(),
																		null,
																		null,
																		null);
													} else {
														if (lTechInfo
																.containsAll(lTechInfo_Changed)) {
															lValue = sap.zen.CLocalizationDataSourceTexts.CHANGED
																	.getText(
																			loDataSource
																					.getPage()
																					.getLocalization(),
																			null,
																			null,
																			null);
														} else {
															if (lTechInfo
																	.containsAny(sap.zen.CXpDSTechInfo.CHANGED_BY)) {
																lValue = sap.zen.CLocalizationDataSourceTexts.CHANGED_BY
																		.getText(
																				loDataSource
																						.getPage()
																						.getLocalization(),
																				null,
																				null,
																				null);
															} else {
																if (lTechInfo
																		.containsAny(sap.zen.CXpDSTechInfo.CHANGED_ON)) {
																	lValue = sap.zen.CLocalizationDataSourceTexts.CHANGED_ON
																			.getText(
																					loDataSource
																							.getPage()
																							.getLocalization(),
																					null,
																					null,
																					null);
																} else {
																	if (lTechInfo
																			.containsAll(lTechInfo_Refreshed)) {
																		lValue = sap.zen.CLocalizationDataSourceTexts.REFRESHED
																				.getText(
																						loDataSource
																								.getPage()
																								.getLocalization(),
																						null,
																						null,
																						null);
																	} else {
																		if (lTechInfo
																				.containsAny(sap.zen.CXpDSTechInfo.REFRESHED_BY)) {
																			lValue = sap.zen.CLocalizationDataSourceTexts.REFRESHED_BY
																					.getText(
																							loDataSource
																									.getPage()
																									.getLocalization(),
																							null,
																							null,
																							null);
																		} else {
																			if (lTechInfo
																					.containsAny(sap.zen.CXpDSTechInfo.REFRESHED_ON)) {
																				lValue = sap.zen.CLocalizationDataSourceTexts.REFRESHED_ON
																						.getText(
																								loDataSource
																										.getPage()
																										.getLocalization(),
																								null,
																								null,
																								null);
																			} else {
																				if (lTechInfo
																						.containsAny(sap.zen.CXpDSTechInfo.LAST_DATA_UPDATE)) {
																					lValue = sap.zen.CLocalizationDataSourceTexts.LAST_DATA_UPDATE
																							.getText(
																									loDataSource
																											.getPage()
																											.getLocalization(),
																									null,
																									null,
																									null);
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
						return lValue;
					},
					getValueForFilter : function() {
						var loDimension;
						var loVariable;
						var loInternalVariable;
						var lValueType;
						var ltSelopts;
						if (this.getDataSourceItem() !== sap.zen.CXpDSItem.VARIABLES
								&& this.getDataSourceItem() !== sap.zen.CXpDSItem.FILTERS) {
							return null;
						}
						loDimension = null;
						loVariable = null;
						loInternalVariable = null;
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES) {
							loVariable = this.oItem;
							loInternalVariable = this.oInternalVariable;
							loDimension = this.oDimension;
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
							loDimension = this.oItem;
						}
						if (this.columnIndex > 0) {
							lValueType = sap.zen.Dimension.VALUE_TYPE_EXT;
							ltSelopts = this.getFilterValues();
							if (!this.isSeloptSingular(ltSelopts)) {
								lValueType = sap.zen.Dimension.VALUE_TYPE_EXT
										+ sap.zen.Dimension.VALUE_TYPE_TEXT;
							}
							return sap.zen.Dimension.sGetValuesFromRangeList(
									ltSelopts, lValueType);
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES) {
							if (loInternalVariable !== null) {
								if (loInternalVariable.getText() !== null) {
									return loInternalVariable.getText();
								}
								return loInternalVariable.getName();
							}
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
							if (loDimension !== null) {
								return loDimension.getFilterHeaderText();
							}
						}
						return null;
					},
					getValueTypeForTechInfo : function() {
						var lTechInfo;
						if (this.getDataSourceItem() !== sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
							return null;
						}
						if (this.columnIndex > 0) {
							lTechInfo = this.oItem;
							if (lTechInfo
									.containsAny(sap.zen.CXpDSTechInfo.CREATED_ON)
									|| lTechInfo
											.containsAny(sap.zen.CXpDSTechInfo.CHANGED_ON)
									|| lTechInfo
											.containsAny(sap.zen.CXpDSTechInfo.REFRESHED_ON)
									|| lTechInfo
											.containsAny(sap.zen.CXpDSTechInfo.LAST_DATA_UPDATE)) {
								return sap.firefly.XValueType.DATE_TIME;
							}
						}
						return null;
					},
					getValueTypeForFilter : function() {
						var loDimension;
						var loVariable;
						var loInternalVariable;
						if (this.getDataSourceItem() !== sap.zen.CXpDSItem.VARIABLES
								&& this.getDataSourceItem() !== sap.zen.CXpDSItem.FILTERS) {
							return null;
						}
						loDimension = null;
						loVariable = null;
						loInternalVariable = null;
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES) {
							loVariable = this.oItem;
							loInternalVariable = this.oInternalVariable;
							loDimension = this.oDimension;
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
							loDimension = this.oItem;
						}
						if (this.columnIndex > 0) {
							if (this.isSeloptSingular(this.getFilterValues())) {
								if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES) {
									if (loInternalVariable !== null) {
										return loInternalVariable
												.getValueType();
									}
								}
								if (this.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
									if (loDimension !== null) {
										return loDimension.getValueType();
									}
								}
							}
						}
						return null;
					},
					getFormatStringForTechInfo : function() {
						var loDataSourceInfo;
						var lInfo;
						var lTechInfo;
						if (this.getDataSourceItem() !== sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
							return null;
						}
						if (this.columnIndex > 0) {
							loDataSourceInfo = this.getDataSource().getInfo();
							lInfo = null;
							lTechInfo = this.oItem;
							if (lTechInfo
									.containsAny(sap.zen.CXpDSTechInfo.QUERY_NAME)) {
								lInfo = loDataSourceInfo.queryTechnicalName;
							} else {
								if (lTechInfo
										.containsAny(sap.zen.CXpDSTechInfo.INFOPROVIDER_NAME)) {
									lInfo = loDataSourceInfo.infoProviderTechnicalName;
								}
							}
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(lInfo)) {
								return sap.firefly.XStringUtils.concatenate3(
										'@ "(', lInfo, ')"');
							}
							if (lTechInfo
									.containsAny(sap.zen.CXpDSTechInfo.QUERY_DESCRIPTION)) {
								lInfo = loDataSourceInfo.queryTechnicalName;
							} else {
								if (lTechInfo
										.containsAny(sap.zen.CXpDSTechInfo.INFOPROVIDER_DESCRIPTION)) {
									lInfo = loDataSourceInfo.infoProviderTechnicalName;
								}
							}
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(lInfo)) {
								return sap.firefly.XStringUtils.concatenate3(
										'@ "[', lInfo, ']"');
							}
						}
						return null;
					},
					getFormatStringForFilter : function() {
						var ltSelopts;
						var lExternal;
						var lText;
						if (this.getDataSourceItem() !== sap.zen.CXpDSItem.VARIABLES
								&& this.getDataSourceItem() !== sap.zen.CXpDSItem.FILTERS) {
							return null;
						}
						if (this.columnIndex > 0) {
							ltSelopts = this.getFilterValues();
							if (this.isSeloptSingular(ltSelopts)) {
								lExternal = sap.zen.Dimension
										.sGetValuesFromRangeList(
												ltSelopts,
												sap.zen.Dimension.VALUE_TYPE_EXT);
								lText = sap.zen.Dimension
										.sGetValuesFromRangeList(
												ltSelopts,
												sap.zen.Dimension.VALUE_TYPE_TEXT);
								if (this.getValueType().isString()
										&& !sap.firefly.XString.isEqual(
												lExternal, lText)) {
									return sap.firefly.XStringUtils
											.concatenate3('@ "(', lText, ')"');
								}
							}
						}
						return null;
					},
					getFilterValues : function() {
						if (this.getDataSourceItem() !== sap.zen.CXpDSItem.VARIABLES
								&& this.getDataSourceItem() !== sap.zen.CXpDSItem.FILTERS) {
							return null;
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES) {
							return (this.oItem).getAllSelections();
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
							return (this.oItem).getFilterValues();
						}
						return null;
					},
					isSeloptSingular : function(tSelopts) {
						var loSelopt;
						if (tSelopts.size() === 1) {
							loSelopt = tSelopts.get(0);
							if (loSelopt.getOperation() === sap.zen.Operation.EQ
									&& !loSelopt.isExclude()) {
								return true;
							}
						}
						return false;
					},
					releaseObject : function() {
						sap.zen.XpDSItemCell.$superclass.releaseObject
								.call(this);
						this.rowIndex = -1;
						this.columnIndex = -1;
						this.oItem = null;
						this.oInternalVariable = null;
						this.oDimension = null;
					}
				});
$Firefly.createClass("sap.zen.XpContainer", sap.zen.XpCollection, {
	initMe : function(oParent) {
		sap.zen.XpContainer.$superclass.initMe.call(this, oParent);
	},
	getObjectType : function() {
		return sap.zen.CXpObjectType.CONTAINER;
	},
	getRows : function() {
		var lRows = sap.zen.XpContainer.$superclass.getRows.call(this);
		if (this.hasTitle()) {
			lRows = lRows + 1;
		}
		return lRows;
	},
	getName : function() {
		return null;
	},
	hasTitle : function() {
		if (sap.firefly.XStringUtils.isNullOrEmpty(this.getTitle())) {
			return false;
		}
		return true;
	},
	getTitle : function() {
		return null;
	},
	releaseObject : function() {
		sap.zen.XpContainer.$superclass.releaseObject.call(this);
	}
});
$Firefly.createClass("sap.zen.XpDataRow", sap.zen.XpCollection, {
	initMe : function(oParent) {
		sap.zen.XpDataRow.$superclass.initMe.call(this, oParent);
	},
	getObjectType : function() {
		return sap.zen.CXpObjectType.DATA_ROW;
	},
	getRows : function() {
		return 1;
	},
	getColumns : function() {
		return this.getAmountOfChildren();
	},
	addChildByKey : function(key, oChild) {
		if (oChild.getObjectType() !== sap.zen.CXpObjectType.DATA_CELL) {
			return;
		}
		sap.zen.XpDataRow.$superclass.addChildByKey.call(this, key, oChild);
	},
	getRowIndex : function() {
		return 0;
	},
	releaseObject : function() {
		sap.zen.XpDataRow.$superclass.releaseObject.call(this);
	}
});
$Firefly
		.createClass(
				"sap.zen.CLocalizationAbsoluteLayoutMessages",
				sap.zen.LocalizationAbsoluteLayout,
				{
					$statics : {
						COMPONENT_UNEXPECTED_ARGUMENT : null,
						COMPONENT_CANT_CHANGE_PARENT : null,
						COMPONENT_CANT_ADD : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationAbsoluteLayoutMessages.COMPONENT_CANT_ADD !== null) {
								return;
							}
							sap.zen.CLocalizationAbsoluteLayoutMessages.COMPONENT_CANT_ADD = sap.zen.CLocalizationAbsoluteLayoutMessages
									.create("COMPONENT_CANT_ADD",
											"Component {0} cannot be added to container {1}");
							sap.zen.CLocalizationAbsoluteLayoutMessages.COMPONENT_UNEXPECTED_ARGUMENT = sap.zen.CLocalizationAbsoluteLayoutMessages
									.create("COMPONENT_UNEXPECTED_ARGUMENT",
											"Unexpected argument");
							sap.zen.CLocalizationAbsoluteLayoutMessages.COMPONENT_CANT_CHANGE_PARENT = sap.zen.CLocalizationAbsoluteLayoutMessages
									.create("COMPONENT_CANT_CHANGE_PARENT",
											"Parent of technical component cannot be changed");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationAbsoluteLayoutMessages();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationActionSheetMessages",
				sap.zen.LocalizationActionSheet,
				{
					$statics : {
						ACTION_SHEET_UNEXPECTED_ARGUMENT : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationActionSheetMessages.ACTION_SHEET_UNEXPECTED_ARGUMENT !== null) {
								return;
							}
							sap.zen.CLocalizationActionSheetMessages.ACTION_SHEET_UNEXPECTED_ARGUMENT = sap.zen.CLocalizationActionSheetMessages
									.create("ACTION_SHEET_UNEXPECTED_ARGUMENT",
											"Unexpected argument");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationActionSheetMessages();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly.createClass("sap.zen.CLocalizationContextMenuMessages",
		sap.zen.LocalizationContextMenu, {
			$statics : {
				staticSetup : function() {
				}
			}
		});
$Firefly
		.createClass(
				"sap.zen.CLocalizationContextMenuTexts",
				sap.zen.LocalizationContextMenu,
				{
					$statics : {
						OK : null,
						CANCEL : null,
						DEFAULT : null,
						DISPLAY : null,
						KEY : null,
						TEXT : null,
						KEY_TEXT : null,
						TEXT_KEY : null,
						SHORT_TEXT : null,
						MEDIUM_TEXT : null,
						LONG_TEXT : null,
						FILTER : null,
						ADD_TO_FILTER : null,
						REMOVE_FROM_FILTER : null,
						FILTER_MEMBER : null,
						FILTER_MEMBER_AND_REMOVE_FROM_AXIS : null,
						FILTER_DRILLDOWN : null,
						ADD_MEASURE : null,
						REMOVE_MEASURE : null,
						SORT : null,
						SORT_HIERARCHY : null,
						KEY_ASCENDING : null,
						KEY_DESCENDING : null,
						TEXT_ASCENDING : null,
						TEXT_DESCENDING : null,
						KEYF_ASCENDING : null,
						KEYF_DESCENDING : null,
						TOTALS : null,
						TOTALS_SHOW : null,
						TOTALS_HIDE : null,
						TOTALS_CONDITIONAL : null,
						TOTALS_TOP : null,
						TOTALS_BOTTOM : null,
						DEFINE_CONDITIONS : null,
						SELECT_DIMENSION : null,
						ATTRIBUTES : null,
						SELECT_HIERARCHY : null,
						HIERARCHIES : null,
						HIERARCHY : null,
						NO_HIERARCHY : null,
						HIERARCHY_EXPAND_ALL : null,
						HIERARCHY_COLLAPSE_ALL : null,
						HIERARCHY_EXPAND_NODE : null,
						HIERARCHY_EXPAND_TO_LEVEL : null,
						LEVELS : null,
						HIERARCHY_NODE_ALIGNMENT : null,
						HIERARCHY_CHILDREN_BELOW_PARENT : null,
						HIERARCHY_CHILDREN_ABOVE_PARENT : null,
						NUMBER_FORMAT : null,
						SCALING_FACTOR : null,
						DISPLAY_SCALING_FACTOR_IN_HEADER : null,
						DECIMAL_PLACES : null,
						SUPPRESS_ZERO_ROWS : null,
						SUPPRESS_ZERO_COLS : null,
						UDH_DISPLAY_IN_ROWS : null,
						UDH_DISPLAY_IN_COLUMNS : null,
						UDH_ACTIVE : null,
						UDH_NOT_POSSIBLE : null,
						UDH_EXPAND_TO_LEVEL : null,
						UDH_NODE_ALIGNMENT : null,
						JUMP : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationContextMenuTexts.OK !== null) {
								return;
							}
							sap.zen.CLocalizationContextMenuTexts.OK = sap.zen.CLocalizationContextMenuTexts
									.create("ok", "OK");
							sap.zen.CLocalizationContextMenuTexts.CANCEL = null;
							sap.zen.CLocalizationContextMenuTexts.DEFAULT = sap.zen.CLocalizationContextMenuTexts
									.create("default", "Default");
							sap.zen.CLocalizationContextMenuTexts.DISPLAY = sap.zen.CLocalizationContextMenuTexts
									.create("display", "Display");
							sap.zen.CLocalizationContextMenuTexts.KEY = sap.zen.CLocalizationContextMenuTexts
									.create("key", "Key");
							sap.zen.CLocalizationContextMenuTexts.TEXT = sap.zen.CLocalizationContextMenuTexts
									.create("text", "Text");
							sap.zen.CLocalizationContextMenuTexts.KEY_TEXT = sap.zen.CLocalizationContextMenuTexts
									.create("key_text", "Key and Text");
							sap.zen.CLocalizationContextMenuTexts.TEXT_KEY = sap.zen.CLocalizationContextMenuTexts
									.create("text_key", "Text and Key");
							sap.zen.CLocalizationContextMenuTexts.SHORT_TEXT = sap.zen.CLocalizationContextMenuTexts
									.create("short_text", "Short Description");
							sap.zen.CLocalizationContextMenuTexts.MEDIUM_TEXT = sap.zen.CLocalizationContextMenuTexts
									.create("medium_text", "Medium Description");
							sap.zen.CLocalizationContextMenuTexts.LONG_TEXT = sap.zen.CLocalizationContextMenuTexts
									.create("long_text", "Long Description");
							sap.zen.CLocalizationContextMenuTexts.FILTER = sap.zen.CLocalizationContextMenuTexts
									.create("filter", "Filter");
							sap.zen.CLocalizationContextMenuTexts.ADD_TO_FILTER = sap.zen.CLocalizationContextMenuTexts
									.create("set_as_filter", "Set as Filter");
							sap.zen.CLocalizationContextMenuTexts.REMOVE_FROM_FILTER = sap.zen.CLocalizationContextMenuTexts
									.create("remove_from_filter",
											"Remove from Filter");
							sap.zen.CLocalizationContextMenuTexts.FILTER_MEMBER = sap.zen.CLocalizationContextMenuTexts
									.create("filter_keepMemberOnAxis",
											"Filter Member");
							sap.zen.CLocalizationContextMenuTexts.FILTER_MEMBER_AND_REMOVE_FROM_AXIS = sap.zen.CLocalizationContextMenuTexts
									.create("filter_removeMemberFromAxis",
											"Filter Member and Remove from Axis");
							sap.zen.CLocalizationContextMenuTexts.FILTER_DRILLDOWN = sap.zen.CLocalizationContextMenuTexts
									.create("filter_drilldown", "Drill Down");
							sap.zen.CLocalizationContextMenuTexts.ADD_MEASURE = sap.zen.CLocalizationContextMenuTexts
									.create("add_member",
											"Add Measure to Display");
							sap.zen.CLocalizationContextMenuTexts.REMOVE_MEASURE = sap.zen.CLocalizationContextMenuTexts
									.create("remove_member",
											"Remove Measure from Display");
							sap.zen.CLocalizationContextMenuTexts.SORT = sap.zen.CLocalizationContextMenuTexts
									.create("sort", "Sort");
							sap.zen.CLocalizationContextMenuTexts.SORT_HIERARCHY = sap.zen.CLocalizationContextMenuTexts
									.create("sort_hierarchy",
											"Sort by Hierarchy");
							sap.zen.CLocalizationContextMenuTexts.KEY_ASCENDING = sap.zen.CLocalizationContextMenuTexts
									.create("id_asc", "Key Ascending");
							sap.zen.CLocalizationContextMenuTexts.KEY_DESCENDING = sap.zen.CLocalizationContextMenuTexts
									.create("id_desc", "Key Descending");
							sap.zen.CLocalizationContextMenuTexts.TEXT_ASCENDING = sap.zen.CLocalizationContextMenuTexts
									.create("description_asc", "Text Ascending");
							sap.zen.CLocalizationContextMenuTexts.TEXT_DESCENDING = sap.zen.CLocalizationContextMenuTexts
									.create("description_desc",
											"Text Descending");
							sap.zen.CLocalizationContextMenuTexts.KEYF_ASCENDING = sap.zen.CLocalizationContextMenuTexts
									.create("sort_kf_asc",
											"Key Figure Value Ascending");
							sap.zen.CLocalizationContextMenuTexts.KEYF_DESCENDING = sap.zen.CLocalizationContextMenuTexts
									.create("sort_kf_desc",
											"Key Figure Value Descending");
							sap.zen.CLocalizationContextMenuTexts.TOTALS = sap.zen.CLocalizationContextMenuTexts
									.create("totals", "Totals");
							sap.zen.CLocalizationContextMenuTexts.TOTALS_SHOW = sap.zen.CLocalizationContextMenuTexts
									.create("show_totals", "Show Totals");
							sap.zen.CLocalizationContextMenuTexts.TOTALS_HIDE = sap.zen.CLocalizationContextMenuTexts
									.create("hide_totals", "Hide Totals");
							sap.zen.CLocalizationContextMenuTexts.TOTALS_CONDITIONAL = sap.zen.CLocalizationContextMenuTexts
									.create("conditional_totals",
											"Hide Totals If Only One Member");
							sap.zen.CLocalizationContextMenuTexts.TOTALS_TOP = sap.zen.CLocalizationContextMenuTexts
									.create("show_totals_top",
											"Show Totals on Top");
							sap.zen.CLocalizationContextMenuTexts.TOTALS_BOTTOM = sap.zen.CLocalizationContextMenuTexts
									.create("show_totals_bottom",
											"Show Totals on Bottom");
							sap.zen.CLocalizationContextMenuTexts.DEFINE_CONDITIONS = sap.zen.CLocalizationContextMenuTexts
									.create("conditions", "Define Conditions");
							sap.zen.CLocalizationContextMenuTexts.SELECT_DIMENSION = sap.zen.CLocalizationContextMenuTexts
									.create("dimension_select",
											"Select Dimension");
							sap.zen.CLocalizationContextMenuTexts.ATTRIBUTES = sap.zen.CLocalizationContextMenuTexts
									.create("attributes", "Attributes");
							sap.zen.CLocalizationContextMenuTexts.SELECT_HIERARCHY = sap.zen.CLocalizationContextMenuTexts
									.create("hierarchy_select",
											"Select Hierarchy");
							sap.zen.CLocalizationContextMenuTexts.HIERARCHIES = sap.zen.CLocalizationContextMenuTexts
									.create("hierarchies", "Hierarchies");
							sap.zen.CLocalizationContextMenuTexts.HIERARCHY = sap.zen.CLocalizationContextMenuTexts
									.create("hierarchy", "Hierarchy");
							sap.zen.CLocalizationContextMenuTexts.NO_HIERARCHY = sap.zen.CLocalizationContextMenuTexts
									.create("no_hier", "No Hierarchy");
							sap.zen.CLocalizationContextMenuTexts.HIERARCHY_EXPAND_ALL = sap.zen.CLocalizationContextMenuTexts
									.create("expand", "Expand All");
							sap.zen.CLocalizationContextMenuTexts.HIERARCHY_COLLAPSE_ALL = sap.zen.CLocalizationContextMenuTexts
									.create("collapse", "Collapse All");
							sap.zen.CLocalizationContextMenuTexts.HIERARCHY_EXPAND_NODE = sap.zen.CLocalizationContextMenuTexts
									.create("hierarchy_expand_node",
											"Expand Hierarchy Node");
							sap.zen.CLocalizationContextMenuTexts.HIERARCHY_EXPAND_TO_LEVEL = sap.zen.CLocalizationContextMenuTexts
									.create("expand_level", "Expand to Level");
							sap.zen.CLocalizationContextMenuTexts.LEVELS = sap.zen.CLocalizationContextMenuTexts
									.create("levels", "Levels");
							sap.zen.CLocalizationContextMenuTexts.HIERARCHY_NODE_ALIGNMENT = sap.zen.CLocalizationContextMenuTexts
									.create("lower_level_node_alignment",
											"Lower Level Node Alignment");
							sap.zen.CLocalizationContextMenuTexts.HIERARCHY_CHILDREN_BELOW_PARENT = sap.zen.CLocalizationContextMenuTexts
									.create("children_below_parent",
											"Children Below Parent");
							sap.zen.CLocalizationContextMenuTexts.HIERARCHY_CHILDREN_ABOVE_PARENT = sap.zen.CLocalizationContextMenuTexts
									.create("children_above_parent",
											"Children Above Parent");
							sap.zen.CLocalizationContextMenuTexts.UDH_DISPLAY_IN_ROWS = sap.zen.CLocalizationContextMenuTexts
									.create("compact_display_in_rows",
											"Compact Display in Rows");
							sap.zen.CLocalizationContextMenuTexts.UDH_DISPLAY_IN_COLUMNS = sap.zen.CLocalizationContextMenuTexts
									.create("compact_display_in_columns",
											"Compact Display in Columns");
							sap.zen.CLocalizationContextMenuTexts.UDH_ACTIVE = sap.zen.CLocalizationContextMenuTexts
									.create("compact_display_active", "Active");
							sap.zen.CLocalizationContextMenuTexts.UDH_NOT_POSSIBLE = sap.zen.CLocalizationContextMenuTexts
									.create("compact_display_not_possible",
											"Compact Display not possible using dimension {0}");
							sap.zen.CLocalizationContextMenuTexts.UDH_EXPAND_TO_LEVEL = sap.zen.CLocalizationContextMenuTexts.HIERARCHY_EXPAND_TO_LEVEL;
							sap.zen.CLocalizationContextMenuTexts.UDH_NODE_ALIGNMENT = sap.zen.CLocalizationContextMenuTexts.HIERARCHY_NODE_ALIGNMENT;
							sap.zen.CLocalizationContextMenuTexts.NUMBER_FORMAT = sap.zen.CLocalizationContextMenuTexts
									.create("number_format", "Number Format");
							sap.zen.CLocalizationContextMenuTexts.SCALING_FACTOR = sap.zen.CLocalizationContextMenuTexts
									.create("scaling_factor", "Scaling Factor");
							sap.zen.CLocalizationContextMenuTexts.DECIMAL_PLACES = sap.zen.CLocalizationContextMenuTexts
									.create("decimal_places", "Decimal Places");
							sap.zen.CLocalizationContextMenuTexts.DISPLAY_SCALING_FACTOR_IN_HEADER = sap.zen.CLocalizationContextMenuTexts
									.create("disp_scaling_units_header",
											"Display Scaling Factor in the Header for All Measures");
							sap.zen.CLocalizationContextMenuTexts.SUPPRESS_ZERO_ROWS = sap.zen.CLocalizationContextMenuTexts
									.create("suppress_zeros_rows",
											"Suppress Zeros in Rows");
							sap.zen.CLocalizationContextMenuTexts.SUPPRESS_ZERO_COLS = sap.zen.CLocalizationContextMenuTexts
									.create("suppress_zeros_columns",
											"Suppress Zeros in Columns");
							sap.zen.CLocalizationContextMenuTexts.JUMP = sap.zen.CLocalizationContextMenuTexts
									.create("jump", "Jump To");
							sap.zen.CLocalizationDialogTexts.staticSetup();
							sap.zen.CLocalizationContextMenuTexts.CANCEL = sap.zen.CLocalizationDialogTexts.CANCEL;
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationContextMenuTexts();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationDialogTexts",
				sap.zen.LocalizationDialog,
				{
					$statics : {
						OK : null,
						CANCEL : null,
						PROMPTS : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationDialogTexts.CANCEL !== null) {
								return;
							}
							sap.zen.CLocalizationDialogTexts.OK = null;
							sap.zen.CLocalizationDialogTexts.CANCEL = sap.zen.CLocalizationDialogTexts
									.create("cancel", "Cancel");
							sap.zen.CLocalizationDialogTexts.PROMPTS = sap.zen.CLocalizationDialogTexts
									.create("prompts", "Prompts");
							sap.zen.CLocalizationContextMenuTexts.staticSetup();
							sap.zen.CLocalizationDialogTexts.OK = sap.zen.CLocalizationContextMenuTexts.OK;
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationDialogTexts();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationFilterBarTexts",
				sap.zen.LocalizationFilterBar,
				{
					$statics : {
						EXPAND_ACTION : null,
						COLLAPSE_ACTION : null,
						NO_VARIANT : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationFilterBarTexts.EXPAND_ACTION !== null) {
								return;
							}
							sap.zen.CLocalizationFilterBarTexts.EXPAND_ACTION = sap.zen.CLocalizationFilterBarTexts
									.create("EXPAND_ACTION", "Show More");
							sap.zen.CLocalizationFilterBarTexts.COLLAPSE_ACTION = sap.zen.CLocalizationFilterBarTexts
									.create("COLLAPSE_ACTION", "Show Less");
							sap.zen.CLocalizationFilterBarTexts.NO_VARIANT = sap.zen.CLocalizationFilterBarTexts
									.create("NO_VARIANT", "No Variant");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationFilterBarTexts();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.HierarchyVariableWrapper",
				sap.zen.CharacteristicMemberVariableWrapper,
				{
					$statics : {
						createVariableWrapper2 : function(variable) {
							var wrapper = new sap.zen.HierarchyVariableWrapper();
							wrapper.variable = variable;
							if (variable.getQueryModel() !== null) {
								wrapper.oSourceQueryModel = variable
										.getQueryModel();
							}
							wrapper.hierarchyNameVariable = variable;
							wrapper.tTargetCharacteristicsQueryViews = sap.firefly.XList
									.create();
							wrapper.oMemberCache = sap.zen.MemberCache.create(
									null, null);
							return sap.zen.VariableWrapper
									.createVariableWrapper(wrapper);
						}
					},
					hierarchyNameVariable : null,
					initMe3 : function(variable, dataSource, memberDisplay,
							messageWriter) {
						sap.zen.HierarchyVariableWrapper.$superclass.initMe2
								.call(this, variable, memberDisplay, dataSource
										.getName(), dataSource, messageWriter);
						this.hierarchyNameVariable = variable;
						sap.firefly.XHashMapOfStringByString.create();
					},
					getMemberType : function() {
						return sap.zen.Type.HIERARCHY;
					},
					hasSelectionState : function() {
						var dimensionMember = this.hierarchyNameVariable
								.getDimensionMember();
						return dimensionMember !== null
								&& sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(dimensionMember
												.getStringValue());
					},
					getSelectionStateMembers : function() {
						var list = sap.firefly.XList.create();
						var dimensionMember = this.hierarchyNameVariable
								.getDimensionMember();
						var stringValue;
						var memberWrapper;
						if (dimensionMember !== null) {
							stringValue = dimensionMember.getStringValue();
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(stringValue)) {
								memberWrapper = new sap.zen.HierarchyObjectWrapper();
								memberWrapper.initMe(stringValue,
										dimensionMember.getText());
								list.add(memberWrapper);
							}
						}
						return list;
					},
					resetQuery : function() {
						this.hierarchyNameVariable.getMemberSelection().clear();
					},
					setInternalKey : function(key) {
						this.hierarchyNameVariable.setValueByString(key);
						return true;
					},
					getInternalKey : function() {
						var dimensionMember = this.hierarchyNameVariable
								.getDimensionMember();
						if (dimensionMember === null) {
							return "";
						}
						return dimensionMember.getStringValue();
					},
					getAllSelections : function() {
						var selections = sap.zen.HierarchyVariableWrapper.$superclass.getAllSelections
								.call(this);
						if (selections !== null
								&& selections.size() === 1
								&& (sap.firefly.XStringUtils
										.isNullOrEmpty(selections.get(0)
												.getKey()) || sap.firefly.XString
										.isEqual("-", selections.get(0)
												.getKey()))) {
							return sap.firefly.XList.create();
						}
						return selections;
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationFilterMessages",
				sap.zen.LocalizationFilter,
				{
					$statics : {
						INVALID_SELECTION_2 : null,
						NO_VALUEHELP : null,
						NO_MEMBER_FOR_KEY : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationFilterMessages.INVALID_SELECTION_2 !== null) {
								return;
							}
							sap.zen.CLocalizationFilterMessages.INVALID_SELECTION_2 = sap.zen.CLocalizationFilterMessages
									.create("invalidselection2",
											"Invalid selection");
							sap.zen.CLocalizationFilterMessages.NO_VALUEHELP = sap.zen.CLocalizationFilterMessages
									.create("novaluehelp",
											"No input help available for dimension {0}.");
							sap.zen.CLocalizationFilterMessages.NO_MEMBER_FOR_KEY = sap.zen.CLocalizationFilterMessages
									.create("nomemberforkey",
											"Cannot find member in {0} for key {1}.");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationFilterMessages();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationFilterTexts",
				sap.zen.LocalizationFilter,
				{
					$statics : {
						OK : null,
						CANCEL : null,
						NO_DATA : null,
						VAR_NO_DATA : null,
						CLEAR_FILTER : null,
						VAR_CLEAR_FILTER : null,
						APPLY : null,
						ALL : null,
						COLUMNS : null,
						ROWS : null,
						SELECTION : null,
						SEARCH : null,
						RANGE : null,
						REMOVE : null,
						EXCLUDE : null,
						INCLUDED_MEMBERS : null,
						EXCLUDED_MEMBERS : null,
						NO_MEMBERS : null,
						COMPLEX_SELECTION : null,
						CHECK_ALL : null,
						BACK : null,
						FROM : null,
						TO : null,
						INCLUDED_RANGES : null,
						EXCLUDED_RANGES : null,
						ADD_TO_LIST : null,
						SHOW_SELECTED_MEMBERS : null,
						SELECT_NEW_MEMBERS : null,
						INCLUDED_MEMBER : null,
						EXCLUDED_MEMBER : null,
						INCLUDED_RANGE : null,
						EXCLUDED_RANGE : null,
						SHOW_SELECTED_RANGES : null,
						SELECT_NEW_RANGES : null,
						SELECT_MEMBERS : null,
						SELECT_RANGES : null,
						SELECT_SINGLE_MEMBER : null,
						SELECT_SINGLE_RANGE : null,
						TEXT : null,
						KEY : null,
						SELECT_DIMENSION : null,
						INPUT : null,
						DIMENSIONS : null,
						ROWS_UC : null,
						COLUMNS_UC : null,
						FREE_UC : null,
						PAUSE : null,
						REFRESH : null,
						MEASURES : null,
						LOAD_MEMBERS : null,
						NO_RESULTS : null,
						TOO_MANY_RESULTS : null,
						USE_SEARCH : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationFilterTexts.NO_DATA !== null) {
								return;
							}
							sap.zen.CLocalizationFilterTexts.OK = null;
							sap.zen.CLocalizationFilterTexts.CANCEL = null;
							sap.zen.CLocalizationFilterTexts.NO_DATA = sap.zen.CLocalizationFilterTexts
									.create("nodata", "No dimensions available");
							sap.zen.CLocalizationFilterTexts.VAR_NO_DATA = sap.zen.CLocalizationFilterTexts
									.create("varnodata", "No prompts available");
							sap.zen.CLocalizationFilterTexts.CLEAR_FILTER = sap.zen.CLocalizationFilterTexts
									.create("clearfilter", "Clear Filters");
							sap.zen.CLocalizationFilterTexts.VAR_CLEAR_FILTER = sap.zen.CLocalizationFilterTexts
									.create("varclearfilter", "Clear Prompts");
							sap.zen.CLocalizationFilterTexts.APPLY = sap.zen.CLocalizationFilterTexts
									.create("submit", "Apply");
							sap.zen.CLocalizationFilterTexts.ALL = sap.zen.CLocalizationFilterTexts
									.create("all", "All");
							sap.zen.CLocalizationFilterTexts.COLUMNS = sap.zen.CLocalizationFilterTexts
									.create("columns", "Columns");
							sap.zen.CLocalizationFilterTexts.ROWS = sap.zen.CLocalizationFilterTexts
									.create("rows", "Rows");
							sap.zen.CLocalizationFilterTexts.SELECTION = sap.zen.CLocalizationFilterTexts
									.create("selection", "Selection");
							sap.zen.CLocalizationFilterTexts.SEARCH = sap.zen.CLocalizationFilterTexts
									.create("search", "Search");
							sap.zen.CLocalizationFilterTexts.RANGE = sap.zen.CLocalizationFilterTexts
									.create("range", "Range");
							sap.zen.CLocalizationFilterTexts.REMOVE = sap.zen.CLocalizationFilterTexts
									.create("remove", "Remove");
							sap.zen.CLocalizationFilterTexts.EXCLUDE = sap.zen.CLocalizationFilterTexts
									.create("exclude", "Exclude");
							sap.zen.CLocalizationFilterTexts.INCLUDED_MEMBERS = sap.zen.CLocalizationFilterTexts
									.create("membersincludedtit",
											"{0} members included");
							sap.zen.CLocalizationFilterTexts.EXCLUDED_MEMBERS = sap.zen.CLocalizationFilterTexts
									.create("membersexcludedtit",
											"{0} members excluded");
							sap.zen.CLocalizationFilterTexts.NO_MEMBERS = sap.zen.CLocalizationFilterTexts
									.create("nomembers", "No members");
							sap.zen.CLocalizationFilterTexts.COMPLEX_SELECTION = sap.zen.CLocalizationFilterTexts
									.create("complexselection",
											"Complex selection");
							sap.zen.CLocalizationFilterTexts.CHECK_ALL = sap.zen.CLocalizationFilterTexts
									.create("check_all", "Check all");
							sap.zen.CLocalizationFilterTexts.BACK = sap.zen.CLocalizationFilterTexts
									.create("back", "Back");
							sap.zen.CLocalizationFilterTexts.FROM = sap.zen.CLocalizationFilterTexts
									.create("from", "Starts at");
							sap.zen.CLocalizationFilterTexts.TO = sap.zen.CLocalizationFilterTexts
									.create("to", "Ends at");
							sap.zen.CLocalizationFilterTexts.INCLUDED_RANGES = sap.zen.CLocalizationFilterTexts
									.create("rangesincludedtit",
											"{0} ranges included");
							sap.zen.CLocalizationFilterTexts.EXCLUDED_RANGES = sap.zen.CLocalizationFilterTexts
									.create("rangesexcludedtit",
											"{0} ranges encluded");
							sap.zen.CLocalizationFilterTexts.ADD_TO_LIST = sap.zen.CLocalizationFilterTexts
									.create("addtolist", "Add to List");
							sap.zen.CLocalizationFilterTexts.SHOW_SELECTED_MEMBERS = sap.zen.CLocalizationFilterTexts
									.create("showselectedmembers",
											"Show Selected Members");
							sap.zen.CLocalizationFilterTexts.SELECT_NEW_MEMBERS = sap.zen.CLocalizationFilterTexts
									.create("selectnewmembers",
											"Select Members");
							sap.zen.CLocalizationFilterTexts.INCLUDED_MEMBER = sap.zen.CLocalizationFilterTexts
									.create("memberincludedtit",
											"1 Member Included");
							sap.zen.CLocalizationFilterTexts.EXCLUDED_MEMBER = sap.zen.CLocalizationFilterTexts
									.create("memberexcludedtit",
											"1 Member Excluded");
							sap.zen.CLocalizationFilterTexts.INCLUDED_RANGE = sap.zen.CLocalizationFilterTexts
									.create("rangeincludedtit",
											"1 Range Included");
							sap.zen.CLocalizationFilterTexts.EXCLUDED_RANGE = sap.zen.CLocalizationFilterTexts
									.create("rangeexcludedtit",
											"1 Range Excluded");
							sap.zen.CLocalizationFilterTexts.SHOW_SELECTED_RANGES = sap.zen.CLocalizationFilterTexts
									.create("showselectedranges",
											"Show Selected Ranges");
							sap.zen.CLocalizationFilterTexts.SELECT_NEW_RANGES = sap.zen.CLocalizationFilterTexts
									.create("selectnewranges", "Select Ranges");
							sap.zen.CLocalizationFilterTexts.SELECT_MEMBERS = sap.zen.CLocalizationFilterTexts
									.create("selectmembers", "Select Members");
							sap.zen.CLocalizationFilterTexts.SELECT_RANGES = sap.zen.CLocalizationFilterTexts
									.create("selectranges", "Select Ranges");
							sap.zen.CLocalizationFilterTexts.SELECT_SINGLE_MEMBER = sap.zen.CLocalizationFilterTexts
									.create("selectsinglemember",
											"Select Single Member");
							sap.zen.CLocalizationFilterTexts.SELECT_SINGLE_RANGE = sap.zen.CLocalizationFilterTexts
									.create("selectsinglerange",
											"Select Single Range");
							sap.zen.CLocalizationFilterTexts.TEXT = sap.zen.CLocalizationFilterTexts
									.create("text", "Text");
							sap.zen.CLocalizationFilterTexts.KEY = sap.zen.CLocalizationFilterTexts
									.create("key", "Key");
							sap.zen.CLocalizationFilterTexts.SELECT_DIMENSION = sap.zen.CLocalizationFilterTexts
									.create("selectdimension",
											"Select a dimension");
							sap.zen.CLocalizationFilterTexts.INPUT = sap.zen.CLocalizationFilterTexts
									.create("input", "Input");
							sap.zen.CLocalizationFilterTexts.DIMENSIONS = sap.zen.CLocalizationFilterTexts
									.create("dimensions", "Dimensions");
							sap.zen.CLocalizationFilterTexts.ROWS_UC = sap.zen.CLocalizationFilterTexts
									.create("ROWS", "ROWS");
							sap.zen.CLocalizationFilterTexts.COLUMNS_UC = sap.zen.CLocalizationFilterTexts
									.create("COLUMNS", "COLUMNS");
							sap.zen.CLocalizationFilterTexts.FREE_UC = sap.zen.CLocalizationFilterTexts
									.create("FREE", "FREE");
							sap.zen.CLocalizationFilterTexts.PAUSE = sap.zen.CLocalizationFilterTexts
									.create("pause", "Pause");
							sap.zen.CLocalizationFilterTexts.REFRESH = sap.zen.CLocalizationFilterTexts
									.create("refresh", "Refresh");
							sap.zen.CLocalizationFilterTexts.MEASURES = sap.zen.CLocalizationFilterTexts
									.create("measures", "Measures");
							sap.zen.CLocalizationFilterTexts.LOAD_MEMBERS = sap.zen.CLocalizationFilterTexts
									.create("loadmembers", "Loading members...");
							sap.zen.CLocalizationFilterTexts.NO_RESULTS = sap.zen.CLocalizationFilterTexts
									.create("noresults",
											"No results; refine your search");
							sap.zen.CLocalizationFilterTexts.TOO_MANY_RESULTS = sap.zen.CLocalizationFilterTexts
									.create("toomany",
											"Too many results; refine your search");
							sap.zen.CLocalizationFilterTexts.USE_SEARCH = sap.zen.CLocalizationFilterTexts
									.create("usesearch",
											"Use the search bar to limit the result set");
							sap.zen.CLocalizationDialogTexts.staticSetup();
							sap.zen.CLocalizationFilterTexts.OK = sap.zen.CLocalizationDialogTexts.OK;
							sap.zen.CLocalizationFilterTexts.CANCEL = sap.zen.CLocalizationDialogTexts.CANCEL;
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationFilterTexts();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationGridLayoutMessages",
				sap.zen.LocalizationGridLayout,
				{
					$statics : {
						GRIDLAYOUT_INVALIDCELLINDEX : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationGridLayoutMessages.GRIDLAYOUT_INVALIDCELLINDEX !== null) {
								return;
							}
							sap.zen.CLocalizationGridLayoutMessages.GRIDLAYOUT_INVALIDCELLINDEX = sap.zen.CLocalizationGridLayoutMessages
									.create("GRIDLAYOUT_INVALIDCELLINDEX",
											"Invalid cell index");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationGridLayoutMessages();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationHtml5ChartMessages",
				sap.zen.LocalizationHtml5Chart,
				{
					$statics : {
						ERROR_IN_GETRESULT : null,
						NO_DATA : null,
						INTERNAL_ERROR : null,
						DATAMAPPING_MEASURE_PUSHED_TO_END : null,
						WATERFALL_DATA_MAPPING_RMD : null,
						WATERFALL_DATA_MAPPING_CMD : null,
						WATERFALL_DATA_MAPPING_CNDRM : null,
						WATERFALL_DATA_MAPPING_CMRND : null,
						DATASOURCE_NO_MEASURES : null,
						CHART_MAPPING_ERROR : null,
						VALUE_FORMAT_DEFAULT : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationHtml5ChartMessages.ERROR_IN_GETRESULT !== null) {
								return;
							}
							sap.zen.CLocalizationHtml5ChartMessages.ERROR_IN_GETRESULT = sap.zen.CLocalizationHtml5ChartMessages
									.create("error_in_get_resultset",
											"Error in getResultset");
							sap.zen.CLocalizationHtml5ChartMessages.NO_DATA = sap.zen.CLocalizationHtml5ChartMessages
									.create("nodata",
											"Cannot display chart; no data available due to filter setting");
							sap.zen.CLocalizationHtml5ChartMessages.INTERNAL_ERROR = sap.zen.CLocalizationHtml5ChartMessages
									.create("internalerror",
											"Unexpected error occurred; contact your system administrator");
							sap.zen.CLocalizationHtml5ChartMessages.DATAMAPPING_MEASURE_PUSHED_TO_END = sap.zen.CLocalizationHtml5ChartMessages
									.create(
											"datamapping_measure_pused_to_end",
											"To make the data fit the chart display, measures are not displayed in the original order specified in the data source. If a data source row or column includes both measures and dimensions, you can place the measures before or after the dimensions.");
							sap.zen.CLocalizationHtml5ChartMessages.WATERFALL_DATA_MAPPING_RMD = sap.zen.CLocalizationHtml5ChartMessages
									.create(
											"waterfall_datamapping_rmd",
											"Cannot display waterfall chart; if there are no columns in the data source, you can only include measures - not dimensions - in the Rows area");
							sap.zen.CLocalizationHtml5ChartMessages.WATERFALL_DATA_MAPPING_CMD = sap.zen.CLocalizationHtml5ChartMessages
									.create(
											"waterfall_datamapping_cmd",
											"Cannot display waterfall chart; if there are no rows in the data source, you can only include measures - not dimensions - in the Columns area");
							sap.zen.CLocalizationHtml5ChartMessages.WATERFALL_DATA_MAPPING_CNDRM = sap.zen.CLocalizationHtml5ChartMessages
									.create(
											"waterfall_datamapping_cndrm",
											"Cannot display waterfall chart; if there are no columns in the data source, you can only include measures - not dimensions - in the Rows area");
							sap.zen.CLocalizationHtml5ChartMessages.WATERFALL_DATA_MAPPING_CMRND = sap.zen.CLocalizationHtml5ChartMessages
									.create(
											"waterfall_datamapping_cmrnd",
											"Cannot display waterfall chart; if the columns in the data source only contain measures, you must include either one dimension or no dimensions in the Rows area");
							sap.zen.CLocalizationHtml5ChartMessages.DATASOURCE_NO_MEASURES = sap.zen.CLocalizationHtml5ChartMessages
									.create("datasource_no_measures",
											"Cannot display data; check variable or filter values");
							sap.zen.CLocalizationHtml5ChartMessages.CHART_MAPPING_ERROR = sap.zen.CLocalizationHtml5ChartMessages
									.create("chart_mapping_error",
											"Cannot display chart");
							sap.zen.CLocalizationHtml5ChartMessages.VALUE_FORMAT_DEFAULT = sap.zen.CLocalizationHtml5ChartMessages
									.create(
											"value_format_default",
											"Cannot display original values format in chart; format reset to system default");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationHtml5ChartMessages();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly.createClass("sap.zen.InfoChartComponentFactory",
		sap.zen.BuildInSDKComponentFactory, {
			createObject : function(objectProperties) {
				var sdkControl = new sap.zen.InfoChartControl();
				sdkControl.initSDKBase(this);
				return sdkControl;
			}
		});
$Firefly
		.createClass(
				"sap.zen.CLocalizationMessageViewTexts",
				sap.zen.LocalizationMessageView,
				{
					$statics : {
						NOTIFICATION_HEADER : null,
						NOTIFICATION_HEADER_SINGULAR : null,
						EXPAND : null,
						COLLAPSE : null,
						REMOVE : null,
						CLEAR_ALL : null,
						SEND_ALL : null,
						SEND_TO : null,
						NO_NOTIFICATIONS : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationMessageViewTexts.NOTIFICATION_HEADER !== null) {
								return;
							}
							sap.zen.CLocalizationMessageViewTexts.NOTIFICATION_HEADER = sap.zen.CLocalizationMessageViewTexts
									.create("NOTIFICATION_HEADER", "Messages");
							sap.zen.CLocalizationMessageViewTexts.NOTIFICATION_HEADER_SINGULAR = sap.zen.CLocalizationMessageViewTexts
									.create("NOTIFICATION_HEADER_SINGULAR",
											"Message");
							sap.zen.CLocalizationMessageViewTexts.EXPAND = sap.zen.CLocalizationMessageViewTexts
									.create("EXPAND", "Expand");
							sap.zen.CLocalizationMessageViewTexts.COLLAPSE = sap.zen.CLocalizationMessageViewTexts
									.create("COLLAPSE", "Collapse");
							sap.zen.CLocalizationMessageViewTexts.REMOVE = sap.zen.CLocalizationMessageViewTexts
									.create("REMOVE", "Remove");
							sap.zen.CLocalizationMessageViewTexts.CLEAR_ALL = sap.zen.CLocalizationMessageViewTexts
									.create("CLEAR_ALL", "Clear All");
							sap.zen.CLocalizationMessageViewTexts.SEND_ALL = sap.zen.CLocalizationMessageViewTexts
									.create("SEND_ALL", "Send All");
							sap.zen.CLocalizationMessageViewTexts.SEND_TO = sap.zen.CLocalizationMessageViewTexts
									.create("SEND_TO", "Send To...");
							sap.zen.CLocalizationMessageViewTexts.NO_NOTIFICATIONS = sap.zen.CLocalizationMessageViewTexts
									.create("NO_NOTIFICATIONS",
											"No messages available");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationMessageViewTexts();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationSplitterMessages",
				sap.zen.LocalizationSplitter,
				{
					$statics : {
						INVALID_CONTENTAREA_INDEX : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationSplitterMessages.INVALID_CONTENTAREA_INDEX !== null) {
								return;
							}
							sap.zen.CLocalizationSplitterMessages.INVALID_CONTENTAREA_INDEX = sap.zen.CLocalizationSplitterMessages
									.create("invalid_contentarea_index",
											"Invalid content area index");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationSplitterMessages();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationTabstripMessages",
				sap.zen.LocalizationTabstrip,
				{
					$statics : {
						INVALID_TABINDEX : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationTabstripMessages.INVALID_TABINDEX !== null) {
								return;
							}
							sap.zen.CLocalizationTabstripMessages.INVALID_TABINDEX = sap.zen.CLocalizationTabstripMessages
									.create("invalid_tab_index",
											"Invalid tab index");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationTabstripMessages();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationCrosstabMessages",
				sap.zen.LocalizationCrosstab,
				{
					$statics : {
						CANNOT_CONVERT_NUMBER : null,
						INVALID_COLUMN_ID : null,
						INVALID_COLUMN_WIDTH : null,
						UNSUPPORTED_API : null,
						DATASOURCE_NOT_INSTANTIATED : null,
						RESULTSET_ERROR : null,
						RESULTSET_PARAM_ERROR : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationCrosstabMessages.CANNOT_CONVERT_NUMBER !== null) {
								return;
							}
							sap.zen.CLocalizationCrosstabMessages.CANNOT_CONVERT_NUMBER = sap.zen.CLocalizationCrosstabMessages
									.create("CANT_CONVERT_NUMBER",
											"Cannot convert {0} to number");
							sap.zen.CLocalizationCrosstabMessages.INVALID_COLUMN_ID = sap.zen.CLocalizationCrosstabMessages
									.create("COLID_INVALID_LONG",
											"Invalid column Id {1}");
							sap.zen.CLocalizationCrosstabMessages.INVALID_COLUMN_WIDTH = sap.zen.CLocalizationCrosstabMessages
									.create("COLWIDTH_INVALID_SHORT",
											"Invalid column width {0}");
							sap.zen.CLocalizationCrosstabMessages.UNSUPPORTED_API = sap.zen.CLocalizationCrosstabMessages
									.create("UNSUPPORTED_API",
											"Crosstab API method {0} is not supported yet");
							sap.zen.CLocalizationCrosstabMessages.DATASOURCE_NOT_INSTANTIATED = sap.zen.CLocalizationCrosstabMessages
									.create("DATASOURCE_NOT_INSTANTIATED",
											"Data source could not be instantiated");
							sap.zen.CLocalizationCrosstabMessages.RESULTSET_ERROR = sap.zen.CLocalizationCrosstabMessages
									.create("ERR_RESULTSET",
											"Error in getResultset");
							sap.zen.CLocalizationCrosstabMessages.RESULTSET_PARAM_ERROR = sap.zen.CLocalizationCrosstabMessages
									.create("ERR_RESULTSET_PARAM",
											"Error in getResultset\\: {0}");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationCrosstabMessages();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationCrosstabTexts",
				sap.zen.LocalizationCrosstab,
				{
					$statics : {
						CROSSTAB_EMPTY_TITLE : null,
						CROSSTAB_EMPTY_TEXT : null,
						SORTED_NONE : null,
						SORTED_ASCENDING : null,
						SORTED_DESCENDING : null,
						TOTAL_RESULT_TEXT : null,
						MEASURE_STRUCTURE_TEXT : null,
						ROW : null,
						COLUMN : null,
						COLWIDTH_DBLCLICK : null,
						COLWIDTH_ADJUST : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationCrosstabTexts.CROSSTAB_EMPTY_TITLE !== null) {
								return;
							}
							sap.zen.CLocalizationCrosstabTexts.CROSSTAB_EMPTY_TITLE = sap.zen.CLocalizationCrosstabTexts
									.create("CROSSTAB_EMPTY_TITLE",
											"No data to display");
							sap.zen.CLocalizationCrosstabTexts.CROSSTAB_EMPTY_TEXT = sap.zen.CLocalizationCrosstabTexts
									.create(
											"CROSSTAB_EMPTY_TEXT",
											"There is nothing to display as there is no data on the rows axis or columns axis");
							sap.zen.CLocalizationCrosstabTexts.SORTED_NONE = sap.zen.CLocalizationCrosstabTexts
									.create("UNSORTED",
											"Unsorted. Select to sort ascending.");
							sap.zen.CLocalizationCrosstabTexts.SORTED_ASCENDING = sap.zen.CLocalizationCrosstabTexts
									.create("SORTED_ASCENDING",
											"Sorted ascending. Select to sort descending.");
							sap.zen.CLocalizationCrosstabTexts.SORTED_DESCENDING = sap.zen.CLocalizationCrosstabTexts
									.create("SORTED_DESCENDING",
											"Sorted descending. Select to sort ascending.");
							sap.zen.CLocalizationCrosstabTexts.TOTAL_RESULT_TEXT = sap.zen.CLocalizationCrosstabTexts
									.create("GRAND_X", "Grand {0}");
							sap.zen.CLocalizationCrosstabTexts.MEASURE_STRUCTURE_TEXT = sap.zen.CLocalizationCrosstabTexts
									.create("MeasureStructureText", "Measures");
							sap.zen.CLocalizationCrosstabTexts.ROW = sap.zen.CLocalizationCrosstabTexts
									.create("Row", "Row");
							sap.zen.CLocalizationCrosstabTexts.COLUMN = sap.zen.CLocalizationCrosstabTexts
									.create("Column", "Column");
							sap.zen.CLocalizationCrosstabTexts.COLWIDTH_DBLCLICK = sap.zen.CLocalizationCrosstabTexts
									.create("ColWidthDblClk",
											"Double click to adjust column width");
							sap.zen.CLocalizationCrosstabTexts.COLWIDTH_ADJUST = sap.zen.CLocalizationCrosstabTexts
									.create("MenuItemColWidthAdjust",
											"Adjust column width");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationCrosstabTexts();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationDataSourceMessages",
				sap.zen.LocalizationDataSource,
				{
					$statics : {
						UNSUPPORTED_API : null,
						UNSUPPORTED_INITIAL_VIEW_PROPERTY : null,
						DATASRC_ERR_SHORT : null,
						DATASRC_ERR_LONG : null,
						DATASRC_ERR_LONG2 : null,
						DATASRC_ERR_LONG3 : null,
						DATASRC_ERR_SYSTEM : null,
						DATASRC_ERR_PARAM : null,
						ERROR_DS_NOT_INITIALIZED : null,
						ASSIGN_DATASOURCE : null,
						RESULTSET_TOO_LARGE : null,
						CELL_NOT_FOUND : null,
						UNSUPPORTED_COMPLEX_SELECTION : null,
						UNSUPPORTED_VAR_TYPE : null,
						ERROR_DS_NOT_CONFIGURED_AS_PLANNING_SYSTEM : null,
						PLANNING_ERR_LONG : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationDataSourceMessages.UNSUPPORTED_API !== null) {
								return;
							}
							sap.zen.CLocalizationDataSourceMessages.UNSUPPORTED_API = sap.zen.CLocalizationDataSourceMessages
									.create("UNSUPPORTED_API",
											"{0} API method {1} is not currently supported.");
							sap.zen.CLocalizationDataSourceMessages.UNSUPPORTED_INITIAL_VIEW_PROPERTY = sap.zen.CLocalizationDataSourceMessages
									.create(
											"UNSUPPORTED_INITIAL_VIEW_PROPERTY",
											"Initial view property {0} with value {1} is not currently supported.");
							sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_SHORT = sap.zen.CLocalizationDataSourceMessages
									.create("DATASRC_ERR_SHORT",
											"Could not instantiate the data source");
							sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_LONG = sap.zen.CLocalizationDataSourceMessages
									.create(
											"DATASRC_ERR_LONG",
											'Could not instantiate the data source. See default trace for log ID "{0}". Details\\: {1}');
							sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_LONG2 = sap.zen.CLocalizationDataSourceMessages
									.create("DATASRC_ERR_LONG2",
											'Could not instantiate data source "{0}" for query "{1}".');
							sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_LONG3 = sap.zen.CLocalizationDataSourceMessages
									.create("DATASRC_ERR_LONG3",
											'Could not instantiate data source "{0}" for empty query.');
							sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_SYSTEM = sap.zen.CLocalizationDataSourceMessages
									.create("DATASRC_ERR_SYSTEM",
											'Could not instantiate data source "{0}" for empty system name.');
							sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_PARAM = sap.zen.CLocalizationDataSourceMessages
									.create("DATASRC_ERR_PARAM",
											'Could not instantiate data source "{0}".');
							sap.zen.CLocalizationDataSourceMessages.ERROR_DS_NOT_INITIALIZED = sap.zen.CLocalizationDataSourceMessages
									.create("ERROR_DS_NOT_INITIALIZED",
											'Data source "{0}" is not initialized.');
							sap.zen.CLocalizationDataSourceMessages.ASSIGN_DATASOURCE = sap.zen.CLocalizationDataSourceMessages
									.create("ASSIGN_DATASOURCE",
											"Assign a data source to the component");
							sap.zen.CLocalizationDataSourceMessages.RESULTSET_TOO_LARGE = sap.zen.CLocalizationDataSourceMessages
									.create(
											"resultset_too_large",
											"The query returned more results than could be displayed. In order to see complete results, please filter your selection further.");
							sap.zen.CLocalizationDataSourceMessages.CELL_NOT_FOUND = sap.zen.CLocalizationDataSourceMessages
									.create("CELL_NOT_FOUND",
											"The cell you specified could not be found");
							sap.zen.CLocalizationDataSourceMessages.UNSUPPORTED_COMPLEX_SELECTION = sap.zen.CLocalizationDataSourceMessages
									.create("UNSUPPORTED_COMPLEX_SELECTION",
											"Complex selection is not currently supported for {0} {1}({2}).");
							sap.zen.CLocalizationDataSourceMessages.UNSUPPORTED_VAR_TYPE = sap.zen.CLocalizationDataSourceMessages
									.create("UNSUPPORTED_VAR_TYPE",
											"Variable type {0} for variable {1} is not supported.");
							sap.zen.CLocalizationDataSourceMessages.ERROR_DS_NOT_CONFIGURED_AS_PLANNING_SYSTEM = sap.zen.CLocalizationDataSourceMessages
									.create(
											"ERROR_DS_NOT_CONFIGURED_AS_PLANNING_SYSTEM",
											'The connection of data source "{0}" is not configured as a planning connection.');
							sap.zen.CLocalizationDataSourceMessages.PLANNING_ERR_LONG = sap.zen.CLocalizationDataSourceMessages
									.create("PLANNING_ERR_LONG",
											'Could not instantiate planning service "{0}".');
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationDataSourceMessages();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationDataSourceTexts",
				sap.zen.LocalizationDataSource,
				{
					$statics : {
						TECHNICAL_INFO : null,
						VARIABLES : null,
						FILTERS : null,
						QUERY : null,
						QUERY_NAME : null,
						QUERY_DESCRIPTION : null,
						INFOPROVIDER : null,
						INFOPROVIDER_NAME : null,
						INFOPROVIDER_DESCRIPTION : null,
						CREATED : null,
						CREATED_BY : null,
						CREATED_ON : null,
						CHANGED : null,
						CHANGED_BY : null,
						CHANGED_ON : null,
						REFRESHED : null,
						REFRESHED_BY : null,
						REFRESHED_ON : null,
						LAST_DATA_UPDATE : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationDataSourceTexts.TECHNICAL_INFO !== null) {
								return;
							}
							sap.zen.CLocalizationDataSourceTexts.TECHNICAL_INFO = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_TECHNICAL_INFO",
											"Technical Information");
							sap.zen.CLocalizationDataSourceTexts.VARIABLES = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_VARIABLES", "Variables");
							sap.zen.CLocalizationDataSourceTexts.FILTERS = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_FILTERS", "Filters");
							sap.zen.CLocalizationDataSourceTexts.QUERY = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_QUERY", "Query");
							sap.zen.CLocalizationDataSourceTexts.QUERY_NAME = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_QUERY_NAME", "Query Name");
							sap.zen.CLocalizationDataSourceTexts.QUERY_DESCRIPTION = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_QUERY_DESCRIPTION",
											"Query Description");
							sap.zen.CLocalizationDataSourceTexts.INFOPROVIDER = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_INFOPROVIDER", "Infoprovider");
							sap.zen.CLocalizationDataSourceTexts.INFOPROVIDER_NAME = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_INFOPROVIDER_NAME",
											"Infoprovider Name");
							sap.zen.CLocalizationDataSourceTexts.INFOPROVIDER_DESCRIPTION = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_INFOPROVIDER_DESCRIPTION",
											"Infoprovider Description");
							sap.zen.CLocalizationDataSourceTexts.CREATED = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_CREATED", "Created");
							sap.zen.CLocalizationDataSourceTexts.CREATED_BY = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_CREATED_BY", "Created By");
							sap.zen.CLocalizationDataSourceTexts.CREATED_ON = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_CREATED_ON", "Created On");
							sap.zen.CLocalizationDataSourceTexts.CHANGED = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_CHANGED", "Last Changed");
							sap.zen.CLocalizationDataSourceTexts.CHANGED_BY = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_CHANGED_BY",
											"Last Changed By");
							sap.zen.CLocalizationDataSourceTexts.CHANGED_ON = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_CHANGED_ON",
											"Last Changed On");
							sap.zen.CLocalizationDataSourceTexts.REFRESHED = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_REFRESHED", "Last Refreshed");
							sap.zen.CLocalizationDataSourceTexts.REFRESHED_BY = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_REFRESHED_BY",
											"Last Refreshed By");
							sap.zen.CLocalizationDataSourceTexts.REFRESHED_ON = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_REFRESHED_ON",
											"Last Refreshed On");
							sap.zen.CLocalizationDataSourceTexts.LAST_DATA_UPDATE = sap.zen.CLocalizationDataSourceTexts
									.create("TEXT_LAST_DATA_UPDATE",
											"Last Data Update");
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationDataSourceTexts();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.DataSource",
				sap.zen.PageObject,
				{
					$statics : {
						ACTIVATE_UNIFIED_DATA_CELLS : true
					},
					oQueryManager : null,
					oBaseDataSource : null,
					packageName : null,
					isLoaded : false,
					dataSourceChanged : false,
					processResultSetChangedScript : false,
					syncState : null,
					tListeners : null,
					oResultSet : null,
					oConditionsDialog : null,
					tMemberCaches : null,
					tErrors : null,
					tResultSetConfigProviders : null,
					create : function() {
						var loadInScript;
						this.oResultSet = sap.zen.ResultSetWrapper.create(this);
						this.initFieldBeforeCreate();
						loadInScript = this.getBooleanPropertyWithDefault(
								"LOAD_IN_SCRIPT", false);
						if (loadInScript === true) {
							return;
						}
						this.createNow(false);
					},
					initFieldBeforeCreate : function() {
						this.isLoaded = false;
						this.oBaseDataSource = null;
					},
					createNow : function(assignInitialView) {
						var lDataSourceDefinitionNode = this
								.getDataSourceDefinitionNode();
						var lDataSourceName2 = lDataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_NAME2");
						if (lDataSourceName2 === null) {
							this.createOlapQuery(this.getBiAppDataSourceName(),
									assignInitialView);
						} else {
							this.createMultiSourceOlapQuery();
						}
					},
					getInfo : function() {
						var loDataSourceInfo = sap.zen.DataSourceInfo
								.create(this);
						return loDataSourceInfo;
					},
					getInfoProviderTechnicalName : function() {
						return sap.zen.DataSourceInfo
								.sGetInfoProviderTechnicalName(this);
					},
					getInfoProviderDescription : function() {
						return sap.zen.DataSourceInfo
								.sGetInfoProviderDescription(this);
					},
					getQueryTechnicalName : function() {
						return sap.zen.DataSourceInfo
								.sGetQueryTechnicalName(this);
					},
					getQueryDescription : function() {
						return sap.zen.DataSourceInfo
								.sGetQueryDescription(this);
					},
					isInitialized : function() {
						return this.isLoaded;
					},
					triggerRefresh : function(oListener, oBaggage) {
						var loActionResult;
						var lAsynchron;
						var loAction;
						var loPaging;
						var loAxisPaging;
						var loResponse;
						if (this.syncState === sap.firefly.SyncState.PROCESSING) {
							return null;
						}
						loActionResult = sap.zen.ActionResponse
								.createActionResponse();
						lAsynchron = this.getPage().isAsynchronousEnabled();
						if (this.isInitialized()
								&& (this.isDataSourceChanged() || (!lAsynchron))) {
							this.syncState = sap.firefly.SyncState.PROCESSING;
							loAction = sap.zen.ActionDataSourceRefresh.create(
									this, loActionResult, oBaggage);
							loAction.addListener(oListener);
							loPaging = this.oResultSet.getServerPaging();
							loAxisPaging = null;
							loAxisPaging = loPaging
									.getAxisPaging(sap.firefly.AxisType.ROWS);
							loAxisPaging.setMinSize(this
									.getRequiredSizeForAxis(loAxisPaging
											.getAxis()));
							loAxisPaging.setMaxSize(this.getPage()
									.getDataLimitRows());
							loAxisPaging
									.setPagingMode(
											sap.zen.CResultSetPagingMode.RESPECT_MIN_SIZE
													.getBinaryValue()
													+ sap.zen.CResultSetPagingMode.RESPECT_MAX_SIZE
															.getBinaryValue(),
											sap.zen.ResultSetAxisPaging.OFFSET_DEFAULT,
											sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
							loAxisPaging = loPaging
									.getAxisPaging(sap.firefly.AxisType.COLUMNS);
							loAxisPaging.setMinSize(this
									.getRequiredSizeForAxis(loAxisPaging
											.getAxis()));
							loAxisPaging.setMaxSize(this.getPage()
									.getDataLimitCols());
							loAxisPaging
									.setPagingMode(
											sap.zen.CResultSetPagingMode.RESPECT_MIN_SIZE
													.getBinaryValue()
													+ sap.zen.CResultSetPagingMode.RESPECT_MAX_SIZE
															.getBinaryValue(),
											sap.zen.ResultSetAxisPaging.OFFSET_DEFAULT,
											sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
							loResponse = this.oResultSet.synchronize(this,
									loAction, lAsynchron);
							if (loResponse !== null) {
								loActionResult.actionPerformed = loResponse
										.actionWasPerformed();
								loActionResult.addAllMessages(loResponse);
							}
							if (!loActionResult.actionWasPerformed()) {
								this.syncState = sap.firefly.SyncState.IN_SYNC;
							}
						}
						return loActionResult;
					},
					handleResultSetSynchronized : function(oContext, oResponse,
							oBaggage) {
						var loAction;
						this.setDataSourceChanged(false);
						this.syncState = sap.firefly.SyncState.IN_SYNC;
						loAction = oBaggage;
						loAction.callListeners();
					},
					addDataSourceChangeListener : function(oListener) {
						var ltListeners;
						if (oListener === null) {
							return;
						}
						ltListeners = this
								.getListenersForListenerType("IActionListenerDataSourceChanged");
						if (ltListeners.contains(oListener)) {
							return;
						}
						ltListeners.add(oListener);
					},
					removeDataSourceChangeListener : function(oListener) {
						var ltListeners;
						if (oListener === null) {
							return;
						}
						if (this.tListeners === null) {
							return;
						}
						ltListeners = this
								.getListenersForListenerType("IActionListenerDataSourceChanged");
						if (ltListeners.isEmpty()) {
							return;
						}
						ltListeners.removeElement(oListener);
					},
					getListenersForListenerType : function(listenerType) {
						var ltListeners;
						if (this.tListeners === null) {
							this.tListeners = sap.firefly.XHashMapByString
									.create();
						}
						ltListeners = this.tListeners.getByKey(listenerType);
						if (ltListeners === null) {
							ltListeners = sap.firefly.XList.create();
							this.tListeners.put(listenerType, ltListeners);
						}
						return ltListeners;
					},
					isDataSourceChanged : function() {
						return this.dataSourceChanged;
					},
					setDataSourceChanged : function(value) {
						if (value
								&& !this.dataSourceChanged
								&& this.getPage()
										.isAsyncResultSetAlreadyFetched()) {
							this.getPage().getWindow().showLoadingIndicator();
						}
						this.dataSourceChanged = value;
						if (this.dataSourceChanged) {
							this.processResultSetChangedScript = true;
						}
					},
					raiseDataSourceChangedEvent : function(oCause, metaData,
							resultData) {
						var ltListeners = this
								.getListenersForListenerType("IActionListenerDataSourceChanged");
						var lListenerIndex;
						var loListener;
						if (ltListeners !== null) {
							for (lListenerIndex = 0; lListenerIndex < ltListeners
									.size(); lListenerIndex++) {
								loListener = ltListeners.get(lListenerIndex);
								loListener.handleDataSourceChanged(this,
										oCause, metaData, resultData);
							}
						}
						if (oCause !== sap.zen.DataSourceChangeCause.NO_REFRESH_REQUIRED) {
							this.setDataSourceChanged(true);
						} else {
							oCause.reset();
						}
					},
					processOnResultSetChangedScript : function() {
						var lScript;
						if (!this.processResultSetChangedScript) {
							return;
						}
						lScript = this.getOnResultsetChanged();
						if (sap.firefly.XString.size(lScript) > 0) {
							this.getPage().execWithoutRerender(lScript);
						}
						this.processResultSetChangedScript = false;
					},
					getAliasSysName : function() {
						return this.getSysName(this
								.getDataSourceDefinitionNode());
					},
					getPackageName : function() {
						return this.packageName;
					},
					getBiAppDataSourceName : function() {
						var dataSourceNameTag = this
								.getDataSourceDefinitionNode()
								.getFirstChildWithNameTag("DATA_SOURCE_NAME");
						return this.getViewName(dataSourceNameTag);
					},
					getViewName : function(dataSourceNameTag) {
						if (dataSourceNameTag !== null) {
							return dataSourceNameTag.getAttribute("value");
						}
						return null;
					},
					getErrors : function() {
						return this.tErrors;
					},
					getDataSourceDefinitionNode : function() {
						return this.getInitParameters()
								.getFirstChildWithNameTag(
										"DATA_SOURCE_DEFINITION");
					},
					createMultiSourceOlapQuery : function() {
						var lDataSourceDefinitionNode = this
								.getDataSourceDefinitionNode();
						var lSystemName = this
								.getSysName(lDataSourceDefinitionNode);
						var lServiceConfig;
						var lDataSource;
						var lDataSource1NameNode;
						var lView1Name;
						var lHanaView1Name;
						var lDataSource2NameNode;
						var lView2Name;
						var lHanaView2Name;
						var lFullqualifiedName;
						var dataArea;
						var lSyncType;
						var lAssignInitialView;
						if (sap.firefly.XStringUtils.isNullOrEmpty(lSystemName)) {
							sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_SYSTEM
									.addMessageToMessageHandler(this.getPage()
											.getMessageManager(),
											sap.firefly.Severity.ERROR, this
													.getId(), null, null);
							return false;
						}
						lServiceConfig = sap.firefly.OlapApiModule.SERVICE_TYPE_QUERY_CONSUMER
								.createServiceConfig(this.getPage()
										.getApplication());
						lServiceConfig.setSystemName(lSystemName);
						lDataSource = sap.firefly.QDataSource.create();
						lServiceConfig.setDataSource(lDataSource);
						lServiceConfig
								.setProviderType(sap.firefly.ProviderType.ANALYTICS);
						if (sap.zen.DataSource.ACTIVATE_UNIFIED_DATA_CELLS === true) {
							lServiceConfig
									.activateExperimentalFeature(sap.firefly.InactiveCapabilities.UNIFIED_DATACELLS);
						}
						lDataSource1NameNode = this
								.getDataSourceDefinitionNode()
								.getFirstChildWithNameTag("DATA_SOURCE_NAME");
						lView1Name = this.getViewName(lDataSource1NameNode);
						lHanaView1Name = this.getHanaViewSpec2(lView1Name,
								false);
						lDataSource2NameNode = this
								.getDataSourceDefinitionNode()
								.getFirstChildWithNameTag("DATA_SOURCE_NAME2");
						lView2Name = this.getViewName(lDataSource2NameNode);
						lHanaView2Name = this.getHanaViewSpec2(lView2Name,
								false);
						lFullqualifiedName = "{'DataSource' : 'multisource:[][][BLENDING]', 'Sources' : ['";
						lFullqualifiedName = sap.firefly.XStringUtils
								.concatenate2(lFullqualifiedName,
										lHanaView1Name);
						lFullqualifiedName = sap.firefly.XStringUtils
								.concatenate2(lFullqualifiedName, ",");
						lFullqualifiedName = sap.firefly.XStringUtils
								.concatenate2(lFullqualifiedName,
										lHanaView2Name);
						lFullqualifiedName = sap.firefly.XStringUtils
								.concatenate2(lFullqualifiedName, "']}");
						lDataSource.setFullQualifiedName(lFullqualifiedName);
						dataArea = this.getPage().getDataArea();
						if (dataArea !== null) {
							lDataSource.setDataArea(dataArea);
						}
						try {
							lSyncType = sap.firefly.SyncType.BLOCKING;
							if (this.getPage().isDataSourceInitializeMode()) {
								lSyncType = sap.firefly.SyncType.NON_BLOCKING;
							}
							if (this.getPage().isDataSourceInitializeMode()) {
								this.getPage()
										.increaseInitializedNumberDataSource();
							}
							lAssignInitialView = sap.firefly.XBooleanValue
									.create(false);
							lServiceConfig.processQueryManagerCreation(
									lSyncType, this, lAssignInitialView);
						} catch (t) {
							sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_PARAM
									.addMessageToMessageHandler(this.getPage()
											.getMessageManager(),
											sap.firefly.Severity.ERROR,
											lFullqualifiedName, null, null);
							return false;
						}
						return true;
					},
					getFullqualifiedName : function(name, setViewAndPackage,
							dataSourceType) {
						if (name === null) {
							if (setViewAndPackage) {
								this.packageName = null;
							}
							return null;
						}
						if (!this.getPage().isBWSystem(
								this.getSysName(this
										.getDataSourceDefinitionNode()))) {
							name = this
									.getHanaViewSpec(name, setViewAndPackage);
						} else {
							if (sap.firefly.XString.isEqual(dataSourceType,
									"INFOPROVIDER")) {
								name = sap.firefly.XStringUtils.concatenate3(
										"infoprovider:[", name, "]");
							} else {
								if (sap.firefly.XString.isEqual(dataSourceType,
										"QUERY")) {
									name = sap.firefly.XStringUtils
											.concatenate3("query:[", name, "]");
								} else {
									if (sap.firefly.XString.isEqual(
											dataSourceType, "VIEW")) {
										name = sap.firefly.XStringUtils
												.concatenate3("view:[", name,
														"]");
									}
								}
							}
							if (setViewAndPackage) {
								this.packageName = "";
							}
						}
						return name;
					},
					getHanaViewSpec : function(name, setViewAndPackage) {
						var splitString = sap.firefly.XStringTokenizer
								.splitString(name, "/");
						var cnt = splitString.size();
						var hanaViewName = "";
						var schemaName = null;
						var type = null;
						var packagePos = 0;
						var pos = 0;
						var packageName;
						var viewName;
						if (cnt > 2) {
							type = splitString.get(0);
							schemaName = splitString.get(1);
							packagePos = 2;
							hanaViewName = sap.firefly.XStringUtils
									.concatenate2(type, ":");
							hanaViewName = sap.firefly.XStringUtils
									.concatenate4(hanaViewName, "[",
											schemaName, "]");
							pos = sap.firefly.XString.indexOf(name, "/");
							name = sap.firefly.XString.substring(name, pos + 1,
									-1);
							pos = sap.firefly.XString.indexOf(name, "/");
							name = sap.firefly.XString.substring(name, pos + 1,
									-1);
						} else {
							hanaViewName = "view:";
						}
						packageName = splitString.get(packagePos);
						hanaViewName = sap.firefly.XStringUtils.concatenate3(
								hanaViewName, "[", packageName);
						if (setViewAndPackage) {
							this.packageName = packageName;
						}
						hanaViewName = sap.firefly.XStringUtils.concatenate2(
								hanaViewName, "][");
						pos = sap.firefly.XString.indexOf(name, "/");
						viewName = sap.firefly.XString.substring(name, pos + 1,
								-1);
						hanaViewName = sap.firefly.XStringUtils.concatenate2(
								hanaViewName, viewName);
						hanaViewName = sap.firefly.XStringUtils.concatenate2(
								hanaViewName, "]");
						return hanaViewName;
					},
					getHanaViewSpec2 : function(name, setViewAndPackage) {
						var splitString = sap.firefly.XStringTokenizer
								.splitString(name, "/");
						var packageName = splitString.get(0);
						var viewName;
						name = sap.firefly.XStringUtils.concatenate2(
								"view:[][", packageName);
						if (setViewAndPackage) {
							this.packageName = packageName;
						}
						name = sap.firefly.XStringUtils
								.concatenate2(name, "][");
						viewName = "";
						viewName = splitString.get(1);
						name = sap.firefly.XStringUtils.concatenate2(name,
								viewName);
						name = sap.firefly.XStringUtils.concatenate2(name, "]");
						return name;
					},
					getSysName : function(dataSourceDefinitionNode) {
						var sysName = "";
						var dataSourceConnection = dataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_CONNECTION");
						if ((this.getPage().isHanaMode() === true)
								|| (dataSourceConnection === null)) {
							sysName = "self";
						} else {
							sysName = dataSourceConnection
									.getAttribute("value");
						}
						return sysName;
					},
					createOlapQuery : function(dataSourceName,
							assignInitialView) {
						var lDataSourceDefinitionNode = this
								.getDataSourceDefinitionNode();
						var lSystemName = this
								.getSysName(lDataSourceDefinitionNode);
						var lServiceConfig;
						var lDataSource;
						var lDataSourceTypeNode;
						var lDataSourceType;
						var lFullqualifiedName;
						var lDataArea;
						var lSyncType;
						var lAssignInitialView;
						if (sap.firefly.XStringUtils.isNullOrEmpty(lSystemName)) {
							sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_SYSTEM
									.addMessageToMessageHandler(this.getPage()
											.getMessageManager(),
											sap.firefly.Severity.ERROR, this
													.getId(), null, null);
							return false;
						}
						if (sap.firefly.XStringUtils
								.isNullOrEmpty(dataSourceName)) {
							if (assignInitialView) {
								sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_LONG3
										.addMessageToMessageHandler(this
												.getPage().getMessageManager(),
												sap.firefly.Severity.ERROR,
												this.getName(), null, null);
							}
							return false;
						}
						lServiceConfig = sap.firefly.OlapApiModule.SERVICE_TYPE_QUERY_CONSUMER
								.createServiceConfig(this.getPage()
										.getApplication());
						lServiceConfig.setSystemName(lSystemName);
						lDataSource = sap.firefly.QDataSource.create();
						lServiceConfig.setDataSource(lDataSource);
						lServiceConfig
								.setProviderType(sap.firefly.ProviderType.ANALYTICS);
						if (sap.zen.DataSource.ACTIVATE_UNIFIED_DATA_CELLS === true) {
							lServiceConfig
									.activateExperimentalFeature(sap.firefly.InactiveCapabilities.UNIFIED_DATACELLS);
						}
						lDataSourceTypeNode = lDataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_TYPE");
						lDataSourceType = lDataSourceTypeNode
								.getAttribute("value");
						lFullqualifiedName = this.getFullqualifiedName(
								dataSourceName, true, lDataSourceType);
						lDataSource.setFullQualifiedName(lFullqualifiedName);
						lDataArea = this.getPage().getDataArea();
						if (lDataArea !== null) {
							lDataSource.setDataArea(lDataArea);
						}
						try {
							lSyncType = sap.firefly.SyncType.BLOCKING;
							if (this.getPage().isDataSourceInitializeMode()) {
								lSyncType = sap.firefly.SyncType.NON_BLOCKING;
							}
							if (this.getPage().isDataSourceInitializeMode()) {
								this.getPage()
										.increaseInitializedNumberDataSource();
							}
							lAssignInitialView = sap.firefly.XBooleanValue
									.create(assignInitialView);
							lServiceConfig.processQueryManagerCreation(
									lSyncType, this, lAssignInitialView);
						} catch (t) {
							sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_PARAM
									.addMessageToMessageHandler(this.getPage()
											.getMessageManager(),
											sap.firefly.Severity.ERROR,
											dataSourceName, null, null);
							return false;
						}
						return true;
					},
					isHanaSystem : function() {
						var systemType;
						var isHana;
						if (this.oQueryManager !== null) {
							systemType = this.oQueryManager
									.getSystemDescription().getSystemType();
							isHana = systemType
									.isTypeOf(sap.firefly.SystemType.HANA);
							return isHana;
						}
						return true;
					},
					createSuggestQuery : function() {
						var hanaMode = this.getPage().isHanaMode();
						var dataSourceDefinitionNode = this
								.getDataSourceDefinitionNode();
						var sysName = this.getSysName(dataSourceDefinitionNode);
						var serviceConfig;
						var identifier;
						var processQueryManagerCreation;
						var queryManager2;
						if (hanaMode === true) {
							sysName = "self";
						}
						serviceConfig = sap.firefly.OlapApiModule.SERVICE_TYPE_QUERY_CONSUMER
								.createServiceConfig(this.getPage()
										.getApplication());
						serviceConfig.setSystemName(sysName);
						identifier = sap.firefly.QDataSource.create();
						serviceConfig.setDataSource(identifier);
						serviceConfig
								.setProviderType(sap.firefly.ProviderType.ANALYTICS);
						identifier.setFullQualifiedName("view:[$$Suggest$$]");
						processQueryManagerCreation = serviceConfig
								.processQueryManagerCreation(
										sap.firefly.SyncType.BLOCKING, null,
										null);
						queryManager2 = processQueryManagerCreation.getData();
						queryManager2.setMaxRows(10);
						return queryManager2;
					},
					getBaseDataSource : function() {
						if (this.oBaseDataSource === null) {
							this.oBaseDataSource = this.oQueryManager
									.getQueryModel().getBaseDataSource();
						}
						return this.oBaseDataSource;
					},
					getIthAttribute : function(cursor, i) {
						var value = null;
						var ix = 0;
						var nextAttribute;
						var dimensionMemberFromCurrentPosition;
						var i99;
						var resultSetAttributeMembers;
						cursor.setTupleElementCursorBeforeStart();
						while (cursor.hasNextTupleElement()) {
							nextAttribute = cursor.nextTupleElement();
							if (i === ix) {
								dimensionMemberFromCurrentPosition = nextAttribute
										.createDimensionMemberFromCurrentPosition();
								if (dimensionMemberFromCurrentPosition
										.getMemberType().isResult() === true) {
									i99 = 0;
								} else {
									resultSetAttributeMembers = dimensionMemberFromCurrentPosition
											.getResultSetFieldValues();
								}
								if (value === null) {
									value = dimensionMemberFromCurrentPosition
											.getStringValue();
								}
								break;
							}
							ix++;
						}
						return value;
					},
					getQueryManager : function() {
						return this.oQueryManager;
					},
					getResultSet : function() {
						if (!this.getPage().isAsynchronousEnabled()) {
							this.triggerRefresh(null, null);
						}
						return this.oResultSet;
					},
					getDataCell : function(measure, jsonObject) {
						var lJson = jsonObject.getJSON();
						var loQueryManager = this.getQueryManager();
						var loResultSet;
						var resultSetMessages;
						var cntRows;
						var cntCols;
						var colToUse;
						var rowToUse;
						var lResultDataCellWrapper;
						if (loQueryManager === null) {
							return null;
						}
						sap.zen.DataSourceScriptApiUtils.logGetResultSet(this
								.getPage(), loQueryManager,
								"DataSource getDataCell");
						loResultSet = this.getResultSet();
						if (loResultSet === null || !loResultSet.isValid()) {
							resultSetMessages = loQueryManager
									.getResultSetMessages();
							this.getPage().getMessageManager().createMessages(
									resultSetMessages);
							return null;
						}
						cntRows = loResultSet.getAmountOfDataRows();
						cntCols = loResultSet.getAmountOfDataColumns();
						colToUse = this.getCorrectPositionOnAxis(measure,
								lJson, sap.firefly.AxisType.COLUMNS, cntCols);
						rowToUse = this.getCorrectPositionOnAxis(measure,
								lJson, sap.firefly.AxisType.ROWS, cntRows);
						if (colToUse === -1 || rowToUse === -1) {
							sap.zen.CLocalizationDataSourceMessages.CELL_NOT_FOUND
									.addMessageToMessageHandler(this.getPage()
											.getMessageManager(),
											sap.firefly.Severity.INFO, null,
											null, null);
							return null;
						}
						lResultDataCellWrapper = loResultSet.getResultDataCell(
								rowToUse, colToUse);
						return lResultDataCellWrapper;
					},
					getCorrectPositionOnAxis : function(measure, json, axis,
							cntRows) {
						var loResultSet = this.getResultSet();
						var loResultSetInfo = null;
						var j = 0;
						var rowToUse = -1;
						var loTuple;
						var q;
						var itAllFits;
						var numberOfFits;
						var underspecified;
						var resultWasFound;
						var loTupleElement;
						var loDimensionMember;
						var loDimension;
						var memberName;
						var cnt;
						var timesItShouldHaveBeenFound;
						for (j = 0; j < (cntRows); j++) {
							if (loResultSet.getAmountOfTuplesOnAxis(axis) > 0) {
								loResultSetInfo = sap.zen.ResultSetHelper
										.create(loResultSet, axis, j, 0);
								loTuple = loResultSetInfo.getTuple();
								q = 0;
								itAllFits = true;
								numberOfFits = 0;
								underspecified = false;
								resultWasFound = false;
								while (q < loTuple.getAmountOfTupleElements()) {
									loTupleElement = loTuple.getTupleElement(q,
											null);
									loDimensionMember = loTupleElement
											.getDimensionMember();
									loDimension = loTupleElement.getDimension();
									if (loDimension.isMeasureStructure()) {
										if (!sap.firefly.XString.isEqual(
												loDimensionMember.getName(),
												measure)) {
											itAllFits = false;
										} else {
											if (loTuple
													.getAmountOfTupleElements() === 1) {
												return j;
											}
										}
									} else {
										memberName = json.getByKey(loDimension
												.getName());
										cnt = loResultSet
												.getAmountOfTuplesOnAxis(loResultSetInfo
														.getAxis());
										if (json.size() < cnt) {
											underspecified = true;
											if (json.containsKey(loDimension
													.getName())
													&& sap.firefly.XString
															.isEqual(
																	memberName,
																	loDimensionMember
																			.getName())) {
												numberOfFits = numberOfFits + 1;
											} else {
												if ((loResultSetInfo.isTotal() || loDimensionMember
														.isTotal())) {
													resultWasFound = true;
												} else {
													itAllFits = false;
													resultWasFound = false;
												}
											}
										} else {
											if (json.containsKey(loDimension
													.getName())
													&& sap.firefly.XString
															.isEqual(
																	memberName,
																	loDimensionMember
																			.getName())) {
												numberOfFits = numberOfFits + 1;
											} else {
												itAllFits = false;
											}
										}
									}
									q = q + 1;
								}
								timesItShouldHaveBeenFound = json.size();
								if (!underspecified && itAllFits) {
									rowToUse = j;
									break;
								} else {
									if (underspecified
											&& itAllFits
											&& numberOfFits === timesItShouldHaveBeenFound) {
										rowToUse = j;
										break;
									}
								}
							} else {
								return 0;
							}
						}
						return rowToUse;
					},
					getDataAsString : function(measure, oJson) {
						var lFormattedValue = "";
						var lResultDataCell = this.getDataInternal(measure,
								oJson);
						var lValueException;
						var lDouble;
						if (lResultDataCell !== null) {
							lFormattedValue = lResultDataCell
									.getFormattedValue();
							lValueException = lResultDataCell
									.getValueException();
							if (lValueException === null
									|| lValueException === sap.firefly.ValueException.NORMAL) {
								lFormattedValue = lResultDataCell
										.getFormattedValue();
								lDouble = 0;
								if (sap.firefly.XString.startsWith(
										lFormattedValue, ".")
										|| sap.firefly.XString.startsWith(
												lFormattedValue, ",")) {
									lDouble = lResultDataCell.getDoubleValue();
									lFormattedValue = sap.buddha.XMathZen
											.roundDouble(lDouble);
								} else {
									if (sap.firefly.XString.isEqual("0",
											lFormattedValue)) {
										lDouble = lResultDataCell
												.getDoubleValue();
										lFormattedValue = sap.firefly.XDoubleValue
												.create(lDouble).toString();
									}
								}
							}
						}
						return lFormattedValue;
					},
					getData : function(measure, selection) {
						var lResultDataCell = this.getDataInternal(measure,
								selection);
						var dataCell2;
						if (lResultDataCell !== null) {
							dataCell2 = new sap.zen.DataCell();
							dataCell2.doInit(lResultDataCell);
							return dataCell2;
						}
						return null;
					},
					getDataInternal : function(measure, selection) {
						var loQueryManager = this.getQueryManager();
						var jsonUtil;
						var lResultDataCellWrapper;
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
							jsonUtil = sap.buddha.XJsonObject
									.createFromJSonString(selection);
							lResultDataCellWrapper = this.getDataCell(measure,
									jsonUtil);
							return lResultDataCellWrapper;
						}
						return null;
					},
					swapAxes : function(axisName1, axisName2) {
						var loQueryManager = this.getQueryManager();
						var loQueryModel;
						var loAxis1;
						var loAxis2;
						if (loQueryManager === null) {
							return;
						}
						sap.zen.VariablesUtils.submitVariableProcessor(
								sap.zen.DSNameVariableProcessorPair.create(this
										.getName(), loQueryManager
										.getVariableProcessor()), this
										.getPage(), this.getPage());
						loQueryModel = loQueryManager.getQueryModel();
						if (loQueryModel === null) {
							return;
						}
						loAxis1 = sap.zen.DataSourceScriptApiUtils.getAxis(
								loQueryModel, axisName1);
						loAxis2 = sap.zen.DataSourceScriptApiUtils.getAxis(
								loQueryModel, axisName2);
						sap.zen.Dimension.sSwapAxes(this, loAxis1.getType(),
								loAxis2.getType(), true);
					},
					moveDimensionToRowsOneArg : function(dimension) {
						this.moveDimensionToAxis(dimension, -1,
								sap.firefly.AxisType.ROWS);
					},
					moveDimensionToRows : function(dimension, pos) {
						this.moveDimensionToAxis(dimension, pos,
								sap.firefly.AxisType.ROWS);
					},
					moveDimensionToColumnsOneArg : function(dimension) {
						this.moveDimensionToAxis(dimension, -1,
								sap.firefly.AxisType.COLUMNS);
					},
					moveDimensionToColumns : function(dimension, pos) {
						this.moveDimensionToAxis(dimension, pos,
								sap.firefly.AxisType.COLUMNS);
					},
					moveDimensionToAxis : function(dimensionName, pos, axisType) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.getProperties().moveDimensionToAxis(
								axisType, pos, true);
					},
					sortByMeasure : function(measure, ascending) {
						var lSortDirection = sap.firefly.XSortDirection.ASCENDING
								.getName();
						if (!ascending) {
							lSortDirection = sap.firefly.XSortDirection.DESCENDING
									.getName();
						}
						this.setMeasureSorting(measure, lSortDirection);
					},
					getMemberList : function(dimensionName, keyPres, memDisp,
							maxNumber, allMemberText) {
						var loQueryManager = this.getQueryManager();
						var loDimension;
						var ltMembers;
						var ltVisibleFields;
						var loMemberList;
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						ltMembers = loDimension.getDimensionMembers(maxNumber);
						ltVisibleFields = loDimension.getResultSetFields();
						loMemberList = new sap.zen.MemberList();
						loMemberList.doInit(ltMembers, ltVisibleFields,
								maxNumber, allMemberText, keyPres, memDisp);
						return loMemberList;
					},
					getMembers : function(dimensionName, maxNumber) {
						var loQueryManager = this.getQueryManager();
						var loDimension;
						var ltMembers;
						var ltResult;
						var lMemberIndex;
						var loDimensionMember;
						var loScriptableMember;
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						if (maxNumber < 1) {
							maxNumber = 50;
						}
						loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						ltMembers = loDimension.getDimensionMembers(maxNumber);
						ltResult = sap.firefly.XList.create();
						for (lMemberIndex = 0; lMemberIndex < ltMembers.size(); lMemberIndex++) {
							loDimensionMember = ltMembers.get(lMemberIndex);
							loScriptableMember = new sap.zen.ScriptableMember();
							loScriptableMember.doInit2(loDimensionMember);
							ltResult.add(loScriptableMember);
						}
						return this.getPage().getWindow().createJSArray(
								ltResult);
					},
					getVisibleMembers : function(dimensionName, maxNumber) {
						var loDimension;
						var ltMembers;
						var ltResult;
						var lMemberIndex;
						var loDimensionMember;
						var loScriptableMember;
						sap.zen.DataSourceScriptApiUtils.logGetResultSet(this
								.getPage(), this.getQueryManager(),
								"DataSource getVisibleMembers");
						loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						ltMembers = loDimension
								.getDimensionMembersInResultSet(maxNumber);
						ltResult = sap.firefly.XList.create();
						for (lMemberIndex = 0; lMemberIndex < ltMembers.size(); lMemberIndex++) {
							loDimensionMember = ltMembers.get(lMemberIndex);
							if (!loDimensionMember.isTotal()) {
								loScriptableMember = new sap.zen.ScriptableMember();
								loScriptableMember.doInit2(loDimensionMember);
								ltResult.add(loScriptableMember);
							}
						}
						return this.getPage().getWindow().createJSArray(
								ltResult);
					},
					getMemberDisplay : function(dimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						return loDimension.getProperties().getMemberDisplay(
								null).getValue();
					},
					getHierarchies : function(dimensionName) {
						var ltScriptableHierarchies = sap.firefly.XList
								.create();
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						var ltHierarchies;
						var i;
						var loScriptableHierarchy;
						var loWindow;
						if (loDimension !== null) {
							ltHierarchies = loDimension.getProperties()
									.getHierarchies();
							for (i = 0; i < ltHierarchies.size(); i++) {
								loScriptableHierarchy = new sap.zen.ScriptableHierarchy();
								loScriptableHierarchy.initMe(ltHierarchies
										.get(i));
								ltScriptableHierarchies
										.add(loScriptableHierarchy);
							}
						}
						loWindow = this.getPage().getWindow();
						return loWindow.createJSArray(ltScriptableHierarchies);
					},
					assignDataSource : function(connection, type, name, loadNow) {
						var dataSourceDefinitionNode;
						var dataSourceConnectionNode;
						var dataSourceTypeNode;
						var dataSourceNameNode;
						var dataSourceInitialStateNode;
						var inaModelNode;
						if (this.getPage().isHanaMode()) {
							connection = "self";
						}
						dataSourceDefinitionNode = this
								.getDataSourceDefinitionNode();
						dataSourceConnectionNode = dataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_CONNECTION");
						if (dataSourceConnectionNode !== null) {
							dataSourceConnectionNode.setAttribute("value",
									connection);
						}
						dataSourceTypeNode = dataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_TYPE");
						dataSourceTypeNode.setAttribute("value", type);
						dataSourceNameNode = dataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_NAME");
						dataSourceNameNode.setAttribute("value", name);
						dataSourceInitialStateNode = dataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_INITIAL_STATE");
						if (dataSourceInitialStateNode !== null) {
							dataSourceInitialStateNode.setProperty("value", "",
									true);
						}
						inaModelNode = dataSourceDefinitionNode
								.getFirstChildWithNameTag("INA_MODEL");
						if (inaModelNode !== null) {
							inaModelNode.setProperty("value", "", true);
						}
						if (loadNow) {
							this.createNow(true);
						} else {
							this.isLoaded = false;
							this.raiseDataSourceChangedEvent(null, true, true);
						}
					},
					assignDataSourceThreeArgs : function(connection, type, name) {
						this.assignDataSource(connection, type, name, true);
					},
					assignMultiDataSource : function(connection, type, name1,
							name2, loadNow) {
						var dataSourceDefinitionNode;
						var dataSourceConnectionNode;
						var dataSourceTypeNode;
						var dataSourceNameNode;
						var dataSourceInitialStateNode;
						var inaModelNode;
						if (this.getPage().isHanaMode()) {
							connection = "self";
						}
						dataSourceDefinitionNode = this
								.getDataSourceDefinitionNode();
						dataSourceConnectionNode = dataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_CONNECTION");
						if (dataSourceConnectionNode !== null) {
							dataSourceConnectionNode.setAttribute("value",
									connection);
						}
						dataSourceTypeNode = dataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_TYPE");
						dataSourceTypeNode.setAttribute("value", type);
						dataSourceNameNode = dataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_NAME");
						dataSourceNameNode.setAttribute("value", name1);
						dataSourceNameNode = dataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_NAME2");
						if (dataSourceNameNode === null) {
							dataSourceNameNode = dataSourceDefinitionNode
									.createChildWithNameTag("DATA_SOURCE_NAME2");
						}
						dataSourceNameNode.setAttribute("value", name2);
						dataSourceInitialStateNode = dataSourceDefinitionNode
								.getFirstChildWithNameTag("DATA_SOURCE_INITIAL_STATE");
						if (dataSourceInitialStateNode !== null) {
							dataSourceInitialStateNode.setProperty("value", "",
									true);
						}
						inaModelNode = dataSourceDefinitionNode
								.getFirstChildWithNameTag("INA_MODEL");
						if (inaModelNode !== null) {
							inaModelNode.setProperty("value", "", true);
						}
						if (loadNow) {
							this.createNow(true);
						} else {
							this.isLoaded = false;
							this.raiseDataSourceChangedEvent(null, true, true);
						}
					},
					addNotImplementedFunctionMessage : function(functionName) {
						sap.zen.DataSourceScriptApiUtils
								.addNotImplementedFunctionMessage(this
										.getPage(), "DataSource", functionName);
					},
					addNotImplementedInitialViewPropertiesForMemberMessage : function(
							memberName, propertyName, value) {
						var s = sap.firefly.XStringUtils.concatenate2(
								"InitialView property ", propertyName);
						var createMessage;
						s = sap.firefly.XStringUtils.concatenate2(s,
								" for member ");
						s = sap.firefly.XStringUtils
								.concatenate2(s, memberName);
						s = sap.firefly.XStringUtils.concatenate2(s,
								" with value ");
						s = sap.firefly.XStringUtils.concatenate2(s, value);
						s = sap.firefly.XStringUtils.concatenate2(s,
								" is not yet supported.");
						createMessage = sap.firefly.XMessage.createMessage(
								sap.firefly.OriginLayer.APPLICATION,
								sap.firefly.Severity.INFO, 0, s, null, false,
								null);
						this.getPage().createMessage(createMessage);
					},
					addNotImplementedInitialViewPropertiesMessage : function(
							propertyName, value) {
						sap.zen.CLocalizationDataSourceMessages.UNSUPPORTED_INITIAL_VIEW_PROPERTY
								.addMessageToMessageHandler(this.getPage()
										.getMessageManager(),
										sap.firefly.Severity.INFO,
										propertyName, value, null);
					},
					loadDataSource : function() {
						this.createNow(true);
					},
					clearAllFilters : function() {
						sap.zen.DataSourceScriptApiUtils.clearAllFilters(this
								.getSelector(), this);
					},
					clearFilter : function(dimensionName) {
						sap.zen.DataSourceScriptApiUtils.clearFilter(this
								.getSelector(), dimensionName, this, this
								.getPage());
					},
					copyFilters : function(ds, copyMeasures) {
						sap.zen.DataSourceScriptApiUtils.copyFilters(this, ds,
								copyMeasures, this.getPage());
					},
					setFilter : function(dimensionName, obj) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.setFilter(obj, false, true);
					},
					setFilterExt : function(dimensionName, obj) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.setFilter(obj, true, true);
					},
					setFilterString : function(dimensionName, value) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.setFilterValue(value, false, true);
					},
					setMeasureFilter : function(measures, obj) {
						var lValue = null;
						var lJsonObject = sap.buddha.XJsonObject.create(obj);
						var ltStructureMembers;
						var ltWriteableStructureMembers;
						var lStructureMember;
						var lJsonArray;
						var lJsonArraySize;
						var j;
						var lJsonObjectInArray;
						if (lJsonObject.isString()
								|| lJsonObject.isScriptableMember()) {
							lValue = lJsonObject.getString();
							ltStructureMembers = measures
									.getAllStructureMembers();
							ltWriteableStructureMembers = ltStructureMembers;
							lStructureMember = ltWriteableStructureMembers
									.getByKey(lValue);
							if (lStructureMember !== null) {
								ltWriteableStructureMembers.clear();
								ltWriteableStructureMembers
										.add(lStructureMember);
							}
						} else {
							if (lJsonObject.isArray()) {
								lJsonArray = lJsonObject.getArray();
								lJsonArraySize = lJsonArray.size();
								for (j = 0; j < lJsonArraySize; j++) {
									lJsonObjectInArray = lJsonArray.get(j);
									lValue = lJsonObjectInArray.getString();
								}
							}
						}
					},
					getSelector : function() {
						var loQueryManager = this.getQueryManager();
						var loQueryModel;
						if (loQueryManager !== null) {
							loQueryModel = loQueryManager.getQueryModel();
							if (loQueryModel !== null) {
								return loQueryModel.getSelector();
							}
						}
						return null;
					},
					getFilter : function(dimensionName) {
						var loQueryManager = this.getQueryManager();
						var loDimension;
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						loDimension = this.getDimensionByName(dimensionName);
						if (loDimension === null) {
							return "";
						}
						return loDimension
								.getFilterValuesAsString(sap.zen.Dimension.VALUE_TYPE_INT);
					},
					getFilterExt : function(dimensionName) {
						var loQueryManager = this.getQueryManager();
						var loDimension;
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						loDimension = this.getDimensionByName(dimensionName);
						if (loDimension === null) {
							return "";
						}
						return loDimension
								.getFilterValuesAsString(sap.zen.Dimension.VALUE_TYPE_EXT);
					},
					getFilterText : function(dimensionName) {
						var loQueryManager = this.getQueryManager();
						var loDimension;
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						loDimension = this.getDimensionByName(dimensionName);
						if (loDimension === null) {
							return "";
						}
						return loDimension
								.getFilterValuesAsString(sap.zen.Dimension.VALUE_TYPE_TEXT);
					},
					getStaticFilterExt : function(dimensionName) {
						this
								.addNotImplementedFunctionMessage("getStaticFilterExt");
						return "";
					},
					getStaticFilterText : function(dimensionName) {
						this
								.addNotImplementedFunctionMessage("getStaticFilterText");
						return "";
					},
					setVariableValue : function(variableName, variableValue) {
						var result = false;
						var loQueryManager = this.getQueryManager();
						var lVariableProcessor;
						if (loQueryManager !== null) {
							lVariableProcessor = loQueryManager
									.getVariableProcessor();
							if (lVariableProcessor !== null) {
								result = sap.zen.DataSourceScriptApiUtils
										.setVariableValue(
												lVariableProcessor,
												variableName,
												variableValue,
												this.getPage(),
												!this
														.getPage()
														.isInVarSubmitOrBackgroundProcessingScript()
														&& !this
																.getPage()
																.isInOnBeforePromptsSubmit(),
												false);
								this.raiseDataSourceChangedEvent(null, true,
										false);
								if (this
										.getPage()
										.isInVarSubmitOrBackgroundProcessingScript()) {
									this.getPage().addVariableProcessorInQueue(
											lVariableProcessor);
								}
							}
						}
						this.getPage()
								.invalidateDataSourcesReasonVariablesChange();
						return result;
					},
					setVariableValueExt : function(variableName, variableValue) {
						var result = false;
						var loQueryManager = this.getQueryManager();
						var lVariableProcessor;
						if (loQueryManager !== null) {
							lVariableProcessor = loQueryManager
									.getVariableProcessor();
							if (lVariableProcessor !== null) {
								result = sap.zen.DataSourceScriptApiUtils
										.setVariableValue(
												lVariableProcessor,
												variableName,
												variableValue,
												this.getPage(),
												!this
														.getPage()
														.isInVarSubmitOrBackgroundProcessingScript()
														&& !this
																.getPage()
																.isInOnBeforePromptsSubmit(),
												true);
								this.raiseDataSourceChangedEvent(null, true,
										false);
								if (this
										.getPage()
										.isInVarSubmitOrBackgroundProcessingScript()) {
									this.getPage().addVariableProcessorInQueue(
											lVariableProcessor);
								}
							}
						}
						this.getPage()
								.invalidateDataSourcesReasonVariablesChange();
						return result;
					},
					clearAllFilterRelevantVariables : function() {
						var loQueryManager = this.getQueryManager();
						var lVariableProcessor;
						var inputEnabledVariables;
						var i;
						var variable;
						if (loQueryManager !== null) {
							lVariableProcessor = loQueryManager
									.getVariableProcessor();
							if (lVariableProcessor !== null) {
								inputEnabledVariables = lVariableProcessor
										.getInputEnabledVariables();
								for (i = 0; i < inputEnabledVariables.size(); i++) {
									variable = inputEnabledVariables.get(i);
									if (!variable.isMandatory()
											&& variable
													.getVariableType()
													.isTypeOf(
															sap.firefly.VariableType.DIMENSION_MEMBER_VARIABLE)) {
										(variable).getMemberSelection().clear();
									}
								}
								this.raiseDataSourceChangedEvent(null, true,
										false);
								if (this
										.getPage()
										.isInVarSubmitOrBackgroundProcessingScript()) {
									this.getPage().addVariableProcessorInQueue(
											lVariableProcessor);
								}
							}
						}
						this.getPage()
								.invalidateDataSourcesReasonVariablesChange();
					},
					getVariableProcessor : function() {
						var loQueryManager = this.getQueryManager();
						if (loQueryManager === null) {
							return null;
						}
						return loQueryManager.getVariableProcessor();
					},
					getVariables : function() {
						return sap.zen.DataSourceScriptApiUtils.getVariables(
								this.getVariableProcessor(), this.getPage()
										.getWindow());
					},
					getVariableName : function() {
						this
								.addNotImplementedFunctionMessage("getVariableName");
						return "";
					},
					getVariableValue : function(variableNameTechnical) {
						if ((this.getQueryManager() !== null)
								&& !this.getPage().isInOnBeforePromptsSubmit()) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), this
													.getQueryManager()
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						return sap.zen.DataSourceScriptApiUtils
								.getVariableValue(
										this.getVariableProcessor(),
										variableNameTechnical,
										this.getPage(),
										sap.zen.DataSourceScriptApiUtils.VALUE_TYPE_INT);
					},
					getVariableValueExt : function(variableNameTechnical) {
						var loQueryManager = this.getQueryManager();
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						return sap.zen.DataSourceScriptApiUtils
								.getVariableValue(
										this.getVariableProcessor(),
										variableNameTechnical,
										this.getPage(),
										sap.zen.DataSourceScriptApiUtils.VALUE_TYPE_EXT);
					},
					getVariableValueText : function(variableNameTechnical) {
						var loQueryManager = this.getQueryManager();
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						return sap.zen.DataSourceScriptApiUtils
								.getVariableValue(
										this.getVariableProcessor(),
										variableNameTechnical,
										this.getPage(),
										sap.zen.DataSourceScriptApiUtils.VALUE_TYPE_TEXT);
					},
					getMeasuresDimension : function() {
						var loScriptableDimension = new sap.zen.ScriptableDimension();
						var loQueryManager = this.getQueryManager();
						var loQueryModel;
						var loMasureStructure;
						if (loQueryManager !== null) {
							loQueryModel = loQueryManager.getQueryModel();
							if (loQueryModel !== null) {
								loMasureStructure = loQueryModel
										.getMeasureDimension();
								loScriptableDimension.initMe(loMasureStructure);
								return loScriptableDimension;
							}
						}
						loScriptableDimension.initMe(null);
						return loScriptableDimension;
					},
					getDimensions : function() {
						var loQueryManager = this.getQueryManager();
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						return sap.zen.DataSourceScriptApiUtils.getDimensions(
								null, this.getSelector(), this.getPage()
										.getWindow(), true);
					},
					getDimensionsOneArg : function(axisName) {
						var loQueryManager = this.getQueryManager();
						var axis;
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						axis = null;
						if (sap.firefly.XString.isEqual(axisName,
								sap.zen.ZAxisType.ROWS)) {
							axis = sap.zen.ZAxisType.ROWS;
						} else {
							if (sap.firefly.XString.isEqual(axisName,
									sap.zen.ZAxisType.COLUMNS)) {
								axis = sap.zen.ZAxisType.COLUMNS;
							} else {
								if (sap.firefly.XString.isEqual(axisName,
										sap.zen.ZAxisType.FREE)) {
									axis = sap.zen.ZAxisType.FREE;
								}
							}
						}
						return sap.zen.DataSourceScriptApiUtils.getDimensions(
								axis, this.getSelector(), this.getPage()
										.getWindow(), true);
					},
					removeDimension : function(dimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.getProperties().moveDimensionToAxis(
								sap.firefly.AxisType.FREE, -1, true);
					},
					moveDimensionBefore : function(dimensionName,
							targetDimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.getProperties()
								.moveDimensionToPosOfOtherDimension(
										targetDimensionName, true, true);
					},
					moveDimensionAfter : function(dimensionName,
							targetDimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.getProperties()
								.moveDimensionToPosOfOtherDimension(
										targetDimensionName, false, true);
					},
					swapDimensions : function(dimensionName1, dimensionName2) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName1);
						loDimension.getProperties().swapDimensions(
								dimensionName2, true);
					},
					setDimensionAndAttributeSorting : function(dimensionName,
							attributeName, sortDirection, sortByKey) {
						var loDimension;
						var lSortType;
						if (this.getQueryManager() === null) {
							return;
						}
						loDimension = this.getDimensionByName(dimensionName);
						if (loDimension === null) {
							return;
						}
						lSortType = sap.firefly.SortType.MEMBER_KEY;
						if (sortByKey) {
							lSortType = sap.firefly.SortType.MEMBER_KEY;
						} else {
							lSortType = sap.firefly.SortType.MEMBER_TEXT;
						}
						loDimension.getProperties().setSortOperation(
								attributeName, lSortType, sortDirection, true);
					},
					setDimensionSorting : function(dimensionName,
							sortDirection, sortByKey) {
						var loDimension = this
								.getDimensionByName(dimensionName);
						var lSortType;
						if (loDimension === null) {
							return;
						}
						lSortType = sap.firefly.SortType.MEMBER_KEY;
						if (sortByKey) {
							lSortType = sap.firefly.SortType.MEMBER_KEY;
						} else {
							lSortType = sap.firefly.SortType.MEMBER_TEXT;
						}
						loDimension.getProperties().setSortOperation(null,
								lSortType, sortDirection, true);
					},
					setMeasureSorting : function(measureName, sortDirection) {
						var loQueryManager = this.getQueryManager();
						var sortingManager;
						var sortingOperations;
						var loQueryModel;
						var loInternalMeasureDimension;
						var loMeasureDimension;
						if (loQueryManager === null) {
							return;
						}
						sortingManager = this.getQueryManager().getQueryModel()
								.getSortingManager();
						sortingOperations = sortingManager
								.getSortingOperations();
						sortingOperations.clear();
						loQueryModel = this.oQueryManager.getQueryModel();
						loInternalMeasureDimension = loQueryModel
								.getMeasureDimension();
						if (loInternalMeasureDimension === null) {
							return;
						}
						loMeasureDimension = sap.zen.DimensionWrapper.create(
								this, null, loInternalMeasureDimension
										.getName());
						loMeasureDimension.getProperties().setSortOperation(
								measureName, null, sortDirection, true);
					},
					getDimensionByName : function(dimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						return loDimension;
					},
					getConditionalFormatValueExt : function(measure,
							selectionAsInputStrings) {
						this
								.addNotImplementedFunctionMessage("getConditionalFormatValueExt");
						return "";
					},
					getConditionalFormatValue : function(measure,
							selectionAsMemberIdentifier) {
						this
								.addNotImplementedFunctionMessage("getConditionalFormatValue");
						return "";
					},
					getDataAsStringExt : function(measure,
							selectionAsInputStrings) {
						this
								.addNotImplementedFunctionMessage("getDataAsStringExt");
						return "";
					},
					isInputReady : function() {
						return this.isInputEnabled();
					},
					isInputEnabled : function() {
						var queryModel;
						var queryManager;
						var isInputEnabled;
						if (this.oQueryManager !== null) {
							queryModel = this.getQueryManager().getQueryModel();
							if (queryModel !== null) {
								queryManager = this.getQueryManager();
								isInputEnabled = queryManager
										.isDataEntryEnabled()
										&& queryManager
												.supportsDataEntryReadOnly()
										&& !queryManager.isDataEntryReadOnly();
								return isInputEnabled;
							}
						}
						return false;
					},
					reloadData : function() {
						if (this.oQueryManager !== null) {
							this.oQueryManager
									.setDataRefreshEnabled(sap.firefly.ActionChoice.ONCE);
							this.raiseDataSourceChangedEvent(null, false, true);
						}
					},
					assignHierarchy : function(dimensionName, hierarchyName) {
						var lHierarchyName = sap.zen.DataSourceScriptApiUtils
								.extractHierarchyName(hierarchyName);
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.getProperties().setHierarchyName(
								lHierarchyName, false);
						loDimension.getProperties().setHierarchyActive(true,
								true);
					},
					unassignHierarchy : function(dimensionName) {
						this.assignHierarchy(dimensionName, "");
					},
					activateHierarchy : function(dimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.getProperties().setHierarchyActive(true,
								true);
					},
					deactivateHierarchy : function(dimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.getProperties().setHierarchyActive(false,
								true);
					},
					setMemberDisplay : function(dimensionName, memberDisplay) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.getProperties().setMemberDisplay(
								null,
								sap.zen.CMemberDisplayMode
										.valueOf2(memberDisplay), null, true);
					},
					getDimensionText : function(dimensionName) {
						var loQueryManager = this.getQueryManager();
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						return sap.zen.DataSourceScriptApiUtils
								.getDimensionText(this.getSelector(),
										dimensionName);
					},
					setDrillLevel : function(dimensionName, level) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						if (loDimension.isUDH()) {
							loDimension.getProperties().setUDHDrillLevel(level,
									true);
						} else {
							loDimension.getProperties().setHierarchyDrillLevel(
									level, true);
						}
					},
					setRootExpandingLevel : function(dimensionName, level) {
						this.setDrillLevel(dimensionName, level);
					},
					setLowerLevelNodeAlignment : function(dimensionName,
							alignementName) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						var lAlignement = sap.firefly.Alignment.CHILDREN_BELOW_PARENT;
						if (sap.firefly.XString.isEqual(
								sap.firefly.Alignment.CHILDREN_ABOVE_PARENT
										.getName(), alignementName)) {
							lAlignement = sap.firefly.Alignment.CHILDREN_ABOVE_PARENT;
						}
						loDimension.getProperties().setHierarchyAlignment(
								lAlignement, true);
					},
					expandNode : function(dimensionName,
							memberKeyOrMemberOrJSON) {
						var lJsonObject = sap.buddha.XJsonObject
								.create(memberKeyOrMemberOrJSON);
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						var lMemberName = null;
						var lJsonArray;
						var lJsonArraySize;
						var lArrayIndex;
						var lJsonArrayObject;
						if (lJsonObject.isString()) {
							lMemberName = lJsonObject.getString();
							sap.zen.DataSourceScriptApiUtils.logGetResultSet(
									this.getPage(), this.oQueryManager,
									"DataSource expandNode");
							loDimension.expandCollapseHierarchyNode(
									lMemberName,
									sap.firefly.DrillState.EXPANDED, true);
						} else {
							if (lJsonObject.isArray()) {
								lJsonArray = lJsonObject.getArray();
								lJsonArraySize = lJsonArray.size();
								for (lArrayIndex = 0; lArrayIndex < lJsonArraySize; lArrayIndex++) {
									lJsonArrayObject = lJsonArray
											.get(lArrayIndex);
									lMemberName = lJsonArrayObject.getString();
								}
							}
						}
					},
					collapseNode : function(dimensionName,
							memberKeyOrMemberOrJSON) {
						var lJsonObject = sap.buddha.XJsonObject
								.create(memberKeyOrMemberOrJSON);
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						var lMemberName = null;
						var lJsonArray;
						var lJsonArraySize;
						var lArrayIndex;
						var lJsonArrayObject;
						if (lJsonObject.isString()) {
							lMemberName = lJsonObject.getString();
							sap.zen.DataSourceScriptApiUtils.logGetResultSet(
									this.getPage(), this.oQueryManager,
									"DataSource collapseNode");
							loDimension.expandCollapseHierarchyNode(
									lMemberName,
									sap.firefly.DrillState.COLLAPSED, true);
						} else {
							if (lJsonObject.isArray()) {
								lJsonArray = lJsonObject.getArray();
								lJsonArraySize = lJsonArray.size();
								for (lArrayIndex = 0; lArrayIndex < lJsonArraySize; lArrayIndex++) {
									lJsonArrayObject = lJsonArray
											.get(lArrayIndex);
									lMemberName = lJsonArrayObject.getString();
								}
							}
						}
					},
					toggleDrillState : function(axis, tupleIndex, index) {
						var lAxis;
						var loResultSetInfo;
						var loTupleElement;
						sap.zen.DataSourceScriptApiUtils.logGetResultSet(this
								.getPage(), this.getQueryManager(),
								"DataSource toggleDrillState");
						lAxis = sap.firefly.AxisType.lookup(axis);
						loResultSetInfo = sap.zen.ResultSetHelper.create(this
								.getResultSet(), lAxis, tupleIndex, index);
						loTupleElement = loResultSetInfo.getTupleElement();
						loTupleElement.toggleDrillState(true);
					},
					setDrillState : function(axis, tupleIndex, index,
							drillState) {
						var lAxis;
						var lDrillState;
						var loResultSetInfo;
						var loTupleElement;
						sap.zen.DataSourceScriptApiUtils.logGetResultSet(this
								.getPage(), this.getQueryManager(),
								"DataSource setDrillState");
						lAxis = sap.firefly.AxisType.lookup(axis);
						lDrillState = null;
						if (sap.firefly.XString.isEqual(
								sap.firefly.DrillState.COLLAPSED.getName(),
								drillState)) {
							lDrillState = sap.firefly.DrillState.COLLAPSED;
						} else {
							lDrillState = sap.firefly.DrillState.EXPANDED;
						}
						loResultSetInfo = sap.zen.ResultSetHelper.create(this
								.getResultSet(), lAxis, tupleIndex, index);
						loTupleElement = loResultSetInfo.getTupleElement();
						loTupleElement.expandCollapseHierarchyNode(lDrillState,
								true);
					},
					setDrillStateInternal : function(axis, tupleIndex,
							dimensionName, drillState) {
						var loResultSet;
						var lAxis;
						var lDrillState;
						var loDimension;
						var loTuple;
						var loTupleElement;
						sap.zen.DataSourceScriptApiUtils.logGetResultSet(this
								.getPage(), this.getQueryManager(),
								"DataSource setDrillStateInternal");
						loResultSet = this.getResultSet();
						lAxis = sap.firefly.AxisType.lookup(axis);
						lDrillState = null;
						if (sap.firefly.XString.isEqual(
								sap.firefly.DrillState.COLLAPSED.getName(),
								drillState)) {
							lDrillState = sap.firefly.DrillState.COLLAPSED;
						} else {
							lDrillState = sap.firefly.DrillState.EXPANDED;
						}
						loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loTuple = loResultSet.getTuple(lAxis, tupleIndex,
								loDimension, null);
						loTupleElement = loTuple.getTupleElement(-1,
								loDimension);
						loTupleElement.expandCollapseHierarchyNode(lDrillState,
								true);
					},
					isResultSetEmpty : function() {
						var loQueryManager;
						var returnValue;
						var lResultSet;
						if (!this.isLoaded || (this.oQueryManager === null)) {
							return true;
						}
						sap.zen.VariablesUtils.submitVariableProcessor(
								sap.zen.DSNameVariableProcessorPair.create(this
										.getName(), this.getQueryManager()
										.getVariableProcessor()), this
										.getPage(), this.getPage());
						loQueryManager = this.oQueryManager;
						returnValue = false;
						if (loQueryManager !== null) {
							sap.zen.DataSourceScriptApiUtils.logGetResultSet(
									this.getPage(), loQueryManager,
									"DataSource isResultSetEmpty");
							lResultSet = this.getResultSet();
							if (lResultSet !== null) {
								return !lResultSet.hasDataCells();
							}
						}
						return returnValue;
					},
					renderResultSetAsJSONs : function(oRenderManager,
							tProjectionInformation, metaDataBehind) {
						var loRenderSerializer = oRenderManager
								.getRenderSerializer();
						var loResultSet;
						var loJsonProjector;
						sap.zen.DataSourceScriptApiUtils.logGetResultSet(this
								.getPage(), this.getQueryManager(),
								"DataSource renderResultSetAsJSONs");
						loResultSet = this.getResultSet();
						loJsonProjector = sap.zen.JsonDataProjector.create(
								loResultSet, loRenderSerializer, this.getPage()
										.getMessageManager());
						loJsonProjector.render(tProjectionInformation);
					},
					onQueryManagerCreated : function(extResult, queryManager,
							customIdentifier) {
						var doPageCallback = (this.getPage()
								.isDataSourceInitializeMode() && this
								.getPage()
								.decreaseInitializedNumberDataSourceAndCheckForZero());
						var lAssignInitialView;
						var lVariableProcessor;
						var lVariableProcessorResult;
						if (extResult.hasErrors()) {
							sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_LONG2
									.addMessageToMessageHandler(this.getPage()
											.getMessageManager(),
											sap.firefly.Severity.ERROR, this
													.getName(), this
													.getBiAppDataSourceName(),
											null);
						}
						this.getPage().getMessageManager().createMessages(
								extResult);
						if (extResult !== null) {
							this.oQueryManager = extResult.getData();
						}
						if (this.oQueryManager === null) {
							if (doPageCallback) {
								this.getPage().dataSourcesInitialized();
							}
							return;
						}
						lAssignInitialView = (customIdentifier)
								.getBooleanValue();
						if (this.oQueryManager.supportsDirectVariableTransfer()) {
							this.oQueryManager
									.setDirectVariableTransferEnabled(true);
						}
						if (this.oQueryManager.isDataEntryEnabled()
								&& this.oQueryManager
										.supportsDataEntryReadOnly()) {
							this.oQueryManager.setDataEntryReadOnly(true);
						}
						this.initializeVisibleFields();
						lAssignInitialView = this.readStateAndAssign(
								lAssignInitialView, true);
						this.isLoaded = true;
						this.raiseDataSourceChangedEvent(null, true, true);
						if (lAssignInitialView) {
							if (this.oQueryManager.hasVariables()) {
								lVariableProcessor = this.oQueryManager
										.getVariableProcessor();
								if (this
										.getPage()
										.isInVarSubmitOrBackgroundProcessingScript()) {
									this.getPage().addVariableProcessorInQueue(
											lVariableProcessor);
								} else {
									lVariableProcessorResult = sap.zen.VariablesUtils
											.submitOrCheckVariableProcessor(lVariableProcessor);
									if (lVariableProcessorResult.hasErrors()) {
										this
												.getPage()
												.getMessageManager()
												.createMessages(
														lVariableProcessorResult);
										(this.getPage()).setForcePrompt(true);
									}
								}
							}
						}
						if (doPageCallback) {
							this.getPage().dataSourcesInitialized();
						}
					},
					readStateAndAssign : function(assignInitialView,
							includeVariables) {
						var wasAssigned = false;
						var inaModelNode;
						var initialStateNode;
						var inaModelValue;
						var stateValue;
						if (this.getDataSourceDefinitionNode() !== null) {
							inaModelNode = this.getDataSourceDefinitionNode()
									.getFirstChildWithNameTag("INA_MODEL");
							initialStateNode = this
									.getDataSourceDefinitionNode()
									.getFirstChildWithNameTag(
											"DATA_SOURCE_INITIAL_STATE");
							if (inaModelNode !== null) {
								inaModelValue = inaModelNode.getText();
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(inaModelValue)) {
									this.assignInAModel(inaModelValue,
											includeVariables);
									wasAssigned = true;
								}
							} else {
								if (assignInitialView
										&& (initialStateNode !== null)) {
									stateValue = initialStateNode.getText();
									if (sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(stateValue)) {
										this.assignInitialView();
										wasAssigned = true;
									}
								}
							}
						}
						return wasAssigned;
					},
					getOnResultsetChanged : function() {
						var text = this.getStringPropertyWithDefault(
								"ON_RESULTSETCHANGED", "");
						return text;
					},
					configureInputReadiness : function(inputReadiness) {
						var queryModel;
						var planningConnection;
						var sysName;
						var queryManager;
						if (this.oQueryManager !== null) {
							queryModel = this.oQueryManager.getQueryModel();
							if (queryModel !== null) {
								planningConnection = sap.zen.ZPlanning
										.getPlanningConnection(this.getPage());
								sysName = this.getSysName(this
										.getDataSourceDefinitionNode());
								if (planningConnection !== null
										&& sap.firefly.XString.isEqual(
												planningConnection, sysName)) {
									queryManager = this.getQueryManager();
									queryManager
											.setDataEntryReadOnly(!inputReadiness);
									this.raiseDataSourceChangedEvent(null,
											false, true);
								} else {
									sap.zen.CLocalizationDataSourceMessages.ERROR_DS_NOT_CONFIGURED_AS_PLANNING_SYSTEM
											.addMessageToMessageHandler(this
													.getPage()
													.getMessageManager(),
													sap.firefly.Severity.ERROR,
													this.getName(), null, null);
								}
							}
						}
					},
					releaseObject : function() {
						if (this.oQueryManager !== null) {
							this.oQueryManager.releaseObject();
							this.oQueryManager = null;
						}
						if (this.tResultSetConfigProviders !== null) {
							this.tResultSetConfigProviders.clear();
							this.tResultSetConfigProviders = null;
						}
						sap.zen.DataSource.$superclass.releaseObject.call(this);
					},
					reassignInitialView : function() {
						this.assignInitialView();
					},
					setContentChanged : function(contentChanged) {
						sap.zen.DataSource.$superclass.setContentChanged.call(
								this, contentChanged);
						if (contentChanged === true) {
							this.raiseDataSourceChangedEvent(null, false, true);
						}
					},
					toString : function() {
						var s = this.getInAModelAsString(true);
						return s;
					},
					getInAModelAsString : function(includeVariables) {
						var lInAModelAsString;
						if (includeVariables) {
							lInAModelAsString = this.oQueryManager
									.getQueryModel()
									.serialize(
											sap.firefly.QModelFormat.INA_REPOSITORY,
											null);
						} else {
							lInAModelAsString = this.oQueryManager
									.getQueryModel()
									.serialize(
											sap.firefly.QModelFormat.INA_REPOSITORY_NO_VARS,
											null);
						}
						return lInAModelAsString;
					},
					assignInAModel : function(inaModelValue, includesVariables) {
						if (includesVariables) {
							this.oQueryManager.getQueryModel().deserializeExt(
									sap.firefly.QModelFormat.INA_REPOSITORY,
									inaModelValue);
						} else {
							this.oQueryManager
									.getQueryModel()
									.deserializeExt(
											sap.firefly.QModelFormat.INA_REPOSITORY_NO_VARS,
											inaModelValue);
						}
						this.initializeVisibleFields();
					},
					initializeVisibleFields : function() {
						var loQueryModel = this.oQueryManager.getQueryModel();
						var ltInternalDimensions;
						var lDimensionIndex;
						var loInternalDimension;
						var loDimension;
						var lMemberDisplay;
						if (loQueryModel === null) {
							return;
						}
						if (this.isHanaSystem()) {
							loQueryModel
									.convertToFieldLayoutType(sap.firefly.FieldLayoutType.FIELD_BASED);
						}
						ltInternalDimensions = loQueryModel.getDimensions();
						for (lDimensionIndex = 0; lDimensionIndex < ltInternalDimensions
								.size(); lDimensionIndex++) {
							loInternalDimension = ltInternalDimensions
									.getDimensionByIndex(lDimensionIndex);
							if (loInternalDimension === null) {
								continue;
							}
							loDimension = sap.zen.DimensionWrapper.create(this,
									null, loInternalDimension.getName());
							lMemberDisplay = loDimension.getProperties()
									.getMemberDisplay(null);
							loDimension.getProperties().setMemberDisplay(null,
									lMemberDisplay, null, false);
						}
					},
					getDataSourceBookmarkContent : function(includeVariables) {
						var lInAModelAsString = this
								.getInAModelAsString(includeVariables);
						var lBookmarkContent;
						this.getDataSourceDefinitionNode().setProperty(
								"INA_MODEL", lInAModelAsString, true);
						this.getDataSourceDefinitionNode().setProperty(
								"DATA_SOURCE_INITIAL_STATE", "", true);
						lBookmarkContent = sap.zen.DataSource.$superclass.getBookmarkContent
								.call(this);
						return lBookmarkContent;
					},
					setInitParameters : function(initParameters) {
						sap.zen.DataSource.$superclass.setInitParameters.call(
								this, initParameters);
						this.raiseDataSourceChangedEvent(null, false, true);
					},
					isViewDataSource : function() {
						return true;
					},
					applyDataSourceInitParameters : function(initParameter,
							includeVariables) {
						var newInaModelNode = initParameter
								.getFirstChildWithNameTag(
										"DATA_SOURCE_DEFINITION")
								.getFirstChildWithNameTag("INA_MODEL");
						var oldDataDefinitionNode = this.getInitParameters()
								.getFirstChildWithNameTag(
										"DATA_SOURCE_DEFINITION");
						if (oldDataDefinitionNode
								.getFirstChildWithNameTag("INA_MODEL") !== null) {
							oldDataDefinitionNode
									.removeChild(oldDataDefinitionNode
											.getFirstChildWithNameTag("INA_MODEL"));
						}
						oldDataDefinitionNode.appendChild(newInaModelNode);
						this.setContentChanged(true);
						this.clearPropertyCache();
						this.readStateAndAssign(true, includeVariables);
					},
					isDataSource : function() {
						return true;
					},
					isHierarchyAssigned : function(dimensionName) {
						var loQueryManager = this.getQueryManager();
						var loDimension;
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
							loDimension = sap.zen.DimensionWrapper.create(this,
									null, dimensionName);
							return loDimension.getProperties()
									.isHierarchyAssigned();
						}
						return false;
					},
					isHierarchyActive : function(dimensionName) {
						var loQueryManager = this.getQueryManager();
						var loDimension;
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
							loDimension = sap.zen.DimensionWrapper.create(this,
									null, dimensionName);
							return loDimension.getProperties()
									.isHierarchyAssignedAndActive();
						}
						return false;
					},
					getAssignedHierarchy : function(dimensionName) {
						var loQueryManager = this.getQueryManager();
						var lHierarchy;
						var loDimension;
						var lInternaloDimension;
						var lScriptableHierarchy;
						if (loQueryManager !== null) {
							sap.zen.VariablesUtils.submitVariableProcessor(
									sap.zen.DSNameVariableProcessorPair.create(
											this.getName(), loQueryManager
													.getVariableProcessor()),
									this.getPage(), this.getPage());
						}
						lHierarchy = null;
						loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						if (loDimension !== null) {
							lInternaloDimension = loDimension
									.getInternalObject();
							if (lInternaloDimension.supportsHierarchy()) {
								lHierarchy = lInternaloDimension.getHierarchy();
							}
						}
						lScriptableHierarchy = new sap.zen.ScriptableHierarchy();
						lScriptableHierarchy.initMe2(lHierarchy);
						return lScriptableHierarchy;
					},
					getJavaScriptWrapperName : function() {
						return "DataSource";
					},
					setTotalsOptions : function(totalsDisplay, totalsPosition) {
						var loQueryManager = this.getQueryManager();
						var loQueryModel;
						if (loQueryManager === null) {
							return;
						}
						sap.zen.VariablesUtils.submitVariableProcessor(
								sap.zen.DSNameVariableProcessorPair.create(this
										.getName(), loQueryManager
										.getVariableProcessor()), this
										.getPage(), this.getPage());
						loQueryModel = loQueryManager.getQueryModel();
						if (loQueryModel === null) {
							return;
						}
						sap.zen.Dimension.sSetTotalsOptions(this, null,
								totalsDisplay, totalsPosition, true);
					},
					setTotalsDisplay : function(dimensionName, totalsDisplay) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.getProperties().setTotalsDisplay(
								totalsDisplay, true);
					},
					getTotalsDisplay : function(dimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						var lResultVisibility = loDimension.getProperties()
								.getTotalsDisplay();
						if (sap.firefly.ResultVisibility.HIDDEN
								.isEqualTo(lResultVisibility)) {
							return sap.zen.TotalsDisplay.HIDE;
						} else {
							if (sap.firefly.ResultVisibility.VISIBLE
									.isEqualTo(lResultVisibility)) {
								return sap.zen.TotalsDisplay.SHOW;
							} else {
								if (sap.firefly.ResultVisibility.CONDITIONAL
										.isEqualTo(lResultVisibility)) {
									return sap.zen.TotalsDisplay.HIDE_IF_ONLY_ONE_MEMBER;
								}
							}
						}
						return "";
					},
					setTotalsPosition : function(axis, totalsPosition) {
						var loQueryManager = this.getQueryManager();
						var loQueryModel;
						var loAxis;
						if (loQueryManager === null) {
							return;
						}
						loQueryModel = loQueryManager.getQueryModel();
						if (loQueryModel === null) {
							return;
						}
						loAxis = sap.zen.DataSourceScriptApiUtils.getAxis(
								loQueryModel, axis);
						if (loAxis === null) {
							return;
						}
						sap.zen.Dimension.sSetTotalsPositionForAxis(this,
								loAxis.getType(), totalsPosition, true);
					},
					getTotalsPosition : function(axis) {
						var loQueryManager = this.getQueryManager();
						var loQueryModel;
						var loAxis;
						var lResultAlignment;
						if (loQueryManager === null) {
							return null;
						}
						loQueryModel = loQueryManager.getQueryModel();
						if (loQueryModel === null) {
							return null;
						}
						loAxis = sap.zen.DataSourceScriptApiUtils.getAxis(
								loQueryModel, axis);
						if (loAxis === null) {
							return null;
						}
						lResultAlignment = sap.zen.Dimension
								.sGetTotalsPositionForAxis(this, loAxis
										.getType());
						if (sap.firefly.ResultAlignment.TOP
								.isEqualTo(lResultAlignment)) {
							return sap.zen.TotalsPosition.getBEFOREInternal();
						} else {
							if (sap.firefly.ResultAlignment.BOTTOM
									.isEqualTo(lResultAlignment)) {
								return sap.zen.TotalsPosition
										.getAFTERInternal();
							} else {
								if (sap.firefly.ResultAlignment.NONE
										.isEqualTo(lResultAlignment)) {
									return sap.zen.TotalsPosition
											.getDEFAULTInternal();
								}
							}
						}
						return sap.zen.TotalsPosition.getDEFAULTInternal();
					},
					isSDKDataSource : function() {
						return false;
					},
					setFilterByRectangle : function(dimension, x0, y0, x1, y1) {
						var queryModel;
						var agg;
						var fixdedFilter;
						var inaSelection;
						var inaOperator;
						var s;
						this.getQueryManager().invalidateState();
						queryModel = this.getQueryManager().getQueryModel();
						agg = sap.firefly.PrStructure.create();
						fixdedFilter = agg.setNewStructureByName("FixedFilter");
						inaSelection = fixdedFilter
								.setNewStructureByName("Selection");
						inaOperator = inaSelection
								.setNewStructureByName("GeometryOperand");
						s = sap.firefly.XStringUtils.concatenate3(
								sap.firefly.XDouble.convertDoubleToString(y0),
								" ", sap.firefly.XDouble
										.convertDoubleToString(x0));
						s = sap.firefly.XStringUtils.concatenate2(s, ", ");
						s = sap.firefly.XStringUtils.concatenate4(s,
								sap.firefly.XDouble.convertDoubleToString(y0),
								" ", sap.firefly.XDouble
										.convertDoubleToString(x1));
						s = sap.firefly.XStringUtils.concatenate2(s, ", ");
						s = sap.firefly.XStringUtils.concatenate4(s,
								sap.firefly.XDouble.convertDoubleToString(y1),
								" ", sap.firefly.XDouble
										.convertDoubleToString(x1));
						s = sap.firefly.XStringUtils.concatenate2(s, ", ");
						s = sap.firefly.XStringUtils.concatenate4(s,
								sap.firefly.XDouble.convertDoubleToString(y1),
								" ", sap.firefly.XDouble
										.convertDoubleToString(x0));
						s = sap.firefly.XStringUtils.concatenate2(s, ", ");
						s = sap.firefly.XStringUtils.concatenate4(s,
								sap.firefly.XDouble.convertDoubleToString(y0),
								" ", sap.firefly.XDouble
										.convertDoubleToString(x0));
						inaOperator.setStringByName("Comparison", "WITHIN");
						inaOperator.setStringByName("AttributeName", dimension);
						inaOperator.setStringByName("Value",
								sap.firefly.XStringUtils.concatenate3(
										"POLYGON(( ", s, "))"));
						queryModel.setProtocolExtension(agg, false);
						this.raiseDataSourceChangedEvent(null, false, true);
					},
					getExternalNameMappings : function() {
						var map = sap.firefly.XHashMapOfStringByString.create();
						var queryManager = this.getQueryManager();
						var queryModel;
						var dimensions;
						var dimN;
						var dim;
						var externalName;
						if (queryManager !== null) {
							queryModel = queryManager.getQueryModel();
							dimensions = queryModel.getDimensions();
							for (dimN = 0; dimN < dimensions.size(); dimN++) {
								dim = dimensions.get(dimN);
								externalName = dim.getExternalName();
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(externalName)) {
									map.put(externalName, dim.getName());
								}
							}
						}
						return map;
					},
					openConditionsDialog : function() {
						if (this.oConditionsDialog === null) {
							this.oConditionsDialog = this.addConditionsDialog();
						}
						this.oConditionsDialog.setDataSource(this);
						this.oConditionsDialog.setContentChanged(true);
					},
					addConditionsDialog : function() {
						var rootComponent = this.getPage().getComponent("ROOT");
						var component = this.getPage()
								.createComponentObjectWOInitParameter(
										"CONDITIONS_DIALOG",
										sap.firefly.XStringUtils.concatenate2(
												this.getName(),
												"_CONDITIONS_DIALOG"),
										rootComponent);
						if (rootComponent !== null) {
							rootComponent.addChild(component);
							component.setParent(rootComponent);
						}
						return component;
					},
					getMemberCacheForDimensionName : function(dimensionName) {
						if (this.tMemberCaches !== null) {
							return this.tMemberCaches.getByKey(dimensionName);
						}
						return null;
					},
					addMemberCacheForDimensionName : function(dimensionName,
							memberCache) {
						if (this.tMemberCaches === null) {
							this.tMemberCaches = sap.firefly.XHashMapByString
									.create();
						}
						this.tMemberCaches.put(dimensionName, memberCache);
						return memberCache;
					},
					assignInitialView : function() {
						var loQueryModel;
						var loDataSourceDefinitionNode;
						var loInitialStateNode;
						var loLogging;
						var lStateValue;
						var lStateValueDecompressed;
						var loRootNode;
						if (this.oQueryManager === null) {
							return;
						}
						loQueryModel = this.oQueryManager.getQueryModel();
						loDataSourceDefinitionNode = this
								.getDataSourceDefinitionNode();
						if (loDataSourceDefinitionNode !== null) {
							loInitialStateNode = loDataSourceDefinitionNode
									.getFirstChildWithNameTag("DATA_SOURCE_INITIAL_STATE");
							if (loInitialStateNode !== null) {
								loLogging = this.getPage().getLogging();
								if (loLogging
										.isLoggable(sap.buddha.XLogging.XDEBUG)) {
									loLogging
											.debug(
													"DataSource: enter assign InitialView",
													"", null);
								}
								lStateValue = loInitialStateNode.getFirstChild(
										"value").getText();
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(lStateValue)) {
									lStateValueDecompressed = sap.buddha.XXmlUtils
											.decompress(lStateValue);
									if (sap.firefly.XString
											.size(lStateValueDecompressed) > 0) {
										loRootNode = sap.buddha.XXmlUtils
												.getRootNode(lStateValueDecompressed);
										this.setInitialViewAxes(loRootNode,
												loQueryModel);
										this.setInitialViewSelectionState(
												loRootNode, loQueryModel);
										this.setInitialViewDimensions(
												loRootNode, loQueryModel);
										this.setInitialViewMeasureProperties(
												loRootNode, loQueryModel);
										if (loLogging
												.isLoggable(sap.buddha.XLogging.XDEBUG)) {
											loLogging
													.debug(
															"DataSource: leave assign InitialView",
															"", null);
										}
									}
								}
							}
							this.setContentChanged(true);
						}
						this.setInitialViewRemoveCountMeasure(loQueryModel);
					},
					setInitialViewAxes : function(oRootNode, oQueryModel) {
						var loAxesNode;
						var ltAxisNodes;
						var loAxisNodeIterator;
						var loAxisNode;
						var lAxisName;
						var lIsRowAxis;
						var lIsColAxis;
						var lAxis;
						var loInternalAxis;
						var ltCharacteristicNodes;
						var loCharacteristicsNodeIterator;
						var loCharacteristicsNode;
						var loCharacteristicNodeIterator;
						var loCharacteristicNode;
						var lCharacteristicName;
						var lIsMeasure;
						var loInternalMeasureDimension;
						var loInternalDimension;
						if (oRootNode === null || oQueryModel === null) {
							return;
						}
						loAxesNode = oRootNode
								.getFirstChildWoBiNameSpace("AXES");
						if (loAxesNode === null) {
							return;
						}
						ltAxisNodes = loAxesNode
								.getChildrenWoBiNameSpace("AXIS");
						loAxisNodeIterator = ltAxisNodes.getIterator();
						while (loAxisNodeIterator.hasNext()) {
							loAxisNode = loAxisNodeIterator.next();
							if (loAxisNode === null) {
								continue;
							}
							lAxisName = loAxisNode.getAttribute("name");
							lIsRowAxis = sap.firefly.XString.compare(lAxisName,
									"ROWS");
							lIsColAxis = sap.firefly.XString.compare(lAxisName,
									"COLUMNS");
							lAxis = null;
							if (lIsRowAxis === 0) {
								lAxis = sap.firefly.AxisType.ROWS;
							} else {
								if (lIsColAxis === 0) {
									lAxis = sap.firefly.AxisType.COLUMNS;
								}
							}
							if (lAxis === null) {
								continue;
							}
							loInternalAxis = oQueryModel.getAxis(lAxis);
							loInternalAxis.clear();
							ltCharacteristicNodes = loAxisNode
									.getChildrenWoBiNameSpace("CHARACTERISTICS");
							loCharacteristicsNodeIterator = ltCharacteristicNodes
									.getIterator();
							while (loCharacteristicsNodeIterator.hasNext()) {
								loCharacteristicsNode = loCharacteristicsNodeIterator
										.next();
								if (loCharacteristicsNode === null) {
									continue;
								}
								ltCharacteristicNodes = loCharacteristicsNode
										.getChildrenWoBiNameSpace("CHARACTERISTIC");
								loCharacteristicNodeIterator = ltCharacteristicNodes
										.getIterator();
								while (loCharacteristicNodeIterator.hasNext()) {
									loCharacteristicNode = loCharacteristicNodeIterator
											.next();
									if (loCharacteristicNode === null) {
										continue;
									}
									lCharacteristicName = loCharacteristicNode
											.getText();
									lIsMeasure = sap.firefly.XString.compare(
											"[Measures]", lCharacteristicName);
									if (lIsMeasure === 0) {
										loInternalMeasureDimension = oQueryModel
												.getMeasureDimension();
										loInternalAxis
												.add(loInternalMeasureDimension);
									} else {
										loInternalDimension = oQueryModel
												.getDimensionByName(lCharacteristicName);
										if (loInternalDimension !== null) {
											loInternalAxis
													.add(loInternalDimension);
										}
									}
								}
							}
						}
					},
					setInitialViewSelectionState : function(oRootNode,
							oQueryModel) {
						var loSelectionStateNode;
						var loSelectionStateSelectionNode;
						var loCharacteristicsNode;
						var loSelectionState;
						var ltCharacteristicNodes;
						var loCharacteristicNodeIterator;
						var loCharacteristicNode;
						var lCharacteristicName;
						var loInternalDimension;
						var loSelectionsNode;
						var loCartesianProduct;
						var loCartesianList;
						var ltSelectionNodes;
						var loSelectionNodeIterator;
						var loValueNode;
						var loMemberNode;
						var lMemberName;
						var loSelection;
						var lFilterType;
						var lLowValue;
						var lHighValue;
						var loDimension;
						var loInternalMeasureDimension;
						var loSignNode;
						var lSign;
						var ltStructureMembers;
						var loStructureMember;
						if (oRootNode === null || oQueryModel === null) {
							return;
						}
						loSelectionStateNode = oRootNode
								.getFirstChildWoBiNameSpace("SELECTION_STATE");
						if (loSelectionStateNode === null) {
							return;
						}
						loSelectionStateSelectionNode = loSelectionStateNode
								.getFirstChildWoBiNameSpace("SELECTION");
						if (loSelectionStateSelectionNode === null) {
							return;
						}
						loCharacteristicsNode = loSelectionStateSelectionNode
								.getFirstChildWoBiNameSpace("CHARACTERISTICS");
						if (loCharacteristicsNode === null) {
							return;
						}
						loSelectionState = oQueryModel.getSelector()
								.getSelectionStateContainer();
						ltCharacteristicNodes = loCharacteristicsNode
								.getChildrenWoBiNameSpace("CHARACTERISTIC");
						loCharacteristicNodeIterator = ltCharacteristicNodes
								.getIterator();
						while (loCharacteristicNodeIterator.hasNext()) {
							loCharacteristicNode = loCharacteristicNodeIterator
									.next();
							if (loCharacteristicNode === null) {
								continue;
							}
							lCharacteristicName = loCharacteristicNode
									.getAttribute("name");
							loInternalDimension = sap.zen.DataSourceScriptApiUtils
									.getDimension(oQueryModel.getSelector(),
											lCharacteristicName);
							if (loInternalDimension === null) {
								continue;
							}
							loSelectionsNode = loCharacteristicNode
									.getFirstChildWoBiNameSpace("SELECTIONS");
							if (loSelectionsNode === null) {
								continue;
							}
							loCartesianProduct = loSelectionState
									.getCartesianProduct();
							loCartesianList = null;
							if (loCartesianProduct !== null) {
								loCartesianList = loCartesianProduct
										.getCartesianListWithDefault(loInternalDimension);
								if (loCartesianList !== null) {
									loCartesianList.clear();
								}
							}
							ltSelectionNodes = loSelectionsNode
									.getChildrenWoBiNameSpace("SELECTION");
							loSelectionNodeIterator = ltSelectionNodes
									.getIterator();
							loValueNode = null;
							loMemberNode = null;
							lMemberName = null;
							while (loSelectionNodeIterator.hasNext()) {
								if (loCartesianProduct === null) {
									loCartesianProduct = sap.firefly.QFactory2
											.newFilterCartesianProduct(null);
									loSelectionState
											.setCartesianProduct(loCartesianProduct);
								}
								loCartesianList = loCartesianProduct
										.getCartesianListWithDefault(loInternalDimension);
								loSelection = loSelectionNodeIterator.next();
								if (loSelection === null) {
									continue;
								}
								lFilterType = loSelection.getAttribute("type");
								if (sap.firefly.XString.compare("INTERVAL",
										lFilterType) === 0) {
									lLowValue = null;
									lHighValue = null;
									loValueNode = loSelection
											.getFirstChildWoBiNameSpace("LOW_VALUE");
									if (loValueNode !== null) {
										loMemberNode = loValueNode
												.getFirstChildWoBiNameSpace("MEMBER");
										if (loMemberNode !== null) {
											lLowValue = loMemberNode
													.getAttribute("name");
										}
									}
									loValueNode = loSelection
											.getFirstChildWoBiNameSpace("HIGH_VALUE");
									if (loValueNode !== null) {
										loMemberNode = loValueNode
												.getFirstChildWoBiNameSpace("MEMBER");
										if (loMemberNode !== null) {
											lHighValue = loMemberNode
													.getAttribute("name");
										}
									}
									loDimension = sap.zen.DimensionWrapper
											.create(this, null,
													loInternalDimension
															.getName());
									loDimension.setFilterRange(lLowValue,
											lHighValue, false, false, true);
								} else {
									if (sap.firefly.XString.compare(
											"SINGLE_MEMBER", lFilterType) === 0) {
										loMemberNode = loSelection
												.getFirstChildWoBiNameSpace("MEMBER");
										if (loMemberNode !== null) {
											lMemberName = loMemberNode
													.getAttribute("name");
											if (lMemberName !== null) {
												if (sap.firefly.XString
														.isEqual(
																lCharacteristicName,
																"[Measures]")) {
													loInternalMeasureDimension = oQueryModel
															.getMeasureDimension();
													loSelectionState
															.addSingleMemberFilterByDimension(
																	loInternalMeasureDimension,
																	lMemberName,
																	sap.firefly.ComparisonOperator.EQUAL);
												} else {
													loSelectionState
															.addSingleMemberSelectionByName(
																	lCharacteristicName,
																	lMemberName,
																	sap.firefly.ComparisonOperator.EQUAL);
												}
											}
										}
									} else {
										if (sap.firefly.XString.compare(
												"RANGE", lFilterType) === 0) {
											loSignNode = loSelection
													.getFirstChildWoBiNameSpace("SIGN");
											lSign = "";
											if (loSignNode !== null) {
												lSign = loSignNode.getText();
											}
											loValueNode = loSelection
													.getFirstChildWoBiNameSpace("VALUE");
											if (loValueNode !== null) {
												loMemberNode = loValueNode
														.getFirstChildWoBiNameSpace("MEMBER");
												if (loMemberNode !== null) {
													lMemberName = loMemberNode
															.getAttribute("name");
													if (lMemberName !== null) {
														if (sap.firefly.XString
																.compare(
																		"EXCLUDING",
																		lSign) === 0) {
															if (loInternalDimension
																	.isMeasureStructure()) {
																ltStructureMembers = loInternalDimension
																		.getStructureLayout();
																loStructureMember = ltStructureMembers
																		.getByKey(lMemberName);
																if (loStructureMember !== null) {
																	ltStructureMembers
																			.removeElement(loStructureMember);
																}
															} else {
																loSelectionState
																		.removeSingleMemberSelectionByDimension(
																				loInternalDimension,
																				lMemberName,
																				sap.firefly.ComparisonOperator.EQUAL);
															}
														} else {
															if (sap.firefly.XString
																	.compare(
																			"INCLUDING",
																			lSign) === 0) {
																loSelectionState
																		.addSingleMemberFilterByDimension(
																				loInternalDimension,
																				lMemberName,
																				sap.firefly.ComparisonOperator.EQUAL);
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					},
					setInitialViewDimensions : function(oRootNode, oQueryModel) {
						var loCharacteristicsNode;
						var ltCharacteristicNodes;
						var loCharacteristicNodeIterator;
						var loCharacteristicNode;
						var lCharacteristicName;
						var loDimension;
						if (oRootNode === null || oQueryModel === null) {
							return;
						}
						loCharacteristicsNode = oRootNode
								.getFirstChildWoBiNameSpace("CHARACTERISTICS");
						if (loCharacteristicsNode === null) {
							return;
						}
						ltCharacteristicNodes = loCharacteristicsNode
								.getChildrenWoBiNameSpace("CHARACTERISTIC");
						loCharacteristicNodeIterator = ltCharacteristicNodes
								.getIterator();
						while (loCharacteristicNodeIterator.hasNext()) {
							loCharacteristicNode = loCharacteristicNodeIterator
									.next();
							if (loCharacteristicNode === null) {
								continue;
							}
							lCharacteristicName = loCharacteristicNode
									.getAttribute("name");
							loDimension = sap.zen.DimensionWrapper.create(this,
									null, lCharacteristicName);
							this.setInitialViewDimensionPresentation(
									loCharacteristicNode, loDimension);
							this.setInitialViewDimensionSort(
									loCharacteristicNode, loDimension);
							this.setInitialViewDimensionTotals(
									loCharacteristicNode, loDimension);
							this.setInitialViewDimensionAttributes(
									loCharacteristicNode, loDimension);
							this.setInitialViewDimensionHierarchy(
									loCharacteristicNode, loDimension);
							this.setInitialViewDimensionMemberAccess(
									loCharacteristicNode, loDimension);
						}
					},
					setInitialViewDimensionPresentation : function(
							oCharacteristicNode, oDimension) {
						var loResultSetNode;
						var loPresentationsNode;
						var ltPresentationNodes;
						var lTextPresentationType;
						var lKeyPresentationIndex;
						var lTextPresentationIndex;
						var lPresentationIndex;
						var loPresentationNode;
						var lPresentation;
						var lPresentationType;
						var lMemberDisplay;
						if (oCharacteristicNode === null || oDimension === null) {
							return;
						}
						loResultSetNode = oCharacteristicNode
								.getFirstChildWoBiNameSpace("RESULT_SET");
						if (loResultSetNode === null) {
							return;
						}
						loPresentationsNode = loResultSetNode
								.getFirstChildWoBiNameSpace("PRESENTATIONS");
						if (loPresentationsNode === null) {
							return;
						}
						ltPresentationNodes = loPresentationsNode
								.getChildrenWoBiNameSpace("PRESENTATION")
								.getValuesAsReadOnlyList();
						lTextPresentationType = null;
						lKeyPresentationIndex = -1;
						lTextPresentationIndex = -1;
						for (lPresentationIndex = 0; lPresentationIndex < ltPresentationNodes
								.size(); lPresentationIndex++) {
							loPresentationNode = ltPresentationNodes
									.get(lPresentationIndex);
							lPresentation = loPresentationNode.getText();
							lPresentationType = sap.zen.DataSourceScriptApiUtils
									.getPresentationTypeByName(lPresentation);
							if (lPresentationType
									.isTypeOf(sap.firefly.PresentationType.ABSTRACT_KEY)
									|| lPresentationType
											.isTypeOf(sap.firefly.PresentationType.DISPLAY_KEY)) {
								lKeyPresentationIndex = lPresentationIndex;
							} else {
								if (lPresentationType
										.isTypeOf(sap.firefly.PresentationType.TEXT)) {
									lTextPresentationIndex = lPresentationIndex;
									lTextPresentationType = lPresentationType;
								} else {
									this
											.getPage()
											.getMessageManager()
											.createWarningMessage(
													sap.firefly.XStringUtils
															.concatenate4(
																	"Presentation type ",
																	lPresentation,
																	" not available for info object ",
																	oDimension
																			.getName()));
								}
							}
						}
						lMemberDisplay = null;
						if (lKeyPresentationIndex > -1
								&& lTextPresentationIndex === -1) {
							lMemberDisplay = sap.zen.CMemberDisplayMode.KEY;
						} else {
							if (lKeyPresentationIndex > -1
									&& lTextPresentationIndex > -1) {
								if (lKeyPresentationIndex < lTextPresentationIndex) {
									lMemberDisplay = sap.zen.CMemberDisplayMode.KEY_TEXT;
								} else {
									lMemberDisplay = sap.zen.CMemberDisplayMode.TEXT_KEY;
								}
							} else {
								if (lKeyPresentationIndex === -1
										&& lTextPresentationIndex > -1) {
									lMemberDisplay = sap.zen.CMemberDisplayMode.TEXT;
								}
							}
						}
						oDimension.getProperties().setMemberDisplay(null,
								lMemberDisplay, lTextPresentationType, false);
					},
					setInitialViewDimensionSort : function(oCharacteristicNode,
							oDimension) {
						var loResultSetNode;
						var loSortingNode;
						var loSortDirectionNode;
						var lSortDirection;
						var lSortType;
						if (oCharacteristicNode === null || oDimension === null) {
							return;
						}
						loResultSetNode = oCharacteristicNode
								.getFirstChildWoBiNameSpace("RESULT_SET");
						if (loResultSetNode === null) {
							return;
						}
						loSortingNode = loResultSetNode
								.getFirstChildWoBiNameSpace("SORTING");
						if (loSortingNode !== null) {
							loSortDirectionNode = loSortingNode
									.getFirstChildWoBiNameSpace("DIRECTION");
							if (loSortDirectionNode !== null) {
								lSortDirection = loSortDirectionNode.getText();
								lSortType = loSortingNode.getAttribute("type");
								if (sap.firefly.XString.compare(
										"DATA_CELL_VALUE", lSortType) === 0) {
									this.setInitialViewDataCellSorting(
											loSortingNode, lSortDirection,
											oDimension);
								} else {
									if (sap.firefly.XString.compare("MEMBERS",
											lSortType) === 0) {
										this.setInitialViewMembersSorting(
												loSortingNode, lSortDirection,
												oDimension);
									} else {
										if (sap.firefly.XString.compare(
												"DEFAULT", lSortType) === 0) {
											this.setInitialViewDefaultSorting(
													loSortingNode,
													lSortDirection, oDimension);
										}
									}
								}
							}
						}
					},
					setInitialViewDataCellSorting : function(oSortingNode,
							sortDirection, oDimension) {
						var loDataCellNode;
						var loMembersNode;
						var ltMemberNodes;
						var loMemberIterator;
						var loMemberNode;
						var lCharacteristicName;
						var lMemberName;
						if (oSortingNode === null || oDimension === null) {
							return;
						}
						loDataCellNode = oSortingNode
								.getFirstChildWoBiNameSpace("DATA_CELL");
						if (loDataCellNode === null) {
							return;
						}
						loMembersNode = loDataCellNode
								.getFirstChildWoBiNameSpace("MEMBERS");
						if (loMembersNode === null) {
							return;
						}
						ltMemberNodes = loMembersNode
								.getChildrenWoBiNameSpace("MEMBER");
						loMemberIterator = ltMemberNodes.getIterator();
						while (loMemberIterator.hasNext()) {
							loMemberNode = loMemberIterator.next();
							if (loMemberNode === null) {
								continue;
							}
							lCharacteristicName = loMemberNode
									.getAttribute("characteristic");
							lMemberName = loMemberNode.getAttribute("name");
							if (sap.firefly.XString.compare("[Measures]",
									lCharacteristicName) === 0) {
								lCharacteristicName = "Measures";
								oDimension.getProperties().setSortOperation(
										lMemberName,
										sap.firefly.SortType.MEMBER_KEY,
										sortDirection, false);
							}
						}
					},
					setInitialViewMembersSorting : function(oSortingNode,
							direction, oDimension) {
						var loPresentationNode;
						var lPresentation;
						var lSortType;
						if (oSortingNode === null || oDimension === null) {
							return;
						}
						loPresentationNode = oSortingNode
								.getFirstChildWoBiNameSpace("PRESENTATION");
						if (loPresentationNode === null) {
							return;
						}
						lPresentation = loPresentationNode.getText();
						lSortType = sap.firefly.SortType.MEMBER_KEY;
						if (sap.firefly.XString.isEqual(lPresentation, "KEY")) {
							lSortType = sap.firefly.SortType.MEMBER_KEY;
						} else {
							if (sap.firefly.XString.isEqual(lPresentation,
									"TEXT")) {
								lSortType = sap.firefly.SortType.MEMBER_TEXT;
							}
						}
						if (sap.firefly.XString
								.compare("DESCENDING", direction) === 0) {
							oDimension.getProperties().setSortOperation(null,
									lSortType, "DESCENDING", true);
						} else {
							if (sap.firefly.XString.compare("ASCENDING",
									direction) === 0) {
								oDimension.getProperties().setSortOperation(
										null, lSortType, "ASCENDING", true);
							}
						}
					},
					setInitialViewDefaultSorting : function(oSortingNode,
							direction, oDimension) {
						var loInternalDimension;
						var loPredefinedMembersOrderNode;
						var ltMemberNodes;
						var loStructureMember;
						var ltStructureMembers;
						var ltAllStructureMembers;
						var i;
						var lMemberNodeIndex;
						var loMemberNode;
						var lMemberName;
						var loSortingManager;
						var loResultSetSorting;
						if (oSortingNode === null || oDimension === null) {
							return;
						}
						loInternalDimension = oDimension.getInternalObject();
						if (oDimension.isMeasureStructure()) {
							loPredefinedMembersOrderNode = oSortingNode
									.getFirstChildWoBiNameSpace("PREDEFINED_MEMBERS_ORDER");
							ltMemberNodes = loPredefinedMembersOrderNode
									.getChildrenWoBiNameSpace("MEMBER");
							if ((ltMemberNodes !== null)
									&& (ltMemberNodes.size() > 0)) {
								loStructureMember = null;
								ltStructureMembers = loInternalDimension
										.getStructureLayout();
								ltAllStructureMembers = sap.firefly.XHashMapByString
										.create();
								for (i = 0; i < ltStructureMembers.size(); i++) {
									loStructureMember = ltStructureMembers
											.get(i);
									ltAllStructureMembers.put(loStructureMember
											.getName(), loStructureMember);
								}
								ltStructureMembers.clear();
								for (lMemberNodeIndex = 0; lMemberNodeIndex < ltMemberNodes
										.size(); lMemberNodeIndex++) {
									loMemberNode = ltMemberNodes
											.get(lMemberNodeIndex);
									lMemberName = loMemberNode
											.getAttribute("name");
									loStructureMember = ltAllStructureMembers
											.getByKey(lMemberName);
									if (loStructureMember !== null) {
										ltStructureMembers
												.add(loStructureMember);
									}
								}
							}
						} else {
							loSortingManager = this.getQueryManager()
									.getQueryModel().getSortingManager();
							if (loSortingManager.supportsDimensionSorting(
									loInternalDimension, null)) {
								loResultSetSorting = loInternalDimension
										.getResultSetSorting();
								if (loResultSetSorting !== null) {
									if (sap.firefly.XString.compare(
											"DESCENDING", direction) === 0) {
										loResultSetSorting
												.setDirection(sap.firefly.XSortDirection.DESCENDING);
									} else {
										if (sap.firefly.XString.compare(
												"ASCENDING", direction) === 0) {
											loResultSetSorting
													.setDirection(sap.firefly.XSortDirection.ASCENDING);
										}
									}
								}
							}
						}
					},
					setInitialViewDimensionTotals : function(
							oCharacteristicNode, oDimension) {
						var loResultSetNode;
						var loResultSetVisibilityNode;
						var lResultSetVisibility;
						if (oCharacteristicNode === null || oDimension === null) {
							return;
						}
						loResultSetNode = oCharacteristicNode
								.getFirstChildWoBiNameSpace("RESULT_SET");
						if (loResultSetNode === null) {
							return;
						}
						loResultSetVisibilityNode = loResultSetNode
								.getFirstChildWoBiNameSpace("RESULT_VISIBILITY");
						if (loResultSetVisibilityNode !== null) {
							lResultSetVisibility = loResultSetVisibilityNode
									.getText();
							oDimension.getProperties().setTotalsDisplay(
									lResultSetVisibility, false);
						}
					},
					setInitialViewDimensionAttributes : function(
							oCharacteristicNode, oDimension) {
						var loResultSetNode;
						var loAttributesNode;
						var lBinding;
						var loMemberAccessNode;
						var loInternalDimension;
						var ltAttributeNodes;
						var lAttributeNodeIndex;
						var loAttributeNode;
						var lAttributeName;
						var loInternalAttribute;
						if (oCharacteristicNode === null || oDimension === null) {
							return;
						}
						loResultSetNode = oCharacteristicNode
								.getFirstChildWoBiNameSpace("RESULT_SET");
						if (loResultSetNode === null) {
							return;
						}
						loAttributesNode = loResultSetNode
								.getFirstChildWoBiNameSpace("ATTRIBUTES");
						if (loAttributesNode === null) {
							return;
						}
						lBinding = loAttributesNode.getAttribute("binding");
						if (sap.firefly.XString.isEqual("MEMBER_ACCESS",
								lBinding)) {
							loMemberAccessNode = oCharacteristicNode
									.getFirstChildWoBiNameSpace("MEMBER_ACCESS");
							if (loMemberAccessNode !== null) {
								loAttributesNode = loMemberAccessNode
										.getFirstChildWoBiNameSpace("ATTRIBUTES");
							}
						}
						if (loAttributesNode === null) {
							return;
						}
						loInternalDimension = oDimension.getInternalObject();
						ltAttributeNodes = loAttributesNode
								.getChildrenWoBiNameSpace("ATTRIBUTE");
						for (lAttributeNodeIndex = 0; lAttributeNodeIndex < ltAttributeNodes
								.size(); lAttributeNodeIndex++) {
							loAttributeNode = ltAttributeNodes
									.get(lAttributeNodeIndex);
							if (loAttributeNode === null) {
								continue;
							}
							lAttributeName = loAttributeNode.getText();
							loInternalAttribute = null;
							if (this.isHanaSystem()) {
								loInternalAttribute = loInternalDimension
										.getFieldByNameOrAlias(lAttributeName)
										.getAttribute();
							} else {
								loInternalAttribute = loInternalDimension
										.getAttributeByName(sap.firefly.XStringUtils
												.concatenate3(oDimension
														.getName(), ".",
														lAttributeName));
							}
							oDimension.getProperties().addAttributeToResultSet(
									loInternalAttribute.getName(), false);
						}
					},
					setInitialViewDimensionHierarchy : function(
							oCharacteristicNode, oDimension) {
						var loHierachyNode;
						var lHierarchyName;
						var loActiveNode;
						var lActiveNodeText;
						var loDrillLevelNode;
						var lDrillLevelText;
						var lDrillLevel;
						var splitStringList;
						var s1;
						var s2;
						if (oCharacteristicNode === null || oDimension === null) {
							return;
						}
						loHierachyNode = oCharacteristicNode
								.getFirstChildWoBiNameSpace("HIERARCHY");
						if (loHierachyNode === null) {
							return;
						}
						lHierarchyName = loHierachyNode.getAttribute("name");
						if (sap.firefly.XStringUtils
								.isNullOrEmpty(lHierarchyName)) {
							return;
						}
						loActiveNode = loHierachyNode
								.getFirstChildWoBiNameSpace("ACTIVE");
						if (loActiveNode === null) {
							return;
						}
						lActiveNodeText = loActiveNode.getText();
						if (sap.firefly.XString
								.isEqual(lActiveNodeText, "true")) {
							loDrillLevelNode = loHierachyNode
									.getFirstChildWoBiNameSpace("DRILL_LEVEL");
							lDrillLevelText = loDrillLevelNode.getText();
							lDrillLevel = sap.firefly.XInteger
									.convertStringToInteger(lDrillLevelText);
							splitStringList = sap.firefly.XStringTokenizer
									.splitString(lHierarchyName, ".");
							if (splitStringList.size() === 1) {
								oDimension.getProperties().setHierarchyName(
										lHierarchyName, false);
							} else {
								s1 = splitStringList.get(0);
								s1 = sap.firefly.XString.replace(s1, "[", "");
								s1 = sap.firefly.XString.replace(s1, "]", "");
								s2 = splitStringList.get(1);
								s2 = sap.firefly.XString.replace(s2, "[", "");
								s2 = sap.firefly.XString.replace(s2, "]", "");
								oDimension.getProperties().setHierarchyName(s2,
										false);
							}
							oDimension.getProperties().setHierarchyActive(true,
									false);
							oDimension.getProperties().setHierarchyDrillLevel(
									lDrillLevel, false);
						}
					},
					setInitialViewDimensionMemberAccess : function(
							oCharacteristicNode, oDimension) {
						var loMemberAccessNode;
						var lModeAttribute;
						var loInternalDimension;
						if (oCharacteristicNode === null || oDimension === null) {
							return;
						}
						loMemberAccessNode = oCharacteristicNode
								.getFirstChildWoBiNameSpace("MEMBER_ACCESS");
						if (loMemberAccessNode === null) {
							return;
						}
						lModeAttribute = loMemberAccessNode
								.getAttribute("mode");
						if (lModeAttribute === null) {
							return;
						}
						loInternalDimension = oDimension.getInternalObject();
						if (sap.firefly.XString.isEqual(lModeAttribute,
								"MODE_POSTED_VALUES")
								|| sap.firefly.XString.isEqual(lModeAttribute,
										"BOOKED_VALUES")) {
							if (loInternalDimension
									.supportsReadMode(
											sap.firefly.QContextType.SELECTOR,
											sap.firefly.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE)) {
								loInternalDimension
										.setReadMode(
												sap.firefly.QContextType.SELECTOR,
												sap.firefly.QMemberReadMode.BOOKED_AND_SPACE_AND_STATE);
							} else {
								if (loInternalDimension
										.supportsReadMode(
												sap.firefly.QContextType.SELECTOR,
												sap.firefly.QMemberReadMode.BOOKED_AND_SPACE)) {
									loInternalDimension
											.setReadMode(
													sap.firefly.QContextType.SELECTOR,
													sap.firefly.QMemberReadMode.BOOKED_AND_SPACE);
									loInternalDimension
											.setSelectorFilterUsage(sap.firefly.QueryFilterUsage.QUERY_FILTER);
								} else {
									if (loInternalDimension.supportsReadMode(
											sap.firefly.QContextType.SELECTOR,
											sap.firefly.QMemberReadMode.BOOKED)) {
										loInternalDimension
												.setReadMode(
														sap.firefly.QContextType.SELECTOR,
														sap.firefly.QMemberReadMode.BOOKED);
										loInternalDimension
												.setSelectorFilterUsage(sap.firefly.QueryFilterUsage.QUERY_FILTER);
									}
								}
							}
						} else {
							if (sap.firefly.XString.isEqual(lModeAttribute,
									"MODE_MASTER_DATA")
									|| sap.firefly.XString.isEqual(
											lModeAttribute, "MASTER_DATA")) {
								if (loInternalDimension
										.supportsReadMode(
												sap.firefly.QContextType.SELECTOR,
												sap.firefly.QMemberReadMode.MASTER_AND_SPACE)) {
									loInternalDimension
											.setReadMode(
													sap.firefly.QContextType.SELECTOR,
													sap.firefly.QMemberReadMode.MASTER_AND_SPACE);
								} else {
									if (loInternalDimension.supportsReadMode(
											sap.firefly.QContextType.SELECTOR,
											sap.firefly.QMemberReadMode.MASTER)) {
										loInternalDimension
												.setReadMode(
														sap.firefly.QContextType.SELECTOR,
														sap.firefly.QMemberReadMode.MASTER);
									} else {
										if (loInternalDimension
												.supportsReadMode(
														sap.firefly.QContextType.SELECTOR,
														sap.firefly.QMemberReadMode.MASTER_AND_SPACE_AND_STATE)) {
											loInternalDimension
													.setReadMode(
															sap.firefly.QContextType.SELECTOR,
															sap.firefly.QMemberReadMode.MASTER_AND_SPACE_AND_STATE);
										}
									}
								}
							} else {
								if (sap.firefly.XString.isEqual(lModeAttribute,
										"MODE_FACT_TABLE")
										|| sap.firefly.XString.isEqual(
												lModeAttribute,
												"DIMENSION_TABLE")) {
									if (loInternalDimension
											.supportsReadMode(
													sap.firefly.QContextType.SELECTOR,
													sap.firefly.QMemberReadMode.BOOKED_AND_SPACE)) {
										loInternalDimension
												.setReadMode(
														sap.firefly.QContextType.SELECTOR,
														sap.firefly.QMemberReadMode.MASTER_AND_SPACE);
									} else {
										if (loInternalDimension
												.supportsReadMode(
														sap.firefly.QContextType.SELECTOR,
														sap.firefly.QMemberReadMode.BOOKED)) {
											loInternalDimension
													.setReadMode(
															sap.firefly.QContextType.SELECTOR,
															sap.firefly.QMemberReadMode.BOOKED);
										}
									}
								}
							}
						}
					},
					setInitialViewMeasureProperties : function(oRootNode,
							oQueryModel) {
						var loDataCellsNode;
						var lSignPresentation;
						var lZeroPresentation;
						var ltDataCellNodes;
						var loDataCellIterator;
						var loDataCellNode;
						var loMembersNode;
						var ltMemberNodes;
						var loMemberNodeIterator;
						var loMemberNode;
						var lMemberName;
						var loResultCalculationNode;
						var lResultCalculation;
						var loDecimalsNode;
						var lDecimals;
						var loScalingFactorNode;
						var lScalingFactor;
						if (oRootNode === null || oQueryModel === null) {
							return;
						}
						loDataCellsNode = oRootNode
								.getFirstChildWoBiNameSpace("DATA_CELLS");
						if (loDataCellsNode === null) {
							return;
						}
						lSignPresentation = loDataCellsNode
								.getAttribute("signPresentation");
						if (!sap.firefly.XString.isEqual("BEFORE_NUMBER",
								lSignPresentation)) {
							this.addNotImplementedInitialViewPropertiesMessage(
									"sign presentation", lSignPresentation);
						}
						lZeroPresentation = loDataCellsNode
								.getAttribute("zeroPresentation");
						if (!sap.firefly.XString.isEqual("NORMAL",
								lZeroPresentation)) {
							this.addNotImplementedInitialViewPropertiesMessage(
									"zero presentation", lZeroPresentation);
						}
						ltDataCellNodes = loDataCellsNode
								.getChildrenWoBiNameSpace("DATA_CELL");
						loDataCellIterator = ltDataCellNodes.getIterator();
						while (loDataCellIterator.hasNext()) {
							loDataCellNode = loDataCellIterator.next();
							if (loDataCellNode === null) {
								continue;
							}
							loMembersNode = loDataCellNode
									.getFirstChildWoBiNameSpace("MEMBERS");
							if (loMembersNode === null) {
								continue;
							}
							ltMemberNodes = loMembersNode
									.getChildrenWoBiNameSpace("MEMBER");
							loMemberNodeIterator = ltMemberNodes.getIterator();
							while (loMemberNodeIterator.hasNext()) {
								loMemberNode = loMemberNodeIterator.next();
								if (loMemberNode === null) {
									continue;
								}
								lMemberName = loMemberNode.getAttribute("name");
								loResultCalculationNode = loDataCellNode
										.getFirstChildWoBiNameSpace("RESULT_CALCULATION");
								if (loResultCalculationNode !== null) {
									lResultCalculation = loResultCalculationNode
											.getText();
									if (!(sap.firefly.XString.isEqual("SUM",
											lResultCalculation) || sap.firefly.XString
											.isEqual("NONE", lResultCalculation))) {
										this
												.addNotImplementedInitialViewPropertiesForMemberMessage(
														lMemberName,
														"resultset calculation",
														lResultCalculation);
									}
								}
								loDecimalsNode = loDataCellNode
										.getFirstChildWoBiNameSpace("DECIMALS");
								if (loDecimalsNode !== null) {
									lDecimals = loDecimalsNode.getText();
									if (!sap.firefly.XString.isEqual("-1",
											lDecimals)) {
										this
												.addNotImplementedInitialViewPropertiesForMemberMessage(
														lMemberName,
														"decimals", lDecimals);
									}
								}
								loScalingFactorNode = loDataCellNode
										.getFirstChildWoBiNameSpace("SCALING_FACTOR");
								if (loScalingFactorNode !== null) {
									lScalingFactor = loScalingFactorNode
											.getText();
									if (!sap.firefly.XString.isEqual("-1",
											lScalingFactor)) {
										this
												.addNotImplementedInitialViewPropertiesForMemberMessage(
														lMemberName,
														"scaling factor",
														lScalingFactor);
									}
								}
							}
						}
					},
					setInitialViewRemoveCountMeasure : function(oQueryModel) {
						var loInternalMeasureDimension;
						var ltAllStructureMembers;
						var ltAllStructureMembersWritable;
						var loStructureMember;
						if (oQueryModel === null) {
							return;
						}
						loInternalMeasureDimension = oQueryModel
								.getMeasureDimension();
						if (loInternalMeasureDimension !== null) {
							ltAllStructureMembers = loInternalMeasureDimension
									.getAllStructureMembers();
							ltAllStructureMembersWritable = ltAllStructureMembers;
							loStructureMember = ltAllStructureMembersWritable
									.getByKey("COUNT");
							if (loStructureMember !== null) {
								ltAllStructureMembersWritable
										.removeElement(loStructureMember);
							}
						}
					},
					addResultSetConfigurationProvider : function(oProvider) {
						if (oProvider === null) {
							return;
						}
						if (this.tResultSetConfigProviders === null) {
							this.tResultSetConfigProviders = sap.firefly.XList
									.create();
						}
						if (this.tResultSetConfigProviders.contains(oProvider)) {
							return;
						}
						this.tResultSetConfigProviders.add(oProvider);
					},
					removeResultSetConfigurationProvider : function(oProvider) {
						if (oProvider === null) {
							return;
						}
						if (this.tResultSetConfigProviders === null) {
							return;
						}
						this.tResultSetConfigProviders.removeElement(oProvider);
					},
					getRequiredSizeForAxis : function(axis) {
						var lMinSize = 0;
						var lProviderIndex;
						var loProvider;
						var loConfiguration;
						var lConfigMinSize;
						if (this.tResultSetConfigProviders !== null) {
							for (lProviderIndex = 0; lProviderIndex < this.tResultSetConfigProviders
									.size(); lProviderIndex++) {
								loProvider = this.tResultSetConfigProviders
										.get(lProviderIndex);
								loConfiguration = loProvider
										.provideResultSetConfiguration();
								if (loConfiguration === null) {
									continue;
								}
								lConfigMinSize = 0;
								if (axis === sap.firefly.AxisType.ROWS) {
									lConfigMinSize = loConfiguration
											.getMinResultRows();
								} else {
									if (axis === sap.firefly.AxisType.COLUMNS) {
										lConfigMinSize = loConfiguration
												.getMinResultColumns();
									}
								}
								if (lConfigMinSize > lMinSize
										|| lConfigMinSize < 0) {
									lMinSize = lConfigMinSize;
								}
							}
						}
						return lMinSize;
					}
				});
$Firefly.createClass("sap.zen.DimensionWrapper", sap.zen.Dimension,
		{
			$statics : {
				create : function(oDataSource, oResultSet, dimensionName) {
					var loInstance = null;
					var loInternalDimension = sap.zen.Dimension
							.sGetDimensionObject(oDataSource, dimensionName);
					if (loInternalDimension !== null) {
						loInstance = new sap.zen.DimensionWrapper();
						loInstance.initMe(null, oDataSource, oResultSet,
								dimensionName);
					}
					return loInstance;
				}
			}
		});
$Firefly.createClass("sap.zen.ActionResponse", sap.firefly.MessageManager, {
	$statics : {
		createActionResponse : function() {
			var loInstance = new sap.zen.ActionResponse();
			loInstance.setup();
			return loInstance;
		}
	},
	actionPerformed : false,
	actionWasPerformed : function() {
		return this.actionPerformed;
	}
});
$Firefly
		.createClass(
				"sap.zen.CLocalizationBookmarkMessages",
				sap.zen.LocalizationBookmark,
				{
					$statics : {
						ID_0008 : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationBookmarkMessages.ID_0008 !== null) {
								return;
							}
							sap.zen.CLocalizationBookmarkMessages.ID_0008 = sap.zen.CLocalizationBookmarkMessages
									.create("BookmarkScriptableSingleton_0008",
											'Error while retrieving bookmark. Bookmark with ID "{0}" does not exist.');
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationBookmarkMessages();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CLocalizationCommandResolverMessages",
				sap.zen.LocalizationCommandResolver,
				{
					$statics : {
						CONVERT_UNSUPPORTED_METHOD : null,
						CONVERT_UNSUPPORTED_FORMATSTRING : null,
						PAGE_APP_NOT_LOADED : null,
						PAGE_SCRIPTING_ERROR : null,
						PAGE_UNSUPPORTED_EXPORT : null,
						staticSetup : function() {
							if (sap.zen.CLocalizationCommandResolverMessages.CONVERT_UNSUPPORTED_METHOD !== null) {
								return;
							}
							sap.zen.CLocalizationCommandResolverMessages.CONVERT_UNSUPPORTED_METHOD = sap.zen.CLocalizationCommandResolverMessages
									.create("CONVERT_UNSUPPORTED_METHOD",
											"This method is not supported");
							sap.zen.CLocalizationCommandResolverMessages.CONVERT_UNSUPPORTED_FORMATSTRING = sap.zen.CLocalizationCommandResolverMessages
									.create("CONVERT_UNSUPPORTED_FORMATSTRING",
											"It is not possible to use a formatting string here");
							sap.zen.CLocalizationCommandResolverMessages.PAGE_APP_NOT_LOADED = sap.zen.CLocalizationCommandResolverMessages
									.create("PAGE_APP_NOT_LOADED",
											"Application {0} could not be loaded");
							sap.zen.CLocalizationCommandResolverMessages.PAGE_SCRIPTING_ERROR = sap.zen.CLocalizationCommandResolverMessages
									.create("PAGE_SCRIPTING_ERROR",
											"An error occurred during script processing");
							sap.zen.CLocalizationCommandResolverMessages.PAGE_UNSUPPORTED_EXPORT = sap.zen.CLocalizationCommandResolverMessages
									.create("PAGE_UNSUPPORTED_EXPORT",
											'Application API method "export" is not supported yet for export type {0}');
						},
						create : function(id, defaultText) {
							var loInstance = new sap.zen.CLocalizationCommandResolverMessages();
							loInstance.initMe(id, defaultText);
							return loInstance;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.Component",
				sap.zen.PageObject,
				{
					$statics : {
						RIGHT_MARGIN : null,
						HEIGHT : null,
						WIDTH : null,
						BOTTOM_MARGIN : null,
						TOP_MARGIN : null,
						AUTO : null,
						VISIBLE : null,
						LEFT_MARGIN : null
					},
					ctype : null,
					cuid : null,
					oItemMessage : null,
					renderCssAndShowLoadingState : false,
					inFillManadatoryVariablesMode : false,
					isRenderCssAndShowLoadingState : function() {
						return this.renderCssAndShowLoadingState;
					},
					setRenderCssAndShowLoadingState : function(
							renderCssAndShowLoadingState) {
						this.renderCssAndShowLoadingState = renderCssAndShowLoadingState;
					},
					isEnabled : function() {
						return this.getBooleanPropertyWithDefault("ENABLED",
								true);
					},
					setEnabled : function(enabled) {
						this.setBooleanProperty("ENABLED", enabled);
					},
					getItemMessage : function() {
						return this.oItemMessage;
					},
					setItemMessage : function(itemMessage) {
						this.oItemMessage = itemMessage;
					},
					setInitParameters : function(initParameters) {
						var node;
						sap.zen.Component.$superclass.setInitParameters.call(
								this, initParameters);
						this.setContentChanged(true);
						if (this.getInitParameters() !== null) {
							node = this.getInitParameters()
									.getFirstChildWithNameTag(
											sap.zen.Component.VISIBLE);
							if (node !== null) {
								if (sap.firefly.XString.isEqual("", node
										.getAttribute("value"))) {
									this.setVisible(false);
								}
							}
						}
					},
					setCSSClass : function(cssClass) {
						this.setStringProperty("CSS_CLASS", cssClass);
						this.getParent().setChildrenContentChanged();
						this.getParent().setContentChanged(true);
					},
					getCSSClass : function() {
						return this.getStringPropertyWithDefault("CSS_CLASS",
								"");
					},
					initBase : function(uid, type, page, parent, initParameter) {
						sap.zen.Component.RIGHT_MARGIN = "RIGHT_MARGIN";
						sap.zen.Component.HEIGHT = "HEIGHT";
						sap.zen.Component.WIDTH = "WIDTH";
						sap.zen.Component.BOTTOM_MARGIN = "BOTTOM_MARGIN";
						sap.zen.Component.TOP_MARGIN = "TOP_MARGIN";
						sap.zen.Component.AUTO = "auto";
						sap.zen.Component.LEFT_MARGIN = "LEFT_MARGIN";
						sap.zen.Component.VISIBLE = "VISIBLE";
						sap.zen.Component.$superclass.initBase.call(this, uid,
								type, page, parent, initParameter);
						this.setRenderCssAndShowLoadingState(true);
					},
					isNewValue : function(param, value) {
						var oldValue = this.getStringPropertyWithDefault(param,
								null);
						return !sap.firefly.XString.isEqual(oldValue, value);
					},
					isSizeParameterAuto : function(param) {
						var oldValue;
						if (sap.firefly.XString.isEqual(
								sap.zen.Component.WIDTH, param)) {
							return sap.firefly.XString
									.isEqual(this.getWidthAsString(),
											sap.zen.Component.AUTO);
						} else {
							if (sap.firefly.XString.isEqual(
									sap.zen.Component.HEIGHT, param)) {
								return sap.firefly.XString.isEqual(this
										.getHeightAsString(),
										sap.zen.Component.AUTO);
							} else {
								if (sap.firefly.XString.isEqual(
										sap.zen.Component.TOP_MARGIN, param)) {
									return sap.firefly.XString.isEqual(this
											.getTopMarginAsString(),
											sap.zen.Component.AUTO);
								} else {
									if (sap.firefly.XString.isEqual(
											sap.zen.Component.RIGHT_MARGIN,
											param)) {
										return sap.firefly.XString.isEqual(this
												.getRightMarginAsString(),
												sap.zen.Component.AUTO);
									} else {
										if (sap.firefly.XString
												.isEqual(
														sap.zen.Component.BOTTOM_MARGIN,
														param)) {
											return sap.firefly.XString
													.isEqual(
															this
																	.getBottomMarginAsString(),
															sap.zen.Component.AUTO);
										} else {
											if (sap.firefly.XString
													.isEqual(
															sap.zen.Component.LEFT_MARGIN,
															param)) {
												return sap.firefly.XString
														.isEqual(
																this
																		.getLeftMarginAsString(),
																sap.zen.Component.AUTO);
											} else {
												oldValue = this
														.getStringPropertyWithDefault(
																param,
																sap.zen.Component.AUTO);
												return sap.firefly.XString
														.isEqual(
																oldValue,
																sap.zen.Component.AUTO);
											}
										}
									}
								}
							}
						}
					},
					getDefaultWidthAsString : function() {
						return "500";
					},
					getDefaultHeightAsString : function() {
						return "300";
					},
					getDefaultProperty : function(name) {
						if (sap.firefly.XString.isEqual("CSS_CLASS", name)) {
							return "";
						} else {
							if (sap.firefly.XString.isEqual("ON_CLICK", name)) {
								return "";
							} else {
								if (sap.firefly.XString.isEqual("WIDTH", name)) {
									return this.getWidthAsString();
								} else {
									if (sap.firefly.XString.isEqual("HEIGHT",
											name)) {
										return this.getHeightAsString();
									} else {
										if (sap.firefly.XString.isEqual(
												"TOP_MARGIN", name)) {
											return this.getTopMarginAsString();
										} else {
											if (sap.firefly.XString.isEqual(
													"BOTTOM_MARGIN", name)) {
												return this
														.getBottomMarginAsString();
											} else {
												if (sap.firefly.XString
														.isEqual("LEFT_MARGIN",
																name)) {
													return this
															.getLeftMarginAsString();
												} else {
													if (sap.firefly.XString
															.isEqual(
																	"RIGHT_MARGIN",
																	name)) {
														return this
																.getRightMarginAsString();
													}
												}
											}
										}
									}
								}
							}
						}
						return sap.zen.Component.$superclass.getDefaultProperty
								.call(this, name);
					},
					setSizePropertyAsStringWoCheck : function(sizeProperty,
							newValue) {
						var lInitialValue = this.getStringPropertyWithDefault(
								sizeProperty, null);
						this.setStringProperty(sizeProperty, newValue);
					},
					setSizePropertyAsString : function(newValue,
							paramItShouldChangeFor, paramThatHasPriotity,
							paramThatDoesNotHavePriotity) {
						var initialValue = this.getStringPropertyWithDefault(
								paramItShouldChangeFor, null);
						var otherLayout;
						if (sap.firefly.XString.isEqual(sap.zen.Component.AUTO,
								newValue)) {
							if (!this.isNewValue(paramItShouldChangeFor,
									sap.zen.Component.AUTO)) {
								return;
							}
							otherLayout = "";
							if (this.isSizeParameterAuto(paramThatHasPriotity)) {
								otherLayout = paramThatHasPriotity;
							} else {
								otherLayout = paramThatDoesNotHavePriotity;
							}
							this.setStringProperty(otherLayout, initialValue);
							this.setStringProperty(paramItShouldChangeFor,
									sap.zen.Component.AUTO);
						} else {
							if (!this.isNewValue(paramItShouldChangeFor,
									newValue)) {
								return;
							}
							if (this
									.isSizeParameterAuto(paramItShouldChangeFor)) {
								this.setStringProperty(
										paramThatDoesNotHavePriotity,
										sap.zen.Component.AUTO);
								this.setStringProperty(paramItShouldChangeFor,
										newValue);
							} else {
								this.setStringProperty(paramItShouldChangeFor,
										newValue);
							}
						}
					},
					getWidthAsString : function() {
						if (!sap.firefly.XString.isEqual(this
								.getLeftMarginAsString(), "auto")
								&& !sap.firefly.XString.isEqual(this
										.getRightMarginAsString(), "auto")) {
							return "auto";
						}
						return this.getStringPropertyWithDefault(
								sap.zen.Component.WIDTH, this
										.getDefaultWidthAsString());
					},
					getWidth : function() {
						return this.getWidthAsString();
					},
					setWidthAsStringWoCheck : function(newValue) {
						this.setSizePropertyAsStringWoCheck(
								sap.zen.Component.WIDTH, newValue);
					},
					setWidthAsString : function(newValue) {
						this.setSizePropertyAsString(newValue,
								sap.zen.Component.WIDTH,
								sap.zen.Component.LEFT_MARGIN,
								sap.zen.Component.RIGHT_MARGIN);
					},
					setWidth : function(width) {
						var convertObjectToInt;
						if (sap.buddha.XObjectConverter.isObjectString(width)) {
							this.setWidthAsString(sap.buddha.XObjectConverter
									.convertObjectToString(width));
						} else {
							convertObjectToInt = sap.buddha.XObjectConverter
									.convertObjectToInt(width);
							this.setWidthAsString(sap.firefly.XIntegerValue
									.create(convertObjectToInt).toString());
						}
					},
					getHeightAsString : function() {
						if (!sap.firefly.XString.isEqual(this
								.getTopMarginAsString(), "auto")
								&& !sap.firefly.XString.isEqual(this
										.getBottomMarginAsString(), "auto")) {
							return "auto";
						}
						return this.getStringPropertyWithDefault(
								sap.zen.Component.HEIGHT, this
										.getDefaultHeightAsString());
					},
					getHeight : function() {
						return this.getHeightAsString();
					},
					setHeightAsStringWoCheck : function(newValue) {
						this.setSizePropertyAsStringWoCheck(
								sap.zen.Component.HEIGHT, newValue);
					},
					setHeightAsString : function(newValue) {
						this.setSizePropertyAsString(newValue,
								sap.zen.Component.HEIGHT,
								sap.zen.Component.TOP_MARGIN,
								sap.zen.Component.BOTTOM_MARGIN);
					},
					setHeight : function(height) {
						var convertObjectToInt;
						if (sap.buddha.XObjectConverter.isObjectString(height)) {
							this.setHeightAsString(sap.buddha.XObjectConverter
									.convertObjectToString(height));
						} else {
							convertObjectToInt = sap.buddha.XObjectConverter
									.convertObjectToInt(height);
							this.setHeightAsString(sap.firefly.XIntegerValue
									.create(convertObjectToInt).toString());
						}
					},
					getLeftMarginAsString : function() {
						return this.getStringPropertyWithDefault(
								sap.zen.Component.LEFT_MARGIN, "0");
					},
					getLeftMargin : function() {
						return this.getLeftMarginAsString();
					},
					setLeftMarginAsStringWoCheck : function(newValue) {
						this.setSizePropertyAsStringWoCheck(
								sap.zen.Component.LEFT_MARGIN, newValue);
					},
					setLeftMarginAsString : function(newValue) {
						this.setSizePropertyAsString(newValue,
								sap.zen.Component.LEFT_MARGIN,
								sap.zen.Component.WIDTH,
								sap.zen.Component.RIGHT_MARGIN);
					},
					setLeftMargin : function(newValue) {
						var convertObjectToInt;
						if (sap.buddha.XObjectConverter
								.isObjectString(newValue)) {
							this
									.setLeftMarginAsString(sap.buddha.XObjectConverter
											.convertObjectToString(newValue));
						} else {
							convertObjectToInt = sap.buddha.XObjectConverter
									.convertObjectToInt(newValue);
							this
									.setLeftMarginAsString(sap.firefly.XIntegerValue
											.create(convertObjectToInt)
											.toString());
						}
					},
					getTopMarginAsString : function() {
						return this.getStringPropertyWithDefault(
								sap.zen.Component.TOP_MARGIN, "0");
					},
					getTopMargin : function() {
						return this.getTopMarginAsString();
					},
					setTopMarginAsStringWoCheck : function(newValue) {
						this.setSizePropertyAsStringWoCheck(
								sap.zen.Component.TOP_MARGIN, newValue);
					},
					setTopMarginAsString : function(newValue) {
						this.setSizePropertyAsString(newValue,
								sap.zen.Component.TOP_MARGIN,
								sap.zen.Component.HEIGHT,
								sap.zen.Component.BOTTOM_MARGIN);
					},
					setTopMargin : function(newValue) {
						var convertObjectToInt;
						if (sap.buddha.XObjectConverter
								.isObjectString(newValue)) {
							this
									.setTopMarginAsString(sap.buddha.XObjectConverter
											.convertObjectToString(newValue));
						} else {
							convertObjectToInt = sap.buddha.XObjectConverter
									.convertObjectToInt(newValue);
							this.setTopMarginAsString(sap.firefly.XIntegerValue
									.create(convertObjectToInt).toString());
						}
					},
					getRightMarginAsString : function() {
						return this.getStringPropertyWithDefault(
								sap.zen.Component.RIGHT_MARGIN, "auto");
					},
					getRightMargin : function() {
						return this.getRightMarginAsString();
					},
					setRightMarginAsStringWoCheck : function(newValue) {
						this.setSizePropertyAsStringWoCheck(
								sap.zen.Component.RIGHT_MARGIN, newValue);
					},
					setRightMarginAsString : function(newValue) {
						this.setSizePropertyAsString(newValue,
								sap.zen.Component.RIGHT_MARGIN,
								sap.zen.Component.WIDTH,
								sap.zen.Component.LEFT_MARGIN);
					},
					setRightMargin : function(newValue) {
						var convertObjectToInt;
						if (sap.buddha.XObjectConverter
								.isObjectString(newValue)) {
							this
									.setRightMarginAsString(sap.buddha.XObjectConverter
											.convertObjectToString(newValue));
						} else {
							convertObjectToInt = sap.buddha.XObjectConverter
									.convertObjectToInt(newValue);
							this
									.setRightMarginAsString(sap.firefly.XIntegerValue
											.create(convertObjectToInt)
											.toString());
						}
					},
					getBottomMarginAsString : function() {
						return this.getStringPropertyWithDefault(
								sap.zen.Component.BOTTOM_MARGIN, "auto");
					},
					getBottomMargin : function() {
						return this.getBottomMarginAsString();
					},
					setBottomMarginAsStringWoCheck : function(newValue) {
						this.setSizePropertyAsStringWoCheck(
								sap.zen.Component.BOTTOM_MARGIN, newValue);
					},
					setBottomMarginAsString : function(newValue) {
						this.setSizePropertyAsString(newValue,
								sap.zen.Component.BOTTOM_MARGIN,
								sap.zen.Component.HEIGHT,
								sap.zen.Component.TOP_MARGIN);
					},
					setBottomMargin : function(newValue) {
						var convertObjectToInt;
						if (sap.buddha.XObjectConverter
								.isObjectString(newValue)) {
							this
									.setBottomMarginAsString(sap.buddha.XObjectConverter
											.convertObjectToString(newValue));
						} else {
							convertObjectToInt = sap.buddha.XObjectConverter
									.convertObjectToInt(newValue);
							this
									.setBottomMarginAsString(sap.firefly.XIntegerValue
											.create(convertObjectToInt)
											.toString());
						}
					},
					isVisible : function() {
						var parent = this.getParent();
						if (parent !== null) {
							if (parent.isInFillManadatoryVariablesMode() === true) {
								return false;
							}
						}
						return this.isVisibleInternal();
					},
					isVisibleRecursive : function() {
						var loComponent;
						for (loComponent = this; loComponent !== null; loComponent = loComponent
								.getParent()) {
							if (!loComponent.isVisible()) {
								return false;
							}
						}
						return true;
					},
					isVisibleInternal : function() {
						return this.getBooleanPropertyWithDefault(
								sap.zen.Component.VISIBLE, true);
					},
					isVisbleDefault : function() {
						return this.getProperty(sap.zen.Component.VISIBLE) === null;
					},
					setVisible : function(visible) {
						if (this.isVisible() !== visible) {
							this.setContentChangedRecursive();
						}
						this.setBooleanProperty(sap.zen.Component.VISIBLE,
								visible);
					},
					renderOnlyPlaceholder : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						renderSerializer.openTag("component");
						renderSerializer.addAttribute("id", this.getPage()
								.getIdForRendering(this.getId()));
						renderSerializer.addAttribute("type", this.getType());
						renderSerializer.closeTag();
					},
					renderComponentInternal : function(renderManager) {
						if (!this.isVisible() && !this.renderEvenIfNotVisible()) {
							this.resetStateFlags();
							return;
						}
						if (!this.shouldRender()) {
							this.resetStateFlags();
							return;
						}
						if (this.isContentChanged()) {
							this.renderComponentPropertiesAndContent(
									renderManager, renderManager
											.getRenderSerializer());
						} else {
							if (this.hasChildrenContentChanged()) {
								this.renderChildren(renderManager);
							} else {
								if (this.isOnlyPositionParameterChanged()) {
									this
											.renderComponentAndCommonAttributes(
													renderManager
															.getRenderSerializer(),
													true);
								} else {
									if (this.isRenderOnlyPlaceholder()) {
										this
												.renderOnlyPlaceholder(renderManager);
									}
								}
							}
						}
						this.resetStateFlags();
					},
					shouldRender : function() {
						return true;
					},
					renderComponentPropertiesAndContent : function(
							renderManager, renderSerializer) {
						this.renderComponentAndCommonAttributes(
								renderSerializer, false);
						renderSerializer.openTag("content");
						this.renderContentInternal(renderManager);
						renderSerializer.closeTag();
						renderSerializer.closeTag();
					},
					renderComponentAndCommonAttributes : function(
							renderSerializer, renderCloseTag) {
						var showLoadingStateFlag;
						var loadingText;
						renderSerializer.openTag("component");
						renderSerializer.addAttribute("id", this.getPage()
								.getIdForRendering(this.getId()));
						renderSerializer.addAttribute("type", this.getType());
						if (!this.ignorePositionParameter()) {
							if (this.getWidthAsString() !== null) {
								renderSerializer.addAttribute("width", this
										.getWidthAsString());
							}
							if (this.getHeightAsString() !== null) {
								renderSerializer.addAttribute("height", this
										.getHeightAsString());
							}
							if (this.getLeftMarginAsString() !== null) {
								renderSerializer.addAttribute("leftmargin",
										this.getLeftMarginAsString());
							}
							if (this.getRightMarginAsString() !== null) {
								renderSerializer.addAttribute("rightmargin",
										this.getRightMarginAsString());
							}
							if (this.getTopMarginAsString() !== null) {
								renderSerializer.addAttribute("topmargin", this
										.getTopMarginAsString());
							}
							if (this.getBottomMarginAsString() !== null) {
								renderSerializer.addAttribute("bottommargin",
										this.getBottomMarginAsString());
							}
							if (this.isRenderCssAndShowLoadingState()) {
								if (this.getStringPropertyWithDefault(
										"CSS_CLASS", "") !== null) {
									renderSerializer.addAttribute("cssclass",
											this.getStringPropertyWithDefault(
													"CSS_CLASS", ""));
								}
								showLoadingStateFlag = this
										.getBooleanPropertyWithDefault(
												"SHOW_LOADING_STATE", false);
								renderSerializer.addBooleanAttribute(
										"showLoadingState",
										showLoadingStateFlag);
								if (showLoadingStateFlag) {
									loadingText = this
											.getStringPropertyWithDefault(
													"SHOW_LOADING_STATE_TEXT",
													null);
									if (loadingText !== null) {
										renderSerializer.addAttribute(
												"showLoadingStateText",
												loadingText);
									}
								}
							}
							if (this.getPage().isDesignMode()) {
								renderSerializer.addBooleanAttribute("visible",
										this.isVisible());
							}
							this.writeItemMessage(renderSerializer, this
									.getItemMessage());
						}
						if (renderCloseTag === true) {
							renderSerializer.closeTag();
						}
					},
					hideLoadingState : function() {
						this.setBooleanProperty("SHOW_LOADING_STATE", false);
						this.setStringProperty("SHOW_LOADING_STATE_TEXT", null);
					},
					showLoadingState : function() {
						this.showLoadingState1(null);
					},
					showLoadingState1 : function(msg) {
						this.setStringProperty("SHOW_LOADING_STATE_TEXT", msg);
						this.setBooleanProperty("SHOW_LOADING_STATE", true);
					},
					renderChildren : function(renderManager) {
						return;
					},
					writeItemMessage : function(renderSerializer, itemMessage) {
						var messageType;
						var typeAsString;
						var text;
						if (itemMessage !== null) {
							renderSerializer.openTag("message");
							messageType = itemMessage.getMessageType();
							if (messageType !== null) {
								typeAsString = messageType.getType();
								renderSerializer.addAttribute("type",
										typeAsString);
							}
							text = itemMessage.getMessage();
							renderSerializer.addText(text);
							renderSerializer.closeTag();
						}
					},
					setContentChangedRecursive : function() {
						this.setContentChanged(true);
					},
					initControl : function(uid, type) {
						this.cuid = uid;
						this.ctype = type;
					},
					getCType : function() {
						return this.ctype;
					},
					getCId : function() {
						return this.cuid;
					},
					renderContentInternal : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						renderSerializer.openTag("control");
						renderSerializer.addAttribute("type", this.getCType());
						renderSerializer.addAttribute("id", this.getPage()
								.getIdForRendering(this.getCId()));
						this.renderControlContent(renderManager);
						renderSerializer.closeTag();
					},
					renderControlContent : function(renderManager) {
					},
					renderEvenIfNotVisible : function() {
						return false;
					},
					setVisibilityChanged : function(newVisibility) {
						return;
					},
					ignorePositionParameter : function() {
						return false;
					},
					isSmartLayout : function() {
						return false;
					},
					removeChildItemRefs : function() {
						return;
					},
					addChildItemRef : function(child) {
						return;
					},
					removeRowSettings : function() {
						return;
					},
					addRowSetting : function(height) {
						return;
					},
					removeColumnSettings : function() {
						return;
					},
					addColumnSetting : function(width) {
						return;
					},
					startInitialize : function() {
						return;
					},
					addSelection : function(text, value, selected) {
						return;
					},
					setInFillManadatoryVariablesMode : function(
							inFillManadatoryVariablesMode) {
						if ((this.inFillManadatoryVariablesMode === true)
								&& (inFillManadatoryVariablesMode === false)) {
							this.getPage().reassignInitialViews();
						}
						this.inFillManadatoryVariablesMode = inFillManadatoryVariablesMode;
						this.setContentChanged(true);
					},
					isInFillManadatoryVariablesMode : function() {
						return this.inFillManadatoryVariablesMode;
					},
					applyInitParameters : function(initParameter) {
						var oldInitParameters = this.getInitParameters();
						var allChildren = oldInitParameters.getAllChildren();
						var i;
						var xmlNode;
						var nodeName;
						var newChildren;
						var j;
						var newChild;
						for (i = 0; i < allChildren.size(); i++) {
							xmlNode = allChildren.get(i);
							nodeName = xmlNode.getNodeName();
							if (!sap.firefly.XString.isEqual(nodeName,
									"bi:component")) {
								oldInitParameters.removeChild(xmlNode);
							}
						}
						newChildren = initParameter.getAllChildren();
						for (j = 0; j < newChildren.size(); j++) {
							newChild = newChildren.get(j);
							oldInitParameters.appendChild(newChild);
						}
						this.setContentChanged(true);
						this.clearPropertyCache();
					},
					applyGlobalVariableInitParameters : function(initParameter) {
						var oldInitParameters = this.getInitParameters();
						var oldInitParametersChildren = this
								.getInitParameters().getAllChildren();
						var i;
						var xmlNode;
						var newInitParametersChildren;
						var j;
						var newChild;
						for (i = 0; i < oldInitParametersChildren.size(); i++) {
							xmlNode = oldInitParametersChildren.get(i);
							if (sap.firefly.XString.isEqual(xmlNode
									.getNodeName(), "bi:property")) {
								if (sap.firefly.XString.isEqual(xmlNode
										.getAttribute("name"),
										"GLOBALVARIABLES")) {
									oldInitParameters.removeChild(xmlNode);
								}
							}
						}
						newInitParametersChildren = initParameter
								.getAllChildren();
						for (j = 0; j < newInitParametersChildren.size(); j++) {
							newChild = newInitParametersChildren.get(j);
							if (sap.firefly.XString.isEqual(newChild
									.getNodeName(), "bi:property")) {
								if (sap.firefly.XString.isEqual(newChild
										.getAttribute("name"),
										"GLOBALVARIABLES")) {
									oldInitParameters.appendChild(newChild);
								}
							}
						}
						this.setContentChanged(true);
						this.clearPropertyCache();
					},
					moveToParent : function(parent) {
						var lParent = this.getParent();
						var lParentContainer;
						if (lParent !== null) {
							lParentContainer = lParent;
							lParentContainer.removeChild(this);
						}
						parent.addChild(this);
						this.setParent(parent);
					},
					isComponent : function() {
						return true;
					},
					isContainer : function() {
						return false;
					},
					addToContainerChildren : function() {
						return true;
					},
					getUsedDataSourcesByDummyRendering : function(list) {
						return;
					},
					getListOfXpRowIterator : function() {
						return null;
					},
					releaseObject : function() {
						sap.zen.Component.$superclass.releaseObject.call(this);
					}
				});
$Firefly
		.createClass(
				"sap.zen.XpDSContainer",
				sap.zen.XpContainer,
				{
					$statics : {
						createDSContainer : function(oParent, oDataSource,
								oResultSet) {
							var loInstance = null;
							if (oDataSource !== null) {
								loInstance = new sap.zen.XpDSContainer();
								loInstance.initDSContainer(oParent,
										oDataSource, oResultSet);
							}
							return loInstance;
						}
					},
					oDataSource : null,
					oResultSet : null,
					useTitle : false,
					initDSContainer : function(oParent, oDataSource, oResultSet) {
						sap.zen.XpDSContainer.$superclass.initMe.call(this,
								oParent);
						this.oDataSource = oDataSource;
						this.oResultSet = oResultSet;
						if (this.oResultSet !== null) {
							this.oDataSource = this.oResultSet.getDataSource();
						}
						this.useTitle = true;
					},
					prepare : function() {
						var ltChildren = this.getChildren();
						var loChildKeyIterator = ltChildren
								.getKeysAsIteratorOfString();
						var lChildKey;
						var lDataSourceItem;
						var loChild;
						while (loChildKeyIterator.hasNext()) {
							lChildKey = loChildKeyIterator.next();
							lDataSourceItem = sap.zen.CXpDSItem
									.valueOf2(lChildKey);
							if (lDataSourceItem === null) {
								continue;
							}
							loChild = ltChildren.getByKey(lDataSourceItem
									.getValue());
							if (loChild === null) {
								continue;
							}
							(loChild).prepare();
						}
					},
					getDataSource : function() {
						return this.oDataSource;
					},
					getResultSet : function() {
						if (this.oResultSet === null) {
							this.oResultSet = this.getDataSource()
									.getResultSet();
						}
						return this.oResultSet;
					},
					getDSItem : function(dataSourceItem) {
						var loDSItem = null;
						var loChild = this.getChildByKey(dataSourceItem
								.getValue());
						var ltChildren;
						var loChildKeyIterator;
						var lChildKey;
						var lDataSourceItem;
						if (loChild !== null) {
							loDSItem = loChild;
							return loDSItem;
						}
						ltChildren = this.getChildren();
						loChildKeyIterator = ltChildren
								.getKeysAsIteratorOfString();
						while (loChildKeyIterator.hasNext()) {
							lChildKey = loChildKeyIterator.next();
							lDataSourceItem = sap.zen.CXpDSItem
									.valueOf2(lChildKey);
							if (lDataSourceItem === null) {
								continue;
							}
							loChild = ltChildren.getByKey(lDataSourceItem
									.getValue());
							if (loChild === null) {
								continue;
							}
							loDSItem = (loChild).getDSItem(dataSourceItem);
							if (loDSItem !== null) {
								return loDSItem;
							}
						}
						return null;
					},
					addDSItem : function(dataSourceItem) {
						var loDSItem = null;
						if (dataSourceItem === sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
							loDSItem = sap.zen.XpDSItemContainerTechInfo
									.createTechInfoContainer(this,
											this.oDataSource, this.oResultSet);
						} else {
							if (dataSourceItem === sap.zen.CXpDSItem.VARIABLES) {
								loDSItem = sap.zen.XpDSItemContainerVariables
										.createVariableContainer(this,
												this.oDataSource,
												this.oResultSet);
							} else {
								if (dataSourceItem === sap.zen.CXpDSItem.FILTERS) {
									loDSItem = sap.zen.XpDSItemContainerFilter
											.createFilterContainer(this,
													this.oDataSource,
													this.oResultSet);
								} else {
									if (dataSourceItem === sap.zen.CXpDSItem.GRID) {
										loDSItem = sap.zen.XpDSItemContainerGrid
												.createGridContainer(this,
														this.oDataSource,
														this.oResultSet);
									} else {
										if (dataSourceItem === sap.zen.CXpDSItem.INFO) {
											loDSItem = sap.zen.XpDSItemContainerInfo
													.createInfoContainer(this,
															this.oDataSource,
															this.oResultSet);
										} else {
											if (dataSourceItem === sap.zen.CXpDSItem.DATASOURCE) {
												loDSItem = sap.zen.XpDSItemContainerDataSource
														.createDataSourceContainer(
																this,
																this.oDataSource,
																this.oResultSet);
											}
										}
									}
								}
							}
						}
						if (loDSItem !== null) {
							this.addChildByKey(dataSourceItem.getValue(),
									loDSItem);
						}
						return loDSItem;
					},
					setHasTitle : function(hasTitle) {
						this.useTitle = hasTitle;
					},
					hasTitle : function() {
						var lHasTitle = sap.zen.XpDSContainer.$superclass.hasTitle
								.call(this);
						if (lHasTitle) {
							return this.useTitle;
						}
						return lHasTitle;
					},
					releaseObject : function() {
						sap.zen.XpDSContainer.$superclass.releaseObject
								.call(this);
						this.oDataSource = null;
						this.oResultSet = null;
						this.useTitle = false;
					}
				});
$Firefly
		.createClass(
				"sap.zen.XpDSItemRow",
				sap.zen.XpDataRow,
				{
					$statics : {
						create : function(oParent, rowIndex, oItem) {
							var loInstance = null;
							var lValid = false;
							if (oParent !== null) {
								if (oParent.getDataSourceItem() === sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
									if (oItem !== null) {
										lValid = true;
									}
								}
								if (oParent.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES) {
									if (oItem !== null) {
										lValid = true;
									}
								}
								if (oParent.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
									if (oItem !== null) {
										lValid = true;
									}
								}
								if (oParent.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
									if (oItem !== null) {
										lValid = true;
									}
								}
							}
							if (lValid) {
								loInstance = new sap.zen.XpDSItemRow();
								loInstance.oItem = oItem;
								loInstance.rowIndex = rowIndex;
								loInstance.initMe(oParent);
							}
							return loInstance;
						}
					},
					rowIndex : 0,
					oItem : null,
					initMe : function(oParent) {
						sap.zen.XpDSItemRow.$superclass.initMe.call(this,
								oParent);
					},
					getDataSource : function() {
						return (this.getParent()).getDataSource();
					},
					getResultSet : function() {
						return (this.getParent()).getResultSet();
					},
					getDataSourceItem : function() {
						return (this.getParent()).getDataSourceItem();
					},
					getAmountOfChildren : function() {
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
							return 2;
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES) {
							return 2;
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
							return 2;
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
							return (this.oItem).getColumns();
						}
						return sap.zen.XpDSItemRow.$superclass.getAmountOfChildren
								.call(this);
					},
					getChild : function(index) {
						if (index < 0) {
							return null;
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.TECHNICAL_INFORMATION) {
							return sap.zen.XpDSItemCell.create(this, index,
									this.oItem);
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.VARIABLES) {
							return sap.zen.XpDSItemCell.create(this, index,
									this.oItem);
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.FILTERS) {
							return sap.zen.XpDSItemCell.create(this, index,
									this.oItem);
						}
						if (this.getDataSourceItem() === sap.zen.CXpDSItem.GRID) {
							return sap.zen.XpDSItemCell.create(this, index,
									this.oItem);
						}
						return sap.zen.XpDSItemRow.$superclass.getChild.call(
								this, index);
					},
					getRowIndex : function() {
						return this.rowIndex;
					},
					releaseObject : function() {
						sap.zen.XpDSItemRow.$superclass.releaseObject
								.call(this);
						this.rowIndex = -1;
						this.oItem = null;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ActionlistControl",
				sap.zen.Component,
				{
					listOfAllItems : null,
					selectedText : null,
					selectedValue : null,
					getDefaultWidthAsString : function() {
						return "100";
					},
					getDefaultHeightAsString : function() {
						return "50";
					},
					getTooltip : function() {
						return "";
					},
					create : function() {
						var uid = sap.firefly.XString.concatenate2(this
								.getName(), "_actionlist1");
						var listOfItems;
						var itemsNode;
						var itemsNodeChildren;
						var valuesAsIterator;
						var selectionItemNode;
						var children;
						var valuesAsIterator2;
						var newItem;
						var next;
						var value;
						var text;
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.actionlist/resources/js/actionlist_handler");
						this.initControl(uid, "actionlist");
						listOfItems = sap.firefly.XList.create();
						itemsNode = this.getInitParameters()
								.getFirstChildWithNameTag("ACTION_LIST_ITEMS");
						if (itemsNode !== null) {
							itemsNodeChildren = itemsNode
									.getChildren("property");
							if (itemsNodeChildren !== null) {
								valuesAsIterator = itemsNodeChildren
										.getIterator();
								while (valuesAsIterator.hasNext()) {
									selectionItemNode = valuesAsIterator.next();
									if (selectionItemNode !== null) {
										children = selectionItemNode
												.getChildren("property");
										valuesAsIterator2 = children
												.getIterator();
										newItem = new sap.zen.ListItem();
										while (valuesAsIterator2.hasNext()) {
											next = valuesAsIterator2.next();
											if (sap.firefly.XString.compare(
													next.getAttribute("name"),
													"VALUE") === 0) {
												value = next
														.getAttribute("value");
												newItem.setValue(value);
											} else {
												text = next
														.getAttribute("value");
												newItem.setText(text);
											}
										}
										listOfItems.add(newItem);
									}
								}
							}
						}
						this.setItems(listOfItems);
					},
					setItems : function(listOfItems) {
						this.listOfAllItems = listOfItems;
					},
					onClick : function(value) {
						var i;
						var l;
						var onClick;
						for (i = 0; i < this.listOfAllItems.size(); i++) {
							l = this.listOfAllItems.get(i);
							if (sap.firefly.XString
									.compare(l.getValue(), value) === 0) {
								this.setSelectedText(l.getText());
								this.setSelectedValue(l.getValue());
							}
						}
						onClick = this.getOnClick();
						if (sap.firefly.XString.size(onClick) > 0) {
							this.getPage().execWithoutRerender(onClick);
						}
					},
					setOnClick : function(text) {
						this.setStringProperty("ON_CLICK", text);
					},
					getOnClick : function() {
						var text = this.getProperty("ON_CLICK");
						if (text !== null) {
							return text;
						}
						return "";
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var s1 = sap.firefly.XString.concatenate2(this.getId(),
								".onClick('__arguments__');");
						var pvtScript = this
								.createScriptAction(s1, "__VALUE__");
						var allItemsAsIterator;
						var oneItemOfAllItems;
						renderSerializer.addAttribute("command", pvtScript);
						renderSerializer.openArray("Items");
						if (this.listOfAllItems.size() > 0) {
							allItemsAsIterator = this.listOfAllItems
									.getIterator();
							while (allItemsAsIterator.hasNext()) {
								oneItemOfAllItems = allItemsAsIterator.next();
								renderSerializer.openTag("Item");
								renderSerializer.addAttribute("value",
										oneItemOfAllItems.getValue());
								renderSerializer.addAttribute("text",
										oneItemOfAllItems.getText());
								renderSerializer.closeTag();
							}
						}
						renderSerializer.closeArray();
					},
					addItem3 : function(value, text, index) {
						var newItem = new sap.zen.ListItem();
						var i;
						var o;
						var item;
						newItem.setText(text);
						newItem.setValue(value);
						for (i = 0; i < this.listOfAllItems.size(); i++) {
							o = this.listOfAllItems.get(i);
							item = o;
							if (sap.firefly.XString.compare(item.getValue(),
									newItem.getValue()) === 0) {
								return;
							}
						}
						if (index < 0 || index >= this.listOfAllItems.size()) {
							this.listOfAllItems.add(newItem);
						} else {
							this.listOfAllItems.insert(index, newItem);
						}
						this.setContentChanged(true);
					},
					addItem2 : function(value, text) {
						this.addItem3(value, text, -1);
					},
					addItem : function(value) {
						this.addItem3(value, null, -1);
					},
					removeItem : function(value) {
						var valuesAsIterator = this.listOfAllItems
								.getIterator();
						var found = false;
						var i = 0;
						var next;
						while (valuesAsIterator.hasNext() && !found) {
							next = valuesAsIterator.next();
							if (sap.firefly.XString.isEqual(next.getValue(),
									value)) {
								this.listOfAllItems.removeAt(i);
								found = true;
							}
							i++;
						}
						this.setContentChanged(true);
					},
					removeAllItems : function() {
						this.listOfAllItems.clear();
						this.setContentChanged(true);
					},
					getSelectedText : function() {
						return this.selectedText;
					},
					setSelectedText : function(selectedText) {
						this.selectedText = selectedText;
					},
					getSelectedValue : function() {
						return this.selectedValue;
					},
					setSelectedValue : function(selectedValue) {
						this.selectedValue = selectedValue;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ActionSheetControl",
				sap.zen.Component,
				{
					tItems : null,
					selectedText : null,
					selectedValue : null,
					isOpen : false,
					openByComponent : null,
					create : function() {
						var lUid = sap.firefly.XString.concatenate2(this
								.getName(), "_actionsheet1");
						this.initControl(lUid, "actionsheet");
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.actionsheet/resources/js/actionsheet_handler");
						this.isOpen = false;
						this.openByComponent = "";
						this.createInitialItemList();
					},
					createInitialItemList : function() {
						var ltItems = sap.firefly.XList.create();
						var itemsNode = this.getInitParameters()
								.getFirstChildWithNameTag(
										"ACTION_SHEET_ITEMS_LIST");
						var itemsNodeChildren;
						var valuesAsIterator;
						var selectionItemNode;
						var children;
						var valuesAsIterator2;
						var newItem;
						var next;
						var value;
						var text;
						var icon;
						if (itemsNode !== null) {
							itemsNodeChildren = itemsNode
									.getChildren("property");
							if (itemsNodeChildren !== null) {
								valuesAsIterator = itemsNodeChildren
										.getIterator();
								while (valuesAsIterator.hasNext()) {
									selectionItemNode = valuesAsIterator.next();
									if (selectionItemNode !== null) {
										children = selectionItemNode
												.getChildren("property");
										valuesAsIterator2 = children
												.getIterator();
										newItem = new sap.zen.ActionSheetListItem();
										while (valuesAsIterator2.hasNext()) {
											next = valuesAsIterator2.next();
											if (sap.firefly.XString.compare(
													next.getAttribute("name"),
													"VALUE") === 0) {
												value = next
														.getAttribute("value");
												newItem.setValue(value);
											} else {
												if (sap.firefly.XString
														.compare(
																next
																		.getAttribute("name"),
																"TEXT") === 0) {
													text = next
															.getAttribute("value");
													newItem.setText(text);
												} else {
													if (sap.firefly.XString
															.compare(
																	next
																			.getAttribute("name"),
																	"ICON") === 0) {
														icon = next
																.getAttribute("value");
														newItem.setIcon(icon);
													}
												}
											}
										}
										ltItems.add(newItem);
									}
								}
							}
						}
						this.setItems(ltItems);
					},
					setItems : function(tItems) {
						this.tItems = tItems;
					},
					getDefaultWidthAsString : function() {
						return "100";
					},
					getDefaultHeightAsString : function() {
						return "50";
					},
					onClick : function(value) {
						var lItemIndex;
						var loListItem;
						var lOnSelect;
						for (lItemIndex = 0; lItemIndex < this.tItems.size(); lItemIndex++) {
							loListItem = this.tItems.get(lItemIndex);
							if (sap.firefly.XString.compare(loListItem
									.getValue(), value) === 0) {
								this.setSelectedText(loListItem.getText());
								this.setSelectedValue(loListItem.getValue());
							}
						}
						lOnSelect = this.getOnSelect();
						if (sap.firefly.XString.size(lOnSelect) > 0) {
							this.getPage().execWithoutRerender(lOnSelect);
						}
					},
					openInternal : function(componentId) {
						this.isOpen = true;
						this.openByComponent = this.getPage()
								.getIdForRendering(componentId);
						this.setContentChanged(true);
					},
					open : function(o) {
						var loWindow = this.getPage().getWindow();
						var loPageObject = null;
						try {
							loPageObject = loWindow.getPageObject(o);
						} catch (loException) {
							sap.zen.CLocalizationActionSheetMessages.ACTION_SHEET_UNEXPECTED_ARGUMENT
									.addMessageToMessageHandler(this.getPage(),
											sap.firefly.Severity.ERROR, null,
											null, null);
						}
						if (loPageObject !== null) {
							this.openInternal(loPageObject.getId());
						}
					},
					close : function() {
						this.isOpen = false;
						this.openByComponent = "";
					},
					setOnSelect : function(value) {
						this.setStringProperty("ON_SELECT", value);
					},
					getOnSelect : function() {
						var lValue = this.getProperty("ON_SELECT");
						if (lValue !== null) {
							return lValue;
						}
						return "";
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var placement;
						renderSerializer.addBooleanAttribute("open",
								this.isOpen);
						if (this.isOpen) {
							renderSerializer.addAttribute("onClickCommand",
									this.createOnClickCommand());
							renderSerializer.addAttribute("closeCommand", this
									.createCloseCommand());
							renderSerializer.addAttribute("openBy",
									this.openByComponent);
							placement = this.getStringPropertyWithDefault(
									"PLACEMENT", "AUTO");
							if (!(sap.firefly.XString
									.compare(placement, "AUTO") === 0)) {
								renderSerializer.addAttribute("placement",
										placement);
							}
							this.renderItems(renderSerializer);
						}
					},
					renderItems : function(oRenderSerializer) {
						var loItemIterator;
						var loActionSheetItem;
						if (this.tItems.size() > 0) {
							oRenderSerializer.openArray("items");
							loItemIterator = this.tItems.getIterator();
							while (loItemIterator.hasNext()) {
								loActionSheetItem = loItemIterator.next();
								oRenderSerializer.openTag("item");
								oRenderSerializer.addAttribute("value",
										loActionSheetItem.getValue());
								if (loActionSheetItem.getText() !== null
										&& sap.firefly.XString
												.compare(loActionSheetItem
														.getText(), "") !== 0) {
									oRenderSerializer.addAttribute("text",
											loActionSheetItem.getText());
								}
								if (loActionSheetItem.getIcon() !== null
										&& sap.firefly.XString
												.compare(loActionSheetItem
														.getIcon(), "") !== 0) {
									oRenderSerializer.addAttribute("icon",
											loActionSheetItem.getIcon());
								}
								oRenderSerializer.closeTag();
							}
							oRenderSerializer.closeArray();
						} else {
							oRenderSerializer.openArray("items");
							oRenderSerializer.openTag("item");
							oRenderSerializer.addAttribute("value",
									"dummyEntry");
							oRenderSerializer.addAttribute("text", " ");
							oRenderSerializer.closeTag();
							oRenderSerializer.closeArray();
						}
					},
					createOnClickCommand : function() {
						var s1 = sap.firefly.XString.concatenate2(this.getId(),
								".onClick('__arguments__');");
						var pvtScript = this
								.createScriptAction(s1, "__VALUE__");
						return pvtScript;
					},
					createCloseCommand : function() {
						var s1 = sap.firefly.XString.concatenate2(this.getId(),
								".close();");
						var pvtScript = this.createScriptAction(s1, "");
						return pvtScript;
					},
					addItem : function(value) {
						this.addItem4(value, null, null, -1);
					},
					addItem2 : function(value, text) {
						this.addItem4(value, text, null, -1);
					},
					addItem3 : function(value, text, icon) {
						this.addItem4(value, text, icon, -1);
					},
					addItem4 : function(value, text, icon, index) {
						var loActionSheetItem = new sap.zen.ActionSheetListItem();
						var lItemIndex;
						var loItem;
						var loItemAsActionSheet;
						loActionSheetItem.setText(text);
						loActionSheetItem.setValue(value);
						loActionSheetItem.setIcon(icon);
						for (lItemIndex = 0; lItemIndex < this.tItems.size(); lItemIndex++) {
							loItem = this.tItems.get(lItemIndex);
							loItemAsActionSheet = loItem;
							if (sap.firefly.XString.compare(loItemAsActionSheet
									.getValue(), loActionSheetItem.getValue()) === 0) {
								return;
							}
						}
						if (index < 0 || index >= this.tItems.size()) {
							this.tItems.add(loActionSheetItem);
						} else {
							this.tItems.insert(index, loActionSheetItem);
						}
						this.setContentChanged(true);
					},
					removeItem : function(value) {
						var lFound = false;
						var lItemIndex = 0;
						var loItemIterator = this.tItems.getIterator();
						var loItem;
						while (loItemIterator.hasNext() && !lFound) {
							loItem = loItemIterator.next();
							if (sap.firefly.XString.isEqual(loItem.getValue(),
									value)) {
								this.tItems.removeAt(lItemIndex);
								lFound = true;
							}
							lItemIndex++;
						}
						this.setContentChanged(true);
					},
					removeAllItems : function() {
						this.tItems.clear();
						this.setContentChanged(true);
					},
					getSelectedText : function() {
						return this.selectedText;
					},
					setSelectedText : function(selectedText) {
						this.selectedText = selectedText;
					},
					getSelectedValue : function() {
						return this.selectedValue;
					},
					setSelectedValue : function(selectedValue) {
						this.selectedValue = selectedValue;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ApplicationPropertiesComponent",
				sap.zen.Component,
				{
					getCType : function() {
						return "APPLICATION_PROPERTIES";
					},
					getCId : function() {
						return "APPLICATION_PROPERTIES_1";
					},
					execStartupScript : function() {
						var loOnStartupNode = this.getInitParameters()
								.getFirstChildWithNameTag("ON_STARTUP");
						var lScript;
						var loLogging;
						if (loOnStartupNode !== null) {
							lScript = loOnStartupNode.getFirstChild("value")
									.getText();
							if (lScript !== null) {
								loLogging = this.getPage().getLogging();
								if (loLogging !== null
										&& loLogging
												.isLoggable(sap.buddha.XLogging.XDEBUG)) {
									loLogging.debug(
											"Page: enter exec ON_STARTUP",
											lScript, "SCRIPT");
								}
								this.getPage().executeScriptInWindow(lScript);
								if (loLogging !== null
										&& loLogging
												.isLoggable(sap.buddha.XLogging.XDEBUG)) {
									loLogging.debug(
											"Page: leave exec ON_STARTUP",
											null, "SCRIPT");
								}
							}
						}
					},
					getOnVarSubmitScript : function() {
						var loOnVarSubmitNode = this.getInitParameters()
								.getFirstChildWithNameTag("ON_VAR_SUBMIT");
						var lScript;
						if (loOnVarSubmitNode !== null) {
							lScript = loOnVarSubmitNode.getFirstChild("value")
									.getText();
							if (lScript !== null) {
								return lScript;
							}
						}
						return "";
					},
					execVarSubmitScript : function() {
						var lScript = this.getOnVarSubmitScript();
						var loLogging;
						if ((lScript !== null)
								&& (sap.firefly.XString.size(lScript) > 0)) {
							loLogging = this.getPage().getLogging();
							if (loLogging !== null
									&& loLogging
											.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								loLogging
										.debug(
												"Page: enter exec ON_VAR_SUBMIT script",
												lScript, "SCRIPT");
							}
							this.getPage().executeScriptInWindow(lScript);
							if (loLogging !== null
									&& loLogging
											.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								loLogging
										.debug(
												"Page: leave exec ON_VAR_SUBMIT script",
												"", "SCRIPT");
							}
						}
					},
					getTheme : function() {
						var loThemeNode = this.getInitParameters()
								.getFirstChildWithNameTag("THEME");
						if (loThemeNode !== null) {
							return loThemeNode.getAttribute("value");
						}
						return null;
					},
					isShowPrompt : function() {
						var loShowPromptNode = this.getInitParameters()
								.getFirstChildWithNameTag("SHOW_PROMPT");
						if (loShowPromptNode !== null) {
							return sap.firefly.XString.isEqual(loShowPromptNode
									.getAttribute("value"), "X");
						}
						return false;
					},
					setShowPrompt : function(showPrompt) {
						var loShowPromptNode = this.getInitParameters()
								.getFirstChildWithNameTag("SHOW_PROMPT");
						if (loShowPromptNode === null) {
							loShowPromptNode = this.getInitParameters()
									.createChildWithNameTag("SHOW_PROMPT");
						}
						if (showPrompt) {
							loShowPromptNode.setAttribute("value", "X");
						} else {
							loShowPromptNode.setAttribute("value", "");
						}
					},
					getMessagePosition : function() {
						var loMessagePositionNode = this.getInitParameters()
								.getFirstChildWithNameTag("MESSAGE_POSITION");
						if (loMessagePositionNode !== null) {
							return loMessagePositionNode.getAttribute("value");
						}
						return null;
					},
					getMessagePopupPosition : function() {
						var loMessagePopupPositionNode = this
								.getInitParameters().getFirstChildWithNameTag(
										"MESSAGE_POPUP_POSITION");
						if (loMessagePopupPositionNode !== null) {
							return loMessagePopupPositionNode
									.getAttribute("value");
						}
						return null;
					},
					getMessageType : function() {
						var loMessageTypesNode = this.getInitParameters()
								.getFirstChildWithNameTag("MESSAGE_TYPES");
						if (loMessageTypesNode !== null) {
							return loMessageTypesNode.getAttribute("value");
						}
						return null;
					},
					getCustomCSSName : function() {
						var loCustomCSSNode = this.getInitParameters()
								.getFirstChildWithNameTag("CUSTOM_CSS");
						if (loCustomCSSNode !== null) {
							return loCustomCSSNode.getAttribute("value");
						}
						return null;
					},
					getPromptsConfig : function() {
						return this.getProperty("PROMPTS_CONFIG");
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer = renderManager
								.getRenderSerializer();
						var loCustomCSSNode = this.getInitParameters()
								.getFirstChildWithNameTag("CUSTOM_CSS");
						var s;
						if (loCustomCSSNode !== null) {
							s = sap.firefly.XString.concatenate2(this.getPage()
									.getRelativePathToApp(), loCustomCSSNode
									.getAttribute("value"));
							loRenderSerializer.addAttribute("customCss", s);
						}
					},
					addGlobalVariables : function(oWindow, tParameters) {
						var loGlobalVariablesNode = this.getInitParameters()
								.getFirstChildWithNameTag("GLOBALVARIABLES");
						var ltGlobalVariableNode;
						var loGlobalVariableNodeIterator;
						var loGlobalVariableNode;
						var loNameNode;
						var lName;
						var loValueNode;
						var lValue;
						var loTypeNode;
						var lType;
						var loUrlParamNode;
						var lIsUrlParam;
						var lUrlParam;
						var lUrlParameterValue;
						var loValue;
						var loDouble;
						var loInteger;
						if (loGlobalVariablesNode === null) {
							return;
						}
						ltGlobalVariableNode = loGlobalVariablesNode
								.getChildren("property");
						loGlobalVariableNodeIterator = ltGlobalVariableNode
								.getIterator();
						while (loGlobalVariableNodeIterator.hasNext()) {
							loGlobalVariableNode = loGlobalVariableNodeIterator
									.next();
							if (loGlobalVariableNode === null) {
								continue;
							}
							loNameNode = loGlobalVariableNode
									.getFirstChildWithNameTag("NAME");
							lName = null;
							if (loNameNode !== null) {
								lName = loNameNode.getAttribute("value");
							}
							loValueNode = loGlobalVariableNode
									.getFirstChildWithNameTag("VALUE");
							lValue = null;
							if (loValueNode !== null) {
								lValue = loValueNode.getAttribute("value");
							}
							loTypeNode = loGlobalVariableNode
									.getFirstChildWithNameTag("GLOBAL_VAR_TYPE");
							lType = "";
							if (loTypeNode !== null) {
								lType = loTypeNode.getAttribute("value");
							}
							loUrlParamNode = loGlobalVariableNode
									.getFirstChildWithNameTag("URL_PARAM");
							lIsUrlParam = false;
							if (loUrlParamNode !== null) {
								lUrlParam = loUrlParamNode
										.getAttribute("value");
								lIsUrlParam = sap.firefly.XString.startsWith(
										lUrlParam, "X");
							}
							lUrlParameterValue = null;
							if (lIsUrlParam && tParameters.containsKey(lName)) {
								lUrlParameterValue = tParameters
										.getByKey(lName);
							}
							loValue = null;
							if (lValue !== null) {
								if (sap.firefly.XString.endsWith(lValue, "'")) {
									if (lUrlParameterValue === null) {
										loValue = sap.firefly.XStringValue
												.create(sap.firefly.XString
														.substring(
																lValue,
																1,
																sap.firefly.XString
																		.size(lValue) - 1));
									} else {
										loValue = sap.firefly.XStringValue
												.create(lUrlParameterValue);
									}
								} else {
									if (sap.firefly.XString.startsWith(lValue,
											"true")
											|| sap.firefly.XString.startsWith(
													lValue, "false")) {
										if (lUrlParameterValue === null
												|| !(sap.firefly.XString
														.startsWith(
																lUrlParameterValue,
																"true") || sap.firefly.XString
														.startsWith(
																lUrlParameterValue,
																"false"))) {
											loValue = sap.firefly.XBooleanValue
													.create(sap.firefly.XString
															.startsWith(lValue,
																	"true"));
										} else {
											loValue = sap.firefly.XBooleanValue
													.create(sap.firefly.XString
															.startsWith(
																	lUrlParameterValue,
																	"true"));
										}
									} else {
										if (sap.firefly.XString.indexOf(lValue,
												".") >= 0) {
											loDouble = sap.firefly.XDoubleValue
													.create(sap.firefly.XDouble
															.convertStringToDouble(lValue));
											loValue = loDouble;
											if (lUrlParameterValue !== null) {
												loValue = sap.firefly.XDoubleValue
														.create(sap.firefly.XDouble
																.convertStringToDoubleWithDefault(
																		lUrlParameterValue,
																		loDouble
																				.getDoubleValue()));
											}
										} else {
											loInteger = sap.firefly.XIntegerValue
													.create(sap.firefly.XInteger
															.convertStringToInteger(lValue));
											loValue = loInteger;
											if (lUrlParameterValue !== null) {
												loValue = sap.firefly.XIntegerValue
														.create(sap.firefly.XInteger
																.convertStringToIntegerWithDefault(
																		lUrlParameterValue,
																		loInteger
																				.getIntegerValue()));
											}
										}
									}
								}
							} else {
								if (sap.firefly.XString
										.endsWith(lType, "Array")) {
									loValue = sap.firefly.XArray.create(0);
								}
							}
							oWindow.setContextForGlobalVariable(lName, loValue,
									lIsUrlParam);
						}
					},
					applyGlobalVariableValues : function(oWindow) {
						var loGlobalVariablesNode = this.getInitParameters()
								.getFirstChildWithNameTag("GLOBALVARIABLES");
						var ltGlobalVariableNode;
						var loGlobalVariableNodeIterator;
						var loGlobalVariableNode;
						var loNameNode;
						var lName;
						var loValueNode;
						var lValue;
						var loUrlParamNode;
						var lIsUrlParam;
						var lUrlParam;
						var loValue;
						if (loGlobalVariablesNode === null) {
							return;
						}
						ltGlobalVariableNode = loGlobalVariablesNode
								.getChildren("property");
						loGlobalVariableNodeIterator = ltGlobalVariableNode
								.getIterator();
						while (loGlobalVariableNodeIterator.hasNext()) {
							loGlobalVariableNode = loGlobalVariableNodeIterator
									.next();
							if (loGlobalVariableNode === null) {
								continue;
							}
							loNameNode = loGlobalVariableNode
									.getFirstChildWithNameTag("NAME");
							lName = null;
							if (loNameNode !== null) {
								lName = loNameNode.getAttribute("value");
							}
							loValueNode = loGlobalVariableNode
									.getFirstChildWithNameTag("VALUE");
							lValue = null;
							if (loValueNode !== null) {
								lValue = loValueNode.getAttribute("value");
							}
							loUrlParamNode = loGlobalVariableNode
									.getFirstChildWithNameTag("URL_PARAM");
							lIsUrlParam = false;
							if (loUrlParamNode !== null) {
								lUrlParam = loUrlParamNode
										.getAttribute("value");
								lIsUrlParam = sap.firefly.XString.startsWith(
										lUrlParam, "X");
							}
							loValue = null;
							if (sap.firefly.XString.isEqual(lValue, "true")
									|| sap.firefly.XString.isEqual(lValue,
											"false")) {
								loValue = sap.firefly.XBooleanValue
										.create(sap.firefly.XString.startsWith(
												lValue, "true"));
							}
							if (loValue === null
									&& sap.firefly.XString.indexOf(lValue, ".") >= 0) {
								try {
									loValue = sap.firefly.XDoubleValue
											.create(sap.firefly.XDouble
													.convertStringToDouble(lValue));
								} catch (valueNotADoubleEx) {
									loValue = null;
								}
							}
							if (loValue === null) {
								try {
									loValue = sap.firefly.XIntegerValue
											.create(sap.firefly.XInteger
													.convertStringToInteger(lValue));
								} catch (valueNotAnIntegerEx) {
									loValue = null;
								}
							}
							if (loValue === null) {
								loValue = sap.firefly.XStringValue
										.create(lValue);
							}
							oWindow.setContextForGlobalVariable(lName, loValue,
									lIsUrlParam);
						}
					},
					updateGlobalVariables : function(tParameters) {
						var loGlobalVariablesNode;
						var ltGlobalVariableNode;
						var loGlobalVariableNodeIterator;
						var loGlobalVariableNode;
						var loNameNode;
						var lName;
						var loValueNode;
						var loNewValue;
						var lNewValue;
						if (tParameters === null) {
							return;
						}
						loGlobalVariablesNode = this.getInitParameters()
								.getFirstChildWithNameTag("GLOBALVARIABLES");
						if (loGlobalVariablesNode === null) {
							return;
						}
						ltGlobalVariableNode = loGlobalVariablesNode
								.getChildren("property");
						loGlobalVariableNodeIterator = ltGlobalVariableNode
								.getIterator();
						while (loGlobalVariableNodeIterator.hasNext()) {
							loGlobalVariableNode = loGlobalVariableNodeIterator
									.next();
							if (loGlobalVariableNode === null) {
								continue;
							}
							loNameNode = loGlobalVariableNode
									.getFirstChildWithNameTag("NAME");
							lName = null;
							if (loNameNode !== null) {
								lName = loNameNode.getAttribute("value");
							}
							loValueNode = loGlobalVariableNode
									.getFirstChildWithNameTag("VALUE");
							if (loValueNode !== null) {
								if (tParameters.containsKey(lName)) {
									loNewValue = tParameters.getByKey(lName);
									lNewValue = null;
									if (loNewValue !== null) {
										lNewValue = loNewValue.toString();
									}
									loValueNode
											.setAttribute("value", lNewValue);
								}
							}
						}
					},
					getGlobalVariableNames : function() {
						var ltGlobalVariableNames = sap.firefly.XListOfString
								.create();
						var loGlobalVariablesNode = this.getInitParameters()
								.getFirstChildWithNameTag("GLOBALVARIABLES");
						var ltGlobalVariableNode;
						var loGlobalVariableNodeIterator;
						var loGlobalVariableNode;
						var loNameNode;
						var lName;
						if (loGlobalVariablesNode === null) {
							return ltGlobalVariableNames;
						}
						ltGlobalVariableNode = loGlobalVariablesNode
								.getChildren("property");
						loGlobalVariableNodeIterator = ltGlobalVariableNode
								.getIterator();
						while (loGlobalVariableNodeIterator.hasNext()) {
							loGlobalVariableNode = loGlobalVariableNodeIterator
									.next();
							if (loGlobalVariableNode === null) {
								continue;
							}
							loNameNode = loGlobalVariableNode
									.getFirstChildWithNameTag("NAME");
							lName = null;
							if (loNameNode !== null) {
								lName = loNameNode.getAttribute("value");
								ltGlobalVariableNames.add(lName);
							}
						}
						return ltGlobalVariableNames;
					},
					create : function() {
					},
					isInterComponentDragDropEnabled : function() {
						return this.getBooleanPropertyWithDefault(
								"INTER_COMPONENT_DRAGDROP_ENABLED", false);
					},
					getPromptMode : function() {
						return this.getStringPropertyWithDefault("PROMPT_MODE",
								"");
					},
					getPromptMaxMembers : function() {
						return this.getIntPropertyWithDefault("MAX_MEMBERS",
								100);
					},
					getInitialVarScreenWidth : function() {
						return this.getIntPropertyWithDefault(
								"INITVARSCREEN_WIDTH", 960);
					},
					getInitialVarScreenHeight : function() {
						return this.getIntPropertyWithDefault(
								"INITVARSCREEN_HEIGHT", 640);
					},
					getOnBeforePromptsSubmitScript : function() {
						var firstChildWithNameTag = this.getInitParameters()
								.getFirstChildWithNameTag(
										"ON_BEFORE_PROMPTS_SUBMIT");
						var script;
						if (firstChildWithNameTag !== null) {
							script = firstChildWithNameTag.getFirstChild(
									"value").getText();
							if (script !== null) {
								return script;
							}
						}
						return "";
					},
					execOnBeforePromptsSubmitScript : function() {
						var lScript = this.getOnBeforePromptsSubmitScript();
						var loLogging;
						if ((lScript !== null)
								&& (sap.firefly.XString.size(lScript) > 0)) {
							this.getPage().setOnBeforePromptsSubmit(true);
							loLogging = this.getPage().getLogging();
							if (loLogging !== null
									&& loLogging
											.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								loLogging
										.debug(
												"Page: enter exec ON_BEFORE_PROMPTS_SUBMIT",
												lScript, "SCRIPT");
							}
							this.getPage().executeScriptInWindow(lScript);
							if (loLogging !== null
									&& loLogging
											.isLoggable(sap.buddha.XLogging.XDEBUG)) {
								loLogging
										.debug(
												"Page: leave exec ON_BEFORE_PROMPTS_SUBMIT",
												"", "SCRIPT");
							}
							this.getPage().setOnBeforePromptsSubmit(false);
						}
					},
					isMergePromptsMode : function() {
						return this.getBooleanPropertyWithDefault(
								"MERGE_PROMPTS", true);
					},
					isMainMode : function() {
						return this.getBooleanPropertyWithDefault("UI5_MAIN",
								false);
					},
					isCompactMode : function() {
						return this.getBooleanPropertyWithDefault(
								"COMPACT_MODE", false);
					}
				});
$Firefly.createClass("sap.zen.ButtonControl", sap.zen.Component, {
	renderOnClickDirectly : false,
	BLANK_URL : null,
	create : function() {
		var uid = sap.firefly.XString.concatenate2(this.getName(), "_button");
		this.getPage().addRequireModule(
				"zen.rt.components/resources/js/button_handler");
		this.initControl(uid, "button");
		this.renderOnClickDirectly = false;
	},
	getDefaultProperty : function(name) {
		if (sap.firefly.XString.isEqual("ICON", name)) {
			return "";
		}
		return sap.zen.ButtonControl.$superclass.getDefaultProperty.call(this,
				name);
	},
	getDefaultWidthAsString : function() {
		return "80";
	},
	getDefaultHeightAsString : function() {
		return "30";
	},
	setText : function(text) {
		this.setStringProperty("TEXT", text);
	},
	getText : function() {
		return this.getStringPropertyWithDefault("TEXT", "");
	},
	setOnClick : function(text) {
		this.setStringProperty("ON_CLICK", text);
	},
	getOnClick : function() {
		var text = this.getProperty("ON_CLICK");
		if (text !== null) {
			return text;
		}
		return "";
	},
	getButtonType : function() {
		return this.getStringPropertyWithDefault("BUTTON_TYPE", "");
	},
	onClick : function() {
		var onClick = this.getOnClick();
		if (sap.firefly.XString.size(onClick) > 0) {
			this.getPage().execWithoutRerender(onClick);
		}
	},
	setIcon : function(fileName) {
		this.setStringProperty("ICON", fileName);
	},
	getIcon : function() {
		return this.getStringPropertyWithDefault("ICON", "");
	},
	setTooltip : function(tooltip) {
		this.setStringProperty("TOOLTIP", tooltip);
	},
	getTooltip : function() {
		return this.getStringPropertyWithDefault("TOOLTIP", "");
	},
	renderControlContent : function(renderManager) {
		var renderSerializer = renderManager.getRenderSerializer();
		var script;
		var image;
		var buttonType;
		renderSerializer.addBooleanAttribute("enabled", this.isEnabled());
		renderSerializer.addAttribute("tooltip", this
				.getStringPropertyWithDefault("TOOLTIP", ""));
		script = this.getOnClick();
		if (sap.firefly.XString.size(script) > 0) {
			if (!this.renderOnClickDirectly) {
				script = this.createMethodCallScript("onClick");
			}
		}
		renderSerializer.addAttribute("onclick", script);
		image = this.getIcon();
		if (sap.firefly.XString.size(image) > 0) {
			renderSerializer.addAttribute("image", this.translateUrl(image));
			renderSerializer.addBooleanAttribute("iconfirst", true);
		}
		buttonType = this.getButtonType();
		if (sap.firefly.XStringUtils.isNotNullAndNotEmpty(buttonType)
				&& !sap.firefly.XString.isEqual(buttonType, "DEFAULT")) {
			buttonType = sap.firefly.XStringUtils.concatenate2(
					sap.firefly.XString.substring(buttonType, 0, 1),
					sap.firefly.XString.convertToLowerCase(sap.firefly.XString
							.substring(buttonType, 1, -1)));
			renderSerializer.addAttribute("buttontype", buttonType);
		}
		renderSerializer.openTag("caption");
		renderSerializer.addText(this.getText());
		renderSerializer.closeTag();
	},
	setRenderOnClickDirectly : function(renderOnClickDirectly) {
		this.renderOnClickDirectly = renderOnClickDirectly;
	}
});
$Firefly
		.createClass(
				"sap.zen.CheckboxControl",
				sap.zen.Component,
				{
					$statics : {
						status : "__STATUS__"
					},
					create : function() {
						var uid;
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.checkbox/resources/js/checkbox_handler");
						uid = sap.firefly.XString.concatenate2(this.getName(),
								"_checkbox1");
						this.initControl(uid, "checkbox");
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var s1;
						var pvtScript;
						renderSerializer.addAttribute("tooltip", this
								.getStringPropertyWithDefault("TOOLTIP", ""));
						renderSerializer.addBooleanAttribute("enabled", this
								.isEnabled());
						renderSerializer.addBooleanAttribute("checked", this
								.getChecked());
						renderSerializer.addAttribute("text", this.getText());
						renderSerializer.addAttribute("status",
								sap.zen.CheckboxControl.status);
						s1 = sap.firefly.XString.concatenate2(this.getId(),
								".setCheckedPVT('__arguments__');");
						pvtScript = this.createScriptAction(s1,
								sap.zen.CheckboxControl.status);
						renderSerializer.addAttribute("onclick", pvtScript);
					},
					setText : function(text) {
						this.setStringProperty("TEXT", text);
					},
					getText : function() {
						return this.getStringPropertyWithDefault("TEXT", "");
					},
					setChecked : function(checked) {
						if (checked !== this.getBooleanPropertyWithDefault(
								"CHECKED", false)) {
							this.setBooleanProperty("CHECKED", checked);
						}
					},
					isChecked : function() {
						return this.getBooleanPropertyWithDefault("CHECKED",
								false);
					},
					getChecked : function() {
						return this.getBooleanPropertyWithDefault("CHECKED",
								false);
					},
					setTooltip : function(tooltip) {
						this.setStringProperty("TOOLTIP", tooltip);
					},
					getTooltip : function() {
						return this.getStringPropertyWithDefault("TOOLTIP", "");
					},
					setOnClick : function(onClick) {
						this.setStringProperty("ON_CLICK", onClick);
					},
					getOnClick : function() {
						return this
								.getStringPropertyWithDefault("ON_CLICK", "");
					},
					setCheckedPVT : function(checked) {
						this.setChecked(sap.firefly.XBoolean
								.convertStringToBoolean(checked));
						this.getPage().execWithoutRerender(this.getOnClick());
					},
					onClick : function() {
						var onClick = this.getOnClick();
						if (sap.firefly.XString.size(onClick) > 0) {
							this.getPage().execWithoutRerender(onClick);
						}
					},
					getDefaultWidthAsString : function() {
						return "100";
					},
					getDefaultHeightAsString : function() {
						return "50";
					}
				});
$Firefly
		.createClass(
				"sap.zen.ClickPaneControl",
				sap.zen.Component,
				{
					BLANK_URL : null,
					create : function() {
						var uid = sap.firefly.XString.concatenate2(this
								.getName(), "_clickpane1");
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.clickpane/resources/js/clickpane_handler");
						this.initControl(uid, "clickpane");
						this.BLANK_URL = "data:image/png;base64,R0lGODlhAQABAPAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var script = this.getOnClick();
						var blankUrl;
						var normalImageUrl;
						if (sap.firefly.XString.size(script) > 0) {
							script = this.createMethodCallScript("onClick");
						}
						blankUrl = false;
						normalImageUrl = this.translateUrl(this.getImage());
						if (this.isEmptyUrl(normalImageUrl)) {
							normalImageUrl = this.BLANK_URL;
							blankUrl = true;
						}
						renderSerializer.addAttribute("standardVis",
								normalImageUrl);
						renderSerializer.addBooleanAttribute("blankUrl",
								blankUrl);
						renderSerializer.addAttribute("backgroundColor", "");
						renderSerializer.addAttribute("hoverVis", this
								.translateUrl(this.getHoverImage()));
						renderSerializer.addAttribute("clickVis", this
								.translateUrl(this.getClickImage()));
						renderSerializer.addIntegerAttribute("opacity",
								sap.firefly.XInteger
										.convertStringToInteger(this
												.getOpacityPercentage()));
						renderSerializer.addAttribute("tooltip", this
								.getStringPropertyWithDefault("TOOLTIP", ""));
						renderSerializer.addAttribute("onclick", script);
					},
					getDefaultHeightAsString : function() {
						return "50";
					},
					getDefaultWidthAsString : function() {
						return "100";
					},
					getHoverImage : function() {
						return this.getStringPropertyWithDefault("HOVER_IMAGE",
								"");
					},
					setHoverImage : function(hoverImage) {
						this.setStringProperty("HOVER_IMAGE", hoverImage);
					},
					setImage : function(standardVis) {
						this.setStringProperty("IMAGE", standardVis);
					},
					getImage : function() {
						return this.getStringPropertyWithDefault("IMAGE", "");
					},
					setClickImage : function(clickImage) {
						this.setStringProperty("CLICK_IMAGE", clickImage);
					},
					getClickImage : function() {
						return this.getStringPropertyWithDefault("CLICK_IMAGE",
								"");
					},
					setOpacityPercentage : function(opacityPercentage) {
						this.setStringProperty("OPACITY_PERCENTAGE",
								opacityPercentage);
					},
					setOpacity : function(opacityPercentage) {
						this
								.setStringProperty(
										"OPACITY_PERCENTAGE",
										sap.firefly.XInteger
												.convertIntegerToString(opacityPercentage));
					},
					getOpacity : function() {
						return sap.firefly.XInteger.convertStringToInteger(this
								.getStringPropertyWithDefault(
										"OPACITY_PERCENTAGE", "100"));
					},
					getOpacityPercentage : function() {
						return this.getStringPropertyWithDefault(
								"OPACITY_PERCENTAGE", "100");
					},
					setText : function(text) {
						this.setStringProperty("TEXT", text);
					},
					getText : function() {
						return this.getStringPropertyWithDefault("TEXT", "");
					},
					setTooltip : function(tooltip) {
						this.setStringProperty("TOOLTIP", tooltip);
					},
					getTooltip : function() {
						return this.getStringPropertyWithDefault("TOOLTIP", "");
					},
					setOnClick : function(text) {
						this.setStringProperty("ON_CLICK", text);
					},
					getOnClick : function() {
						return this
								.getStringPropertyWithDefault("ON_CLICK", "");
					},
					onClick : function() {
						if (this.getOnClick() !== null
								&& !sap.firefly.XString.isEqual("", this
										.getOnClick())) {
							this.getPage().execWithoutRerender(
									this.getOnClick());
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.ConditionsDialog",
				sap.zen.Component,
				{
					dataSource : null,
					submitCommand : null,
					dimensionEvaluationType : null,
					evaluateRulesWithAnd : false,
					CONDITION_NAME : null,
					create : function() {
						var uid = sap.firefly.XString.concatenate2(this
								.getName(), "_conditionsdialog");
						var s1;
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.dialog/resources/js/conditionsdialog_handler");
						this.initControl(uid, "CONDITIONS_DIALOG");
						s1 = sap.firefly.XString.concatenate2(this.getId(),
								".doSubmitCommand('__arguments__');");
						this.submitCommand = this.createScriptAction(s1,
								"__JSON__");
						this.CONDITION_NAME = "ZENCONDITION";
						this.dimensionEvaluationType = sap.firefly.ConditionDimensionEvaluationType.MOST_DETAILED_ON_ROWS;
						this.evaluateRulesWithAnd = false;
					},
					renderControlContent : function(renderManager) {
						var rs = renderManager.getRenderSerializer();
						var queryModel;
						var measureDimension;
						var measures;
						var i;
						var measure;
						var condition;
						var continueConditionsearch;
						var j;
						var andCondition;
						if (this.dataSource !== null
								&& this.dataSource.getQueryManager() !== null) {
							queryModel = this.dataSource.getQueryManager()
									.getQueryModel();
							measureDimension = queryModel.getMeasureDimension();
							if (measureDimension === null) {
								return;
							}
							measures = measureDimension
									.getAllStructureMembers();
							rs.openArray("measures");
							for (i = 0; i < measures.size(); i++) {
								measure = measures.get(i);
								rs.openJsonTag();
								rs.addAttribute("key", measure.getName());
								rs.addAttribute("text", measure.getText());
								rs.closeJsonTag();
							}
							rs.closeArray();
							condition = this.getCondition(0, true);
							rs.openTag("condition");
							rs.openArray("thresholds");
							this.renderThresholds(rs, condition);
							if (this.evaluateRulesWithAnd) {
								continueConditionsearch = true;
								for (j = 1; continueConditionsearch; j++) {
									andCondition = this.getCondition(j, false);
									continueConditionsearch = andCondition !== null;
									if (continueConditionsearch) {
										this.renderThresholds(rs, andCondition);
									}
								}
							}
							rs.closeArray();
							rs.addAttribute("dimensionEvaluationType",
									condition.getDimensionEvaluationType()
											.getName());
							if (this.evaluateRulesWithAnd) {
								rs.addBooleanAttribute("evaluateRulesWithAnd",
										true);
							}
							rs.closeTag();
							rs
									.addAttribute("submitCommand",
											this.submitCommand);
						}
					},
					renderThresholds : function(rs, condition) {
						var thresholds = condition.getThresholds();
						var j;
						var threshold;
						var comparisonOperator;
						for (j = 0; j < thresholds.size(); j++) {
							threshold = thresholds.get(j);
							rs.openJsonTag();
							rs.addAttribute("keyField", threshold
									.getMeasureCoordinates().get(0).getName());
							comparisonOperator = threshold
									.getComparisonOperator();
							rs
									.addAttribute(
											"operation",
											this
													.converteComparisonOperatorToString(comparisonOperator));
							rs.addBooleanAttribute("exclude", false);
							rs.addAttribute("value1", threshold.getLow()
									.getStringValue());
							rs.addAttribute("value2", threshold.getHigh()
									.getStringValue());
							rs.closeJsonTag();
						}
					},
					converteComparisonOperatorToString : function(
							comparisonOperator) {
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.NOT_EQUAL) {
							return "ZENNEQ";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.BETWEEN) {
							return "BT";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.NOT_BETWEEN) {
							return "ZENNBT";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.LESS_THAN) {
							return "LT";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.LESS_EQUAL) {
							return "LE";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.GREATER_THAN) {
							return "GT";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.GREATER_EQUAL) {
							return "GE";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.TOP_N) {
							return "ZENTopN";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.TOP_PERCENT) {
							return "ZENTopPercent";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.TOP_SUM) {
							return "ZENTopSum";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.BOTTOM_N) {
							return "ZENBottomN";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.BOTTOM_PERCENT) {
							return "ZENBottomPercent";
						}
						if (comparisonOperator === sap.firefly.ConditionComparisonOperator.BOTTOM_SUM) {
							return "ZENBottomSum";
						}
						return "EQ";
					},
					setDataSource : function(dataSource) {
						this.dataSource = dataSource;
					},
					doSubmitCommand : function(conditions) {
						var queryModel = this.dataSource.getQueryManager()
								.getQueryModel();
						var jsonParser;
						var structure;
						var thresholds;
						var size;
						var dimensionEvaluationType;
						var condition;
						var i;
						var threshold;
						var newThreshold;
						var high;
						queryModel.getConditionManager().clear();
						this.dataSource.raiseDataSourceChangedEvent(null,
								false, true);
						jsonParser = this.getJsonParser();
						structure = jsonParser.parse(conditions).asStructure();
						this.evaluateRulesWithAnd = structure.getElementByName(
								"evaluateRulesWithAnd").asBoolean()
								.getBooleanValue();
						thresholds = structure.getElementByName("thresholds")
								.asList();
						size = thresholds.size();
						dimensionEvaluationType = this
								.convertDimensionEvaluationType(structure
										.getElementByName(
												"dimensionEvaluationType")
										.asString().getStringValue());
						if (size === 0) {
							this.dimensionEvaluationType = dimensionEvaluationType;
							return;
						}
						condition = this.getCondition(0, true);
						condition.getThresholds().clear();
						condition
								.setDimensionEvaluationType(dimensionEvaluationType);
						for (i = 0; i < size; i++) {
							threshold = thresholds.getElementByIndex(i)
									.asStructure();
							if (this.evaluateRulesWithAnd && i > 0) {
								condition = this.getCondition(i, true);
								condition.getThresholds().clear();
								condition
										.setDimensionEvaluationType(dimensionEvaluationType);
							}
							newThreshold = condition.createThreshold();
							newThreshold.addMeasureCoordinate(queryModel
									.getMeasureDimension().getStructureMember(
											threshold.getElementByName(
													"keyField").asString()
													.getStringValue())
									.getDimensionMember());
							newThreshold.setComparisonOperator(this
									.convertComparisonOperator(threshold
											.getElementByName("operation")
											.asString().getStringValue()));
							newThreshold.getLow().setStringValue(
									threshold.getElementByName("value1")
											.getStringRepresentation());
							high = threshold.getElementByName("value2");
							if (high !== null
									&& !sap.firefly.XString.isEqual("null",
											high.getStringRepresentation())) {
								newThreshold.getHigh().setStringValue(
										high.getStringRepresentation());
							}
						}
					},
					getCondition : function(index, createNew) {
						var queryModel = this.dataSource.getQueryManager()
								.getQueryModel();
						var conditionManager = queryModel.getConditionManager();
						var conditionName = this.CONDITION_NAME;
						var condition;
						if (index > 0) {
							conditionName = sap.firefly.XString.concatenate2(
									this.CONDITION_NAME, sap.firefly.XInteger
											.convertIntegerToString(index));
						}
						condition = conditionManager
								.getConditionByName(conditionName);
						if (condition === null && createNew) {
							condition = conditionManager
									.addNewCondition(conditionName);
							condition
									.setDimensionEvaluationType(this.dimensionEvaluationType);
						}
						return condition;
					},
					convertComparisonOperator : function(op) {
						if (sap.firefly.XString.isEqual("ZENNEQ", op)) {
							return sap.firefly.ConditionComparisonOperator.NOT_EQUAL;
						}
						if (sap.firefly.XString.isEqual("BT", op)) {
							return sap.firefly.ConditionComparisonOperator.BETWEEN;
						}
						if (sap.firefly.XString.isEqual("ZENNBT", op)) {
							return sap.firefly.ConditionComparisonOperator.NOT_BETWEEN;
						}
						if (sap.firefly.XString.isEqual("LT", op)) {
							return sap.firefly.ConditionComparisonOperator.LESS_THAN;
						}
						if (sap.firefly.XString.isEqual("LE", op)) {
							return sap.firefly.ConditionComparisonOperator.LESS_EQUAL;
						}
						if (sap.firefly.XString.isEqual("GT", op)) {
							return sap.firefly.ConditionComparisonOperator.GREATER_THAN;
						}
						if (sap.firefly.XString.isEqual("GE", op)) {
							return sap.firefly.ConditionComparisonOperator.GREATER_EQUAL;
						}
						if (sap.firefly.XString.isEqual("ZENTopN", op)) {
							return sap.firefly.ConditionComparisonOperator.TOP_N;
						}
						if (sap.firefly.XString.isEqual("ZENTopPercent", op)) {
							return sap.firefly.ConditionComparisonOperator.TOP_PERCENT;
						}
						if (sap.firefly.XString.isEqual("ZENTopSum", op)) {
							return sap.firefly.ConditionComparisonOperator.TOP_SUM;
						}
						if (sap.firefly.XString.isEqual("ZENBottomN", op)) {
							return sap.firefly.ConditionComparisonOperator.BOTTOM_N;
						}
						if (sap.firefly.XString.isEqual("ZENBottomPercent", op)) {
							return sap.firefly.ConditionComparisonOperator.BOTTOM_PERCENT;
						}
						if (sap.firefly.XString.isEqual("ZENBottomSum", op)) {
							return sap.firefly.ConditionComparisonOperator.BOTTOM_SUM;
						}
						return sap.firefly.ConditionComparisonOperator.EQUAL;
					},
					convertDimensionEvaluationType : function(type) {
						if (sap.firefly.XString.isEqual("mostDetailedOnRows",
								type)) {
							return sap.firefly.ConditionDimensionEvaluationType.MOST_DETAILED_ON_ROWS;
						}
						if (sap.firefly.XString.isEqual("mostDetailedOnCols",
								type)) {
							return sap.firefly.ConditionDimensionEvaluationType.MOST_DETAILED_ON_COLS;
						}
						return sap.firefly.ConditionDimensionEvaluationType.ALL_IN_DRILL_DOWN;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ContextMenuControl",
				sap.zen.Component,
				{
					$statics : {
						SCALING_PREFIX : "SCALING_",
						DECIMAL_PREFIX : "DECIMAL_",
						deserialize : function(serialisation) {
							var result = sap.firefly.XListOfString.create();
							var length = sap.firefly.XString
									.size(serialisation);
							var counterBackslash = 0;
							var start = 0;
							var currentElement = null;
							var i;
							var charAt;
							var string;
							for (i = 0; i < length; i++) {
								charAt = sap.firefly.XString.getCharAt(
										serialisation, i);
								if (charAt === sap.firefly.XString.getCharAt(
										"/", 0)) {
									if (counterBackslash === 0) {
										string = sap.firefly.XString.substring(
												serialisation, start, i);
										result.add(sap.zen.ContextMenuControl
												.unEscapeComponent(string));
										start = i + 1;
									} else {
										counterBackslash = 0;
									}
								} else {
									if (charAt === sap.firefly.XString
											.getCharAt("\\", 0)) {
										counterBackslash++;
									} else {
										counterBackslash = 0;
									}
								}
							}
							if (start <= length) {
								result.add(sap.zen.ContextMenuControl
										.unEscapeComponent(sap.firefly.XString
												.substring(serialisation,
														start, -1)));
							}
							return result;
						},
						unEscapeComponent : function(component) {
							var length = sap.firefly.XString.size(component);
							var shift = 0;
							var result = component;
							var i;
							var charAt;
							var start;
							var end;
							for (i = 0; i < (length - 1); i++) {
								if (sap.firefly.XString.getCharAt(component, i) === sap.firefly.XString
										.getCharAt("\\", 0)) {
									charAt = sap.firefly.XString.getCharAt(
											component, i + 1);
									if (charAt === sap.firefly.XString
											.getCharAt("\\", 0)
											|| charAt === sap.firefly.XString
													.getCharAt("/", 0)) {
										start = i - shift + 1;
										end = i - shift;
										result = sap.firefly.XStringUtils
												.concatenate2(
														sap.firefly.XString
																.substring(
																		result,
																		0, end),
														sap.firefly.XString
																.substring(
																		result,
																		start,
																		-1));
										i++;
										shift++;
									}
								}
							}
							return result;
						}
					},
					contextMenuVisible : false,
					sourceComponentName : null,
					mode : null,
					context : null,
					oResultSet : null,
					oResultSetInfo : null,
					oDimension : null,
					oDimensionMember : null,
					oInternalAttribute : null,
					oResultDataCell : null,
					create : function() {
						var lUid = sap.firefly.XStringUtils.concatenate2(this
								.getName(), "_contextmenu1");
						this.initControl(lUid, "contextmenu");
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.contextmenu/resources/js/contextmenu_handler");
					},
					getDefaultWidthAsString : function() {
						return "100";
					},
					getDefaultHeightAsString : function() {
						return "50";
					},
					resetControl : function() {
						this.sourceComponentName = null;
						this.mode = null;
						this.oResultSet = null;
						this.oResultSetInfo = null;
						this.oDimension = null;
						this.oDimensionMember = null;
						this.oInternalAttribute = null;
						this.oResultDataCell = null;
					},
					openContextMenu : function() {
						this.setContentChanged(true);
						this.contextMenuVisible = true;
					},
					processOpenContextMenu : function(sourceComponentName,
							mode, context) {
						var loDimension = this.oDimension;
						var loDimensionMember = this.oDimensionMember;
						var loInternalAttribute = this.oInternalAttribute;
						var loResultSet = this.oResultSet;
						var loResultDataCell = this.oResultDataCell;
						var loResultSetInfo = this.oResultSetInfo;
						var lValid;
						var loInternalDimension;
						var loField;
						var loAttribute;
						var loFieldValue;
						this.resetControl();
						this.sourceComponentName = sourceComponentName;
						this.mode = mode;
						this.context = context;
						lValid = false;
						if (context === sap.zen.CContextMenuContext.DIMENSION) {
							if (loDimension !== null) {
								this.oDimension = loDimension;
								this.oResultSet = this.oDimension
										.getResultSet();
								lValid = true;
							}
						} else {
							if (context === sap.zen.CContextMenuContext.DIMENSION_MEMBER) {
								if (loDimensionMember !== null) {
									this.oDimensionMember = loDimensionMember;
									this.oDimension = this.oDimensionMember
											.getDimension();
									this.oResultSet = this.oDimension
											.getResultSet();
									lValid = true;
								}
							} else {
								if (context === sap.zen.CContextMenuContext.ATTRIBUTE) {
									if (loInternalAttribute !== null
											&& loResultSet !== null) {
										this.oInternalAttribute = loInternalAttribute;
										this.oResultSet = loResultSet;
										loInternalDimension = this.oInternalAttribute
												.getDimension();
										this.oDimension = sap.zen.DimensionWrapper
												.create(this.oResultSet
														.getDataSource(),
														this.oResultSet,
														loInternalDimension
																.getName());
										this.mode = sap.zen.CContextMenuMode.CROSSTAB;
										lValid = true;
									}
								} else {
									if (context === sap.zen.CContextMenuContext.DATA_CELL) {
										if (loResultDataCell !== null) {
											this.oResultDataCell = loResultDataCell;
											this.oResultSet = this.oResultDataCell
													.getResultSet();
											this.mode = sap.zen.CContextMenuMode.CROSSTAB;
											lValid = true;
										}
									} else {
										if (context === sap.zen.CContextMenuContext.FIELD) {
											if (loResultSetInfo !== null) {
												this.oResultSetInfo = loResultSetInfo;
												this.oDimension = this.oResultSetInfo
														.getDimension();
												this.oResultSet = this.oResultSetInfo
														.getResultSet();
												loField = this.oResultSetInfo
														.getField();
												if (loField !== null) {
													loAttribute = loField
															.getAttribute();
													if (sap.zen.DataSourceScriptApiUtils
															.isAttribute(
																	this.oResultSet
																			.getDataSource(),
																	loAttribute)) {
														this.oInternalAttribute = loAttribute;
													}
												}
												loFieldValue = this.oResultSetInfo
														.getFieldValue();
												if (loFieldValue !== null) {
													this.oDimensionMember = this.oResultSetInfo
															.getDimensionMember();
												}
												this.mode = sap.zen.CContextMenuMode.CROSSTAB;
												if (this.oDimension !== null
														|| loField !== null) {
													lValid = true;
												}
											}
										}
									}
								}
							}
						}
						if (lValid) {
							this.openContextMenu();
						}
					},
					closeContextMenu : function() {
						this.contextMenuVisible = false;
					},
					openMenuForDimension : function(sourceComponentName, mode,
							oDimension) {
						this.oDimension = oDimension;
						this.processOpenContextMenu(sourceComponentName, mode,
								sap.zen.CContextMenuContext.DIMENSION);
					},
					openMenuForDimensionMember : function(sourceComponentName,
							mode, oDimensionMember) {
						this.oDimensionMember = oDimensionMember;
						this.processOpenContextMenu(sourceComponentName, mode,
								sap.zen.CContextMenuContext.DIMENSION_MEMBER);
					},
					openMenuForAttribute : function(sourceComponentName,
							oResultSet, oAttribute) {
						this.oInternalAttribute = oAttribute;
						this.oResultSet = oResultSet;
						this.processOpenContextMenu(sourceComponentName, null,
								sap.zen.CContextMenuContext.ATTRIBUTE);
					},
					openMenuForDataCell : function(sourceComponentName,
							oResultDataCell) {
						this.oResultDataCell = oResultDataCell;
						this.processOpenContextMenu(sourceComponentName, null,
								sap.zen.CContextMenuContext.DATA_CELL);
					},
					openMenuForFieldValue : function(sourceComponentName,
							oResultSetInfo) {
						this.oResultSetInfo = oResultSetInfo;
						this.processOpenContextMenu(sourceComponentName, null,
								sap.zen.CContextMenuContext.FIELD);
					},
					submitDialog : function(json) {
						var lJsonObject = sap.buddha.XJsonObject
								.createFromJSonString(json);
						var lJsonData = lJsonObject.getJSON();
						var lDialogType = lJsonData.getByKey("dlgtype");
						var lScalingFactor;
						var lScalingFactorString;
						var lDecimalPlaces;
						var lDecimalPlacesString;
						var loComponent;
						var lCrosstabComponent;
						var lDisplayScalingFactorString;
						var lDisplayScalingFactor;
						var loInternalDimension;
						var loInternalDimensionMember;
						var lSwapDimensionName;
						var loSwapDimension;
						var loCharacteristicWrapper;
						var loMemberWrapper;
						var ltRanges;
						var loRange;
						var lHierarchyInfo;
						var ltHierachyInfo;
						var lHierarchyName;
						var lHierarchyVersion;
						var lHierarchyDueDate;
						var lHierarchyActivate;
						var lHierarchyLevelAsString;
						var lHierarchyLevel;
						if (sap.zen.CContextMenuDialog.valueOf2(lDialogType) === sap.zen.CContextMenuDialog.NUMBER_FORMAT) {
							lScalingFactor = 0;
							lScalingFactorString = lJsonData
									.getByKey("dd_scalingfactor");
							if (sap.firefly.XString.isEqual("DEFAULT",
									lScalingFactorString)) {
								lScalingFactor = -1;
							} else {
								lScalingFactorString = sap.firefly.XString
										.substring(
												lScalingFactorString,
												sap.firefly.XString
														.size(sap.zen.ContextMenuControl.SCALING_PREFIX),
												-1);
								lScalingFactor = sap.firefly.XInteger
										.convertStringToInteger(lScalingFactorString);
							}
							lDecimalPlaces = 0;
							lDecimalPlacesString = lJsonData
									.getByKey("dd_decimalplaces");
							if (sap.firefly.XString.isEqual("DEFAULT",
									lDecimalPlacesString)) {
								lDecimalPlaces = -1;
							} else {
								lDecimalPlacesString = sap.firefly.XString
										.substring(
												lDecimalPlacesString,
												sap.firefly.XString
														.size(sap.zen.ContextMenuControl.DECIMAL_PREFIX),
												-1);
								lDecimalPlaces = sap.firefly.XInteger
										.convertStringToInteger(lDecimalPlacesString);
							}
							if (this.oResultDataCell !== null) {
								this.oResultDataCell
										.setDecimals(lDecimalPlaces);
								this.oResultDataCell
										.setScalingFactor(lScalingFactor);
							} else {
								if (this.oDimensionMember !== null) {
									this.oDimensionMember
											.setDecimalsAndScalingFactor(
													lDecimalPlaces,
													lScalingFactor);
								}
							}
							loComponent = this.getPage().getComponent(
									this.sourceComponentName);
							if (sap.firefly.XString.isEqual(loComponent
									.getType(),
									sap.zen.ZCrosstabControl.COMPONENT_TYPE)) {
								lCrosstabComponent = loComponent;
								lDisplayScalingFactorString = lJsonData
										.getByKey("chk_display");
								lDisplayScalingFactor = sap.firefly.XBoolean
										.convertStringToBoolean(lDisplayScalingFactorString);
								if (lDisplayScalingFactor) {
									lCrosstabComponent
											.setScalingFactorDisplayMode(sap.zen.CCrosstabScalingFactorDisplayMode.IN_HEADER);
								} else {
									lCrosstabComponent
											.setScalingFactorDisplayMode(sap.zen.CCrosstabScalingFactorDisplayMode.NO_DISPLAY);
								}
							}
							this.oResultSet.getDataSource()
									.raiseDataSourceChangedEvent(null, false,
											true);
						} else {
							if (sap.zen.CContextMenuDialog
									.valueOf2(lDialogType) === sap.zen.CContextMenuDialog.DIMENSIONS) {
								loInternalDimension = this.oDimension
										.getInternalObject();
								loInternalDimensionMember = this.oDimensionMember
										.getInternalObject();
								lSwapDimensionName = lJsonData
										.getByKey("dd_dimension");
								loSwapDimension = this.oDimension
										.getDataSource().getQueryManager()
										.getQueryModel().getDimensionByName(
												lSwapDimensionName);
								loInternalDimension.getAxis().add(
										loSwapDimension);
								loInternalDimension.getAxis().removeElement(
										loInternalDimension);
								loCharacteristicWrapper = new sap.zen.CharacteristicWrapper();
								loCharacteristicWrapper.initMe(this.oDimension
										.getDataSource(), loInternalDimension,
										null, null,
										sap.zen.FPMemberDisplay.KEY_TEXT,
										this.oDimension.getDataSource()
												.getMessageWriter(), false);
								loCharacteristicWrapper.resetQuery();
								loMemberWrapper = new sap.zen.MemberWrapper();
								loMemberWrapper.initMe(
										loInternalDimensionMember, false,
										loInternalDimension);
								ltRanges = sap.firefly.XList.create();
								loRange = new sap.zen.Range();
								loRange.initMe2(loMemberWrapper);
								ltRanges.add(loRange);
								loCharacteristicWrapper
										.setFullRangeQueryByField(ltRanges,
												false);
								this.oDimension.getDataSource()
										.raiseDataSourceChangedEvent(null,
												false, true);
							} else {
								if (sap.zen.CContextMenuDialog
										.valueOf2(lDialogType) === sap.zen.CContextMenuDialog.HIERARCHY) {
									lHierarchyInfo = lJsonData
											.getByKey("dd_hierarchy");
									ltHierachyInfo = sap.zen.ContextMenuControl
											.deserialize(lHierarchyInfo);
									lHierarchyName = null;
									lHierarchyVersion = null;
									lHierarchyDueDate = null;
									lHierarchyActivate = false;
									if (sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(lHierarchyInfo)) {
										lHierarchyActivate = true;
										if (ltHierachyInfo.size() > 0) {
											lHierarchyName = ltHierachyInfo
													.get(0);
										}
										if (ltHierachyInfo.size() > 1) {
											lHierarchyVersion = ltHierachyInfo
													.get(1);
										}
										if (ltHierachyInfo.size() > 2) {
											lHierarchyDueDate = ltHierachyInfo
													.get(2);
										}
									}
									this.oDimension.getProperties()
											.setHierarchy(lHierarchyName,
													lHierarchyVersion,
													lHierarchyDueDate,
													lHierarchyActivate, true);
								} else {
									if (sap.zen.CContextMenuDialog
											.valueOf2(lDialogType) === sap.zen.CContextMenuDialog.HIERARCHY_LEVEL) {
										lHierarchyLevelAsString = lJsonData
												.getByKey("dd_levels");
										lHierarchyLevel = sap.firefly.XInteger
												.convertStringToInteger(lHierarchyLevelAsString);
										if (this.oDimension.isUDH()) {
											this.oDimension.getProperties()
													.setUDHDrillLevel(
															lHierarchyLevel,
															true);
										} else {
											this.oDimension.getProperties()
													.setHierarchyDrillLevel(
															lHierarchyLevel,
															true);
										}
									}
								}
							}
						}
					},
					getSourceComponentName : function() {
						return this.sourceComponentName;
					},
					getFilterBar : function() {
						var ltComponents = this.getPage().getComponentsByType(
								"FILTERBAR_COMPONENT");
						if (!ltComponents.isEmpty()) {
							return ltComponents.get(0);
						}
						return null;
					},
					getClickArea : function() {
						if (this.oResultDataCell !== null) {
							return "DATA";
						} else {
							if (this.oDimensionMember !== null) {
								return "MEMBER";
							} else {
								if (this.oDimension !== null) {
									return "DIMENSION";
								}
							}
						}
						return "";
					},
					getContext : function() {
						var ltDimensionMemberMap = sap.firefly.XHashMapOfStringByString
								.create();
						var loTuple;
						if (this.oDimension !== null) {
							if (this.oDimensionMember !== null) {
								ltDimensionMemberMap.put(this.oDimension
										.getName(), this.oDimensionMember
										.getName());
							} else {
								ltDimensionMemberMap.put(this.oDimension
										.getName(), "");
							}
						}
						loTuple = null;
						if (this.oResultSetInfo !== null) {
							loTuple = this.oResultSetInfo.getTuple();
							this.extractTupleContext(ltDimensionMemberMap,
									loTuple);
						} else {
							if (this.oResultDataCell !== null) {
								loTuple = this.oResultDataCell.getResultSet()
										.getTuple(sap.firefly.AxisType.ROWS,
												this.oResultDataCell.getRow(),
												null, null);
								this.extractTupleContext(ltDimensionMemberMap,
										loTuple);
								loTuple = this.oResultDataCell.getResultSet()
										.getTuple(
												sap.firefly.AxisType.COLUMNS,
												this.oResultDataCell
														.getColumn(), null,
												null);
								this.extractTupleContext(ltDimensionMemberMap,
										loTuple);
							}
						}
						return sap.zen.ProjectionUtil
								.stringifyCartesianSelection(ltDimensionMemberMap);
					},
					extractTupleContext : function(tDimensionMemberMap, oTuple) {
						var lTupleElementIndex;
						var loTupleElement;
						for (lTupleElementIndex = 0; lTupleElementIndex < oTuple
								.getAmountOfTupleElements(); lTupleElementIndex++) {
							loTupleElement = oTuple.getTupleElement(
									lTupleElementIndex, null);
							if (loTupleElement === null) {
								continue;
							}
							tDimensionMemberMap.put(loTupleElement
									.getDimension().getName(), loTupleElement
									.getDimensionMember().getName());
						}
					},
					startDialog : function(oRenderSerializer, dialogType,
							title, elements) {
						oRenderSerializer.openTag("dialog");
						oRenderSerializer.addAttribute("dlgtype", dialogType);
						oRenderSerializer.addAttribute("okbtntext",
								sap.zen.CLocalizationContextMenuTexts.OK
										.getText(this.getMessageWriter()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("cancelbtntext",
								sap.zen.CLocalizationContextMenuTexts.CANCEL
										.getText(this.getMessageWriter()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("title", title);
						oRenderSerializer.addIntegerAttribute(
								"numberofelements", elements);
						oRenderSerializer.addAttribute("submitdialogcommand",
								this.buildSubmitDialogAction());
						oRenderSerializer.openArray("elements");
					},
					closeDialog : function(oRenderSerializer) {
						oRenderSerializer.closeArray();
						oRenderSerializer.closeTag();
					},
					addEntryFull : function(oRenderSerializer, text, action,
							disabled, checked) {
						oRenderSerializer.openTag("entry");
						oRenderSerializer.addAttribute("text", text);
						oRenderSerializer.addAttribute("onSelect", action);
						oRenderSerializer.addBooleanAttribute("checked",
								checked);
						oRenderSerializer.addBooleanAttribute("disabled",
								disabled);
						oRenderSerializer.closeTag();
					},
					addEntry : function(oRenderSerializer, text, action) {
						this.addEntryFull(oRenderSerializer, text, action,
								false, false);
					},
					addDropDownItem : function(oRenderSerializer, idString,
							text, selected) {
						oRenderSerializer.openTag("entry");
						oRenderSerializer.addAttribute("id", idString);
						oRenderSerializer.addAttribute("text", text);
						if (selected) {
							oRenderSerializer.addBooleanAttribute("selected",
									true);
						}
						oRenderSerializer.closeTag();
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer = renderManager
								.getRenderSerializer();
						var loCssClassNode = this.getInitParameters()
								.getFirstChildWithNameTag("CSS_CLASS");
						var lCssClass;
						if (loCssClassNode !== null) {
							lCssClass = loCssClassNode.getAttribute("value");
							loRenderSerializer.addAttribute("cssclass",
									lCssClass);
						}
						loRenderSerializer.addAttribute("contextmenuid", this
								.getId());
						if (!this.contextMenuVisible) {
							return;
						}
						if (this.oResultSet.getDataSource() === null) {
							return;
						}
						if (this.mode === sap.zen.CContextMenuMode.GET_HIERACRHIES) {
							loRenderSerializer.addBooleanAttribute("dialog",
									true);
							loRenderSerializer.openArray("entries");
							this.renderHierarchySelectDialog(
									loRenderSerializer, this.oDimension);
							loRenderSerializer.closeArray();
						} else {
							loRenderSerializer.openArray("entries");
							if (this.oResultDataCell !== null) {
								this.renderNumberFormat(loRenderSerializer,
										this.oDimensionMember,
										this.oResultDataCell);
								this.renderConditions(loRenderSerializer,
										this.oResultSet);
							} else {
								if (this.oInternalAttribute !== null) {
									this.renderSortDimension(
											loRenderSerializer,
											this.oDimension,
											this.oInternalAttribute);
									this.renderMemberDisplay(
											loRenderSerializer,
											this.oDimension,
											this.oInternalAttribute);
								} else {
									if (this.oDimension.isStructure()) {
										this.renderStructureContextMenu(
												loRenderSerializer,
												this.oDimension,
												this.oDimensionMember);
									} else {
										this.renderSortDimension(
												loRenderSerializer,
												this.oDimension,
												this.oInternalAttribute);
										this.renderMemberDisplay(
												loRenderSerializer,
												this.oDimension,
												this.oInternalAttribute);
										this.renderAttributes(
												loRenderSerializer,
												this.oDimension);
										this.renderHierarchy(
												loRenderSerializer,
												this.oDimension);
										this.renderTotals(loRenderSerializer,
												this.oDimension);
										if (this.mode === sap.zen.CContextMenuMode.NAVIGATION_PANEL) {
											this.renderAddToFilter(
													loRenderSerializer,
													this.oDimension);
										}
										this
												.renderFilterOnCharacteristicMember(
														loRenderSerializer,
														this.oDimension,
														this.oDimensionMember);
									}
								}
								if (this.oDimension.getAxis() === sap.firefly.AxisType.ROWS
										|| this.oDimension.getAxis() === sap.firefly.AxisType.COLUMNS) {
									this
											.renderZeroSuppression(
													loRenderSerializer,
													this.oDimension);
									this.renderUDH(loRenderSerializer,
											this.oDimension);
								}
							}
							this.renderCustomContextMenuEntries(
									loRenderSerializer, this
											.getInitParameters());
							loRenderSerializer.closeArray();
							this.renderContextForJump(loRenderSerializer,
									this.oResultSet, this.oDimension,
									this.oDimensionMember,
									this.oResultDataCell, this.oResultSetInfo);
							this
									.renderNavigationInformation(loRenderSerializer);
						}
						this.closeContextMenu();
					},
					renderCustomContextMenuEntries : function(
							oRenderSerializer, nodes) {
						var loMenuEntries = nodes
								.getFirstChildWithNameTag("MENU_ENTRIES");
						var loMenuEntriesPropertyIterator;
						var loMenuEntry;
						var lText;
						var lAction;
						var loTextNode;
						var loActionNode;
						var ltActionValues;
						var loChildMenuEntries;
						if (loMenuEntries !== null) {
							loMenuEntriesPropertyIterator = loMenuEntries
									.getChildren("property").getIterator();
							loMenuEntry = null;
							while (loMenuEntriesPropertyIterator.hasNext()) {
								loMenuEntry = loMenuEntriesPropertyIterator
										.next();
								if (loMenuEntry === null) {
									continue;
								}
								lText = "";
								lAction = "";
								loTextNode = loMenuEntry
										.getFirstChildWithNameTag("TEXT");
								if (loTextNode !== null) {
									lText = loTextNode.getAttribute("value");
								}
								loActionNode = loMenuEntry
										.getFirstChildWithNameTag("ON_SELECT");
								if (loActionNode !== null) {
									ltActionValues = loActionNode
											.getChildren("value");
									if (ltActionValues !== null) {
										lAction = ltActionValues.get(0)
												.getText();
										if (sap.firefly.XStringUtils
												.isNotNullAndNotEmpty(lAction)) {
											lAction = this
													.createScript(lAction);
										}
									}
								}
								loChildMenuEntries = loMenuEntry
										.getFirstChildWithNameTag("MENU_ENTRIES");
								if (loChildMenuEntries !== null) {
									oRenderSerializer.openTag("entry");
									oRenderSerializer.addAttribute("text",
											lText);
									oRenderSerializer.openArray("entries");
									this.renderCustomContextMenuEntries(
											oRenderSerializer, loMenuEntry);
									oRenderSerializer.closeArray();
									oRenderSerializer.closeTag();
								} else {
									this.addEntryFull(oRenderSerializer, lText,
											lAction, false, false);
								}
							}
						}
					},
					renderContextForJump : function(oRenderSerializer,
							oResultSet, oDimension, oDimensionMember,
							oResultDataCell, oResultSetInfo) {
						var loMemberWrapper;
						var loInternalDimension;
						var loInternalDimensionMember;
						var loTuple;
						var loTupleElement;
						var lTupleElementIndex;
						var ltFixedSelectionsPerDimension;
						var ltFilterSelectionsPerDimension;
						var ltDimensions;
						var loDimensionsIterator;
						var loDimension;
						var loCharacteristicWrapper;
						var lDimensionName;
						var ltFilterSelections;
						var ltFixedSelections;
						oRenderSerializer.openTag("context");
						oRenderSerializer.addAttribute("menuitemid",
								"JUMP_TARGETS");
						oRenderSerializer.addAttribute("text",
								sap.zen.CLocalizationContextMenuTexts.JUMP
										.getText(this.getMessageWriter()
												.getLocalization(), null, null,
												null));
						loInternalDimension = null;
						loInternalDimensionMember = null;
						if (oDimension !== null) {
							loInternalDimension = oDimension
									.getInternalObject();
							oRenderSerializer.addAttribute("dimension",
									sap.zen.DataSourceScriptApiUtils
											.getDimensionNameForNavigation(this
													.getPage(), oDimension));
							if (oDimensionMember !== null
									&& !(oDimension.isMeasureStructure())) {
								loInternalDimensionMember = oDimensionMember
										.getInternalObject();
								loMemberWrapper = new sap.zen.MemberWrapper();
								loMemberWrapper.initMe(
										loInternalDimensionMember, false,
										loInternalDimension);
								oRenderSerializer.addAttribute("member",
										loMemberWrapper
												.getExternalKey(oDimension
														.getDataSource()));
								oRenderSerializer.addAttribute("memberType",
										loMemberWrapper.getType().toString());
							}
						}
						loTuple = null;
						loTupleElement = null;
						if (oResultSetInfo !== null
								&& oResultSetInfo.getTuple() !== null) {
							loTuple = oResultSetInfo.getTuple();
							oRenderSerializer.openArray("tuple_elements");
							for (lTupleElementIndex = 0; lTupleElementIndex < loTuple
									.getAmountOfTupleElements(); lTupleElementIndex++) {
								loTupleElement = loTuple.getTupleElement(
										lTupleElementIndex, null);
								if (loTupleElement === null) {
									continue;
								}
								if (oDimension !== null
										&& sap.firefly.XString.isEqual(
												loTupleElement.getDimension()
														.getName(), oDimension
														.getName())) {
									break;
								}
								oRenderSerializer.openTag("tuple_element");
								oRenderSerializer
										.addAttribute(
												"dimension",
												sap.zen.DataSourceScriptApiUtils
														.getDimensionNameForNavigation(
																this.getPage(),
																loTupleElement
																		.getDimension()));
								loMemberWrapper = new sap.zen.MemberWrapper();
								loInternalDimension = loTupleElement
										.getDimension().getInternalObject();
								loInternalDimensionMember = loTupleElement
										.getDimensionMember()
										.getInternalObject();
								loMemberWrapper.initMe(
										loInternalDimensionMember, false,
										loInternalDimension);
								oRenderSerializer.addAttribute("member",
										loMemberWrapper.getExternalKey(loTuple
												.getDataSource()));
								oRenderSerializer.addAttribute("memberType",
										loMemberWrapper.getType().toString());
								oRenderSerializer.closeTag();
							}
							oRenderSerializer.closeArray();
						} else {
							if (oResultDataCell !== null) {
								oRenderSerializer.openArray("tuple_elements");
								loTuple = oResultDataCell.getResultSet()
										.getTuple(sap.firefly.AxisType.ROWS,
												oResultDataCell.getRow(), null,
												null);
								this.renderTupleContext(oRenderSerializer,
										loTuple);
								loTuple = oResultDataCell.getResultSet()
										.getTuple(sap.firefly.AxisType.COLUMNS,
												oResultDataCell.getColumn(),
												null, null);
								this.renderTupleContext(oRenderSerializer,
										loTuple);
								oRenderSerializer.closeArray();
							}
						}
						ltFixedSelectionsPerDimension = sap.firefly.XHashMapByString
								.create();
						ltFilterSelectionsPerDimension = sap.firefly.XHashMapByString
								.create();
						ltDimensions = oResultSet.getDataSource()
								.getQueryManager().getQueryModel()
								.getDimensions();
						loDimensionsIterator = ltDimensions.getIterator();
						while (loDimensionsIterator.hasNext()) {
							loInternalDimension = loDimensionsIterator.next();
							if (loInternalDimension === null) {
								continue;
							}
							loDimension = sap.zen.DimensionWrapper.create(
									oResultSet.getDataSource(), oResultSet,
									loInternalDimension.getName());
							if (!(loDimension.isMeasureStructure())) {
								loCharacteristicWrapper = new sap.zen.CharacteristicWrapper();
								loCharacteristicWrapper.initMe(loDimension
										.getDataSource(), loInternalDimension,
										null, null,
										sap.zen.FPMemberDisplay.KEY_TEXT,
										loDimension.getDataSource()
												.getMessageWriter(), false);
								lDimensionName = sap.zen.DataSourceScriptApiUtils
										.getDimensionNameForNavigation(this
												.getPage(), loDimension);
								ltFilterSelections = loCharacteristicWrapper
										.getAllSelections();
								if (ltFilterSelections !== null
										&& ltFilterSelections.size() > 0) {
									ltFilterSelectionsPerDimension.put(
											lDimensionName, ltFilterSelections);
								}
								ltFixedSelections = loCharacteristicWrapper
										.getAllFixedSelections();
								if (ltFixedSelections !== null
										&& ltFixedSelections.size() > 0) {
									ltFixedSelectionsPerDimension.put(
											lDimensionName, ltFixedSelections);
								}
							}
						}
						if (!ltFixedSelectionsPerDimension.isEmpty()) {
							oRenderSerializer.openArray("variables");
							this.renderFilterContext(oRenderSerializer,
									oResultSet, ltFixedSelectionsPerDimension);
							oRenderSerializer.closeArray();
						}
						if (!ltFilterSelectionsPerDimension.isEmpty()) {
							oRenderSerializer.openArray("filter");
							this.renderFilterContext(oRenderSerializer,
									oResultSet, ltFilterSelectionsPerDimension);
							oRenderSerializer.closeArray();
						}
						oRenderSerializer.closeTag();
					},
					renderTupleContext : function(oRenderSerializer, oTuple) {
						var lTupleElementIndex;
						var loTupleElement;
						var loMemberWrapper;
						var loInternalDimension;
						var loInternalDimensionMember;
						for (lTupleElementIndex = 0; lTupleElementIndex < oTuple
								.getAmountOfTupleElements(); lTupleElementIndex++) {
							loTupleElement = oTuple.getTupleElement(
									lTupleElementIndex, null);
							if (loTupleElement === null) {
								continue;
							}
							if (loTupleElement.getDimensionMember() === null
									|| loTupleElement.getDimensionMember()
											.isTotal()) {
								break;
							}
							oRenderSerializer.openTag("tuple_element");
							oRenderSerializer.addAttribute("dimension",
									sap.zen.DataSourceScriptApiUtils
											.getDimensionNameForNavigation(this
													.getPage(), loTupleElement
													.getDimension()));
							loMemberWrapper = new sap.zen.MemberWrapper();
							loInternalDimension = loTupleElement.getDimension()
									.getInternalObject();
							loInternalDimensionMember = loTupleElement
									.getDimensionMember().getInternalObject();
							loMemberWrapper.initMe(loInternalDimensionMember,
									false, loInternalDimension);
							oRenderSerializer.addAttribute("member",
									loMemberWrapper.getExternalKey(oTuple
											.getDataSource()));
							oRenderSerializer.addAttribute("memberType",
									loMemberWrapper.getType().toString());
							oRenderSerializer.closeTag();
						}
					},
					renderVariableContext : function(oRenderSerializer,
							tSelectionsPerDimension) {
						var loSelectionPerDimensionIterator = tSelectionsPerDimension
								.getKeysAsIteratorOfString();
						var lDimensionName;
						while (loSelectionPerDimensionIterator.hasNext()) {
							lDimensionName = loSelectionPerDimensionIterator
									.next();
							oRenderSerializer.openTag("dimension");
							oRenderSerializer.addAttribute("name",
									lDimensionName);
							oRenderSerializer.addAttribute("selection",
									tSelectionsPerDimension
											.getByKey(lDimensionName));
							oRenderSerializer.closeTag();
						}
					},
					renderFilterContext : function(oRenderSerializer,
							oResultSet, tSelectionsPerDimension) {
						var loSelectionPerDimensionIterator = tSelectionsPerDimension
								.getKeysAsIteratorOfString();
						var lDimensionName;
						var loSelectionIterator;
						var loSelection;
						var lHighString;
						var lComparisonOperator;
						var loMemberLow;
						var loMemberHigh;
						while (loSelectionPerDimensionIterator.hasNext()) {
							lDimensionName = loSelectionPerDimensionIterator
									.next();
							oRenderSerializer.openTag("dimension");
							oRenderSerializer.addAttribute("name",
									lDimensionName);
							oRenderSerializer.openArray("selections");
							loSelectionIterator = tSelectionsPerDimension
									.getByKey(lDimensionName).getIterator();
							while (loSelectionIterator.hasNext()) {
								loSelection = loSelectionIterator.next();
								lHighString = null;
								oRenderSerializer.openJsonTag();
								if (!loSelection.isExclude()) {
									oRenderSerializer.addAttribute("Sign", "I");
								} else {
									oRenderSerializer.addAttribute("Sign", "E");
								}
								lComparisonOperator = loSelection
										.getOperation();
								loMemberLow = loSelection.getFrom();
								oRenderSerializer.addAttribute("Low",
										loMemberLow.getExternalKey(oResultSet
												.getDataSource()));
								oRenderSerializer.addAttribute("LowType",
										loMemberLow.getType().toString());
								oRenderSerializer.addAttribute("Option",
										lComparisonOperator.toString());
								if (lComparisonOperator === sap.zen.Operation.BT) {
									loMemberHigh = loSelection.getTo();
									if (loMemberHigh !== null) {
										lHighString = loMemberHigh
												.getExternalKey(oResultSet
														.getDataSource());
									}
									if (lHighString !== null) {
										oRenderSerializer.addAttribute("High",
												lHighString);
										if (loMemberHigh !== null) {
											oRenderSerializer.addAttribute(
													"HighType", loMemberHigh
															.getType()
															.toString());
										}
									} else {
										oRenderSerializer
												.addNullAttribute("High");
									}
								}
								oRenderSerializer.closeJsonTag();
							}
							oRenderSerializer.closeArray();
							oRenderSerializer.closeTag();
						}
					},
					renderNavigationInformation : function(oRenderSerializer) {
						var ltAllowedDestinations = this.getPage()
								.getNavigationAllowedSemanticSources();
						var lAllowedDestinations;
						var lAllowedDestinationIndex;
						var ltFioriHelperComponents;
						var loFioriHelperControl;
						var sNotifyFioriJumpCommand;
						if (ltAllowedDestinations === null
								|| ltAllowedDestinations.size() === 0) {
							return;
						}
						oRenderSerializer.openTag("navigation");
						if (ltAllowedDestinations.size() > 0) {
							oRenderSerializer
									.openArray("allowed_semantic_sources");
							lAllowedDestinations = ltAllowedDestinations.size();
							for (lAllowedDestinationIndex = 0; lAllowedDestinationIndex < lAllowedDestinations; lAllowedDestinationIndex++) {
								oRenderSerializer.openTag("entry");
								oRenderSerializer.addAttribute("semanticname",
										ltAllowedDestinations
												.get(lAllowedDestinationIndex));
								oRenderSerializer.closeTag();
							}
							oRenderSerializer.closeArray();
							oRenderSerializer
									.addAttribute(
											"length",
											sap.firefly.XInteger
													.convertIntegerToString(lAllowedDestinations));
						}
						ltFioriHelperComponents = this.getPage()
								.getComponentsByType("FIORI_HELPER_COMPONENT");
						if (ltFioriHelperComponents.size() === 1) {
							loFioriHelperControl = ltFioriHelperComponents
									.get(0);
							sNotifyFioriJumpCommand = loFioriHelperControl
									.getNotifyFioriJumpCommand();
							oRenderSerializer.addAttribute(
									"notifyfiorijumpcommand",
									sNotifyFioriJumpCommand);
						}
						oRenderSerializer.closeTag();
					},
					renderNumberFormat : function(oRenderSerializer,
							oDimensionMember, oResultDataCell) {
						var lID;
						var lText;
						var lScalingFactor;
						var lCaptionFactor;
						var lCurrentScalingFactor;
						var lDecimalPlaces;
						var lCurrentDecimalPlaces;
						var lDisplayScalingFactorInHeader;
						var loComponent;
						var loCrosstabComponent;
						if (oDimensionMember === null
								&& oResultDataCell === null) {
							return;
						}
						oRenderSerializer.openTag("entry");
						oRenderSerializer
								.addAttribute(
										"text",
										sap.zen.CLocalizationContextMenuTexts.NUMBER_FORMAT
												.getTextWithTripleDots(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null));
						this
								.startDialog(
										oRenderSerializer,
										sap.zen.CContextMenuDialog.NUMBER_FORMAT
												.getValue(),
										sap.zen.CLocalizationContextMenuTexts.NUMBER_FORMAT
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null), 3);
						lID = null;
						lText = null;
						oRenderSerializer.openTag("element");
						oRenderSerializer.addAttribute("type", "dropdown");
						oRenderSerializer
								.addAttribute("id", "dd_scalingfactor");
						oRenderSerializer
								.addAttribute(
										"text",
										sap.zen.CLocalizationContextMenuTexts.SCALING_FACTOR
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.openArray("entries");
						lScalingFactor = sap.zen.ResultSetWrapper
								.sGetScalingFactor(oResultDataCell,
										oDimensionMember);
						this.addDropDownItem(oRenderSerializer, "DEFAULT",
								sap.zen.CLocalizationContextMenuTexts.DEFAULT
										.getText(this.getMessageWriter()
												.getLocalization(), null, null,
												null), lScalingFactor === -1);
						lCaptionFactor = 1;
						for (lCurrentScalingFactor = 0; lCurrentScalingFactor < 10; lCurrentScalingFactor = lCurrentScalingFactor + 1, lCaptionFactor = lCaptionFactor * 10) {
							lID = sap.firefly.XStringUtils.concatenateWithInt(
									sap.zen.ContextMenuControl.SCALING_PREFIX,
									lCurrentScalingFactor);
							lText = sap.zen.ResultDataCellWrapper
									.sGetScalingFactorValueAsStringFromScalingFactor(lCurrentScalingFactor);
							this.addDropDownItem(oRenderSerializer, lID, lText,
									lScalingFactor === lCurrentScalingFactor);
						}
						oRenderSerializer.closeArray();
						oRenderSerializer.closeTag();
						oRenderSerializer.openTag("element");
						oRenderSerializer.addAttribute("type", "dropdown");
						oRenderSerializer
								.addAttribute("id", "dd_decimalplaces");
						oRenderSerializer
								.addAttribute(
										"text",
										sap.zen.CLocalizationContextMenuTexts.DECIMAL_PLACES
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.openArray("entries");
						lDecimalPlaces = sap.zen.ResultSetWrapper.sGetDecimals(
								oResultDataCell, oDimensionMember);
						this.addDropDownItem(oRenderSerializer, "DEFAULT",
								sap.zen.CLocalizationContextMenuTexts.DEFAULT
										.getText(this.getMessageWriter()
												.getLocalization(), null, null,
												null), lDecimalPlaces === -1);
						for (lCurrentDecimalPlaces = 0; lCurrentDecimalPlaces < 10; lCurrentDecimalPlaces = lCurrentDecimalPlaces + 1) {
							lID = sap.firefly.XStringUtils.concatenateWithInt(
									sap.zen.ContextMenuControl.DECIMAL_PREFIX,
									lCurrentDecimalPlaces);
							lText = sap.firefly.XInteger
									.convertIntegerToString(lCurrentDecimalPlaces);
							this.addDropDownItem(oRenderSerializer, lID, lText,
									lDecimalPlaces === lCurrentDecimalPlaces);
						}
						oRenderSerializer.closeArray();
						oRenderSerializer.closeTag();
						lDisplayScalingFactorInHeader = false;
						loComponent = this.getPage().getComponent(
								this.sourceComponentName);
						if (sap.firefly.XString.isEqual(loComponent.getType(),
								sap.zen.ZCrosstabControl.COMPONENT_TYPE)) {
							loCrosstabComponent = loComponent;
							if (loCrosstabComponent
									.getScalingFactorDisplayMode() === sap.zen.CCrosstabScalingFactorDisplayMode.IN_HEADER) {
								lDisplayScalingFactorInHeader = true;
							}
						}
						oRenderSerializer.openTag("element");
						oRenderSerializer.addAttribute("type", "checkbox");
						oRenderSerializer.addAttribute("id", "chk_display");
						oRenderSerializer
								.addAttribute(
										"text",
										sap.zen.CLocalizationContextMenuTexts.DISPLAY_SCALING_FACTOR_IN_HEADER
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addBooleanAttribute("checked",
								lDisplayScalingFactorInHeader);
						oRenderSerializer.closeTag();
						this.closeDialog(oRenderSerializer);
						oRenderSerializer.closeTag();
					},
					renderAddToFilter : function(oRenderSerializer, oDimension) {
						var loProperties;
						var loComponent;
						var ltDimensionNames;
						var loDimensionNamesIterator;
						var lContained;
						var lDimensionName;
						if (oDimension === null) {
							return;
						}
						loProperties = oDimension.getProperties();
						loComponent = this.getFilterBar();
						if (loComponent !== null) {
							ltDimensionNames = sap.buddha.XObjectConverter
									.getIXListOfStringForSelectionFromStringArray(loComponent
											.getDimensionNames());
							loDimensionNamesIterator = ltDimensionNames
									.getIterator();
							lContained = false;
							while (loDimensionNamesIterator.hasNext()) {
								lDimensionName = loDimensionNamesIterator
										.next();
								if (sap.firefly.XString.isEqual(lDimensionName,
										loProperties.getName())) {
									lContained = true;
									break;
								}
							}
							if (lContained) {
								this
										.addEntry(
												oRenderSerializer,
												sap.zen.CLocalizationContextMenuTexts.REMOVE_FROM_FILTER
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null),
												this
														.buildRemoveFromFilterAction(loProperties
																.getDimension()));
							} else {
								this
										.addEntry(
												oRenderSerializer,
												sap.zen.CLocalizationContextMenuTexts.ADD_TO_FILTER
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null),
												this
														.buildAddToFilterAction(loProperties
																.getDimension()));
							}
						}
					},
					renderAttributes : function(oRenderSerializer, oDimension) {
						var loProperties;
						var ltAttributes;
						var lAttributeIndex;
						var lAttributeName;
						var lKeyFieldName;
						var lTextFieldName;
						if (oDimension === null) {
							return;
						}
						loProperties = oDimension.getProperties();
						ltAttributes = loProperties.getAttributes();
						if (ltAttributes === null || ltAttributes.isEmpty()) {
							return;
						}
						oRenderSerializer.openTag("entry");
						oRenderSerializer
								.addAttribute(
										"text",
										sap.zen.CLocalizationContextMenuTexts.ATTRIBUTES
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.openArray("entries");
						for (lAttributeIndex = 0; lAttributeIndex < ltAttributes
								.size(); lAttributeIndex++) {
							lAttributeName = ltAttributes.get(lAttributeIndex);
							lKeyFieldName = loProperties.getKeyField(
									lAttributeName, false);
							lTextFieldName = loProperties
									.getAttributeText(lAttributeName);
							if (sap.firefly.XStringUtils
									.isNullOrEmpty(lTextFieldName)) {
								lTextFieldName = lKeyFieldName;
							}
							oRenderSerializer.openTag("entry");
							oRenderSerializer.addAttribute(lKeyFieldName, "1");
							oRenderSerializer.addAttribute("text",
									lTextFieldName);
							oRenderSerializer.addAttribute("onSelect", this
									.buildSetAttributeAction(loProperties
											.getDimension(), lKeyFieldName));
							if (loProperties
									.isAttributeInResultSet(lAttributeName)) {
								oRenderSerializer.addBooleanAttribute(
										"checked", true);
							}
							oRenderSerializer.closeTag();
						}
						oRenderSerializer.closeArray();
						oRenderSerializer.closeTag();
					},
					renderSortDimension : function(oRenderSerializer,
							oDimension, oInternalAttribute) {
						var loProperties;
						var lSortType;
						var lSortDirection;
						var ltSettings;
						var lHasTexts;
						var loInternalAttribute;
						var lAttributeName;
						var ltSupportedSortTypes;
						var lChecked;
						var lAction;
						var lHierarchyActive;
						var lHierarchyDisabled;
						if (oDimension === null) {
							return;
						}
						loProperties = oDimension.getProperties();
						lSortType = null;
						lSortDirection = sap.firefly.XSortDirection.DEFAULT_VALUE;
						ltSettings = loProperties.getSortOperation(null);
						if (ltSettings !== null) {
							lSortType = ltSettings
									.getByKey(sap.zen.Dimension.SORT_PARAM_SORTTYPE);
							lSortDirection = ltSettings
									.getByKey(sap.zen.Dimension.SORT_PARAM_SORTDIRECTION);
						}
						lHasTexts = false;
						loInternalAttribute = oInternalAttribute;
						if (loInternalAttribute === null) {
							loInternalAttribute = oDimension
									.getInternalObject().getMainAttribute();
						}
						if (loInternalAttribute !== null) {
							lHasTexts = loInternalAttribute.getTextField() !== null;
						}
						lAttributeName = null;
						if (oInternalAttribute !== null) {
							lAttributeName = oInternalAttribute.getName();
						}
						ltSupportedSortTypes = loProperties
								.getSupportedSortTypeOptions(lAttributeName);
						if (ltSupportedSortTypes !== null
								&& !ltSupportedSortTypes.isEmpty()) {
							oRenderSerializer.openTag("entry");
							oRenderSerializer.addAttribute("text",
									sap.zen.CLocalizationContextMenuTexts.SORT
											.getText(this.getMessageWriter()
													.getLocalization(), null,
													null, null));
							oRenderSerializer.openArray("entries");
							lChecked = false;
							lAction = null;
							if (ltSupportedSortTypes
									.contains(sap.firefly.SortType.MEMBER_KEY)) {
								lAction = this.buildSortDimensionAction(
										loProperties.getDimension(),
										oInternalAttribute, true,
										sap.firefly.XSortDirection.ASCENDING
												.getName());
								lChecked = lSortDirection === sap.firefly.XSortDirection.ASCENDING
										&& (lSortType === sap.firefly.SortType.FIELD || lSortType === sap.firefly.SortType.MEMBER_KEY);
								this
										.addEntryFull(
												oRenderSerializer,
												sap.zen.CLocalizationContextMenuTexts.KEY_ASCENDING
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null), lAction,
												false, lChecked);
								lAction = this.buildSortDimensionAction(
										loProperties.getDimension(),
										oInternalAttribute, true,
										sap.firefly.XSortDirection.DESCENDING
												.getName());
								lChecked = lSortDirection === sap.firefly.XSortDirection.DESCENDING
										&& (lSortType === sap.firefly.SortType.FIELD || lSortType === sap.firefly.SortType.MEMBER_KEY);
								this
										.addEntryFull(
												oRenderSerializer,
												sap.zen.CLocalizationContextMenuTexts.KEY_DESCENDING
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null), lAction,
												false, lChecked);
							}
							if (lHasTexts
									&& ltSupportedSortTypes
											.contains(sap.firefly.SortType.MEMBER_TEXT)) {
								lAction = this.buildSortDimensionAction(
										loProperties.getDimension(),
										oInternalAttribute, false,
										sap.firefly.XSortDirection.ASCENDING
												.getName());
								lChecked = lSortDirection === sap.firefly.XSortDirection.ASCENDING
										&& (lSortType === sap.firefly.SortType.FIELD || lSortType === sap.firefly.SortType.MEMBER_TEXT);
								this
										.addEntryFull(
												oRenderSerializer,
												sap.zen.CLocalizationContextMenuTexts.TEXT_ASCENDING
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null), lAction,
												!lHasTexts, lChecked);
								lAction = this.buildSortDimensionAction(
										loProperties.getDimension(),
										oInternalAttribute, false,
										sap.firefly.XSortDirection.DESCENDING
												.getName());
								lChecked = lSortDirection === sap.firefly.XSortDirection.DESCENDING
										&& (lSortType === sap.firefly.SortType.FIELD || lSortType === sap.firefly.SortType.MEMBER_TEXT);
								this
										.addEntryFull(
												oRenderSerializer,
												sap.zen.CLocalizationContextMenuTexts.TEXT_DESCENDING
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null), lAction,
												!lHasTexts, lChecked);
							}
							if (ltSupportedSortTypes
									.contains(sap.firefly.SortType.HIERARCHY)) {
								lAction = this.buildSortDimensionAction(
										loProperties.getDimension(),
										oInternalAttribute, true,
										sap.firefly.SortType.HIERARCHY
												.getName());
								lHierarchyActive = sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(loProperties
												.getHierarchyName());
								lHierarchyActive = lHierarchyActive
										&& loProperties.isHierarchyActive();
								lHierarchyDisabled = oInternalAttribute !== null
										|| !lHierarchyActive;
								this
										.addEntryFull(
												oRenderSerializer,
												sap.zen.CLocalizationContextMenuTexts.SORT_HIERARCHY
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null),
												lAction,
												lHierarchyDisabled,
												lSortType === sap.firefly.SortType.HIERARCHY);
							}
							oRenderSerializer.closeArray();
							oRenderSerializer.closeTag();
						}
					},
					renderFilterOnCharacteristicMember : function(
							oRenderSerializer, oDimension, oDimensionMember) {
						if (oDimension === null || oDimensionMember === null) {
							return;
						}
						oRenderSerializer.openTag("entry");
						oRenderSerializer.addAttribute("text",
								sap.zen.CLocalizationContextMenuTexts.FILTER
										.getText(this.getMessageWriter()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.openArray("entries");
						this
								.addEntry(
										oRenderSerializer,
										sap.zen.CLocalizationContextMenuTexts.FILTER_MEMBER
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null),
										this
												.buildFilterOnCharacteristicMemberAction(
														oDimension,
														oDimensionMember, true));
						this
								.addEntry(
										oRenderSerializer,
										sap.zen.CLocalizationContextMenuTexts.FILTER_MEMBER_AND_REMOVE_FROM_AXIS
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null),
										this
												.buildFilterOnCharacteristicMemberAction(
														oDimension,
														oDimensionMember, false));
						this
								.renderFilterOnCharacteristicMemberAndSwapAxis(
										oRenderSerializer, oDimension,
										oDimensionMember);
						oRenderSerializer.closeArray();
						oRenderSerializer.closeTag();
					},
					renderFilterOnCharacteristicMemberAndSwapAxis : function(
							oRenderSerializer, oDimension, oDimensionMember) {
						var loInternalDimension;
						var ltFreeDimensions;
						var lDialog;
						var lText;
						var loFreeDimensionsIterator;
						var loNextDimension;
						if (oDimension === null || oDimensionMember === null) {
							return;
						}
						loInternalDimension = oDimension.getInternalObject();
						ltFreeDimensions = loInternalDimension.getQueryModel()
								.getFreeAxis().getDimensionList();
						if (ltFreeDimensions.isEmpty()) {
							return;
						}
						lDialog = false;
						if (ltFreeDimensions.size() > 10) {
							lDialog = true;
						}
						lText = null;
						if (lDialog) {
							lText = sap.zen.CLocalizationContextMenuTexts.FILTER_DRILLDOWN
									.getTextWithTripleDots(this
											.getMessageWriter()
											.getLocalization(), null, null,
											null);
						} else {
							lText = sap.zen.CLocalizationContextMenuTexts.FILTER_DRILLDOWN
									.getText(this.getMessageWriter()
											.getLocalization(), null, null,
											null);
						}
						oRenderSerializer.openTag("entry");
						oRenderSerializer.addAttribute("text", lText);
						loFreeDimensionsIterator = ltFreeDimensions
								.getIterator();
						loNextDimension = null;
						if (lDialog) {
							this.startDialog(oRenderSerializer,
									sap.zen.CContextMenuDialog.DIMENSIONS
											.getValue(), lText, 1);
							oRenderSerializer.openTag("element");
							oRenderSerializer.addAttribute("type", "dropdown");
							oRenderSerializer
									.addAttribute("id", "dd_dimension");
							oRenderSerializer
									.addAttribute(
											"text",
											sap.zen.CLocalizationContextMenuTexts.SELECT_DIMENSION
													.getText(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null));
							oRenderSerializer.openArray("entries");
							while (loFreeDimensionsIterator.hasNext()) {
								loNextDimension = loFreeDimensionsIterator
										.next();
								if (loNextDimension === null) {
									continue;
								}
								this.addDropDownItem(oRenderSerializer,
										loNextDimension.getName(),
										loNextDimension.getText(), false);
							}
							oRenderSerializer.closeArray();
							oRenderSerializer.closeTag();
							this.closeDialog(oRenderSerializer);
						} else {
							oRenderSerializer.openArray("entries");
							while (loFreeDimensionsIterator.hasNext()) {
								loNextDimension = loFreeDimensionsIterator
										.next();
								if (loNextDimension === null) {
									continue;
								}
								oRenderSerializer.openTag("entry");
								oRenderSerializer.addAttribute("text",
										loNextDimension.getText());
								oRenderSerializer.addAttribute("onSelect", this
										.buildFilterAndSwapAction(oDimension,
												oDimensionMember,
												loNextDimension.getName()));
								oRenderSerializer.closeTag();
							}
							oRenderSerializer.closeArray();
						}
						oRenderSerializer.closeTag();
					},
					renderFilterMeasureMember : function(oRenderSerializer,
							oDimension, oDimensionMember) {
						var lMemberIsVisible;
						var lAmountOfVisibleMembers;
						if (oDimension === null || !oDimension.isStructure()
								|| !oDimension.isMeasureStructure()
								|| oDimensionMember === null) {
							return;
						}
						lMemberIsVisible = oDimension
								.isDimensionMemberInResultSet(oDimensionMember
										.getName());
						if (lMemberIsVisible) {
							lAmountOfVisibleMembers = oDimension
									.getDimensionMembersInResultSet(-1).size();
							if (lAmountOfVisibleMembers > 1) {
								this
										.addEntry(
												oRenderSerializer,
												sap.zen.CLocalizationContextMenuTexts.REMOVE_MEASURE
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null),
												this
														.buildSetDimensionMemberVisibleAction(
																oDimension,
																oDimensionMember,
																false));
							}
						} else {
							this
									.addEntry(
											oRenderSerializer,
											sap.zen.CLocalizationContextMenuTexts.ADD_MEASURE
													.getText(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null),
											this
													.buildSetDimensionMemberVisibleAction(
															oDimension,
															oDimensionMember,
															true));
						}
					},
					renderConditions : function(oRenderSerializer, oResultSet) {
						this
								.addEntry(
										oRenderSerializer,
										sap.zen.CLocalizationContextMenuTexts.DEFINE_CONDITIONS
												.getTextWithTripleDots(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null),
										this
												.createScript(sap.firefly.XStringUtils
														.concatenate2(
																oResultSet
																		.getDataSource()
																		.getName(),
																".openConditionsDialog();")));
					},
					renderHierarchy : function(oRenderSerializer, oDimension) {
						var loProperties;
						var lHierarchyActive;
						var lCurrentExpandingLevel;
						var lLevelIndex;
						var lAlignment;
						if (oDimension === null) {
							return;
						}
						loProperties = oDimension.getProperties();
						oRenderSerializer.openTag("entry");
						oRenderSerializer.addAttribute("text",
								sap.zen.CLocalizationContextMenuTexts.HIERARCHY
										.getText(this.getMessageWriter()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.openArray("entries");
						if (!oDimension.isStructure()) {
							lHierarchyActive = sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(loProperties
											.getHierarchyName());
							lHierarchyActive = lHierarchyActive
									&& loProperties.isHierarchyActive();
							this
									.addEntryFull(
											oRenderSerializer,
											sap.zen.CLocalizationContextMenuTexts.HIERARCHY_EXPAND_ALL
													.getText(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null),
											this
													.buildSetHierarchyDrillLevelAction(
															loProperties
																	.getDimension(),
															-1),
											!lHierarchyActive, false);
							this
									.addEntryFull(
											oRenderSerializer,
											sap.zen.CLocalizationContextMenuTexts.HIERARCHY_COLLAPSE_ALL
													.getText(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null),
											this
													.buildSetHierarchyDrillLevelAction(
															loProperties
																	.getDimension(),
															0),
											!lHierarchyActive, false);
							oRenderSerializer.openTag("entry");
							oRenderSerializer
									.addAttribute(
											"text",
											sap.zen.CLocalizationContextMenuTexts.HIERARCHY_EXPAND_TO_LEVEL
													.getTextWithTripleDots(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null));
							oRenderSerializer.addBooleanAttribute("disabled",
									!lHierarchyActive);
							if (lHierarchyActive) {
								this
										.startDialog(
												oRenderSerializer,
												sap.zen.CContextMenuDialog.HIERARCHY_LEVEL
														.getValue(),
												sap.zen.CLocalizationContextMenuTexts.HIERARCHY_EXPAND_TO_LEVEL
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null), 1);
								oRenderSerializer.openTag("element");
								oRenderSerializer.addAttribute("type",
										"dropdown");
								oRenderSerializer.addAttribute("id",
										"dd_levels");
								oRenderSerializer
										.addAttribute(
												"text",
												sap.zen.CLocalizationContextMenuTexts.LEVELS
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null));
								oRenderSerializer.openArray("entries");
								lCurrentExpandingLevel = loProperties
										.getHierarchyDrillLevel();
								for (lLevelIndex = 0; lLevelIndex < 10; lLevelIndex++) {
									this
											.addDropDownItem(
													oRenderSerializer,
													sap.firefly.XInteger
															.convertIntegerToString(lLevelIndex),
													sap.firefly.XInteger
															.convertIntegerToString(lLevelIndex),
													lCurrentExpandingLevel === lLevelIndex);
								}
								oRenderSerializer.closeArray();
								oRenderSerializer.closeTag();
								this.closeDialog(oRenderSerializer);
							}
							oRenderSerializer.closeTag();
							this
									.addEntry(
											oRenderSerializer,
											sap.zen.CLocalizationContextMenuTexts.SELECT_HIERARCHY
													.getTextWithTripleDots(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null),
											this
													.buildGetHierarchiesAction(loProperties
															.getDimension()));
						}
						lAlignment = loProperties.getHierarchyAlignment();
						if (lAlignment !== null) {
							oRenderSerializer.openTag("entry");
							oRenderSerializer
									.addAttribute(
											"text",
											sap.zen.CLocalizationContextMenuTexts.HIERARCHY_NODE_ALIGNMENT
													.getText(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null));
							oRenderSerializer.openArray("entries");
							this
									.addEntryFull(
											oRenderSerializer,
											sap.zen.CLocalizationContextMenuTexts.HIERARCHY_CHILDREN_BELOW_PARENT
													.getText(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null),
											this
													.buildSetHierarchyNodeAlignmentAction(
															loProperties
																	.getDimension(),
															sap.firefly.Alignment.CHILDREN_BELOW_PARENT
																	.getName()),
											false,
											lAlignment !== sap.firefly.Alignment.CHILDREN_ABOVE_PARENT);
							this
									.addEntryFull(
											oRenderSerializer,
											sap.zen.CLocalizationContextMenuTexts.HIERARCHY_CHILDREN_ABOVE_PARENT
													.getText(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null),
											this
													.buildSetHierarchyNodeAlignmentAction(
															loProperties
																	.getDimension(),
															sap.firefly.Alignment.CHILDREN_ABOVE_PARENT
																	.getName()),
											false,
											lAlignment === sap.firefly.Alignment.CHILDREN_ABOVE_PARENT);
							oRenderSerializer.closeArray();
							oRenderSerializer.closeTag();
						}
						oRenderSerializer.closeArray();
						oRenderSerializer.closeTag();
					},
					renderHierarchySelectDialog : function(oRenderSerializer,
							oDimension) {
						var loProperties;
						var lCurrentHierarchyName;
						var lCurrentHierarchyVersion;
						var lCurrentHierarchyDueDate;
						var ltHierarchies;
						var lHierarchyIndex;
						var loHierarchy;
						var lHierarchyName;
						var lHierarchyDescription;
						var lIsCurrentHierarchy;
						if (oDimension === null) {
							return;
						}
						loProperties = oDimension.getProperties();
						lCurrentHierarchyName = loProperties.getHierarchyName();
						lCurrentHierarchyVersion = null;
						lCurrentHierarchyDueDate = null;
						if (lCurrentHierarchyName !== null) {
							lCurrentHierarchyDueDate = loProperties
									.getHierarchyDueDate();
							lCurrentHierarchyVersion = loProperties
									.getHierarchyVersion();
							if (lCurrentHierarchyVersion === null) {
								lCurrentHierarchyVersion = "";
							}
						}
						ltHierarchies = loProperties.getHierarchies();
						oRenderSerializer.openTag("entry");
						this
								.startDialog(
										oRenderSerializer,
										sap.zen.CContextMenuDialog.HIERARCHY
												.getValue(),
										sap.zen.CLocalizationContextMenuTexts.SELECT_HIERARCHY
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null), 1);
						oRenderSerializer.openTag("element");
						oRenderSerializer.addAttribute("type", "dropdown");
						oRenderSerializer.addAttribute("id", "dd_hierarchy");
						oRenderSerializer
								.addAttribute(
										"text",
										sap.zen.CLocalizationContextMenuTexts.HIERARCHIES
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.openArray("entries");
						this
								.addDropDownItem(
										oRenderSerializer,
										"",
										sap.zen.CLocalizationContextMenuTexts.NO_HIERARCHY
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null),
										lCurrentHierarchyName === null);
						for (lHierarchyIndex = 0; lHierarchyIndex < ltHierarchies
								.size(); lHierarchyIndex++) {
							loHierarchy = ltHierarchies.get(lHierarchyIndex);
							if (loHierarchy === null) {
								continue;
							}
							lHierarchyName = loProperties
									.getHierarchyObjectName(loHierarchy);
							lHierarchyDescription = sap.firefly.XStringUtils
									.concatenate4(loHierarchy
											.getHierarchyDescription(), " [",
											loHierarchy.getHierarchyName(), "]");
							lIsCurrentHierarchy = sap.firefly.XString.isEqual(
									loHierarchy.getHierarchyName(),
									lCurrentHierarchyName);
							if (lIsCurrentHierarchy
									&& lCurrentHierarchyDueDate !== null) {
								lIsCurrentHierarchy = sap.firefly.XString
										.isEqual(loHierarchy.getVersionName(),
												lCurrentHierarchyVersion);
								lIsCurrentHierarchy = lIsCurrentHierarchy
										&& sap.firefly.XString.compare(
												loHierarchy.getDateFrom()
														.toSAPFormat(),
												lCurrentHierarchyDueDate) <= 0
										&& sap.firefly.XString.compare(
												loHierarchy.getDateTo()
														.toSAPFormat(),
												lCurrentHierarchyDueDate) >= 0;
							}
							this.addDropDownItem(oRenderSerializer,
									lHierarchyName, lHierarchyDescription,
									lIsCurrentHierarchy);
						}
						oRenderSerializer.closeArray();
						oRenderSerializer.closeTag();
						this.closeDialog(oRenderSerializer);
						oRenderSerializer.closeTag();
					},
					renderStructureContextMenu : function(oRenderSerializer,
							oDimension, oDimensionMember) {
						if (oDimension === null) {
							return;
						}
						if (this.mode === sap.zen.CContextMenuMode.CROSSTAB) {
							this.renderStructureSort(oRenderSerializer,
									oDimension, oDimensionMember);
							this.renderNumberFormat(oRenderSerializer,
									oDimensionMember, this.oResultDataCell);
							this.renderFilterMeasureMember(oRenderSerializer,
									oDimension, oDimensionMember);
						} else {
							this.renderAddToFilter(oRenderSerializer,
									oDimension);
							this.renderFilterMeasureMember(oRenderSerializer,
									oDimension, oDimensionMember);
						}
						this.renderConditions(oRenderSerializer, oDimension
								.getResultSet());
						if (oDimension.getProperties().getHierarchyAlignment() !== null) {
							this.renderHierarchy(oRenderSerializer, oDimension);
						}
					},
					renderStructureSort : function(oRenderSerializer,
							oDimension, oDimensionMember) {
						var loProperties;
						var ltSupportedSortTypes;
						var lSortType;
						var lSortDirection;
						var ltSettings;
						if (oDimension === null || oDimensionMember === null) {
							return;
						}
						loProperties = oDimension.getProperties();
						ltSupportedSortTypes = loProperties
								.getSupportedSortTypeOptions(oDimensionMember
										.getName());
						if (ltSupportedSortTypes === null
								|| ltSupportedSortTypes.isEmpty()) {
							return;
						}
						lSortType = null;
						lSortDirection = sap.firefly.XSortDirection.DEFAULT_VALUE;
						ltSettings = loProperties
								.getSortOperation(oDimensionMember.getName());
						if (ltSettings !== null) {
							lSortType = ltSettings
									.getByKey(sap.zen.Dimension.SORT_PARAM_SORTTYPE);
							lSortDirection = ltSettings
									.getByKey(sap.zen.Dimension.SORT_PARAM_SORTDIRECTION);
						}
						oRenderSerializer.openTag("entry");
						oRenderSerializer.addAttribute("text",
								sap.zen.CLocalizationContextMenuTexts.SORT
										.getText(this.getMessageWriter()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.openArray("entries");
						this
								.addEntryFull(
										oRenderSerializer,
										sap.zen.CLocalizationContextMenuTexts.KEYF_ASCENDING
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null),
										this
												.buildSortMeasureAction(
														loProperties
																.getDimension(),
														oDimensionMember,
														sap.firefly.XSortDirection.ASCENDING
																.getName()),
										false,
										lSortDirection === sap.firefly.XSortDirection.ASCENDING);
						this
								.addEntryFull(
										oRenderSerializer,
										sap.zen.CLocalizationContextMenuTexts.KEYF_DESCENDING
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null),
										this
												.buildSortMeasureAction(
														loProperties
																.getDimension(),
														oDimensionMember,
														sap.firefly.XSortDirection.DESCENDING
																.getName()),
										false,
										lSortDirection === sap.firefly.XSortDirection.DESCENDING);
						oRenderSerializer.closeArray();
						oRenderSerializer.closeTag();
					},
					renderMemberDisplay : function(oRenderSerializer,
							oDimension, oInternalAttribute) {
						var loProperties;
						var loInternalAttribute;
						var lAttributeName;
						var ltSupportedMemberDisplay;
						var lCurrentMemberDisplay;
						var lPreferredTextPresentation;
						var lMemberDisplayIndex;
						var lMemberDisplay;
						var loDisplayText;
						if (oDimension === null) {
							return;
						}
						loProperties = oDimension.getProperties();
						loInternalAttribute = oInternalAttribute;
						if (loInternalAttribute === null) {
							loInternalAttribute = oDimension
									.getInternalObject().getMainAttribute();
						}
						lAttributeName = null;
						if (loInternalAttribute !== null) {
							lAttributeName = loInternalAttribute.getName();
						}
						ltSupportedMemberDisplay = loProperties
								.getSupportedMemberDisplayOptions(lAttributeName);
						lCurrentMemberDisplay = loProperties
								.getMemberDisplay(lAttributeName);
						lPreferredTextPresentation = null;
						if (ltSupportedMemberDisplay
								.contains(sap.zen.CMemberDisplayMode.TEXT)) {
							lPreferredTextPresentation = sap.zen.DataSourceScriptApiUtils
									.getPreferredTextPresentation(
											loInternalAttribute).getName();
						}
						oRenderSerializer.openTag("entry");
						oRenderSerializer.addAttribute("text",
								sap.zen.CLocalizationContextMenuTexts.DISPLAY
										.getText(this.getMessageWriter()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.openArray("entries");
						for (lMemberDisplayIndex = 0; lMemberDisplayIndex < ltSupportedMemberDisplay
								.size(); lMemberDisplayIndex++) {
							lMemberDisplay = ltSupportedMemberDisplay
									.get(lMemberDisplayIndex);
							loDisplayText = null;
							if (lMemberDisplay === sap.zen.CMemberDisplayMode.KEY) {
								loDisplayText = sap.zen.CLocalizationContextMenuTexts.KEY;
							} else {
								if (lMemberDisplay === sap.zen.CMemberDisplayMode.TEXT) {
									loDisplayText = sap.zen.CLocalizationContextMenuTexts.TEXT;
								} else {
									if (lMemberDisplay === sap.zen.CMemberDisplayMode.KEY_TEXT) {
										loDisplayText = sap.zen.CLocalizationContextMenuTexts.KEY_TEXT;
									} else {
										if (lMemberDisplay === sap.zen.CMemberDisplayMode.TEXT_KEY) {
											loDisplayText = sap.zen.CLocalizationContextMenuTexts.TEXT_KEY;
										} else {
											continue;
										}
									}
								}
							}
							this.renderMemberDisplayEntry(oRenderSerializer,
									loProperties.getDimension(),
									loInternalAttribute, lMemberDisplay,
									loDisplayText.getText(this
											.getMessageWriter()
											.getLocalization(), null, null,
											null), lCurrentMemberDisplay,
									lPreferredTextPresentation);
						}
						oRenderSerializer.closeArray();
						oRenderSerializer.closeTag();
					},
					renderMemberDisplayEntry : function(oRenderSerializer,
							oDimension, oInternalAttribute, memberDisplay,
							text, currentMemberDisplay, currentTextPresentation) {
						var loProperties = oDimension.getProperties();
						var lAttributeName = null;
						var lChecked;
						var lMemberDisplayContainsText;
						var ltPresentationTypes;
						var lFieldName;
						var lTextFieldIndex;
						var lPresentationType;
						var loDisplayText;
						var lAction;
						if (oInternalAttribute !== null) {
							lAttributeName = oInternalAttribute.getName();
						}
						lChecked = currentMemberDisplay === memberDisplay;
						lMemberDisplayContainsText = false;
						if (memberDisplay === sap.zen.CMemberDisplayMode.TEXT
								|| memberDisplay === sap.zen.CMemberDisplayMode.KEY_TEXT
								|| memberDisplay === sap.zen.CMemberDisplayMode.TEXT_KEY) {
							lMemberDisplayContainsText = true;
						}
						ltPresentationTypes = sap.firefly.XList.create();
						if (lMemberDisplayContainsText) {
							lFieldName = null;
							lFieldName = loProperties.getTextField(
									lAttributeName,
									sap.firefly.PresentationType.SHORT_TEXT);
							if (lFieldName !== null) {
								ltPresentationTypes
										.add(sap.firefly.PresentationType.SHORT_TEXT);
							}
							lFieldName = loProperties.getTextField(
									lAttributeName,
									sap.firefly.PresentationType.MEDIUM_TEXT);
							if (lFieldName !== null) {
								ltPresentationTypes
										.add(sap.firefly.PresentationType.MEDIUM_TEXT);
							}
							lFieldName = loProperties.getTextField(
									lAttributeName,
									sap.firefly.PresentationType.LONG_TEXT);
							if (lFieldName !== null) {
								ltPresentationTypes
										.add(sap.firefly.PresentationType.LONG_TEXT);
							}
						}
						if (ltPresentationTypes.size() > 1) {
							oRenderSerializer.openTag("entry");
							oRenderSerializer.addAttribute("text", text);
							oRenderSerializer.openArray("entries");
							for (lTextFieldIndex = 0; lTextFieldIndex < ltPresentationTypes
									.size(); lTextFieldIndex++) {
								lPresentationType = ltPresentationTypes
										.get(lTextFieldIndex);
								loDisplayText = null;
								if (lPresentationType === sap.firefly.PresentationType.SHORT_TEXT) {
									loDisplayText = sap.zen.CLocalizationContextMenuTexts.SHORT_TEXT;
								} else {
									if (lPresentationType === sap.firefly.PresentationType.MEDIUM_TEXT) {
										loDisplayText = sap.zen.CLocalizationContextMenuTexts.MEDIUM_TEXT;
									} else {
										if (lPresentationType === sap.firefly.PresentationType.LONG_TEXT) {
											loDisplayText = sap.zen.CLocalizationContextMenuTexts.LONG_TEXT;
										} else {
											continue;
										}
									}
								}
								this.renderTextPresentationEntry(
										oRenderSerializer, oDimension,
										oInternalAttribute, memberDisplay,
										lChecked, lPresentationType,
										loDisplayText.getText(this
												.getMessageWriter()
												.getLocalization(), null, null,
												null), currentTextPresentation);
							}
							oRenderSerializer.closeArray();
							oRenderSerializer.closeTag();
						} else {
							lAction = null;
							if (!lChecked) {
								lAction = this.buildSetPresentationAction(
										oDimension, oInternalAttribute,
										memberDisplay, currentTextPresentation);
							}
							this.addEntryFull(oRenderSerializer, text, lAction,
									false, lChecked);
						}
					},
					renderTextPresentationEntry : function(oRenderSerializer,
							oDimension, oInternalAttribute, memberDisplay,
							isCurrentMemberDisplay, textPresentationType, text,
							currentTextPresentation) {
						var lChecked = sap.firefly.XString.isEqual(
								currentTextPresentation, textPresentationType
										.getName());
						var lAction;
						lChecked = isCurrentMemberDisplay && lChecked;
						lAction = this.buildSetPresentationAction(oDimension,
								oInternalAttribute, memberDisplay,
								textPresentationType.getName());
						this.addEntryFull(oRenderSerializer, text, lAction,
								false, lChecked);
					},
					renderTotals : function(oRenderSerializer, oDimension) {
						var loProperties;
						var ltSupportedTotalsDisplay;
						var lIsSelected;
						var lCurrentTotalsDisplay;
						var lTotalsDisplayIndex;
						var lTotalsDisplay;
						var lTotalsDisplayText;
						var lCurrentTotalsPosition;
						var ltTotalsPosition;
						var ltSupportedTotalsPosition;
						var i;
						var lTotalsPosition;
						var lTotalsPositionText;
						if (oDimension === null) {
							return;
						}
						loProperties = oDimension.getProperties();
						ltSupportedTotalsDisplay = loProperties
								.getSupportedTotalsDisplayOptions();
						if (ltSupportedTotalsDisplay.size() > 0) {
							oRenderSerializer.openTag("entry");
							oRenderSerializer
									.addAttribute(
											"text",
											sap.zen.CLocalizationContextMenuTexts.TOTALS
													.getText(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null));
							oRenderSerializer.openArray("entries");
							lIsSelected = false;
							lCurrentTotalsDisplay = loProperties
									.getTotalsDisplay();
							for (lTotalsDisplayIndex = 0; lTotalsDisplayIndex < ltSupportedTotalsDisplay
									.size(); lTotalsDisplayIndex++) {
								lTotalsDisplay = ltSupportedTotalsDisplay
										.get(lTotalsDisplayIndex);
								lIsSelected = lTotalsDisplay === lCurrentTotalsDisplay;
								lTotalsDisplayText = null;
								if (lTotalsDisplay === sap.firefly.ResultVisibility.VISIBLE) {
									lTotalsDisplayText = sap.zen.CLocalizationContextMenuTexts.TOTALS_SHOW
											.getText(this.getMessageWriter()
													.getLocalization(), null,
													null, null);
								} else {
									if (lTotalsDisplay === sap.firefly.ResultVisibility.HIDDEN) {
										lTotalsDisplayText = sap.zen.CLocalizationContextMenuTexts.TOTALS_HIDE
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null);
									} else {
										if (lTotalsDisplay === sap.firefly.ResultVisibility.CONDITIONAL) {
											lTotalsDisplayText = sap.zen.CLocalizationContextMenuTexts.TOTALS_CONDITIONAL
													.getText(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null);
										}
									}
								}
								this.addEntryFull(oRenderSerializer,
										lTotalsDisplayText, this
												.buildSetTotalsDisplayAction(
														oDimension,
														lTotalsDisplay), false,
										lIsSelected);
							}
							lCurrentTotalsPosition = loProperties
									.getTotalsPosition();
							ltTotalsPosition = loProperties
									.getTotalsPositionOptions();
							ltSupportedTotalsPosition = loProperties
									.getSupportedTotalsPositionOptions();
							for (i = 0; i < ltTotalsPosition.size(); i++) {
								lTotalsPosition = ltTotalsPosition.get(i);
								lIsSelected = lTotalsPosition === lCurrentTotalsPosition;
								lTotalsPositionText = null;
								if (lTotalsPosition === sap.firefly.ResultAlignment.TOP) {
									lTotalsPositionText = sap.zen.CLocalizationContextMenuTexts.TOTALS_TOP
											.getText(this.getMessageWriter()
													.getLocalization(), null,
													null, null);
								} else {
									if (lTotalsPosition === sap.firefly.ResultAlignment.BOTTOM) {
										lTotalsPositionText = sap.zen.CLocalizationContextMenuTexts.TOTALS_BOTTOM
												.getText(this
														.getMessageWriter()
														.getLocalization(),
														null, null, null);
									} else {
										continue;
									}
								}
								this.addEntryFull(oRenderSerializer,
										lTotalsPositionText, this
												.buildSetTotalsPositionAction(
														oDimension,
														lTotalsPosition),
										!ltSupportedTotalsPosition
												.contains(lTotalsPosition),
										lIsSelected);
							}
							oRenderSerializer.closeArray();
							oRenderSerializer.closeTag();
						}
					},
					renderZeroSuppression : function(oRenderSerializer,
							oDimension) {
						var loProperties;
						var loInternalDimension;
						var loAxis;
						var lActive;
						if (oDimension === null) {
							return;
						}
						loProperties = oDimension.getProperties();
						loInternalDimension = oDimension.getInternalObject();
						loAxis = loInternalDimension.getAxis();
						if (loAxis.supportsZeroSuppression()) {
							lActive = loProperties.getZeroSuppression();
							if (oDimension.getAxis() === sap.firefly.AxisType.ROWS) {
								this
										.addEntryFull(
												oRenderSerializer,
												sap.zen.CLocalizationContextMenuTexts.SUPPRESS_ZERO_ROWS
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null),
												this
														.buildSetZeroSuppressionAction(
																oDimension,
																!lActive),
												false, lActive);
							} else {
								this
										.addEntryFull(
												oRenderSerializer,
												sap.zen.CLocalizationContextMenuTexts.SUPPRESS_ZERO_COLS
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null),
												this
														.buildSetZeroSuppressionAction(
																oDimension,
																!lActive),
												false, lActive);
							}
						}
					},
					renderUDH : function(oRenderSerializer, oDimension) {
						var loProperties;
						var lText;
						var lUDHIsActive;
						var lCurrentExpandingLevel;
						var ltUDHDimensions;
						var lDimensionIndex;
						var lDimensionName;
						var lLevelIndex;
						var loUDHDimension;
						if (oDimension === null) {
							return;
						}
						if (oDimension.isStructure()) {
							return;
						}
						loProperties = oDimension.getProperties();
						if (!loProperties.isUDHSupported()) {
							return;
						}
						lText = null;
						if (oDimension.getAxis() === sap.firefly.AxisType.ROWS) {
							lText = sap.zen.CLocalizationContextMenuTexts.UDH_DISPLAY_IN_ROWS
									.getText(this.getMessageWriter()
											.getLocalization(), null, null,
											null);
						} else {
							lText = sap.zen.CLocalizationContextMenuTexts.UDH_DISPLAY_IN_COLUMNS
									.getText(this.getMessageWriter()
											.getLocalization(), null, null,
											null);
						}
						lUDHIsActive = loProperties.isUDHActive();
						if (lUDHIsActive) {
							this.addEntryFull(oRenderSerializer, lText, this
									.buildSetUDHAction(loProperties
											.getDimension(), !lUDHIsActive),
									false, lUDHIsActive);
							oRenderSerializer.openTag("entry");
							oRenderSerializer
									.addAttribute(
											"text",
											sap.zen.CLocalizationContextMenuTexts.UDH_EXPAND_TO_LEVEL
													.getTextWithTripleDots(this
															.getMessageWriter()
															.getLocalization(),
															null, null, null));
							if (lUDHIsActive) {
								this
										.startDialog(
												oRenderSerializer,
												sap.zen.CContextMenuDialog.HIERARCHY_LEVEL
														.getValue(),
												sap.zen.CLocalizationContextMenuTexts.HIERARCHY_EXPAND_TO_LEVEL
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null), 1);
								oRenderSerializer.openTag("element");
								oRenderSerializer.addAttribute("type",
										"dropdown");
								oRenderSerializer.addAttribute("id",
										"dd_levels");
								oRenderSerializer
										.addAttribute(
												"text",
												sap.zen.CLocalizationContextMenuTexts.SELECT_DIMENSION
														.getText(
																this
																		.getMessageWriter()
																		.getLocalization(),
																null, null,
																null));
								oRenderSerializer.openArray("entries");
								lCurrentExpandingLevel = loProperties
										.getUDHDrillLevel();
								ltUDHDimensions = loProperties
										.getUDHDimensions();
								for (lDimensionIndex = 0; lDimensionIndex < ltUDHDimensions
										.size(); lDimensionIndex++) {
									lDimensionName = ltUDHDimensions
											.get(lDimensionIndex);
									lLevelIndex = lDimensionIndex + 1;
									loUDHDimension = sap.zen.DimensionWrapper
											.create(oDimension.getDataSource(),
													oDimension.getResultSet(),
													lDimensionName);
									this
											.addDropDownItem(
													oRenderSerializer,
													sap.firefly.XInteger
															.convertIntegerToString(lLevelIndex),
													loUDHDimension
															.getHeaderText(null),
													lCurrentExpandingLevel === lLevelIndex);
								}
								oRenderSerializer.closeArray();
								oRenderSerializer.closeTag();
								this.closeDialog(oRenderSerializer);
							}
							oRenderSerializer.closeTag();
						} else {
							this.addEntryFull(oRenderSerializer, lText, this
									.buildSetUDHAction(loProperties
											.getDimension(), !lUDHIsActive),
									false, lUDHIsActive);
						}
					},
					buildSubmitDialogAction : function() {
						var lCommand = sap.firefly.XStringUtils.concatenate2(
								this.getId(), ".submitDialog(__arguments__);");
						var lScriptAction = this.createScriptAction(lCommand,
								"'__JSON__'");
						return lScriptAction;
					},
					buildAddToFilterAction : function(oDimension) {
						var lScriptAction = sap.firefly.XStringUtils
								.concatenate2(this.getId(), ".addToFilter(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					addToFilter : function(dimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						var loProperties;
						var loFilterBar;
						if (loDimension === null) {
							return;
						}
						loProperties = loDimension.getProperties();
						loFilterBar = this.getFilterBar();
						if (loFilterBar !== null) {
							loFilterBar.addDimFilter(loDimension
									.getDataSource().getName(), loProperties
									.getName());
						}
					},
					buildRemoveFromFilterAction : function(oDimension) {
						var lScriptAction = sap.firefly.XStringUtils
								.concatenate2(this.getId(),
										".removeFromFilter(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					removeFromFilter : function(dimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						var loProperties;
						var loFilterBar;
						if (loDimension === null) {
							return;
						}
						loProperties = loDimension.getProperties();
						loFilterBar = this.getFilterBar();
						if (loFilterBar !== null) {
							loFilterBar.removeDimFilter(loDimension
									.getDataSource().getName(), loProperties
									.getName());
						}
					},
					buildSetAttributeAction : function(oDimension,
							attributeName) {
						var lScriptAction = sap.firefly.XStringUtils
								.concatenate2(this.getId(), ".setAttribute(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", attributeName, "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					setAttribute : function(dimensionName, attributeName) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						var loProperties;
						var loInternalDimension;
						var loAttribute;
						if (loDimension === null) {
							return;
						}
						loProperties = loDimension.getProperties();
						loInternalDimension = loProperties.getInternalObject();
						loAttribute = loInternalDimension
								.getFieldByNameOrAlias(attributeName)
								.getAttribute();
						if (loProperties.isAttributeInResultSet(loAttribute
								.getName())) {
							loProperties.removeAttributeFromResultSet(
									loAttribute.getName(), true);
						} else {
							loProperties.addAttributeToResultSet(loAttribute
									.getName(), true);
						}
					},
					buildSortDimensionAction : function(oDimension,
							oInternalAttribute, sortByKey, sortDirection) {
						var lAttributeName;
						var lScriptAction;
						if (oDimension === null) {
							return null;
						}
						lAttributeName = null;
						if (oInternalAttribute !== null) {
							lAttributeName = oInternalAttribute.getName();
						}
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								oDimension.getDataSource().getName(),
								".setDimensionAndAttributeSorting(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", lAttributeName, "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", sortDirection, "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, sap.firefly.XBooleanValue
										.create(sortByKey).toString());
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					buildFilterAndSwapAction : function(oDimension,
							oDimensionMember, swapDimensionName) {
						var loInternalDimension;
						var loInternalDimensionMember;
						var loMemberWrapper;
						var lScriptAction;
						if (oDimension === null || oDimensionMember === null) {
							return null;
						}
						loInternalDimension = oDimension.getInternalObject();
						loInternalDimensionMember = oDimensionMember
								.getInternalObject();
						loMemberWrapper = new sap.zen.MemberWrapper();
						loMemberWrapper.initMe(loInternalDimensionMember,
								false, loInternalDimension);
						lScriptAction = null;
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								oDimension.getDataSource().getName(),
								".swapDimensions(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "',");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", swapDimensionName, "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = sap.firefly.XStringUtils.concatenate3(
								lScriptAction, oDimension.getDataSource()
										.getName(), ".setFilter(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", loMemberWrapper.getKey(),
								"'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					buildFilterOnCharacteristicMemberAction : function(
							oDimension, oDimensionMember, keepOnAxis) {
						var loInternalDimension;
						var loInternalDimensionMember;
						var loMemberWrapper;
						var lScriptAction;
						if (oDimension === null || oDimensionMember === null) {
							return null;
						}
						loInternalDimension = oDimension.getInternalObject();
						loInternalDimensionMember = oDimensionMember
								.getInternalObject();
						loMemberWrapper = new sap.zen.MemberWrapper();
						loMemberWrapper.initMe(loInternalDimensionMember,
								false, loInternalDimension);
						lScriptAction = null;
						if (keepOnAxis !== true) {
							lScriptAction = sap.firefly.XStringUtils
									.concatenate2(oDimension.getDataSource()
											.getName(), ".removeDimension(");
							lScriptAction = sap.firefly.XStringUtils
									.concatenate4(lScriptAction, "'",
											oDimension.getName(), "'");
							lScriptAction = sap.firefly.XStringUtils
									.concatenate2(lScriptAction, ");");
						}
						lScriptAction = sap.firefly.XStringUtils.concatenate3(
								lScriptAction, oDimension.getDataSource()
										.getName(), ".setFilter(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", loMemberWrapper.getKey(),
								"'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					buildGetHierarchiesAction : function(oDimension) {
						var lScriptAction = sap.firefly.XStringUtils
								.concatenate2(this.getId(),
										".getHierarchies();");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					getHierarchies : function() {
						this.mode = sap.zen.CContextMenuMode.GET_HIERACRHIES;
						this.openContextMenu();
					},
					buildSetHierarchyDrillLevelAction : function(oDimension,
							level) {
						var lScriptAction;
						if (oDimension === null) {
							return null;
						}
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								oDimension.getDataSource().getName(),
								".setRootExpandingLevel(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", sap.firefly.XInteger
										.convertIntegerToString(level), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					buildSetHierarchyNodeAlignmentAction : function(oDimension,
							nodeAlignment) {
						var lScriptAction;
						if (oDimension === null) {
							return null;
						}
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								oDimension.getDataSource().getName(),
								".setLowerLevelNodeAlignment(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", nodeAlignment, "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					buildExpandHierarchyNodeAction : function(oTupleElement) {
						var lScriptAction = sap.firefly.XStringUtils
								.concatenate2(this.getName(),
										".expandHierarchyNode(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oTupleElement.getAxis()
										.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", sap.firefly.XInteger
										.convertIntegerToString(oTupleElement
												.getTuple().getIndex()), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", sap.firefly.XInteger
										.convertIntegerToString(oTupleElement
												.getIndex()), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					expandHierarchyNode : function(axis, tupleIndex,
							tupleElementIndex) {
						var lAxis = sap.firefly.AxisType.lookup(axis);
						var loTuple = this.oResultSet.getTuple(lAxis,
								tupleIndex, null, null);
						var loTupleElement;
						if (loTuple === null) {
							return;
						}
						loTupleElement = loTuple.getTupleElement(
								tupleElementIndex, null);
						if (loTupleElement === null) {
							return;
						}
						loTupleElement.expandCollapseHierarchyNode(
								sap.firefly.DrillState.EXPANDED, true);
					},
					buildSortMeasureAction : function(oDimension,
							oDimensionMember, sortDirection) {
						var lScriptAction;
						if (oDimensionMember === null) {
							return null;
						}
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								oDimensionMember.getDimension().getDataSource()
										.getName(), ".setMeasureSorting(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimensionMember.getName(),
								"'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", sortDirection, "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					buildSetPresentationAction : function(oDimension,
							oInternalAttribute, memberDisplay, textPresentation) {
						var lAttributeName = null;
						var lScriptAction;
						if (oInternalAttribute !== null) {
							lAttributeName = oInternalAttribute.getName();
						}
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								this.getId(), ".setPresentation(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", lAttributeName, "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", memberDisplay.getValue(),
								"'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", textPresentation, "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					setPresentation : function(dimensionName, attributeName,
							memberDisplay, textPresentation) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						var loProperties;
						var lTextPresentationType;
						if (loDimension === null) {
							return;
						}
						loProperties = loDimension.getProperties();
						lTextPresentationType = sap.zen.DataSourceScriptApiUtils
								.getPresentationTypeByName(textPresentation);
						loProperties.setMemberDisplay(attributeName,
								sap.zen.CMemberDisplayMode
										.valueOf2(memberDisplay),
								lTextPresentationType, true);
					},
					buildSetDimensionMemberVisibleAction : function(oDimension,
							oDimensionMember, visible) {
						var lScriptAction = sap.firefly.XStringUtils
								.concatenate2(this.getId(),
										".setDimensionMemberVisible(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimensionMember.getName(),
								"'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, sap.firefly.XBoolean
										.convertBooleanToString(visible));
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					setDimensionMemberVisible : function(dimensionName,
							dimensionMemberName, visible) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						if (loDimension === null) {
							return;
						}
						if (visible) {
							loDimension.addDimensionMemberToResultSet(
									dimensionMemberName, true);
						} else {
							loDimension.removeDimensionMemberFromResultSet(
									dimensionMemberName, true);
						}
					},
					buildSetTotalsPositionAction : function(oDimension,
							totalsPosition) {
						var lScriptAction = sap.firefly.XStringUtils
								.concatenate2(this.getId(),
										".setTotalsPosition(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", totalsPosition.getName(),
								"'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					setTotalsPosition : function(dimensionName, totalsPosition) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						var loProperties;
						if (loDimension === null) {
							return;
						}
						loProperties = loDimension.getProperties();
						loProperties.setTotalsPosition(totalsPosition, true);
					},
					buildSetTotalsDisplayAction : function(oDimension,
							totalsDisplay) {
						var lScriptAction = sap.firefly.XStringUtils
								.concatenate2(this.getId(),
										".setTotalsDisplay(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", totalsDisplay.getName(),
								"'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					setTotalsDisplay : function(dimensionName, totalsDisplay) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						var loProperties;
						if (loDimension === null) {
							return;
						}
						loProperties = loDimension.getProperties();
						loProperties.setTotalsDisplay(totalsDisplay, true);
					},
					buildSetZeroSuppressionAction : function(oDimension,
							zeroSuppression) {
						var lScriptAction = sap.firefly.XStringUtils
								.concatenate2(this.getId(),
										".setZeroSuppression(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils
								.concatenate2(
										lScriptAction,
										sap.firefly.XBoolean
												.convertBooleanToString(zeroSuppression));
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					setZeroSuppression : function(dimensionName,
							zeroSuppression) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						var loProperties;
						if (loDimension === null) {
							return;
						}
						loProperties = loDimension.getProperties();
						loProperties.setZeroSuppression(zeroSuppression, true);
					},
					buildSetUDHAction : function(oDimension, activate) {
						var lScriptAction = sap.firefly.XStringUtils
								.concatenate2(this.getId(), ".setUDH(");
						lScriptAction = sap.firefly.XStringUtils.concatenate4(
								lScriptAction, "'", oDimension.getName(), "'");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ",");
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, sap.firefly.XBoolean
										.convertBooleanToString(activate));
						lScriptAction = sap.firefly.XStringUtils.concatenate2(
								lScriptAction, ");");
						lScriptAction = this.createScript(lScriptAction);
						return lScriptAction;
					},
					setUDH : function(dimensionName, active) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						var loProperties;
						if (loDimension === null) {
							return;
						}
						loProperties = loDimension.getProperties();
						try {
							loProperties.setUDH(active, true);
						} catch (e) {
							this
									.getPage()
									.getMessageManager()
									.createErrorMessage(
											sap.zen.CLocalizationContextMenuTexts.UDH_NOT_POSSIBLE
													.getText(this
															.getMessageWriter()
															.getLocalization(),
															loProperties
																	.getText(),
															null, null));
						}
					}
				});
$Firefly.createClass("sap.zen.DatefieldControl", sap.zen.Component, {
	create : function() {
		var uid;
		this.getPage().addRequireModule(
				"zen.rt.components.datefield/resources/js/datefield_handler");
		uid = sap.firefly.XString.concatenate2(this.getName(), "_datefield1");
		this.initControl(uid, "datefield");
	},
	getDefaultWidthAsString : function() {
		return "100";
	},
	getDefaultHeightAsString : function() {
		return "50";
	},
	renderControlContent : function(renderManager) {
		var renderSerializer = renderManager.getRenderSerializer();
		var s1;
		var pvtScript;
		renderSerializer.addAttribute("tooltip", "");
		renderSerializer.addBooleanAttribute("enabled", this.isEnabled());
		renderSerializer.addAttribute("date", this.getDate());
		renderSerializer.addAttribute("locale", this.getPage().getLocale());
		s1 = sap.firefly.XString.concatenate2(this.getId(),
				".setDatePVT('__arguments__');");
		pvtScript = this.createScriptAction(s1, "__VALUE__");
		renderSerializer.addAttribute("onchange", pvtScript);
	},
	setEnabled : function(enabled) {
		this.setBooleanProperty("ENABLED", enabled);
	},
	isEnabled : function() {
		return this.getBooleanPropertyWithDefault("ENABLED", true);
	},
	setDate : function(date) {
		this.setStringProperty("INITDATE", date);
	},
	getDate : function() {
		return this.getStringPropertyWithDefault("INITDATE", "");
	},
	setOnSelect : function(onSelect) {
		this.setStringProperty("ON_SELECT", onSelect);
	},
	onSelect : function() {
		var onSelect = this.getOnSelect();
		if (sap.firefly.XString.size(onSelect) > 0) {
			this.getPage().execWithoutRerender(onSelect);
		}
	},
	getOnSelect : function() {
		return this.getStringPropertyWithDefault("ON_SELECT", "");
	},
	setDatePVT : function(newD) {
		this.setDate(newD);
		this.getPage().execWithoutRerender(this.getOnSelect());
	}
});
$Firefly.createClass("sap.zen.DesignStudioControl", sap.zen.Component, {
	create : function() {
		var uid = sap.firefly.XString.concatenate2(this.getName(), "_ds");
		this.initControl(uid, "designstudio");
	},
	getDefaultWidthAsString : function() {
		return "80";
	},
	getDefaultHeightAsString : function() {
		return "30";
	},
	renderControlContent : function(renderManager) {
		var renderSerializer = renderManager.getRenderSerializer();
		renderSerializer.addBooleanAttribute("enabled", this.isEnabled());
		renderSerializer.addAttribute("appname", this
				.getStringPropertyWithDefault("VALUE", ""));
	}
});
$Firefly
		.createClass(
				"sap.zen.Dialog_M",
				sap.zen.Component,
				{
					$statics : {
						CONTROL_TYPE : "zendialog",
						UID_SUFFIX : "_udialog",
						HANDLER_MODULE : "zen.rt.components.dialog/resources/js/zendialog_m_handler"
					},
					showing : false,
					oMessageManager : null,
					oMessageComponent : null,
					oContent : null,
					enableOkButton : false,
					okAction : null,
					hasCancelButton : false,
					cancelAction : null,
					closeDialog : false,
					sfinMode : false,
					create : function() {
						var lUid = sap.firefly.XString.concatenate2(this
								.getName(), sap.zen.Dialog_M.UID_SUFFIX);
						this.initControl(lUid, sap.zen.Dialog_M.CONTROL_TYPE);
						this.getPage().addRequireModule(
								sap.zen.Dialog_M.HANDLER_MODULE);
						this.closeDialog = false;
						this.oMessageManager = sap.zen.ZenMessageManager
								.create(this.getPage());
						this.oMessageManager.addListener(this);
					},
					getComponentName : function() {
						return this.getName();
					},
					isOpen : function() {
						return this.showing && !this.closeDialog;
					},
					getMessageManager : function() {
						return this.oMessageManager;
					},
					getMessageComponent : function() {
						return this.oMessageComponent;
					},
					setMessageComponent : function(messageComponent) {
						this.oMessageComponent = messageComponent;
					},
					handleMessagesChanged : function() {
						this.setContentChanged(true);
					},
					showDialog : function() {
						this.showing = true;
						(this.getPage()).addDialog(this);
					},
					hide : function() {
					},
					onOK : function() {
						this.closeDialog = true;
						this.setContentChanged(true);
					},
					onCancel : function() {
						this.closeDialog = true;
						this.setContentChanged(true);
					},
					doDestroyDialog : function() {
						this.showing = false;
						(this.getPage()).removeDialog(this, true);
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer = renderManager
								.getRenderSerializer();
						if (this.closeDialog) {
							loRenderSerializer
									.addAttribute(
											"closeDialogCommand",
											this
													.createMethodCallScript("doDestroyDialog"));
							return;
						}
						loRenderSerializer.addBooleanAttribute("enabled", this
								.isEnabled());
						loRenderSerializer.addBooleanAttribute("displaytitle",
								true);
						loRenderSerializer.addAttribute("titletext",
								sap.zen.CLocalizationDialogTexts.PROMPTS
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						loRenderSerializer.addAttribute("toplevelcssclass", "");
						loRenderSerializer.addBooleanAttribute(
								"renderruntimeinitvarscreen", true);
						loRenderSerializer.addAttribute("initvardlgwidth",
								"500px");
						loRenderSerializer.addAttribute("initvardlgheight",
								"300px");
						loRenderSerializer.addBooleanAttribute("canmove", true);
						loRenderSerializer.addBooleanAttribute("canresize",
								true);
						loRenderSerializer.openArray("buttons");
						loRenderSerializer.openTag("button");
						loRenderSerializer.addBooleanAttribute("enabled",
								this.enableOkButton);
						loRenderSerializer
								.addBooleanAttribute("rendered", true);
						loRenderSerializer.addBooleanAttribute(
								"statustodesigner", false);
						loRenderSerializer.addAttribute("command",
								this.okAction);
						loRenderSerializer.addAttribute("text",
								sap.zen.CLocalizationDialogTexts.OK.getText(
										this.getPage().getLocalization(), null,
										null, null));
						loRenderSerializer.addAttribute("name", this.getPage()
								.getIdForRendering("OK"));
						loRenderSerializer.addBooleanAttribute("okBtn", true);
						loRenderSerializer.closeTag();
						if (this.hasCancelButton) {
							loRenderSerializer.openTag("button");
							loRenderSerializer.addBooleanAttribute("enabled",
									true);
							loRenderSerializer.addBooleanAttribute("rendered",
									true);
							loRenderSerializer.addBooleanAttribute(
									"statustodesigner", false);
							loRenderSerializer.addAttribute("command",
									this.cancelAction);
							loRenderSerializer.addAttribute("text",
									sap.zen.CLocalizationDialogTexts.CANCEL
											.getText(this.getPage()
													.getLocalization(), null,
													null, null));
							loRenderSerializer.addAttribute("name", this
									.getPage().getIdForRendering("CANCEL"));
							loRenderSerializer.addBooleanAttribute("cancelBtn",
									true);
							loRenderSerializer.closeTag();
						}
						loRenderSerializer.closeArray();
						loRenderSerializer.openArray("content");
						this.renderChildren(renderManager);
						loRenderSerializer.closeArray();
					},
					renderChildren : function(renderManager) {
						if (this.oContent !== null) {
							this.oContent
									.renderComponentInternal(renderManager);
						}
						if (this.oMessageComponent !== null) {
							this.oMessageComponent.setContentChanged(true);
							this.oMessageComponent
									.renderComponentInternal(renderManager);
						}
					},
					setContent : function(oComponent) {
						this.oContent = oComponent;
						oComponent.setParent(this);
					},
					getContent : function() {
						return this.oContent;
					},
					setWidthInt : function(width) {
						this.setWidth(width);
					},
					setHeightInt : function(height) {
						this.setHeight(height);
					},
					setOKAction : function(action) {
						this.okAction = action;
					},
					setCancelAction : function(action) {
						this.cancelAction = action;
					},
					setOKButtonEnabled : function(enable) {
						this.enableOkButton = enable;
						this.setContentChanged(true);
					},
					setHasCancelButton : function(hasCancelButton) {
						this.hasCancelButton = hasCancelButton;
					},
					releaseObject : function() {
						if (this.oMessageManager !== null) {
							this.oMessageManager.releaseObject();
							this.oMessageManager = null;
						}
						if (this.oMessageComponent !== null) {
							this.oMessageComponent.releaseObject();
							this.oMessageComponent = null;
						}
						this.oContent = null;
						sap.zen.Dialog_M.$superclass.releaseObject.call(this);
					},
					setSFinMode : function(value) {
						this.sfinMode = value;
					}
				});
$Firefly
		.createClass(
				"sap.zen.FioriHelperControl",
				sap.zen.Component,
				{
					$statics : {
						ACTION_FETCH_JUMP_TARGETS : "FETCH_JUMP_TARGETS",
						ACTION_JUMP_TO : "JUMP_TO",
						ACTION_SAVE_TILE : "SAVE_TILE",
						ACTION_GET_APP_URL : "GET_APP_URL",
						ACTION_NAVIGATE_BACK : "NAVIGATE_BACK",
						ACTION_OPEN_TILE_SETTINGS : "OPEN_TILE_SETTINGS"
					},
					clientAction : null,
					oDataSource : null,
					tJumpTargets : null,
					currentHash : null,
					title : null,
					URLParameters : null,
					info : null,
					subtitle : null,
					baseURL : null,
					hashBase : null,
					paramJSON : null,
					appState : null,
					useFrontendTileSettings : false,
					shellAppTitle : null,
					tSelectionCapableElements : null,
					create : function() {
						var lUid;
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.fiorihelper/resources/js/fiorihelper_handler");
						lUid = sap.firefly.XString.concatenate2(this.getName(),
								"_fiorihelper1");
						this.initControl(lUid, "fiorihelper");
						this.clientAction = sap.zen.FioriHelperControl.ACTION_GET_APP_URL;
					},
					getShellURL : function(URLParameters) {
						var loUriBase = sap.firefly.XUri.createFromUri("");
						var ltQueryMap;
						var loJsonParser;
						var loJsonStructure;
						var ltJsonStructureElementNames;
						var lSize;
						var lElementName;
						var lElementIndex;
						var loBuffer;
						var lQueryString;
						var lUrl;
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(URLParameters)) {
							loUriBase.setQuery(URLParameters);
						}
						ltQueryMap = loUriBase.getQueryMap();
						loJsonParser = sap.firefly.JsonParserFactory
								.newInstance();
						loJsonStructure = loJsonParser.parse(this.paramJSON)
								.asStructure();
						ltJsonStructureElementNames = loJsonStructure
								.getStructureElementNames();
						lSize = ltJsonStructureElementNames.size();
						for (lElementIndex = 0; lElementIndex < lSize; lElementIndex++) {
							lElementName = ltJsonStructureElementNames
									.get(lElementIndex);
							if (!ltQueryMap.containsKey(lElementName)) {
								loUriBase.addQueryElement(lElementName,
										loJsonStructure
												.getStringByName(lElementName));
							}
						}
						loBuffer = sap.firefly.XStringBuffer.create();
						loBuffer.append(this.baseURL);
						loBuffer.append("#");
						loBuffer.append(this.hashBase);
						lQueryString = loUriBase.getQuery();
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(lQueryString)) {
							loBuffer.append("?");
							loBuffer.append(loUriBase.getQuery());
						}
						lUrl = loBuffer.toString();
						return lUrl;
					},
					getJavaScriptWrapperName : function() {
						return "FioriHelper";
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer = renderManager
								.getRenderSerializer();
						var lDshControlId;
						loRenderSerializer.addAttribute("fiorihelperid", this
								.getId());
						lDshControlId = this.getPage().getDshControlId();
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(lDshControlId)) {
							loRenderSerializer.addAttribute("hostui5control",
									lDshControlId);
						}
						loRenderSerializer.addAttribute("clientaction",
								this.clientAction);
						if (this.appState !== null) {
							loRenderSerializer.addAttribute("appstate",
									this.appState);
						}
						loRenderSerializer.addBooleanAttribute(
								"navigateinplace", this
										.getBooleanPropertyWithDefault(
												"NAVIGATE_INPLACE", true));
						if (this.getBooleanPropertyWithDefault(
								"ALWAYS_RENDER_CONTEXT", false)
								|| sap.firefly.XString
										.isEqual(
												this.clientAction,
												sap.zen.FioriHelperControl.ACTION_FETCH_JUMP_TARGETS)) {
							this
									.renderContextForTargetFetch(loRenderSerializer);
						}
						if (sap.firefly.XString.isEqual(this.clientAction,
								sap.zen.FioriHelperControl.ACTION_GET_APP_URL)) {
							loRenderSerializer.addAttribute("getappurlcommand",
									this.createGetAppUrlCommand());
						} else {
							if (sap.firefly.XString
									.isEqual(
											this.clientAction,
											sap.zen.FioriHelperControl.ACTION_FETCH_JUMP_TARGETS)) {
								loRenderSerializer
										.addAttribute(
												"onjumptargetsfetchedcommand",
												this
														.createOnJumpTargetsFetchedCommand());
								this
										.renderNavigationInformation(loRenderSerializer);
							} else {
								if (sap.firefly.XString
										.isEqual(
												this.clientAction,
												sap.zen.FioriHelperControl.ACTION_JUMP_TO)) {
									loRenderSerializer.addAttribute("hash",
											this.currentHash);
								} else {
									if (sap.firefly.XString
											.isEqual(
													this.clientAction,
													sap.zen.FioriHelperControl.ACTION_OPEN_TILE_SETTINGS)) {
										loRenderSerializer
												.addAttribute(
														"ontilesettingssubmittedcommand",
														this
																.createOnTileSettingsSubmittedCommand());
										this
												.renderTileSettings(loRenderSerializer);
										loRenderSerializer
												.addAttribute(
														"oktext",
														sap.zen.CLocalizationDialogTexts.OK
																.getText(
																		this
																				.getPage()
																				.getLocalization(),
																		null,
																		null,
																		null));
										loRenderSerializer
												.addAttribute(
														"canceltext",
														sap.zen.CLocalizationDialogTexts.CANCEL
																.getText(
																		this
																				.getPage()
																				.getLocalization(),
																		null,
																		null,
																		null));
									} else {
										if (sap.firefly.XString
												.isEqual(
														this.clientAction,
														sap.zen.FioriHelperControl.ACTION_SAVE_TILE)) {
											if (sap.firefly.XStringUtils
													.isNotNullAndNotEmpty(this.URLParameters)) {
												loRenderSerializer
														.addAttribute(
																"urlparameters",
																this.URLParameters);
											}
											if (this.useFrontendTileSettings) {
												loRenderSerializer
														.addBooleanAttribute(
																"usefrontendtilesettings",
																this.useFrontendTileSettings);
											} else {
												this
														.renderTileSettings(loRenderSerializer);
											}
										}
									}
								}
							}
						}
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(this.shellAppTitle)) {
							loRenderSerializer.addAttribute("shellapptitle",
									this.shellAppTitle);
						}
						this.clientAction = "";
						this.currentHash = "";
					},
					renderTileSettings : function(oRenderSerializer) {
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(this.title)) {
							oRenderSerializer.addAttribute("title", this.title);
						}
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(this.subtitle)) {
							oRenderSerializer.addAttribute("subtitle",
									this.subtitle);
						}
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(this.info)) {
							oRenderSerializer.addAttribute("info", this.info);
						}
					},
					createOnTileSettingsSubmittedCommand : function() {
						var lCommand = sap.firefly.XString.concatenate2(this
								.getId(), ".onTileSettingsSubmitted();");
						var lScriptAction = this.createScriptAction(lCommand,
								"");
						return lScriptAction;
					},
					createGetAppUrlCommand : function() {
						var lCommand = sap.firefly.XString.concatenate2(this
								.getId(), ".setAppUrl(__arguments__);");
						var lScriptAction = this
								.createScriptAction(lCommand,
										"'__BASE_URL__', '__BASE_HASH__','__PARAM_JSON__'");
						return lScriptAction;
					},
					setAppUrl : function(p_baseURL, p_hashBase,
							encodedParamJSON) {
						this.baseURL = p_baseURL;
						this.hashBase = p_hashBase;
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(encodedParamJSON)) {
							this.paramJSON = sap.firefly.XHttpUtils
									.decodeURIComponent(encodedParamJSON);
						}
						this.setContentChanged(false);
					},
					setAppState : function(value) {
						this.appState = value;
						this.setContentChanged(true);
					},
					jumpTo : function(hash) {
						var lOnBeforeJump;
						this.clientAction = sap.zen.FioriHelperControl.ACTION_JUMP_TO;
						this.currentHash = hash;
						lOnBeforeJump = this.getStringPropertyWithDefault(
								"ON_BEFORE_JUMP", "");
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(lOnBeforeJump)) {
							this.getPage().execWithoutRerender(lOnBeforeJump);
						}
						this.setContentChanged(true);
					},
					navigateBack : function() {
						this.clientAction = sap.zen.FioriHelperControl.ACTION_NAVIGATE_BACK;
						this.setContentChanged(true);
					},
					fetchJumpTargets : function(dataSourceName) {
						this.oDataSource = this.getPage().getDataSource(
								dataSourceName);
						this.clientAction = sap.zen.FioriHelperControl.ACTION_FETCH_JUMP_TARGETS;
						this.setContentChanged(true);
					},
					isNavigationPossible : function() {
						var ltNavSources = this.getPage()
								.getNavigationAllowedSemanticSources();
						return ltNavSources !== null && ltNavSources.size() > 0;
					},
					getFetchedJumpTargets : function() {
						var loScriptableArray;
						if (this.tJumpTargets === null) {
							this.tJumpTargets = sap.firefly.XList.create();
						}
						loScriptableArray = this.getPage().getWindow()
								.createJSArray(this.tJumpTargets);
						return loScriptableArray;
					},
					onJumpTargetsFetched : function(targetsJsonURIencoded) {
						var lJsonString;
						var loJsonParser;
						var loJsonList;
						var lJsonListSize;
						var lJsonListIndex;
						var loJsonStructure;
						var text;
						var hash;
						var loKeyValueObject;
						var lOnJumpTargetsFetchedScript;
						this.tJumpTargets = sap.firefly.XList.create();
						lJsonString = sap.firefly.XHttpUtils
								.decodeURIComponent(targetsJsonURIencoded);
						loJsonParser = sap.firefly.JsonParserFactory
								.newInstance();
						loJsonList = loJsonParser.parse(lJsonString).asList();
						lJsonListSize = loJsonList.size();
						for (lJsonListIndex = 0; lJsonListIndex < lJsonListSize; lJsonListIndex++) {
							loJsonStructure = loJsonList
									.getStructureByIndex(lJsonListIndex);
							text = loJsonStructure.getStringByName("text");
							hash = loJsonStructure.getStringByName("hash");
							loKeyValueObject = new sap.zen.KeyValueObject();
							loKeyValueObject.doInit(hash, text);
							this.tJumpTargets.add(loKeyValueObject);
						}
						this.tJumpTargets
								.sortByDirection(sap.firefly.XSortDirection.ASCENDING);
						lOnJumpTargetsFetchedScript = this
								.getStringPropertyWithDefault(
										"ON_JUMP_TARGETS_FETCHED", "");
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(lOnJumpTargetsFetchedScript)) {
							this.getPage().execWithoutRerender(
									lOnJumpTargetsFetchedScript);
						}
					},
					onTileSettingsSubmitted : function() {
						var lOnTileSettingsSubmitted = this
								.getStringPropertyWithDefault(
										"ON_TILE_SETTINGS_SUBMITTED", "");
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(lOnTileSettingsSubmitted)) {
							this.getPage().execWithoutRerender(
									lOnTileSettingsSubmitted);
						}
					},
					getNotifyFioriJumpCommand : function() {
						var lCommand = sap.firefly.XString.concatenate2(this
								.getId(), ".jumpTo(__arguments__);");
						var lScriptAction = this.createScriptAction(lCommand,
								"'__HASH__'");
						return lScriptAction;
					},
					createOnJumpTargetsFetchedCommand : function() {
						var lCommand = sap.firefly.XString.concatenate2(this
								.getId(),
								".onJumpTargetsFetched(__arguments__);");
						var lScriptAction = this.createScriptAction(lCommand,
								"'__JUMPTARGETS__'");
						return lScriptAction;
					},
					renderFilterContext : function(oRenderSerializer,
							tSelectionsPerDimension) {
						var loSelectionsPerDimensionIterator = tSelectionsPerDimension
								.getKeysAsIteratorOfString();
						var lDimensionName;
						var loRangeIterator;
						var loRange;
						var lOperation;
						var loLowMember;
						var loHighMember;
						var lHighString;
						while (loSelectionsPerDimensionIterator.hasNext()) {
							lDimensionName = loSelectionsPerDimensionIterator
									.next();
							oRenderSerializer.openTag("dimension");
							oRenderSerializer.addAttribute("name",
									lDimensionName);
							oRenderSerializer.openArray("selections");
							loRangeIterator = tSelectionsPerDimension.getByKey(
									lDimensionName).getIterator();
							while (loRangeIterator.hasNext()) {
								loRange = loRangeIterator.next();
								oRenderSerializer.openJsonTag();
								if (!loRange.isExclude()) {
									oRenderSerializer.addAttribute("Sign", "I");
								} else {
									oRenderSerializer.addAttribute("Sign", "E");
								}
								lOperation = loRange.getOperation();
								loLowMember = loRange.getFrom();
								oRenderSerializer
										.addAttribute(
												"Low",
												loLowMember
														.getExternalKey(this.oDataSource));
								oRenderSerializer.addAttribute("LowType",
										loLowMember.getType().toString());
								oRenderSerializer.addAttribute("Option",
										lOperation.toString());
								if (lOperation === sap.zen.Operation.BT) {
									loHighMember = loRange.getTo();
									lHighString = null;
									if (loHighMember !== null) {
										lHighString = loHighMember
												.getExternalKey(this.oDataSource);
									}
									if (lHighString !== null) {
										oRenderSerializer.addAttribute("High",
												lHighString);
										if (loHighMember !== null) {
											oRenderSerializer.addAttribute(
													"HighType", loHighMember
															.getType()
															.toString());
										}
									} else {
										oRenderSerializer
												.addNullAttribute("High");
									}
								}
								oRenderSerializer.closeJsonTag();
							}
							oRenderSerializer.closeArray();
							oRenderSerializer.closeTag();
						}
					},
					renderContextForTargetFetch : function(oRenderSerializer) {
						var loDataSource = this.oDataSource;
						var tFiltersPerDimension;
						var tFixedFiltersPerDimension;
						var ltDimensions;
						var loDimensionsIterator;
						var loInternalDimension;
						var loDimension;
						var loCharacteristicWrapper;
						var lDimensionName;
						var ltFilters;
						var ltFixedFilters;
						var lElementIndex;
						var loSelectionCapableElement;
						var ltSelectionsPerDimension;
						if (loDataSource === null
								&& !this.getPage().getDataSources().isEmpty()) {
							loDataSource = this.getPage().getDataSources()
									.getValuesAsReadOnlyList().get(0);
						}
						if (loDataSource === null
								|| !loDataSource.isInitialized()) {
							return;
						}
						oRenderSerializer.openTag("context");
						tFiltersPerDimension = sap.firefly.XHashMapByString
								.create();
						tFixedFiltersPerDimension = sap.firefly.XHashMapByString
								.create();
						ltDimensions = loDataSource.getQueryManager()
								.getQueryModel().getDimensions();
						loDimensionsIterator = ltDimensions.getIterator();
						while (loDimensionsIterator.hasNext()) {
							loInternalDimension = loDimensionsIterator.next();
							loDimension = sap.zen.DimensionWrapper.create(
									loDataSource, null, loInternalDimension
											.getName());
							if (!(loDimension.isMeasureStructure())) {
								loCharacteristicWrapper = new sap.zen.CharacteristicWrapper();
								loCharacteristicWrapper.initMe(loDataSource,
										loInternalDimension, null, null,
										sap.zen.FPMemberDisplay.KEY_TEXT,
										loDataSource.getMessageWriter(), false);
								lDimensionName = sap.zen.DataSourceScriptApiUtils
										.getDimensionNameForNavigation(this
												.getPage(), loDimension);
								ltFilters = loCharacteristicWrapper
										.getAllSelections();
								if (ltFilters !== null && ltFilters.size() > 0) {
									tFiltersPerDimension.put(lDimensionName,
											ltFilters);
								}
								ltFixedFilters = loCharacteristicWrapper
										.getAllFixedSelections();
								if (ltFixedFilters !== null
										&& ltFixedFilters.size() > 0) {
									tFixedFiltersPerDimension.put(
											lDimensionName, ltFixedFilters);
								}
							}
						}
						if (this.tSelectionCapableElements !== null) {
							for (lElementIndex = 0; lElementIndex < this.tSelectionCapableElements
									.size(); lElementIndex++) {
								loSelectionCapableElement = this.tSelectionCapableElements
										.get(lElementIndex);
								ltSelectionsPerDimension = loSelectionCapableElement
										.getSelections();
								if (!ltSelectionsPerDimension.isEmpty()) {
									oRenderSerializer.openArray("selections");
									this.renderFilterContext(oRenderSerializer,
											ltSelectionsPerDimension);
									oRenderSerializer.closeArray();
									break;
								}
							}
						}
						if (!tFixedFiltersPerDimension.isEmpty()) {
							oRenderSerializer.openArray("variables");
							this.renderFilterContext(oRenderSerializer,
									tFixedFiltersPerDimension);
							oRenderSerializer.closeArray();
						}
						if (!tFiltersPerDimension.isEmpty()) {
							oRenderSerializer.openArray("filter");
							this.renderFilterContext(oRenderSerializer,
									tFiltersPerDimension);
							oRenderSerializer.closeArray();
						}
						oRenderSerializer.closeTag();
					},
					renderNavigationInformation : function(oRenderSerializer) {
						var ltAllowedDestinations = this.getPage()
								.getNavigationAllowedSemanticSources();
						var lSize;
						var lIndex;
						if (ltAllowedDestinations === null
								|| ltAllowedDestinations.size() === 0) {
							return;
						}
						oRenderSerializer.openTag("navigation");
						oRenderSerializer.openArray("allowed_semantic_sources");
						lSize = ltAllowedDestinations.size();
						for (lIndex = 0; lIndex < lSize; lIndex++) {
							oRenderSerializer.openTag("entry");
							oRenderSerializer.addAttribute("semanticname",
									ltAllowedDestinations.get(lIndex));
							oRenderSerializer.closeTag();
						}
						oRenderSerializer.closeArray();
						oRenderSerializer.addAttribute("length",
								sap.firefly.XInteger
										.convertIntegerToString(lSize));
						oRenderSerializer.closeTag();
					},
					openTileSettings : function(title, subtitle, info) {
						this.title = title;
						this.subtitle = subtitle;
						this.info = info;
						this.clientAction = sap.zen.FioriHelperControl.ACTION_OPEN_TILE_SETTINGS;
						this.setContentChanged(true);
					},
					saveTileFromSettings : function(p_URLParameters) {
						this.URLParameters = p_URLParameters;
						this.useFrontendTileSettings = true;
						this.clientAction = sap.zen.FioriHelperControl.ACTION_SAVE_TILE;
						this.setContentChanged(true);
					},
					saveTile : function(p_title, p_URLParameters, p_info,
							p_subtitle) {
						this.title = p_title;
						this.URLParameters = p_URLParameters;
						this.info = p_info;
						this.subtitle = p_subtitle;
						this.useFrontendTileSettings = false;
						this.clientAction = sap.zen.FioriHelperControl.ACTION_SAVE_TILE;
						this.setContentChanged(true);
					},
					setNavigateInPlace : function(value) {
						this.setBooleanProperty("NAVIGATE_INPLACE", value);
					},
					setTitle : function(value) {
						this.shellAppTitle = value;
						this.setContentChanged(true);
					},
					registerSelectionCapableElement : function(
							oSelectionCapableElement) {
						if (this.tSelectionCapableElements === null) {
							this.tSelectionCapableElements = sap.firefly.XList
									.create();
						}
						this.tSelectionCapableElements
								.add(oSelectionCapableElement);
					}
				});
$Firefly.createClass("sap.zen.FooterBarButtonControl", sap.zen.Component, {
	renderOnClickDirectly : false,
	create : function() {
		var uid = sap.firefly.XString.concatenate2(this.getName(),
				"_footerbarbutton");
		this.initControl(uid, "footerbarbutton");
		this.renderOnClickDirectly = false;
	},
	getDefaultProperty : function(name) {
		if (sap.firefly.XString.isEqual("ICON", name)) {
			return "";
		}
		return sap.zen.FooterBarButtonControl.$superclass.getDefaultProperty
				.call(this, name);
	},
	setText : function(text) {
		this.setStringProperty("TEXT", text);
	},
	getText : function() {
		return this.getStringPropertyWithDefault("TEXT", "Button");
	},
	setOnClick : function(text) {
		this.setStringProperty("ON_CLICK", text);
	},
	getOnClick : function() {
		var text = this.getProperty("ON_CLICK");
		if (text !== null) {
			return text;
		}
		return "";
	},
	onClick : function() {
		var onClick = this.getOnClick();
		if (sap.firefly.XString.size(onClick) > 0) {
			this.getPage().execWithoutRerender(onClick);
		}
	},
	setIcon : function(fileName) {
		this.setStringProperty("ICON", fileName);
	},
	getIcon : function() {
		return this.getStringPropertyWithDefault("ICON", "");
	},
	setTooltip : function(tooltip) {
		this.setStringProperty("TOOLTIP", tooltip);
	},
	getTooltip : function() {
		return this.getStringPropertyWithDefault("TOOLTIP", "");
	},
	renderControlContent : function(renderManager) {
		var renderSerializer = renderManager.getRenderSerializer();
		var script;
		var image;
		renderSerializer.addBooleanAttribute("enabled", this.isEnabled());
		renderSerializer.addAttribute("tooltip", this
				.getStringPropertyWithDefault("TOOLTIP", ""));
		script = this.getOnClick();
		if (sap.firefly.XString.size(script) > 0) {
			if (!this.renderOnClickDirectly) {
				script = this.createMethodCallScript("onClick");
			}
		}
		renderSerializer.addAttribute("onclick", script);
		renderSerializer.addAttribute("text", this.getText());
		image = this.getIcon();
		if (sap.firefly.XString.size(image) > 0) {
			renderSerializer.addAttribute("icon", this.translateUrl(image));
			renderSerializer.addBooleanAttribute("iconfirst", true);
		}
	},
	setRenderOnClickDirectly : function(renderOnClickDirectly) {
		this.renderOnClickDirectly = renderOnClickDirectly;
	}
});
$Firefly
		.createClass(
				"sap.zen.InputfieldControl",
				sap.zen.Component,
				{
					create : function() {
						var uid = sap.firefly.XString.concatenate2(this
								.getName(), "_inputfield1");
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.inputfield/resources/js/inputfield_handler");
						this.initControl(uid, "inputfield");
					},
					onChange : function() {
						var onClick = this.getOnChange();
						if (sap.firefly.XString.size(onClick) > 0) {
							this.getPage().execWithoutRerender(onClick);
						}
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var s1 = sap.firefly.XString.concatenate2(this.getId(),
								".setValuePVT('__arguments__');");
						var pvtScript = this
								.createScriptAction(s1, "__VALUE__");
						renderSerializer.addAttribute("command", pvtScript);
						renderSerializer.addAttribute("value", this.getValue());
						renderSerializer.addBooleanAttribute("enabled", this
								.isEnabled());
						renderSerializer.addBooleanAttribute("editable", this
								.isEditable());
						renderSerializer.addAttribute("tooltip", this
								.getStringPropertyWithDefault("TOOLTIP", ""));
					},
					setValue : function(value) {
						this.setStringProperty("VALUE", value);
					},
					getValue : function() {
						return this.getStringPropertyWithDefault("VALUE", "");
					},
					setEnabled : function(enabled) {
						this.setBooleanProperty("ENABLED", enabled);
					},
					isEnabled : function() {
						return this.getBooleanPropertyWithDefault("ENABLED",
								true);
					},
					setValuePVT : function(newValue) {
						this.setValue(newValue);
						this.getPage().execWithoutRerender(this.getOnChange());
					},
					setEditable : function(editable) {
						this.setBooleanProperty("EDITABLE", editable);
					},
					isEditable : function() {
						return this.getBooleanPropertyWithDefault("EDITABLE",
								true);
					},
					getDefaultWidthAsString : function() {
						return "100";
					},
					getDefaultHeightAsString : function() {
						return "50";
					},
					setTooltip : function(tooltip) {
						this.setStringProperty("TOOLTIP", tooltip);
					},
					getTooltip : function() {
						return this.getStringPropertyWithDefault("TOOLTIP", "");
					},
					setOnChange : function(text) {
						this.setStringProperty("ON_CHANGE", text);
					},
					getOnChange : function() {
						var text = this.getProperty("ON_CHANGE");
						if (text !== null) {
							return text;
						}
						return "";
					}
				});
$Firefly
		.createClass(
				"sap.zen.JSTestRunnerControl",
				sap.zen.Component,
				{
					create : function() {
						var uid = sap.firefly.XString.concatenate2(this
								.getName(), "b");
						this.initControl(uid, "jstests");
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var i;
						var s1;
						var pvtScript;
						if (this.getPage().isHanaMode()) {
							renderSerializer
									.addAttribute("jasmine",
											"/sap/bi/aas/rt/jasmine/jasmine-1_2_0/jasmine.js");
							renderSerializer.addAttribute("biapp_matchers",
									"/sap/bi/aas/rt/jasmine/biapp_matchers.js");
							renderSerializer
									.addAttribute("surefire_reporter",
											"/sap/bi/aas/rt/jasmine/jasmine-1_2_0/SurefireReporter.js");
							renderSerializer
									.addAttribute("html_reporter",
											"/sap/bi/aas/rt/jasmine/jasmine-1_2_0/jasmine-html.js");
						} else {
							renderSerializer.addAttribute("jasmine",
									"/aad/jasmine/jasmine-1.2.0/jasmine.js");
							renderSerializer.addAttribute("biapp_matchers",
									"/aad/jasmine/biapp_matchers.js");
							renderSerializer
									.addAttribute("surefire_reporter",
											"/aad/jasmine/jasmine-1.2.0/SurefireReporter.js");
							renderSerializer
									.addAttribute("html_reporter",
											"/aad/jasmine/jasmine-1.2.0/jasmine-html.js");
						}
						renderSerializer.openArray("globalScriptIncludes");
						for (i = 0; i < 70; i++) {
							renderSerializer.openTag("item");
							renderSerializer
									.addText(this
											.translateUrl(sap.firefly.XStringUtils
													.concatenate3(
															"jsonNr",
															sap.firefly.XInteger
																	.convertIntegerToString(i),
															"Global.js")));
							renderSerializer.closeTag();
						}
						renderSerializer.closeArray();
						renderSerializer.addAttribute("jsinclude", this
								.translateUrl(this.getJSInclude()));
						s1 = sap.firefly.XString.concatenate2(this.getId(),
								".setValuePVT(__arguments__);");
						pvtScript = this.createScriptAction(
								"?JSTEST_DELTA?__arguments__",
								"__VALUE__-__NUMBER__");
						renderSerializer
								.addAttribute("commandDelta", pvtScript);
					},
					setValuePVT : function(value, nmbr) {
						var i = 0;
						var j = i;
					},
					setJSInclude : function(jsInclude) {
						this.setStringProperty("JSINCLUDE", jsInclude);
					},
					getJSInclude : function() {
						return this.getStringPropertyWithDefault("JSINCLUDE",
								"");
					}
				});
$Firefly
		.createClass(
				"sap.zen.MessageviewControl",
				sap.zen.Component,
				{
					$statics : {
						COMPONENT_TYPE : "MESSAGEVIEW_COMPONENT",
						MESSAGEVIEW_UID : "MESSAGE",
						CONTROL_TYPE : "messageview",
						UID_SUFFIX : "_messageview1",
						HANDLER_MODULE : "zen.rt.components/resources/js/messageview_m_handler"
					},
					text : null,
					msgindx : 0,
					textRendered : false,
					applPropertiesRendered : false,
					create : function() {
						var lUid;
						this.getPage().addRequireModule(
								sap.zen.MessageviewControl.HANDLER_MODULE);
						lUid = sap.firefly.XString.concatenate2(this.getName(),
								sap.zen.MessageviewControl.UID_SUFFIX);
						this.initControl(lUid,
								sap.zen.MessageviewControl.CONTROL_TYPE);
						this.setMModePosition();
					},
					setMModePosition : function() {
						var lMessagePosition;
						var lTopMargin;
						var lLeftMargin;
						var lBottomMargin;
						var lRightMargin;
						if (!sap.firefly.XString.isEqual(this.getName(),
								sap.zen.MessageviewControl.MESSAGEVIEW_UID)) {
							return;
						}
						lMessagePosition = this.getMessagePosition();
						lTopMargin = "5";
						lLeftMargin = "auto";
						lBottomMargin = "auto";
						lRightMargin = "15";
						if (sap.firefly.XString.isEqual(lMessagePosition,
								"BOTTOMRIGHT")) {
							lTopMargin = "auto";
							lLeftMargin = "auto";
							lBottomMargin = "5";
							lRightMargin = "15";
						} else {
							if (sap.firefly.XString.isEqual(lMessagePosition,
									"BOTTOMLEFT")) {
								lTopMargin = "auto";
								lLeftMargin = "15";
								lBottomMargin = "5";
								lRightMargin = "auto";
							} else {
								if (sap.firefly.XString.isEqual(
										lMessagePosition, "TOPLEFT")) {
									lTopMargin = "5";
									lLeftMargin = "15";
									lBottomMargin = "auto";
									lRightMargin = "auto";
								}
							}
						}
						this.setTopMarginAsStringWoCheck(lTopMargin);
						this.setLeftMarginAsStringWoCheck(lLeftMargin);
						this.setBottomMarginAsStringWoCheck(lBottomMargin);
						this.setRightMarginAsStringWoCheck(lRightMargin);
					},
					getDefaultWidthAsString : function() {
						return "";
					},
					getDefaultHeightAsString : function() {
						return "";
					},
					isVisible : function() {
						return this.isVisibleInternal();
					},
					addApplicationProperties : function(oRenderSerializer) {
						var lMessageTypes;
						oRenderSerializer.openTag("application_properties");
						oRenderSerializer.addAttribute("message_position", this
								.getMessagePosition());
						oRenderSerializer.addAttribute(
								"message_popup_position", this
										.getMessagePopupPosition());
						lMessageTypes = this.getMessageTypes();
						if (!sap.firefly.XString.isEqual(lMessageTypes, "NONE")) {
							oRenderSerializer.addAttribute("message_types",
									lMessageTypes);
						}
						oRenderSerializer.closeTag();
						this.applPropertiesRendered = true;
					},
					addTexts : function(oRenderSerializer) {
						oRenderSerializer.openTag("texts");
						oRenderSerializer
								.addAttribute(
										"notification_header",
										sap.zen.CLocalizationMessageViewTexts.NOTIFICATION_HEADER
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"notification_header_singular",
										sap.zen.CLocalizationMessageViewTexts.NOTIFICATION_HEADER_SINGULAR
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addAttribute("expand",
								sap.zen.CLocalizationMessageViewTexts.EXPAND
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("collapse",
								sap.zen.CLocalizationMessageViewTexts.COLLAPSE
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("remove",
								sap.zen.CLocalizationMessageViewTexts.REMOVE
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("clear_all",
								sap.zen.CLocalizationMessageViewTexts.CLEAR_ALL
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("send_all",
								sap.zen.CLocalizationMessageViewTexts.SEND_ALL
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("send_to",
								sap.zen.CLocalizationMessageViewTexts.SEND_TO
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer
								.addAttribute(
										"no_notifications",
										sap.zen.CLocalizationMessageViewTexts.NO_NOTIFICATIONS
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.closeTag();
						this.textRendered = true;
					},
					renderControlContent : function(renderManager) {
						var loDialog = (this.getPage()).getCurrentDialog();
						var loMessageComponent;
						var loMessageManager;
						var ltMessages;
						var loRenderSerializer;
						var lMessageTypes;
						var lDisplayAll;
						var lDisplayOnlyErrors;
						var lMessageIndex;
						var loMessage;
						var lSeverity;
						if (loDialog !== null) {
							loMessageComponent = loDialog.getMessageComponent();
							if (loMessageComponent !== null
									&& !sap.firefly.XString.isEqual(
											loMessageComponent.getId(), this
													.getId())) {
								return;
							}
						}
						loMessageManager = this.getPage().getMessageManager();
						if (loMessageManager === null) {
							return;
						}
						ltMessages = loMessageManager.getMessages();
						loRenderSerializer = renderManager
								.getRenderSerializer();
						loRenderSerializer.addAttribute("log_command", "");
						if (this.applPropertiesRendered === false) {
							this.addApplicationProperties(loRenderSerializer);
						}
						if (this.textRendered === false) {
							this.addTexts(loRenderSerializer);
						}
						lMessageTypes = this.getMessageTypes();
						lDisplayAll = sap.firefly.XString.isEqual(
								lMessageTypes, "ALL");
						lDisplayOnlyErrors = sap.firefly.XString.isEqual(
								lMessageTypes, "ERRORS");
						if (!sap.firefly.XString.isEqual(lMessageTypes, "NONE")) {
							if (ltMessages !== null) {
								loRenderSerializer.openArray("messages");
								for (lMessageIndex = 0; lMessageIndex < ltMessages
										.size(); lMessageIndex++) {
									loMessage = ltMessages.get(lMessageIndex);
									lSeverity = loMessage.getSeverity();
									if (lSeverity !== null) {
										if ((lDisplayAll && lSeverity
												.isEqualTo(sap.firefly.Severity.INFO))
												|| lSeverity
														.isEqualTo(sap.firefly.Severity.ERROR)
												|| lSeverity
														.isEqualTo(sap.firefly.Severity.SEMANTICAL_ERROR)
												|| (lSeverity
														.isEqualTo(sap.firefly.Severity.WARNING) && !lDisplayOnlyErrors)) {
											loRenderSerializer.openJsonTag();
											loRenderSerializer
													.openTag("message");
											loRenderSerializer
													.addIntegerAttribute(
															"msg_idx",
															this.msgindx);
											loRenderSerializer
													.addAttribute(
															"id",
															"com.sap.ip.bi.zen.rt.framework.impl.services.command.resolver.PageCommandResolver-MESSAGE");
											loRenderSerializer.addAttribute(
													"short_text", loMessage
															.getText());
											loRenderSerializer.addAttribute(
													"long_text", loMessage
															.getText());
											loRenderSerializer
													.addAttribute(
															"level",
															this
																	.getCorrectMessage(lSeverity));
											loRenderSerializer.closeTag();
											loRenderSerializer.closeJsonTag();
											this.msgindx++;
										}
									}
								}
								loRenderSerializer.closeArray();
								loMessageManager.clearMessages();
							}
						}
					},
					getCorrectMessage : function(severity) {
						if (severity.isEqualTo(sap.firefly.Severity.WARNING)) {
							return "WARNING";
						} else {
							if (severity.isEqualTo(sap.firefly.Severity.INFO)) {
								return "INFO";
							} else {
								return "ERROR";
							}
						}
					},
					setValue : function(string) {
						this.text = string;
					},
					getValue : function() {
						return this.text;
					},
					setMessageTypes : function(messageTypes) {
						this.setStringProperty("MESSAGE_TYPES", messageTypes);
					},
					setMessagePopupPosition : function(messagePopupPosition) {
						this.setStringProperty("MESSAGE_POPUP_POSITION",
								messagePopupPosition);
					},
					setMessagePosition : function(messagePosition) {
						this.setStringProperty("MESSAGE_POSITION",
								messagePosition);
					},
					getMessageTypes : function() {
						var lMessageType = this.getPage()
								.getApplicationPropertiesComponent()
								.getMessageType();
						if (lMessageType !== null) {
							return lMessageType;
						}
						return "WARNINGSERRORS";
					},
					getMessagePopupPosition : function() {
						var lMessagePosition = this.getPage()
								.getApplicationPropertiesComponent()
								.getMessagePopupPosition();
						if (lMessagePosition !== null) {
							return lMessagePosition;
						}
						return "RIGHT";
					},
					getMessagePosition : function() {
						var lMessagePosition = this.getPage()
								.getApplicationPropertiesComponent()
								.getMessagePosition();
						if (lMessagePosition !== null) {
							return lMessagePosition;
						}
						return "BOTTOMRIGHT";
					},
					handleMessagesChanged : function() {
						this.setContentChanged(true);
					}
				});
$Firefly
		.createClass(
				"sap.zen.PropertiesPaneControl",
				sap.zen.Component,
				{
					$statics : {
						texts : null,
						genericProperies : null
					},
					enabled : false,
					create : function() {
						var uid = sap.firefly.XString.concatenate2(this
								.getName(), "_pp");
						this.initControl(uid, "propertiespane");
						if (sap.zen.PropertiesPaneControl.texts === null) {
							sap.zen.PropertiesPaneControl.texts = sap.firefly.XHashMapOfStringByString
									.create();
							sap.zen.PropertiesPaneControl.texts.put("WIDTH",
									"Width");
							sap.zen.PropertiesPaneControl.texts.put("HEIGHT",
									"Height");
							sap.zen.PropertiesPaneControl.texts.put(
									"LEFT_MARGIN", "Left Margin");
							sap.zen.PropertiesPaneControl.texts.put(
									"RIGHT_MARGIN", "Right Margin");
							sap.zen.PropertiesPaneControl.texts.put(
									"TOP_MARGIN", "Top Margin");
							sap.zen.PropertiesPaneControl.texts.put(
									"BOTTOM_MARGIN", "Bottom Margin");
							sap.zen.PropertiesPaneControl.texts.put("VISIBLE",
									"Visible");
							sap.zen.PropertiesPaneControl.texts.put("TEXT",
									"Text");
							sap.zen.PropertiesPaneControl.texts.put(
									"RESULTS_VISIBLE", "Results Visible");
							sap.zen.PropertiesPaneControl.texts.put(
									"AXES_SWAPPED", "Axes Swapped");
							sap.zen.PropertiesPaneControl.texts.put("TYPE",
									"Type");
							sap.zen.PropertiesPaneControl.texts.put(
									"DATA_SOURCE_ALIAS_REF", "Data Source");
							sap.zen.PropertiesPaneControl.texts.put(
									"DATA_SELECTION", "Data Selection");
						}
						if (sap.zen.PropertiesPaneControl.genericProperies === null) {
							sap.zen.PropertiesPaneControl.genericProperies = sap.firefly.XHashMapOfStringByString
									.create();
							sap.zen.PropertiesPaneControl.genericProperies.put(
									"WIDTH", "width");
							sap.zen.PropertiesPaneControl.genericProperies.put(
									"HEIGHT", "heigh");
							sap.zen.PropertiesPaneControl.genericProperies.put(
									"LEFT_MARGIN", "left margin");
							sap.zen.PropertiesPaneControl.genericProperies.put(
									"RIGHT_MARGIN", "right margin");
							sap.zen.PropertiesPaneControl.genericProperies.put(
									"TOP_MARGIN", "top margin");
							sap.zen.PropertiesPaneControl.genericProperies.put(
									"BOTTOM_MARGIN", "bottom margin");
							sap.zen.PropertiesPaneControl.genericProperies.put(
									"VISIBLE", "visible");
						}
					},
					getDefaultWidthAsString : function() {
						return "80";
					},
					getDefaultHeightAsString : function() {
						return "30";
					},
					setComponentRef : function(componentRef) {
						this.setStringProperty("COMPONENT_REF", componentRef);
					},
					setOnChangeValue : function(name, value) {
						var componentRef = this.getStringPropertyWithDefault(
								"COMPONENT_REF", "");
						var component;
						if (sap.firefly.XString.size(componentRef) > 0) {
							component = this.getPage().getComponent(
									componentRef);
							component.setStringProperty(name, value);
						}
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var s1 = sap.firefly.XString.concatenate2(this.getId(),
								".setOnChangeValue(__arguments__);");
						var pvtScript = this.createScriptAction(s1,
								'"__NAME__","__VALUE__"');
						var title;
						var componentRef;
						var component;
						var propertyBag2;
						var keysAsIteratorOfString;
						var key;
						var value;
						renderSerializer.addAttribute("command", pvtScript);
						renderSerializer.addBooleanAttribute("collapsed", this
								.getBooleanPropertyWithDefault("COLLAPSED",
										true));
						title = this.getStringPropertyWithDefault("TITLE2", "");
						title = sap.firefly.XString.concatenate2(title, this
								.getStringPropertyWithDefault("COMPONENT_REF",
										""));
						renderSerializer.addAttribute("title", title);
						renderSerializer.openArray("content");
						componentRef = this.getStringPropertyWithDefault(
								"COMPONENT_REF", "");
						if (sap.firefly.XString.size(componentRef) > 0) {
							component = this.getPage().getComponent(
									componentRef);
							propertyBag2 = component.getPropertyBag();
							keysAsIteratorOfString = propertyBag2
									.getKeysAsIteratorOfString();
							while (keysAsIteratorOfString.hasNext()) {
								key = keysAsIteratorOfString.next();
								value = propertyBag2.getByKey(key);
							}
							this.writeProperty(renderSerializer, propertyBag2,
									"TOP_MARGIN", null);
							this.writeProperty(renderSerializer, propertyBag2,
									"LEFT_MARGIN", null);
							this.writeProperty(renderSerializer, propertyBag2,
									"BOTTOM_MARGIN", null);
							this.writeProperty(renderSerializer, propertyBag2,
									"RIGHT_MARGIN", null);
							this.writeProperty(renderSerializer, propertyBag2,
									"WIDTH", null);
							this.writeProperty(renderSerializer, propertyBag2,
									"HEIGHT", null);
						}
						renderSerializer.closeArray();
					},
					writeProperty : function(renderSerializer, propertyBag2,
							key, valueHelp) {
						var value = propertyBag2.getByKey(key);
						var text;
						var i;
						var item;
						renderSerializer.openTag("property");
						renderSerializer.addAttribute("name", key);
						renderSerializer.addAttribute("value", value);
						text = sap.zen.PropertiesPaneControl.texts
								.getByKey(key);
						if (text === null) {
							text = key;
						}
						if (valueHelp !== null) {
							renderSerializer.openArray("valuehelp");
							for (i = 0; i < valueHelp.size(); i++) {
								item = valueHelp.get(i);
								renderSerializer.openTag("item");
								renderSerializer.addAttribute("key", item
										.getValue());
								renderSerializer.addAttribute("text", item
										.getText());
								renderSerializer.closeTag();
							}
							renderSerializer.closeArray();
						}
						renderSerializer.addAttribute("text", text);
						renderSerializer.closeTag();
					}
				});
$Firefly
		.createClass(
				"sap.zen.SDKDataSource",
				sap.zen.DataSource,
				{
					$statics : {
						texts : null,
						genericProperies : null
					},
					enabled : false,
					handlerType : null,
					libraryId : null,
					factory : null,
					myD : null,
					dataBound : false,
					create : function() {
						var type;
						var uid;
						var jsIncudesIterator;
						var next;
						var cssIncludesIterator;
						var cssNext;
						var propertiesIterator;
						var propertyNode;
						var key;
						var defaultValue;
						sap.zen.SDKDataSource.$superclass.initFieldBeforeCreate
								.call(this);
						type = this.handlerType;
						uid = sap.firefly.XString.concatenate2(this.getName(),
								"_control");
						if (this.factory.jsIncludes !== null) {
							jsIncudesIterator = this.factory.jsIncludes
									.getIterator();
							while (jsIncudesIterator.hasNext()) {
								next = jsIncudesIterator.next();
								this.getPage().getSDKLoader().loadJS(
										this.libraryId, next.getText());
							}
						}
						if (this.factory.cssIncludes !== null) {
							cssIncludesIterator = this.factory.cssIncludes
									.getIterator();
							while (cssIncludesIterator.hasNext()) {
								cssNext = cssIncludesIterator.next();
								this.getPage().getSDKLoader().loadCSS(
										this.libraryId, cssNext.getText());
							}
						}
						if (this.factory.properties !== null) {
							propertiesIterator = this.factory.properties
									.getIterator();
							while (propertiesIterator.hasNext()) {
								propertyNode = propertiesIterator.next();
								key = propertyNode.getAttribute("id");
								defaultValue = this.getDefaultFor(key);
								if (defaultValue !== null
										&& this.getStringPropertyWithDefault(
												key, null) === null) {
									this.setStringProperty(key, defaultValue);
								}
							}
						}
					},
					getAdditionalScriptAfterWrapping : function() {
						return this.wrapComponent(this.libraryId, this
								.getName(), this.factory.properties, this.myD);
					},
					wrapComponent : function(libraryId, componentName,
							properties, myD) {
						var javaScriptToExecute = "";
						var ztlClass = sap.firefly.XStringUtils.concatenate3(
								libraryId, ".", myD);
						var propertiesIterator;
						var propertyNode;
						var key;
						var propertyType;
						ztlClass = sap.firefly.XString.replace(ztlClass, ".",
								"_");
						ztlClass = sap.firefly.XString.concatenate2("window.",
								ztlClass);
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, "sap.zen.initSdkControl(");
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, ztlClass);
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, ", ");
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, componentName);
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, ", [");
						if (properties !== null) {
							propertiesIterator = properties.getIterator();
							while (propertiesIterator.hasNext()) {
								propertyNode = propertiesIterator.next();
								key = propertyNode.getAttribute("id");
								propertyType = propertyNode
										.getAttribute("type");
								javaScriptToExecute = sap.firefly.XString
										.concatenate2(javaScriptToExecute,
												"{name: '");
								javaScriptToExecute = sap.firefly.XString
										.concatenate2(javaScriptToExecute, key);
								javaScriptToExecute = sap.firefly.XString
										.concatenate2(javaScriptToExecute,
												"', type: '");
								javaScriptToExecute = sap.firefly.XString
										.concatenate2(javaScriptToExecute,
												propertyType);
								javaScriptToExecute = sap.firefly.XString
										.concatenate2(javaScriptToExecute, "'}");
								if (propertiesIterator.hasNext()) {
									javaScriptToExecute = sap.firefly.XString
											.concatenate2(javaScriptToExecute,
													", ");
								}
							}
						}
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, "]);");
						return javaScriptToExecute;
					},
					initSDKBase : function(factory) {
						this.factory = factory;
					},
					runScript : function(nameOfScript) {
						var children = this.getInitParameters().getChildren(
								"property");
						var valuesAsIterator = children.getIterator();
						var scriptToExecute = "";
						var next;
						var attribute;
						while (valuesAsIterator.hasNext()) {
							next = valuesAsIterator.next();
							attribute = next.getAttribute("name");
							if (sap.firefly.XString.isEqual(attribute,
									nameOfScript)) {
								scriptToExecute = next.getFirstChild("value")
										.getText();
							}
						}
						if (sap.firefly.XString.size(scriptToExecute) > 0) {
							this.getPage().execWithoutRerender(scriptToExecute);
						}
					},
					renderResultSetAsJSONs : function(oRenderManager,
							tProjectionInformation, metaDataBehind) {
						var renderSerializer = oRenderManager
								.getRenderSerializer();
						var selection = "";
						var optionsAsJSON;
						var value;
						if (sap.firefly.XString.size(selection) === 0) {
							selection = "{}";
						}
						optionsAsJSON = "";
						if (tProjectionInformation.size() > 0) {
							optionsAsJSON = tProjectionInformation.get(0)
									.getOptionsAsJSONString();
						}
						value = "sap.zen.Dispatcher.instance.sdkDsRender('";
						value = sap.firefly.XStringUtils.concatenate3(value,
								tProjectionInformation.get(0).getComponentId(),
								"', '");
						value = sap.firefly.XStringUtils
								.concatenate3(value, tProjectionInformation
										.get(0).getPropertyName(), "', '");
						value = sap.firefly.XStringUtils.concatenate3(value,
								this.getName(), "',");
						value = sap.firefly.XStringUtils.concatenate3(value,
								selection, ",");
						value = sap.firefly.XStringUtils.concatenate3(value,
								optionsAsJSON, ")");
						renderSerializer
								.addAttributeAsNotString(tProjectionInformation
										.get(0).getPropertyName(), value);
					},
					handleON_RESULTSETCHANGEDEvent : function() {
						var scriptToExecute;
						this.raiseDataSourceChangedEvent(null, false, true);
						scriptToExecute = this
								.getProperty("ON_RESULTSETCHANGED");
						if ((scriptToExecute !== null)
								&& sap.firefly.XString.size(scriptToExecute) > 0) {
							this.getPage().execWithoutRerender(scriptToExecute);
						}
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var s0;
						var pvtScript0;
						var result_cell_sets;
						var resulsetWasRendered;
						var propertiesIterator;
						var propertyNode;
						var key;
						var propertyType;
						var jsPropertyName;
						var s1;
						var pvtScript;
						var value;
						var bVal;
						var intValue;
						var doubleValue;
						var stringValue;
						renderSerializer.addAttribute("handler_name",
								sap.firefly.XStringUtils.concatenate3(
										this.libraryId, ".", this.myD));
						s0 = sap.firefly.XStringUtils.concatenate2(
								this.getId(),
								".handleON_RESULTSETCHANGEDEvent();");
						pvtScript0 = this.createScriptAction(s0, "");
						renderSerializer.addAttribute("ON_RESULTSETCHANGED",
								pvtScript0);
						renderSerializer.addAttribute("lastCallbackResult", "");
						renderSerializer.addAttribute("filters", "{}");
						renderSerializer.addAttribute("metadata", "{}");
						result_cell_sets = sap.firefly.XList.create();
						resulsetWasRendered = false;
						if (this.factory.properties !== null) {
							propertiesIterator = this.factory.properties
									.getIterator();
							while (propertiesIterator.hasNext()) {
								propertyNode = propertiesIterator.next();
								key = propertyNode.getAttribute("id");
								propertyType = propertyNode
										.getAttribute("type");
								jsPropertyName = key;
								if (sap.firefly.XString.isEqual("ScriptText",
										propertyType)) {
									s1 = sap.firefly.XStringUtils.concatenate4(
											this.getId(), ".runScript('",
											jsPropertyName, "');");
									pvtScript = this.createScriptAction(s1, "");
									renderSerializer.addAttribute(
											jsPropertyName, pvtScript);
								} else {
									value = this.getStringPropertyWithDefault(
											key, "");
									if (sap.firefly.XString.isEqual("Url",
											propertyType)) {
										renderSerializer.addAttribute(
												jsPropertyName, this
														.translateUrl(value));
									} else {
										if (sap.firefly.XString.isEqual(
												"boolean", propertyType)) {
											bVal = this
													.getBooleanPropertyWithDefault(
															key, false);
											renderSerializer
													.addBooleanAttribute(
															jsPropertyName,
															bVal);
										} else {
											if (sap.firefly.XString.isEqual(
													"int", propertyType)) {
												intValue = this
														.getIntPropertyWithDefault(
																key, 0);
												renderSerializer
														.addIntegerAttribute(
																jsPropertyName,
																intValue);
											} else {
												if (sap.firefly.XString
														.isEqual("float",
																propertyType)) {
													doubleValue = this
															.getDoublePropertyWithDefault(
																	key, 0);
													renderSerializer
															.addDoubleAttribute(
																	jsPropertyName,
																	doubleValue);
												} else {
													stringValue = value;
													renderSerializer
															.addAttribute(
																	jsPropertyName,
																	stringValue);
												}
											}
										}
									}
								}
							}
						}
					},
					doSDKPVT : function(obj) {
						var jsonUtil = sap.buddha.XJsonObject.create(obj);
						var asArray = jsonUtil.getArray();
						var i = 0;
						var cnt = asArray.size();
						var j;
						var xJsonObj;
						var name;
						var xJsonObj2;
						var value;
						for (j = 0; j < cnt; j++) {
							xJsonObj = asArray.get(j);
							name = xJsonObj.getString();
							j = j + 1;
							xJsonObj2 = asArray.get(j);
							value = xJsonObj2.getString();
							this.setStringProperty(name, value);
						}
						this.setContentChanged(false);
					},
					getDefaultFor : function(key) {
						var defaultsIterator;
						var defaultEntryNode;
						var forId;
						if (this.factory.defaultValues !== null) {
							defaultsIterator = this.factory.defaultValues
									.getIterator();
							while (defaultsIterator.hasNext()) {
								defaultEntryNode = defaultsIterator.next();
								forId = defaultEntryNode
										.getAttribute("property");
								if (sap.firefly.XString.isEqual(forId, key)) {
									return defaultEntryNode.getText();
								}
							}
						}
						return null;
					},
					stringifySelection : function(selectionJSON) {
						var create = sap.buddha.XJsonObject
								.create(selectionJSON);
						if (create.isString()) {
							return create.getString();
						}
						return create.toString();
					},
					getJavaScriptWrapperName : function() {
						return "PageObject";
					},
					isSDKDataSource : function() {
						return true;
					},
					renderComponentPropertiesAndContent : function(
							renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						renderSerializer.openTag("component");
						renderSerializer.addAttribute("id", this.getPage()
								.getIdForRendering(this.getId()));
						renderSerializer.addAttribute("type", this.getType());
						renderSerializer.openTag("content");
						renderSerializer.openTag("control");
						renderSerializer.addAttribute("type", "sdkdatasource");
						renderSerializer.addAttribute("id", this.getPage()
								.getIdForRendering(this.getId()));
						this.renderControlContent(renderManager);
						renderSerializer.closeTag();
						renderSerializer.closeTag();
						renderSerializer.closeTag();
					}
				});
$Firefly
		.createClass(
				"sap.zen.SelectionControl",
				sap.zen.Component,
				{
					listOfAllItems : null,
					listOfAllSelectedItems : null,
					listOfAllHighlightedItems : null,
					getDefaultWidthAsString : function() {
						return "100";
					},
					getDefaultHeightAsString : function() {
						return "50";
					},
					getTooltip : function() {
						return "";
					},
					create : function() {
						var listOfItems;
						var itemsNode;
						var itemsNodeChildren;
						var valuesAsIterator;
						var selectionItemNode;
						var children;
						var valuesAsIterator2;
						var newItem;
						var next;
						var value;
						var name;
						this.listOfAllSelectedItems = sap.firefly.XList
								.create();
						this.listOfAllHighlightedItems = sap.firefly.XList
								.create();
						listOfItems = sap.firefly.XList.create();
						itemsNode = this.getInitParameters()
								.getFirstChildWithNameTag("ITEMS");
						if (itemsNode !== null) {
							itemsNodeChildren = itemsNode
									.getChildren("property");
							if (itemsNodeChildren !== null) {
								valuesAsIterator = itemsNodeChildren
										.getIterator();
								while (valuesAsIterator.hasNext()) {
									selectionItemNode = valuesAsIterator.next();
									if (selectionItemNode !== null) {
										children = selectionItemNode
												.getChildren("property");
										valuesAsIterator2 = children
												.getIterator();
										newItem = new sap.zen.ListItem();
										while (valuesAsIterator2.hasNext()) {
											next = valuesAsIterator2.next();
											value = next.getAttribute("value");
											name = next.getAttribute("name");
											if (sap.firefly.XString.isEqual(
													"SELECTED", name)) {
												newItem
														.setSelected(sap.firefly.XString
																.isEqual(value,
																		"X"));
											} else {
												if (sap.firefly.XString
														.isEqual("VALUE", name)) {
													newItem.setValue(value);
												} else {
													newItem.setText(value);
												}
											}
										}
										listOfItems.add(newItem);
									}
								}
							}
						}
						this.setItemsInternal(listOfItems);
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var s1;
						var pvtScript;
						var title;
						var allSelectedItemsAsIterator;
						var oneItemOfAllSelectedItems;
						var allItemsAsIterator;
						var oneItemOfAllItems;
						renderSerializer.addAttribute("tooltip", this
								.getTooltip());
						renderSerializer.addBooleanAttribute("enabled", this
								.isEnabled());
						s1 = sap.firefly.XString.concatenate2(this.getId(),
								".setSelection('__arguments__');");
						pvtScript = this.createScriptAction(s1, "__KEYS__");
						renderSerializer.addAttribute("command", pvtScript);
						renderSerializer.openTag("title");
						title = null;
						if (title !== null) {
							renderSerializer.addText(title);
						}
						renderSerializer.closeTag();
						renderSerializer.openArray("selectedItems");
						if (this.listOfAllSelectedItems.size() > 0) {
							allSelectedItemsAsIterator = this.listOfAllSelectedItems
									.getIterator();
							while (allSelectedItemsAsIterator.hasNext()) {
								oneItemOfAllSelectedItems = allSelectedItemsAsIterator
										.next();
								renderSerializer.openTag("key");
								renderSerializer.addAttribute("_v",
										oneItemOfAllSelectedItems.getValue());
								renderSerializer.closeTag();
							}
						}
						renderSerializer.closeArray();
						renderSerializer.openArray("highlightedItems");
						renderSerializer.closeArray();
						renderSerializer.openArray("items");
						if (this.listOfAllItems.size() > 0) {
							allItemsAsIterator = this.listOfAllItems
									.getIterator();
							while (allItemsAsIterator.hasNext()) {
								oneItemOfAllItems = allItemsAsIterator.next();
								renderSerializer.openTag("item");
								renderSerializer.addAttribute("key",
										oneItemOfAllItems.getValue());
								renderSerializer.addAttribute("val_0",
										oneItemOfAllItems.getText());
								renderSerializer.closeTag();
							}
						}
						renderSerializer.closeArray();
					},
					setItemsInternal : function(listOfItems) {
						this.listOfAllItems = listOfItems;
						if (!(this.listOfAllSelectedItems.size() > 0)
								&& listOfItems.size() > 0) {
							this.listOfAllSelectedItems.add(listOfItems.get(0));
						}
					},
					setItems : function(ml) {
						var i = 0;
						var j = i;
						var firstPass;
						var next;
						var newItem;
						this.listOfAllSelectedItems.clear();
						this.listOfAllItems.clear();
						firstPass = true;
						while (ml.hasNext()) {
							next = ml.next();
							newItem = new sap.zen.ListItem();
							if (firstPass) {
								newItem.setSelected(true);
								this.listOfAllSelectedItems.add(newItem);
							}
							newItem.setText(next.getValue());
							newItem.setValue(next.getKey());
							this.listOfAllItems.add(newItem);
							firstPass = false;
						}
						this.setContentChanged(true);
					},
					sort : function() {
						this.sort1(true);
					},
					sort1 : function(sort) {
						if (sort) {
							this.listOfAllItems
									.sortByDirection(sap.firefly.XSortDirection.ASCENDING);
						} else {
							this.listOfAllItems
									.sortByDirection(sap.firefly.XSortDirection.DESCENDING);
						}
						this.setContentChanged(true);
					},
					setSelectedValue : function(value) {
						var index = this.listOfAllItems
								.getIndex(sap.firefly.XStringValue
										.create(value));
						var valuesAsIterator = this.listOfAllItems
								.getIterator();
						var found = false;
						var next;
						while (valuesAsIterator.hasNext() && !found) {
							next = valuesAsIterator.next();
							if (sap.firefly.XString.isEqual(next.value, value)) {
								this.listOfAllSelectedItems.clear();
								this.listOfAllSelectedItems.add(next);
								found = true;
								this.setContentChanged(true);
							}
						}
					},
					getListOfAllSelectedItems : function() {
						return this.listOfAllSelectedItems;
					},
					setListOfAllSelectedItems : function(listOfAllSelectedItems) {
						this.listOfAllSelectedItems = listOfAllSelectedItems;
					},
					getListOfAllHighlightedItems : function() {
						return this.listOfAllHighlightedItems;
					},
					setListOfAllHighlightedItems : function(
							listOfAllHighlightedItems) {
						this.listOfAllHighlightedItems = listOfAllHighlightedItems;
					},
					setSelection : function(selectedKey) {
						this.setSelectedItem(selectedKey);
						this.getPage().execWithoutRerender(this.getOnSelect());
					},
					setSelectedItem : function(selectedKey) {
						var delemiter = "|SeP|";
						var itemByKey;
						var byIndex;
						if (sap.firefly.XString
								.endsWith(selectedKey, delemiter)) {
							selectedKey = sap.firefly.XString.substring(
									selectedKey, 0, sap.firefly.XString
											.size(selectedKey)
											- sap.firefly.XString
													.size(delemiter));
							itemByKey = this.getItemByKey(selectedKey);
							if (this.listOfAllSelectedItems.size() > 0) {
								byIndex = this.listOfAllSelectedItems.get(0);
								byIndex.setSelected(false);
								this.listOfAllSelectedItems.clear();
							}
							if (itemByKey !== null) {
								itemByKey.setSelected(true);
								this.listOfAllSelectedItems.add(itemByKey);
							} else {
								if (this.listOfAllItems.size() > 0) {
									this.listOfAllSelectedItems
											.add(this.listOfAllItems.get(0));
								}
							}
							this.setContentChanged(true);
						}
					},
					getItemByKey : function(key) {
						var valuesAsIterator = this.listOfAllItems
								.getIterator();
						var next;
						while (valuesAsIterator.hasNext()) {
							next = valuesAsIterator.next();
							if (sap.firefly.XString.isEqual(next.getValue(),
									key)) {
								return next;
							}
						}
						return null;
					},
					getSelectedText : function() {
						var byIndex;
						if (this.listOfAllSelectedItems.size() > 0) {
							byIndex = this.listOfAllSelectedItems.get(0);
							return byIndex.getText();
						} else {
							return "";
						}
					},
					getSelectedValue : function() {
						var byIndex;
						if (this.listOfAllSelectedItems.size() > 0) {
							byIndex = this.listOfAllSelectedItems.get(0);
							return byIndex.getValue();
						} else {
							return "";
						}
					},
					setOnSelect : function(text) {
						this.setStringProperty("ON_SELECT", text);
					},
					setEnabled : function(enabled) {
						this.setBooleanProperty("ENABLED", enabled);
					},
					isEnabled : function() {
						return this.getBooleanPropertyWithDefault("ENABLED",
								true);
					},
					getOnSelect : function() {
						return this.getStringPropertyWithDefault("ON_SELECT",
								"");
					},
					startInitialize : function() {
						this.listOfAllItems = sap.firefly.XList.create();
						this.listOfAllSelectedItems = sap.firefly.XList
								.create();
						this.listOfAllHighlightedItems = sap.firefly.XList
								.create();
						this.setContentChanged(true);
					},
					onSelect : function() {
						var onSelect = this.getOnSelect();
						if (sap.firefly.XString.size(onSelect) > 0) {
							this.getPage().execWithoutRerender(onSelect);
						}
					},
					addSelection : function(text, value, selected) {
						var newItem = new sap.zen.ListItem();
						newItem.setText(text);
						newItem.setValue(value);
						newItem.setSelected(selected);
						this.listOfAllItems.add(newItem);
						if (selected) {
							this.listOfAllSelectedItems.add(newItem);
						}
					},
					addItem : function(value, text) {
						this.addItem3(value, text, -1);
					},
					addItem3 : function(value, text, index) {
						var newItem = new sap.zen.ListItem();
						newItem.setText(text);
						newItem.setValue(value);
						newItem.setSelected(false);
						if (index < 0 || index >= this.listOfAllItems.size()) {
							this.listOfAllItems.add(newItem);
						} else {
							this.listOfAllItems.insert(index, newItem);
						}
						if (this.listOfAllItems.size() === 1) {
							this.listOfAllSelectedItems.add(newItem);
						}
						this.setContentChanged(true);
					},
					removeItem : function(value) {
						var valuesAsIterator = this.listOfAllItems
								.getIterator();
						var found = false;
						var i = 0;
						var selectedWasRemoved = false;
						var next;
						var secondFound;
						var next2;
						var ixObject;
						while (valuesAsIterator.hasNext() && !found) {
							next = valuesAsIterator.next();
							if (sap.firefly.XString.isEqual(next.getValue(),
									value)) {
								this.listOfAllItems.removeAt(i);
								found = true;
								if (!this.getBooleanPropertyWithDefault(
										"MULTI_SELECTION", false)) {
									selectedWasRemoved = next.isSelected();
								}
							}
							i++;
						}
						if (found) {
							secondFound = false;
							valuesAsIterator = this.listOfAllSelectedItems
									.getIterator();
							i = 0;
							while (valuesAsIterator.hasNext() && !secondFound) {
								next2 = valuesAsIterator.next();
								if (sap.firefly.XString.isEqual(next2
										.getValue(), value)) {
									this.listOfAllSelectedItems.removeAt(i);
									secondFound = true;
								}
								i++;
							}
						}
						if (found
								&& !this.getBooleanPropertyWithDefault(
										"MULTI_SELECTION", false)
								&& selectedWasRemoved) {
							if (this.listOfAllItems.size() > 0) {
								ixObject = this.listOfAllItems.get(0);
								this.listOfAllSelectedItems.add(ixObject);
							}
						}
						this.setContentChanged(true);
					},
					removeAllItems : function() {
						this.listOfAllItems.clear();
						this.listOfAllSelectedItems.clear();
						this.listOfAllHighlightedItems.clear();
						this.setContentChanged(true);
					}
				});
$Firefly.createClass("sap.zen.SliderControl", sap.zen.Component, {
	ml : null,
	selectedValue : null,
	create : function() {
		var uid = sap.firefly.XString.concatenate2(this.getName(), "b");
		this.initControl(uid, "slider");
	},
	setOnSelect : function(text) {
		this.setStringProperty("ON_SELECT", text);
	},
	getOnSelect : function() {
		return this.getStringPropertyWithDefault("ON_SELECT", "");
	},
	renderControlContent : function(renderManager) {
		var renderSerializer = renderManager.getRenderSerializer();
		var s1 = sap.firefly.XString.concatenate2(this.getId(),
				".setSelectedValue('__arguments__');");
		var pvtScript = this.createScriptAction(s1, "__XXX___");
		renderSerializer.addAttribute("onSelect", pvtScript);
		renderSerializer.addAttribute("min", this.getMin());
		renderSerializer.addAttribute("max", this.getMax());
	},
	getMax : function() {
		return this.getStringPropertyWithDefault("MIN", "");
	},
	getMin : function() {
		return this.getStringPropertyWithDefault("MAX", "");
	},
	setSelectedValue : function(value) {
		this.selectedValue = value;
		this.getPage().execWithoutRerender(this.getOnSelect());
	},
	getSelectedValue : function() {
		return this.selectedValue;
	},
	setMin : function(min) {
		this.setStringProperty("MIN", min);
	},
	setMax : function(max) {
		this.setStringProperty("MAX", max);
	}
});
$Firefly
		.createClass(
				"sap.zen.TextfieldControl",
				sap.zen.Component,
				{
					$statics : {
						COMPONENT_TYPE : "TEXT_COMPONENT",
						CONTROL_TYPE : "textfield",
						UID_SUFFIX : "_tf1",
						HANDLER_MODULE : "zen.rt.components.textfield/resources/js/textfield_handler"
					},
					create : function() {
						var uid = sap.firefly.XString
								.concatenate2(this.getName(),
										sap.zen.TextfieldControl.UID_SUFFIX);
						this.getPage().addRequireModule(
								sap.zen.TextfieldControl.HANDLER_MODULE);
						this.initControl(uid,
								sap.zen.TextfieldControl.CONTROL_TYPE);
					},
					getDefaultWidthAsString : function() {
						return "80";
					},
					getDefaultHeightAsString : function() {
						return "30";
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer = renderManager
								.getRenderSerializer();
						var lScript;
						var lDataTypeName;
						var lDataType;
						loRenderSerializer.addAttribute("tooltip", this
								.getStringPropertyWithDefault("TOOLTIP", ""));
						loRenderSerializer.addAttribute("style", this
								.getStyle());
						loRenderSerializer.addAttribute("cssStyle", this
								.getCss());
						lScript = this.getOnClick();
						if (sap.firefly.XString.size(lScript) > 0) {
							lScript = this.createMethodCallScript("onClick");
						}
						loRenderSerializer.addAttribute("onclick", lScript);
						loRenderSerializer.openTag("text");
						loRenderSerializer.addAttribute("_v", this.getText());
						lDataTypeName = this.getDataType();
						lDataType = sap.zen.DataType.valueOf2(lDataTypeName);
						if (lDataType !== sap.zen.DataType.STANDARD) {
							loRenderSerializer.addAttribute("dataType", this
									.getDataType());
							loRenderSerializer.addBooleanAttribute("UTC", this
									.getUTC());
						}
						loRenderSerializer.closeTag();
					},
					getText : function() {
						return this.getStringPropertyWithDefault("TEXT", "");
					},
					setText : function(text) {
						this.setStringProperty("TEXT", text);
					},
					getDataType : function() {
						var lDataTypeName = this.getStringPropertyWithDefault(
								"DATA_TYPE", sap.zen.DataType.STANDARD
										.getValue());
						var lDataType = sap.zen.DataType
								.valueOf2(lDataTypeName);
						if (lDataType === null) {
							return null;
						}
						return lDataType.getValue();
					},
					setDataType : function(dataType) {
						var lDataType = sap.zen.DataType.valueOf2(dataType);
						if (lDataType === null) {
							return;
						}
						this.setStringProperty("DATA_TYPE", lDataType
								.getValue());
					},
					getUTC : function() {
						return this.getBooleanPropertyWithDefault("UTC", false);
					},
					setUTC : function(isUTC) {
						this.setBooleanProperty("UTC", isUTC);
					},
					getCss : function() {
						return this.getStringPropertyWithDefault("CSS_STYLE",
								"");
					},
					setCss : function(cssStyle) {
						cssStyle = sap.firefly.XString.replace(cssStyle, "\r",
								"");
						cssStyle = sap.firefly.XString.replace(cssStyle, "\n",
								"");
						this.setStringProperty("CSS_STYLE", cssStyle);
					},
					getStyle : function() {
						return this.getStringPropertyWithDefault("STYLE",
								"STANDARD");
					},
					setStyle : function(style) {
						this.setStringProperty("STYLE", style);
					},
					setTooltip : function(tooltip) {
						this.setStringProperty("TOOLTIP", tooltip);
					},
					getTooltip : function() {
						return this.getStringPropertyWithDefault("TOOLTIP", "");
					},
					setOnClick : function(text) {
						this.setStringProperty("ON_CLICK", text);
					},
					getOnClick : function() {
						var text = this.getProperty("ON_CLICK");
						if (text !== null) {
							return text;
						}
						return "";
					},
					onClick : function() {
						var onClick = this.getOnClick();
						if (sap.firefly.XString.size(onClick) > 0) {
							this.getPage().execWithoutRerender(onClick);
						}
					}
				});
$Firefly.createClass("sap.zen.TextPoolControl", sap.zen.Component, {
	entries : null,
	renderControlContent : function(renderManager) {
	},
	create : function() {
	},
	createWithArgs : function(objectProperties) {
		var entriesNode;
		var nodes;
		var i;
		var entry;
		var keyNode;
		var key;
		var valNode;
		var value;
		this.entries = sap.firefly.XHashMapOfStringByString.create();
		entriesNode = objectProperties.getFirstChildWithAttributeValue(
				"bi:property", "name", "TEXT_POOL_ENTRIES", false);
		nodes = entriesNode.getChildren("property");
		for (i = 0; i < nodes.size(); i++) {
			entry = nodes.get(i);
			keyNode = entry.getFirstChildWithAttributeValue("bi:property",
					"name", "KEY", true);
			key = keyNode.getAttribute("value");
			valNode = entry.getFirstChildWithAttributeValue("bi:property",
					"name", "TEXT", true);
			value = valNode.getAttribute("value");
			this.entries.put(key, value);
		}
	},
	getFieldNames : function() {
		var copy = sap.firefly.XList.create();
		var keysAsIteratorOfString = this.entries.getKeysAsIteratorOfString();
		while (keysAsIteratorOfString.hasNext()) {
			copy.add(sap.firefly.XStringValue.create(keysAsIteratorOfString
					.next()));
		}
		return this.getPage().getWindow().createJSArray(copy);
	},
	getPropertyValue : function(key) {
		var fullkey = sap.firefly.XStringUtils.concatenate3(this.getName(),
				".", key);
		var translatedText = this.getPage().getTranslatedText(fullkey);
		if (translatedText === null) {
			translatedText = this.entries.getByKey(key);
		}
		return translatedText;
	},
	getJavaScriptWrapperName : function() {
		return "TextPool";
	},
	isVisible : function() {
		return false;
	},
	shouldRender : function() {
		return false;
	}
});
$Firefly
		.createClass(
				"sap.zen.GlobalScriptsControl",
				sap.zen.Component,
				{
					create : function() {
						var name;
						var script;
						var functionsNode;
						var functionNodes;
						var i;
						var functionNode;
						var nameNode;
						var functionName;
						var returnTypeNode;
						var functionBodyNode;
						var valueNode;
						var script2;
						var inputParametersNode;
						var inputParameterNodes;
						var j;
						var inputParameterNode;
						var parameterNameNode;
						var parameterName;
						var parameterTypeNode;
						if (this.getInitParameters() !== null) {
							name = this.getId();
							script = "new function(){";
							functionsNode = this.getInitParameters()
									.getFirstChildWithNameTag("FUNCTIONS");
							if (functionsNode !== null) {
								functionNodes = functionsNode
										.getChildren("property");
								for (i = 0; i < functionNodes.size(); i++) {
									functionNode = functionNodes.get(i);
									if (functionNode !== null) {
										nameNode = functionNode
												.getFirstChildWithNameTag("NAME");
										functionName = nameNode
												.getAttribute("value");
										script = sap.firefly.XStringUtils
												.concatenate4(script, "this.",
														functionName,
														" = function(");
										returnTypeNode = functionNode
												.getFirstChildWithNameTag("RETURN_TYPE");
										functionBodyNode = functionNode
												.getFirstChildWithNameTag("FUNCTION_BODY");
										valueNode = functionBodyNode
												.getFirstChild("value");
										script2 = valueNode.getText();
										inputParametersNode = functionNode
												.getFirstChildWithNameTag("INPUT_PARAMETERS");
										if (inputParametersNode !== null) {
											inputParameterNodes = inputParametersNode
													.getChildren("property");
											for (j = 0; j < inputParameterNodes
													.size(); j++) {
												if (j > 0) {
													script = sap.firefly.XStringUtils
															.concatenate2(
																	script, ",");
												}
												inputParameterNode = inputParameterNodes
														.get(j);
												parameterNameNode = inputParameterNode
														.getFirstChildWithNameTag("NAME");
												parameterName = parameterNameNode
														.getAttribute("value");
												parameterTypeNode = inputParameterNode
														.getFirstChildWithNameTag("PARAMETER_TYPE");
												script = sap.firefly.XStringUtils
														.concatenate2(script,
																parameterName);
											}
										}
										script = sap.firefly.XStringUtils
												.concatenate2(script, "){");
										script = sap.firefly.XStringUtils
												.concatenate2(script, script2);
										script = sap.firefly.XStringUtils
												.concatenate2(script, "\n};");
									}
								}
							}
							script = sap.firefly.XStringUtils.concatenate2(
									script, "};");
							this.getPage().getWindow()
									.putGlobalScriptInContext(name, script);
						}
					},
					renderControlContent : function(renderManager) {
					},
					addToContainerChildren : function() {
						return false;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ContainerComponent",
				sap.zen.Component,
				{
					tChildren : null,
					tChildNames : null,
					create : function() {
						this.createChildren();
					},
					createChildren : function() {
						var loRootNode;
						var ltComponentNodes;
						var loComponentNodeIterator;
						var loComponentNode;
						var loComponent;
						this.tChildren = sap.firefly.XList.create();
						loRootNode = this.getInitParameters();
						if (loRootNode === null) {
							return;
						}
						ltComponentNodes = loRootNode.getChildren("component");
						loComponentNodeIterator = ltComponentNodes
								.getIterator();
						while (loComponentNodeIterator.hasNext()) {
							loComponentNode = loComponentNodeIterator.next();
							loComponent = this.getPage().createComponentObject(
									loComponentNode, this);
							if ((loComponent !== null)
									&& (loComponent.addToContainerChildren())) {
								this.tChildren.add(loComponent);
							}
						}
					},
					createChildrenRegardingChildItemRefList : function() {
						var lChildNameIndex;
						var lComponentName;
						var loComponent;
						if (this.tChildNames !== null) {
							this.tChildren = sap.firefly.XList.create();
							for (lChildNameIndex = 0; lChildNameIndex < this.tChildNames
									.size(); lChildNameIndex++) {
								lComponentName = this.tChildNames
										.get(lChildNameIndex);
								loComponent = this.getPage().getComponent(
										lComponentName);
								if ((loComponent !== null)
										&& (loComponent
												.addToContainerChildren())) {
									loComponent.setParent(this);
									this.tChildren.add(loComponent);
								}
							}
							this.tChildNames = null;
						}
					},
					setContentChangedRecursive : function() {
						var lChildIndex;
						var loComponent;
						this.setContentChanged(true);
						if (this.tChildren !== null) {
							for (lChildIndex = 0; lChildIndex < this.tChildren
									.size(); lChildIndex++) {
								loComponent = this.tChildren.get(lChildIndex);
								loComponent.setContentChangedRecursive();
							}
						}
					},
					renderChildren : function(renderManager) {
						var lChildIndex;
						var loComponent;
						if (!this.isVisible()) {
							return;
						}
						this.createChildrenRegardingChildItemRefList();
						for (lChildIndex = 0; lChildIndex < this.tChildren
								.size(); lChildIndex++) {
							loComponent = this.tChildren.get(lChildIndex);
							if (loComponent.isVisible()
									|| loComponent.renderEvenIfNotVisible()) {
								if (this.isContentChanged()) {
									if (loComponent.hasChildrenContentChanged()) {
										loComponent.setContentChanged(true);
									} else {
										loComponent
												.setRenderOnlyPlaceholder(true);
									}
								}
								loComponent
										.renderComponentInternal(renderManager);
							}
						}
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer = renderManager
								.getRenderSerializer();
						loRenderSerializer.openArray("content");
						if (this.isRenderEmptyContent() === false) {
							this.createChildrenRegardingChildItemRefList();
							this.renderChildren(renderManager);
						}
						loRenderSerializer.closeArray();
					},
					setChildren : function(tChildren) {
						this.tChildren = tChildren;
					},
					getChildren : function() {
						return this.tChildren;
					},
					addChild : function(oComponent) {
						if (oComponent === null) {
							return;
						}
						if (!this.tChildren.contains(oComponent)) {
							this.tChildren.add(oComponent);
						}
						oComponent.setContentChanged(true);
						this.setContentChanged(true);
					},
					removeChild : function(oComponent) {
						if (oComponent === null) {
							return;
						}
						this.tChildren.removeElement(oComponent);
						this.setContentChanged(true);
					},
					isContainer : function() {
						return true;
					},
					isSmartLayout : function() {
						return false;
					},
					removeChildItemRefs : function() {
						this.tChildNames = sap.firefly.XListOfString.create();
						this.setContentChanged(true);
					},
					addChildItemRef : function(child) {
						var loComponent;
						var loParentComponent;
						this.tChildNames.add(child);
						this.setContentChanged(true);
						loComponent = this.getPage().getComponent(child);
						if (loComponent === null) {
							return;
						}
						loParentComponent = loComponent.getParent();
						if (loParentComponent === null) {
							return;
						}
						if (loParentComponent !== this) {
							loParentComponent.setContentChanged(true);
							loComponent.setContentChanged(true);
						}
					},
					getUsedDataSourcesByDummyRendering : function(list) {
						var lChildIndex;
						var loComponent;
						if (this.isRenderEmptyContent()) {
							return;
						}
						this.createChildrenRegardingChildItemRefList();
						for (lChildIndex = 0; lChildIndex < this.tChildren
								.size(); lChildIndex++) {
							loComponent = this.tChildren.get(lChildIndex);
							if (loComponent === null) {
								continue;
							}
							if (loComponent.isVisible()
									|| loComponent.renderEvenIfNotVisible()) {
								if (this.isContentChanged()) {
									if (!(loComponent
											.hasChildrenContentChanged() || loComponent
											.isContentChanged())) {
										continue;
									}
								}
								loComponent
										.getUsedDataSourcesByDummyRendering(list);
							}
						}
					},
					moveComponentToParent : function(object) {
						var loWindow = this.getPage().getWindow();
						var loPageObject = null;
						var loComponent;
						try {
							loPageObject = loWindow.getPageObject(object);
						} catch (t) {
							sap.zen.CLocalizationAbsoluteLayoutMessages.COMPONENT_UNEXPECTED_ARGUMENT
									.addMessageToMessageHandler(this.getPage(),
											sap.firefly.Severity.ERROR, null,
											null, null);
							return;
						}
						if (loPageObject === null) {
							return;
						}
						loComponent = loPageObject;
						if (loComponent.isTechnical()) {
							sap.zen.CLocalizationAbsoluteLayoutMessages.COMPONENT_CANT_CHANGE_PARENT
									.addMessageToMessageHandler(this.getPage(),
											sap.firefly.Severity.WARNING, null,
											null, null);
							return;
						}
						if (loComponent.isContainer()) {
							sap.zen.CLocalizationAbsoluteLayoutMessages.COMPONENT_CANT_ADD
									.addMessageToMessageHandler(this.getPage(),
											sap.firefly.Severity.WARNING,
											loComponent.getName(), this
													.getName(), null);
							return;
						}
						loComponent.moveToParent(this);
					},
					releaseObject : function() {
						var loChildComponent = null;
						var lChildIndex = 0;
						var lChildComponentName;
						if (this.tChildren !== null) {
							for (lChildIndex = 0; lChildIndex < this.tChildren
									.size(); lChildIndex++) {
								loChildComponent = this.tChildren
										.get(lChildIndex);
								if (loChildComponent !== null) {
									loChildComponent.releaseObject();
								}
							}
							this.tChildren = null;
						}
						if (this.tChildNames !== null) {
							for (lChildIndex = 0; lChildIndex < this.tChildNames
									.size(); lChildIndex++) {
								lChildComponentName = this.tChildNames
										.get(lChildIndex);
								if (lChildComponentName !== null) {
									loChildComponent = this.getPage()
											.getComponent(lChildComponentName);
									loChildComponent.releaseObject();
								}
							}
							this.tChildNames = null;
						}
						sap.zen.ContainerComponent.$superclass.releaseObject
								.call(this);
					}
				});
$Firefly
		.createClass(
				"sap.zen.DataProviderReferenceComponent",
				sap.zen.Component,
				{
					oDataSource : null,
					ignoreEmptyDataSource : false,
					create : function() {
						var dataSourceNode;
						var ds;
						var ds2;
						var errors;
						var i;
						var error;
						if (this.getInitParameters() !== null) {
							dataSourceNode = this.getInitParameters()
									.getFirstChildWithNameTag(
											"DATA_SOURCE_ALIAS_REF");
							if (dataSourceNode !== null) {
								ds = dataSourceNode.getAttribute("value");
								if (ds !== null) {
									this.oDataSource = this.getPage()
											.getDataSource(ds);
								}
							}
							if (this.oDataSource === null) {
								dataSourceNode = this.getInitParameters()
										.getFirstChildWithNameTag(
												"PLANNING_OBJECT");
								if (dataSourceNode !== null) {
									ds2 = dataSourceNode.getAttribute("value");
									if (ds2 !== null) {
										this.oDataSource = this.getPage()
												.getPlanningObject(ds2);
									}
								}
							}
						}
						if (this.oDataSource === null) {
							if (!this.doIgnoreEmptyDataSource()) {
								this.createAssignDataSourceItemMessage("");
							}
						} else {
							errors = this.oDataSource.getErrors();
							if (errors !== null) {
								this
										.createCouldNotInstatiateDataSourceItemMessage("");
								for (i = 0; i < errors.size(); i++) {
									error = errors.get(i);
									this.getPage().createMessage(error);
								}
							}
							if (this.doRegisterForDataSourceChanges()) {
								this.oDataSource
										.addDataSourceChangeListener(this);
							}
							this.oDataSource
									.addResultSetConfigurationProvider(this);
						}
					},
					initBase : function(uid, type, page, parent, initParameter) {
						sap.zen.DataProviderReferenceComponent.$superclass.initBase
								.call(this, uid, type, page, parent,
										initParameter);
						this.ignoreEmptyDataSource = false;
					},
					handleDataSourceChanged : function(oDataSource, oCause,
							metaData, resultData) {
						if (this.getDataSource() !== oDataSource) {
							return;
						}
						this.setContentChanged(true);
					},
					provideResultSetConfiguration : function() {
						if (!this.isVisibleRecursive()) {
							return null;
						}
						return this.doProvideResultSetConfiguration();
					},
					doProvideResultSetConfiguration : function() {
						return null;
					},
					getDataSource : function() {
						return this.oDataSource;
					},
					setDataSource : function(oDataSource) {
						this.oDataSource = oDataSource;
						if (this.doRegisterForDataSourceChanges()) {
							this.oDataSource.addDataSourceChangeListener(this);
						}
						this.setContentChanged(true);
					},
					doIgnoreEmptyDataSource : function() {
						return this.ignoreEmptyDataSource;
					},
					setIgnoreEmptyDataSource : function(ignoreEmptyDataSource) {
						this.ignoreEmptyDataSource = ignoreEmptyDataSource;
					},
					doRegisterForDataSourceChanges : function() {
						return true;
					},
					renderComponentInternal : function(renderManager) {
						if (!this.doIgnoreEmptyDataSource()) {
							if (this.oDataSource === null) {
								this.createAssignDataSourceItemMessage("");
							}
						}
						sap.zen.DataProviderReferenceComponent.$superclass.renderComponentInternal
								.call(this, renderManager);
					},
					createCouldNotInstatiateDataSourceItemMessage : function(
							dataSourceName) {
						sap.zen.CLocalizationDataSourceMessages.DATASRC_ERR_SHORT
								.addMessageToComponent(this,
										sap.firefly.Severity.WARNING, null,
										null, null);
					},
					createAssignDataSourceItemMessage : function(dataSourceName) {
						sap.zen.CLocalizationDataSourceMessages.ASSIGN_DATASOURCE
								.addMessageToComponent(this,
										sap.firefly.Severity.WARNING, null,
										null, null);
					},
					isAsynchronousRenderable : function() {
						return true;
					},
					getDescriptionOrKey : function(oTupleElement) {
						var loDimension = oTupleElement.getDimension();
						var loInternalDimension = loDimension
								.getInternalObject();
						var loDimensionMember = oTupleElement
								.getDimensionMember();
						var loInternalDimensionMember = loDimensionMember
								.getInternalObject();
						var loTextField;
						var loFieldValue;
						var lValue;
						if (!loDimensionMember.isTotal()) {
							loTextField = loInternalDimension.getTextField();
							if (loTextField !== null) {
								loFieldValue = loInternalDimensionMember
										.getFieldValue(loTextField);
								if (loFieldValue !== null) {
									lValue = loFieldValue.getFormattedValue();
									if (lValue !== null) {
										return lValue;
									}
								}
							}
						}
						return loDimensionMember.getFormattedValue();
					},
					getKey : function(oTupleElement) {
						var value = "";
						var loDimension = oTupleElement.getDimension();
						var loInternalDimension = loDimension
								.getInternalObject();
						var loDimensionMember = oTupleElement
								.getDimensionMember();
						var loInternalDimensionMember = loDimensionMember
								.getInternalObject();
						var lTextField;
						var lFieldValue;
						if (!loDimensionMember.isTotal()) {
							lTextField = loInternalDimension.getKeyField();
							if (lTextField !== null) {
								lFieldValue = loInternalDimensionMember
										.getFieldValue(lTextField);
								if (lFieldValue !== null) {
									value = lFieldValue.getFormattedValue();
									if (value !== null) {
										return value;
									}
								}
							}
						}
						value = loDimensionMember.getFormattedValue();
						return value;
					},
					getUsedDataSourcesByDummyRendering : function(list) {
						list.add(this.oDataSource);
					}
				});
$Firefly
		.createClass(
				"sap.zen.ZPlanningObject",
				sap.zen.PageObject,
				{
					syncState : null,
					tListeners : null,
					tErrors : null,
					tResultSetConfigProviders : null,
					planningCommand : null,
					create : function() {
						this.tErrors = sap.firefly.XList.create();
					},
					getInfo : function() {
						var loDataSourceInfo = sap.zen.DataSourceInfo
								.create(this);
						return loDataSourceInfo;
					},
					getInfoProviderTechnicalName : function() {
						return sap.zen.DataSourceInfo
								.sGetInfoProviderTechnicalName(this);
					},
					getInfoProviderDescription : function() {
						return sap.zen.DataSourceInfo
								.sGetInfoProviderDescription(this);
					},
					getQueryTechnicalName : function() {
						return sap.zen.DataSourceInfo
								.sGetQueryTechnicalName(this);
					},
					getQueryDescription : function() {
						return sap.zen.DataSourceInfo
								.sGetQueryDescription(this);
					},
					isInitialized : function() {
						return false;
					},
					triggerRefresh : function(oListener, oBaggage) {
						var loActionResult;
						var loAction;
						var loPaging;
						var loAxisPaging;
						var loResponse;
						if (this.syncState === sap.firefly.SyncState.PROCESSING) {
							return null;
						}
						this.syncState = sap.firefly.SyncState.PROCESSING;
						loActionResult = sap.zen.ActionResponse
								.createActionResponse();
						if (this.isInitialized() && this.isDataSourceChanged()) {
							loAction = sap.zen.ActionDataSourceRefresh.create(
									this, loActionResult, oBaggage);
							loAction.addListener(oListener);
							loPaging = this.getResultSet().getServerPaging();
							loAxisPaging = null;
							loAxisPaging = loPaging
									.getAxisPaging(sap.firefly.AxisType.ROWS);
							loAxisPaging.setMinSize(this
									.getRequiredSizeForAxis(loAxisPaging
											.getAxis()));
							loAxisPaging.setMaxSize(this.getPage()
									.getDataLimitRows());
							loAxisPaging
									.setPagingMode(
											sap.zen.CResultSetPagingMode.RESPECT_MIN_SIZE
													.getBinaryValue()
													+ sap.zen.CResultSetPagingMode.RESPECT_MAX_SIZE
															.getBinaryValue(),
											sap.zen.ResultSetAxisPaging.OFFSET_DEFAULT,
											sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
							loAxisPaging = loPaging
									.getAxisPaging(sap.firefly.AxisType.COLUMNS);
							loAxisPaging.setMinSize(this
									.getRequiredSizeForAxis(loAxisPaging
											.getAxis()));
							loAxisPaging.setMaxSize(this.getPage()
									.getDataLimitCols());
							loAxisPaging
									.setPagingMode(
											sap.zen.CResultSetPagingMode.RESPECT_MIN_SIZE
													.getBinaryValue()
													+ sap.zen.CResultSetPagingMode.RESPECT_MAX_SIZE
															.getBinaryValue(),
											sap.zen.ResultSetAxisPaging.OFFSET_DEFAULT,
											sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
							loResponse = (this.getResultSet()).synchronize(
									this, loAction, this.getPage()
											.isAsynchronousEnabled());
							if (loResponse !== null) {
								loActionResult.actionPerformed = loResponse
										.actionWasPerformed();
								loActionResult.addAllMessages(loResponse);
							}
						}
						if (!loActionResult.actionWasPerformed()) {
							this.syncState = sap.firefly.SyncState.IN_SYNC;
						}
						return loActionResult;
					},
					handleResultSetSynchronized : function(oContext, oResponse,
							oBaggage) {
						var loAction;
						this.syncState = sap.firefly.SyncState.IN_SYNC;
						loAction = oBaggage;
						loAction.callListeners();
					},
					raiseDataSourceChangedEvent : function(oCause, metaData,
							resultData) {
						var ltListeners = this
								.getListenersForListenerType("IActionListenerDataSourceChanged");
						var lListenerIndex;
						var loListener;
						if (ltListeners !== null) {
							for (lListenerIndex = 0; lListenerIndex < ltListeners
									.size(); lListenerIndex++) {
								loListener = ltListeners.get(lListenerIndex);
								loListener.handleDataSourceChanged(this,
										oCause, metaData, resultData);
							}
						}
					},
					addDataSourceChangeListener : function(oListener) {
						var ltListeners;
						if (oListener === null) {
							return;
						}
						ltListeners = this
								.getListenersForListenerType("IActionListenerDataSourceChanged");
						if (ltListeners.contains(oListener)) {
							return;
						}
						ltListeners.add(oListener);
					},
					removeDataSourceChangeListener : function(oListener) {
						var ltListeners;
						if (oListener === null) {
							return;
						}
						if (this.tListeners === null) {
							return;
						}
						ltListeners = this
								.getListenersForListenerType("IActionListenerDataSourceChanged");
						if (ltListeners.isEmpty()) {
							return;
						}
						ltListeners.removeElement(oListener);
					},
					getListenersForListenerType : function(listenerType) {
						var ltListeners;
						if (this.tListeners === null) {
							this.tListeners = sap.firefly.XHashMapByString
									.create();
						}
						ltListeners = this.tListeners.getByKey(listenerType);
						if (ltListeners === null) {
							ltListeners = sap.firefly.XList.create();
							this.tListeners.put(listenerType, ltListeners);
						}
						return ltListeners;
					},
					createPlanningCommand : function(planningFunctionName) {
					},
					ensurePlanningCommandCreated : function() {
						if (this.planningCommand === null) {
							this.createPlanningCommand(this
									.getStringPropertyWithDefault(
											"OBJECT_NAME", ""));
						}
					},
					execute : function() {
						var extCommandResult;
						this.ensurePlanningCommandCreated();
						this.getPage().recalculate();
						if (!this.submitVariables()) {
							return false;
						}
						extCommandResult = this.planningCommand.processCommand(
								sap.firefly.SyncType.BLOCKING, null, null);
						this.getPage().getMessageManager().createMessages(
								extCommandResult);
						this.raiseDataSourceChangedEvent(null, false, true);
						this.getPage().setDataChanged();
						return !extCommandResult.hasErrors();
					},
					submitVariables : function() {
						var variableProcessor;
						var submitVariables;
						this.ensurePlanningCommandCreated();
						variableProcessor = this.getVariableProcessor();
						if ((variableProcessor !== null)
								&& (!variableProcessor.isSubmitted())
								&& (variableProcessor.hasVariables())) {
							submitVariables = sap.zen.VariablesUtils
									.submitOrCheckVariableProcessor(variableProcessor);
							this.getPage().getMessageManager().createMessages(
									submitVariables);
							if (submitVariables.hasErrors()) {
								return false;
							}
						}
						return true;
					},
					copyFilters : function(ds, copyMeasures) {
						this.ensurePlanningCommandCreated();
						sap.zen.DataSourceScriptApiUtils.copyFilters(this, ds,
								copyMeasures, this.getPage());
					},
					setFilter : function(dimensionName, obj) {
						var loDimension;
						this.ensurePlanningCommandCreated();
						loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.setFilter(obj, false, true);
					},
					setVariableValue : function(variableName, variableValue) {
						this.ensurePlanningCommandCreated();
						sap.zen.DataSourceScriptApiUtils.setVariableValue(this
								.getVariableProcessor(), variableName,
								variableValue, this.getPage(), false, false);
					},
					setVariableValueRange : function(variableName,
							variableValueLow, variableValueHigh) {
						this.ensurePlanningCommandCreated();
						sap.zen.DataSourceScriptApiUtils.setVariableValueRange(
								this.getVariableProcessor(), variableName,
								variableValueLow, variableValueHigh, this
										.getPage(), false);
					},
					setVariableValueExt : function(variableName, variableValue) {
						this.ensurePlanningCommandCreated();
						sap.zen.DataSourceScriptApiUtils.setVariableValue(this
								.getVariableProcessor(), variableName,
								variableValue, this.getPage(), false, true);
					},
					copyVariableValue : function(dataSource, variableFrom,
							variableTo) {
						this.ensurePlanningCommandCreated();
						if (variableTo !== null) {
							sap.zen.DataSourceScriptApiUtils.copyVariableValue(
									this, dataSource, variableTo, variableFrom,
									this.getPage());
						} else {
							sap.zen.DataSourceScriptApiUtils.copyVariableValue(
									this, dataSource, variableFrom,
									variableFrom, this.getPage());
						}
					},
					getVariableValueExt : function(variableName) {
						this.ensurePlanningCommandCreated();
						return this.getVariableValueText(variableName);
					},
					getVariableValueText : function(variableName) {
						this.ensurePlanningCommandCreated();
						return sap.zen.DataSourceScriptApiUtils
								.getVariableValue(
										this.getVariableProcessor(),
										variableName,
										this.getPage(),
										sap.zen.DataSourceScriptApiUtils.VALUE_TYPE_INT);
					},
					getVariables : function() {
						this.ensurePlanningCommandCreated();
						return sap.zen.DataSourceScriptApiUtils.getVariables(
								this.getVariableProcessor(), this.getPage()
										.getWindow());
					},
					getFilterExt : function(dimensionName) {
						this.ensurePlanningCommandCreated();
						this.addNotImplementedFunctionMessage("getFilterExt");
						return "";
					},
					setFilterExt : function(dimensionName, inputStringOrMember) {
						this.ensurePlanningCommandCreated();
						this.addNotImplementedFunctionMessage("setFilterExt");
					},
					clearAllFilters : function() {
						this.ensurePlanningCommandCreated();
						sap.zen.DataSourceScriptApiUtils.clearAllFilters(this
								.getSelector(), this);
					},
					clearFilter : function(dimensionName) {
						this.ensurePlanningCommandCreated();
						sap.zen.DataSourceScriptApiUtils.clearFilter(this
								.getSelector(), dimensionName, this, this
								.getPage());
					},
					getMemberList : function(dimension, keyPres, memDisp,
							maxNumber, allMemberText) {
						this.ensurePlanningCommandCreated();
						this.addNotImplementedFunctionMessage("getMemberList");
						return new sap.zen.MemberList();
					},
					getFilterText : function(characteristicName) {
						var loDimension;
						this.ensurePlanningCommandCreated();
						loDimension = this
								.getDimensionByName(characteristicName);
						if (loDimension === null) {
							return "";
						}
						return loDimension
								.getFilterValuesAsString(sap.zen.Dimension.VALUE_TYPE_TEXT);
					},
					getDimensionText : function(dimensionName) {
						this.ensurePlanningCommandCreated();
						return sap.zen.DataSourceScriptApiUtils
								.getDimensionText(this.getSelector(),
										dimensionName);
					},
					getDimensions : function() {
						this.ensurePlanningCommandCreated();
						return sap.zen.DataSourceScriptApiUtils.getDimensions(
								null, this.getSelector(), this.getPage()
										.getWindow(), false);
					},
					getErrors : function() {
						this.ensurePlanningCommandCreated();
						return this.tErrors;
					},
					getPackageName : function() {
						return null;
					},
					getQueryManager : function() {
						this.ensurePlanningCommandCreated();
						return null;
					},
					getResultSet : function() {
						this.ensurePlanningCommandCreated();
						return null;
					},
					createSuggestQuery : function() {
						return null;
					},
					renderResultSetAsJSONs : function(oRenderManager,
							tProjectionInformation, metaDataBehind) {
					},
					setFilterString : function(dimensionName, value) {
						var loDimension;
						this.ensurePlanningCommandCreated();
						loDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						loDimension.setFilterValue(value, false, true);
					},
					getSelector : function() {
						this.ensurePlanningCommandCreated();
						if (this.planningCommand !== null) {
							return this.planningCommand.getSelector();
						}
						return null;
					},
					isViewDataSource : function() {
						return false;
					},
					getJavaScriptWrapperName : function() {
						return "PlanningObject";
					},
					getVariableProcessor : function() {
						this.ensurePlanningCommandCreated();
						if (this.planningCommand !== null) {
							return this.planningCommand.getVariableProcessor();
						}
						return null;
					},
					addNotImplementedFunctionMessage : function(functionName) {
						sap.zen.DataSourceScriptApiUtils
								.addNotImplementedFunctionMessage(this
										.getPage(), "PlanningObject",
										functionName);
					},
					isHanaSystem : function() {
						return false;
					},
					getBiAppDataSourceName : function() {
						return null;
					},
					getBaseDataSource : function() {
						return null;
					},
					isSDKDataSource : function() {
						return false;
					},
					isInputEnabled : function() {
						return false;
					},
					getExternalNameMappings : function() {
						return null;
					},
					getDimensionByName : function(dimensionName) {
						var lDimension = sap.zen.DimensionWrapper.create(this,
								null, dimensionName);
						return lDimension;
					},
					getMemberCacheForDimensionName : function(dimensionName) {
						return null;
					},
					addMemberCacheForDimensionName : function(dimensionName,
							memberCache) {
						return memberCache;
					},
					addResultSetConfigurationProvider : function(oProvider) {
						if (oProvider === null) {
							return;
						}
						if (this.tResultSetConfigProviders === null) {
							this.tResultSetConfigProviders = sap.firefly.XList
									.create();
						}
						if (this.tResultSetConfigProviders.contains(oProvider)) {
							return;
						}
						this.tResultSetConfigProviders.add(oProvider);
					},
					removeResultSetConfigurationProvider : function(oProvider) {
						if (oProvider === null) {
							return;
						}
						if (this.tResultSetConfigProviders === null) {
							return;
						}
						this.tResultSetConfigProviders.removeElement(oProvider);
					},
					getRequiredSizeForAxis : function(axis) {
						var lMinSize = 0;
						var lProviderIndex;
						var loProvider;
						var loConfiguration;
						var lConfigMinSize;
						if (this.tResultSetConfigProviders !== null) {
							for (lProviderIndex = 0; lProviderIndex < this.tResultSetConfigProviders
									.size(); lProviderIndex++) {
								loProvider = this.tResultSetConfigProviders
										.get(lProviderIndex);
								loConfiguration = loProvider
										.provideResultSetConfiguration();
								if (loConfiguration === null) {
									continue;
								}
								lConfigMinSize = 0;
								if (axis === sap.firefly.AxisType.ROWS) {
									lConfigMinSize = loConfiguration
											.getMinResultRows();
								} else {
									if (axis === sap.firefly.AxisType.COLUMNS) {
										lConfigMinSize = loConfiguration
												.getMinResultColumns();
									}
								}
								if (lConfigMinSize > lMinSize
										|| lConfigMinSize < 0) {
									lMinSize = lConfigMinSize;
								}
							}
						}
						return lMinSize;
					},
					isDataSourceChanged : function() {
					}
				});
$Firefly.createClass("sap.zen.XpDSItemContainer", sap.zen.XpDSContainer, {
	dataSourceItem : null,
	initDSItemContainer : function(oParent, oDataSource, oResultSet,
			dataSourceItem) {
		sap.zen.XpDSItemContainer.$superclass.initDSContainer.call(this,
				oParent, oDataSource, oResultSet);
		this.dataSourceItem = dataSourceItem;
	},
	getDataSourceItem : function() {
		return this.dataSourceItem;
	},
	releaseObject : function() {
		sap.zen.XpDSItemContainer.$superclass.releaseObject.call(this);
		this.dataSourceItem = null;
	}
});
$Firefly
		.createClass(
				"sap.zen.XpDataSource",
				sap.zen.XpDSContainer,
				{
					$statics : {
						create : function(oParent, oDataSource, oResultSet) {
							var loInstance = null;
							if (oDataSource !== null) {
								loInstance = new sap.zen.XpDataSource();
								loInstance.initDataSource(oParent, oDataSource,
										oResultSet);
							}
							return loInstance;
						}
					},
					layout : null,
					initDataSource : function(oParent, oDataSource, oResultSet) {
						sap.zen.XpDataSource.$superclass.initDSContainer.call(
								this, oParent, oDataSource, oResultSet);
					},
					prepare : function() {
						if (this.layout === null) {
							this
									.setLayout(sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS);
						}
						sap.zen.XpDataSource.$superclass.prepare.call(this);
					},
					setLayout : function(layout) {
						this.layout = layout;
						this.applyLayout();
					},
					applyLayout : function() {
						var loDSItem;
						this.removeChildren();
						loDSItem = null;
						if (this.layout === sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS) {
							loDSItem = this.addDSItem(sap.zen.CXpDSItem.GRID);
							loDSItem = this
									.addDSItem(sap.zen.CXpDSItem.FILTERS);
							(loDSItem)
									.setBehaviour(sap.zen.XpDSItemContainerFilter.DISPLAY_DIMENSIONS);
						} else {
							if (this.layout === sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS_VARIABLES) {
								loDSItem = this
										.addDSItem(sap.zen.CXpDSItem.GRID);
								loDSItem = this
										.addDSItem(sap.zen.CXpDSItem.FILTERS);
								(loDSItem)
										.setBehaviour(sap.zen.XpDSItemContainerFilter.DISPLAY_DIMENSIONS);
								loDSItem = this
										.addDSItem(sap.zen.CXpDSItem.VARIABLES);
								(loDSItem)
										.setBehaviour(sap.zen.XpDSItemContainerFilter.DISPLAY_DIMENSIONS);
							} else {
								if (this.layout === sap.zen.CXpDSExportLayout.SHEETS_GRID_FILTERS_VARIABLES_INFO) {
									loDSItem = this
											.addDSItem(sap.zen.CXpDSItem.GRID);
									loDSItem = this
											.addDSItem(sap.zen.CXpDSItem.FILTERS);
									(loDSItem)
											.setBehaviour(sap.zen.XpDSItemContainerFilter.DISPLAY_DIMENSIONS);
									loDSItem = this
											.addDSItem(sap.zen.CXpDSItem.VARIABLES);
									(loDSItem)
											.setBehaviour(sap.zen.XpDSItemContainerFilter.DISPLAY_DIMENSIONS);
									loDSItem = this
											.addDSItem(sap.zen.CXpDSItem.INFO);
								} else {
									if (this.layout === sap.zen.CXpDSExportLayout.SHEETS_GRID_INFO) {
										loDSItem = this
												.addDSItem(sap.zen.CXpDSItem.GRID);
										loDSItem = this
												.addDSItem(sap.zen.CXpDSItem.INFO);
									} else {
										if (this.layout === sap.zen.CXpDSExportLayout.SINGLE_SHEET_ALL) {
											loDSItem = this
													.addDSItem(sap.zen.CXpDSItem.DATASOURCE);
										} else {
											loDSItem = this
													.addDSItem(sap.zen.CXpDSItem.TECHNICAL_INFORMATION);
											loDSItem = this
													.addDSItem(sap.zen.CXpDSItem.VARIABLES);
											(loDSItem)
													.setBehaviour(sap.zen.XpDSItemContainerVariables.DISPLAY_DIMENSIONS_WITH_VARIABLES);
											loDSItem = this
													.addDSItem(sap.zen.CXpDSItem.FILTERS);
											(loDSItem)
													.setBehaviour(sap.zen.XpDSItemContainerFilter.DISPLAY_DIMENSIONS_WITH_FILTER);
											loDSItem = this
													.addDSItem(sap.zen.CXpDSItem.GRID);
										}
									}
								}
							}
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.CXpObjectType",
				sap.firefly.XConstantWithParent,
				{
					$statics : {
						UNDEFINED : null,
						CONTAINER : null,
						DATA_ROW : null,
						DATA_CELL : null,
						staticSetup : function() {
							sap.zen.CXpObjectType.UNDEFINED = sap.zen.CXpObjectType
									.create("UNDEFINED", null);
							sap.zen.CXpObjectType.CONTAINER = sap.zen.CXpObjectType
									.create("CONTAINER", null);
							sap.zen.CXpObjectType.DATA_ROW = sap.zen.CXpObjectType
									.create("DATA_ROW",
											sap.zen.CXpObjectType.CONTAINER);
							sap.zen.CXpObjectType.DATA_CELL = sap.zen.CXpObjectType
									.create("DATA_CELL", null);
						},
						create : function(name, parent) {
							var lEnum = new sap.zen.CXpObjectType();
							lEnum.setParent(parent);
							lEnum.setName(name);
							return lEnum;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.AbsoluteLayoutControl",
				sap.zen.ContainerComponent,
				{
					urlToRender : null,
					afterRendering : false,
					create : function() {
						var uid;
						sap.zen.AbsoluteLayoutControl.$superclass.create
								.call(this);
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components/resources/js/absolutelayout_handler");
						uid = sap.firefly.XString.concatenate2(this.getName(),
								"_absolutelayout");
						this.initControl(uid, "absolutelayout");
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						this.renderControlSpecificContent(renderSerializer);
						sap.zen.AbsoluteLayoutControl.$superclass.renderControlContent
								.call(this, renderManager);
					},
					renderChildren : function(renderManager) {
						var iterator = this.getPage().getDataSources()
								.getIterator();
						var next;
						while (iterator.hasNext()) {
							next = iterator.next();
							if (next.isSDKDataSource()
									&& next.isContentChanged()) {
								(next)
										.renderComponentPropertiesAndContent(renderManager);
								next.setContentChanged(false);
							}
						}
						sap.zen.AbsoluteLayoutControl.$superclass.renderChildren
								.call(this, renderManager);
					},
					doAfterRenderingCommand : function() {
						this.getPage().executeBackgroundProcessingScript();
					},
					setAfterRendering : function(b) {
						this.afterRendering = b;
					},
					getDelayTimeForLoadingIndicator : function() {
						var value = this.getPage()
								.getApplicationPropertiesComponent()
								.getIntPropertyWithDefault(
										"LOADING_INDICATOR_TIMEOUT", 1000);
						return value;
					},
					renderControlSpecificContent : function(renderSerializer) {
						var s;
						if ((this.urlToRender !== null)
								&& (sap.firefly.XString.size(this.urlToRender) > 0)) {
							renderSerializer.addAttribute("newurl",
									this.urlToRender);
							this.urlToRender = "";
						}
						renderSerializer.addIntegerAttribute(
								"loadingIndicatorDelay", this
										.getDelayTimeForLoadingIndicator());
						if (this.afterRendering) {
							if (this.afterRendering) {
								s = this
										.createMethodCallScript("doAfterRenderingCommand");
								renderSerializer.addAttribute("afterRendering",
										s);
								this.afterRendering = false;
							}
						}
					},
					openNewWindow : function(url) {
						this.urlToRender = url;
						this.setContentChanged(true);
					},
					ignorePositionParameter : function() {
						return sap.firefly.XString
								.isEqual(this.getId(), "ROOT");
					}
				});
$Firefly
		.createClass(
				"sap.zen.DialogControl",
				sap.zen.ContainerComponent,
				{
					$statics : {
						COMPONENT_TYPE : "DIALOG_COMPONENT",
						CONTROL_TYPE : "dialog",
						UID_SUFFIX : "_dialog",
						HANDLER_MODULE : "zen.rt.components.dialogm/resources/js/dialog_handler"
					},
					showing : false,
					oMessageManager : null,
					oMessageComponent : null,
					tButtons : null,
					create : function() {
						var lUid;
						sap.zen.DialogControl.$superclass.create.call(this);
						this.getPage().addRequireModule(
								sap.zen.DialogControl.HANDLER_MODULE);
						lUid = sap.firefly.XString.concatenate2(this.getName(),
								sap.zen.DialogControl.UID_SUFFIX);
						this.initControl(lUid,
								sap.zen.DialogControl.CONTROL_TYPE);
						this.oMessageManager = sap.zen.ZenMessageManager
								.create(this.getPage());
						this.oMessageManager.addListener(this);
						this.tButtons = this.getButtons();
					},
					getComponentName : function() {
						return this.getName();
					},
					getDefaultWidthAsString : function() {
						return "400";
					},
					getDefaultHeightAsString : function() {
						return "500";
					},
					isOpen : function() {
						return this.showing;
					},
					open : function() {
						this.doOpenCloseDialog(true);
					},
					close : function() {
						this.doOpenCloseDialog(false);
					},
					doOpenCloseDialog : function(isOpen) {
						this.showing = isOpen;
						this.setDirty();
						if (isOpen) {
							(this.getPage()).addDialog(this);
						} else {
							(this.getPage()).removeDialog(this, false);
						}
					},
					getMessageManager : function() {
						return this.oMessageManager;
					},
					getMessageComponent : function() {
						return this.oMessageComponent;
					},
					setMessageComponent : function(messageComponent) {
						if (this.oMessageComponent !== null) {
							this.removeChild(this.oMessageComponent);
						}
						this.oMessageComponent = messageComponent;
						if (this.oMessageComponent !== null) {
							this.addChild(this.oMessageComponent);
						}
					},
					handleMessagesChanged : function() {
						this.setContentChanged(true);
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer = renderManager
								.getRenderSerializer();
						this.renderControlProperties(loRenderSerializer);
						this.renderButtonsCollection(loRenderSerializer);
						sap.zen.DialogControl.$superclass.renderControlContent
								.call(this, renderManager);
					},
					renderChildren : function(renderManager) {
						if (!this.isOpen()) {
							return;
						}
						this.oMessageComponent.setContentChanged(true);
						sap.zen.DialogControl.$superclass.renderChildren.call(
								this, renderManager);
					},
					renderControlProperties : function(oRenderSerializer) {
						oRenderSerializer
								.addAttribute("title", this.getTitle());
						oRenderSerializer.addBooleanAttribute("draggable", this
								.getIsDraggable());
						oRenderSerializer.addBooleanAttribute("resizable", this
								.getIsResizable());
						oRenderSerializer.addBooleanAttribute("fullscreen",
								this.getIsFullscreen());
						oRenderSerializer.addBooleanAttribute("show", this
								.isOpen());
					},
					renderButtonsCollection : function(oRenderSerializer) {
						var loButtonIterator;
						var loButton;
						var lOnButtonClickAction;
						var lArguments;
						oRenderSerializer.openArray("Buttons");
						if (this.tButtons.size() > 0) {
							loButtonIterator = this.tButtons.getIterator();
							while (loButtonIterator.hasNext()) {
								loButton = loButtonIterator.next();
								if (loButton === null) {
									continue;
								}
								oRenderSerializer.openTag("Button");
								oRenderSerializer.addAttribute("buttonkey",
										loButton.getKey());
								oRenderSerializer.addAttribute("text", loButton
										.getText());
								if (loButton.isEnabled()) {
									oRenderSerializer.addAttribute(
											"buttonenabled", "X");
								} else {
									oRenderSerializer.addAttribute(
											"buttonenabled", "");
								}
								if (loButton.isVisible()) {
									oRenderSerializer.addAttribute(
											"buttonvisible", "X");
								} else {
									oRenderSerializer.addAttribute(
											"buttonvisible", "");
								}
								lOnButtonClickAction = sap.firefly.XString
										.concatenate2(this.getId(),
												".onDlgBtnClick(__arguments__);");
								lArguments = sap.firefly.XString.concatenate2(
										'"', loButton.getKey());
								lArguments = sap.firefly.XString.concatenate2(
										lArguments, '"');
								lOnButtonClickAction = this.createScriptAction(
										lOnButtonClickAction, lArguments);
								oRenderSerializer.addAttribute("onclick",
										lOnButtonClickAction);
								oRenderSerializer.closeTag();
							}
						}
						oRenderSerializer.closeArray();
					},
					getButtons : function() {
						var ltButtons = sap.firefly.XList.create();
						var loButtonsNode = this.getInitParameters()
								.getFirstChildWithNameTag("DIALOGBUTTONS");
						var ltButtonNodes;
						var loButtonNodeIterator;
						var loButtonNode;
						var loButton;
						var valueNode;
						var lButtonKey;
						var textNode;
						var enNode;
						var visNode;
						var actionNode;
						var actionValue;
						var action;
						if (loButtonsNode === null) {
							return ltButtons;
						}
						ltButtonNodes = loButtonsNode.getChildren("property");
						if (ltButtonNodes === null) {
							return ltButtons;
						}
						loButtonNodeIterator = ltButtonNodes.getIterator();
						while (loButtonNodeIterator.hasNext()) {
							loButtonNode = loButtonNodeIterator.next();
							if (loButtonNode === null) {
								continue;
							}
							loButton = new sap.zen.DialogButtonItem();
							valueNode = loButtonNode
									.getFirstChildWithNameTag("VALUE");
							if (valueNode !== null) {
								loButton
										.setKey(valueNode.getAttribute("value"));
							}
							if (sap.firefly.XStringUtils.isNullOrEmpty(loButton
									.getKey())) {
								lButtonKey = loButtonNode.getAttribute("value");
								if (lButtonKey !== null) {
									loButton.setKey(lButtonKey);
								}
							}
							textNode = loButtonNode
									.getFirstChildWithNameTag("TEXT");
							if (textNode !== null) {
								loButton
										.setText(textNode.getAttribute("value"));
							}
							enNode = loButtonNode
									.getFirstChildWithNameTag("ENABLED");
							if (enNode !== null) {
								loButton.setEnabled(sap.firefly.XString
										.isEqual(enNode.getAttribute("value"),
												"X"));
							} else {
								loButton.setEnabled(true);
							}
							visNode = loButtonNode
									.getFirstChildWithNameTag("VISIBLE");
							if (visNode !== null) {
								loButton.setVisible(sap.firefly.XString
										.isEqual(visNode.getAttribute("value"),
												"X"));
							} else {
								loButton.setVisible(true);
							}
							actionNode = loButtonNode
									.getFirstChildWithNameTag("ON_CLICK");
							if (actionNode !== null) {
								actionValue = actionNode.getChildren("value");
								if (actionValue !== null) {
									action = actionValue.get(0).getText();
									if (sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(action)) {
										loButton.setOnClickAction(action);
									}
								}
							}
							ltButtons.add(loButton);
						}
						return ltButtons;
					},
					getIsFullscreen : function() {
						return this.getBooleanPropertyWithDefault("FULLSCREEN",
								false);
					},
					getIsResizable : function() {
						return this.getBooleanPropertyWithDefault("RESIZABLE",
								false);
					},
					getIsDraggable : function() {
						return this.getBooleanPropertyWithDefault("DRAGGABLE",
								false);
					},
					getTitle : function() {
						return this.getStringPropertyWithDefault("DIALOGTITLE",
								"");
					},
					setTitle : function(newTitle) {
						this.setStringProperty("DIALOGTITLE", newTitle);
					},
					onDlgBtnClick : function(key) {
						var loButton = this.getButtonByKey(key);
						var lOnButtonClick;
						if (loButton === null) {
							return;
						}
						lOnButtonClick = loButton.getOnClickAction();
						if (sap.firefly.XStringUtils
								.isNullOrEmpty(lOnButtonClick)) {
							return;
						}
						this.getPage().execWithoutRerender(lOnButtonClick);
						this.setContentChanged(true);
					},
					getButtonByKey : function(key) {
						var lButtonIndex;
						var loButton;
						for (lButtonIndex = 0; lButtonIndex < this.tButtons
								.size(); lButtonIndex++) {
							loButton = this.tButtons.get(lButtonIndex);
							if (sap.firefly.XString.isEqual(loButton.getKey(),
									key)) {
								return loButton;
							}
						}
						return null;
					},
					isButtonEnabled : function(key) {
						var loButton = this.getButtonByKey(key);
						if (loButton !== null) {
							return loButton.isEnabled();
						}
						return false;
					},
					setButtonEnabled : function(buttonKey, isEnabled) {
						var loButton = this.getButtonByKey(buttonKey);
						if (loButton !== null) {
							loButton.setEnabled(isEnabled);
							this.setDirty();
						}
					},
					isButtonVisible : function(key) {
						var loButton = this.getButtonByKey(key);
						if (loButton !== null) {
							return loButton.isVisible();
						}
						return false;
					},
					setButtonVisible : function(buttonKey, isVisible) {
						var loButton = this.getButtonByKey(buttonKey);
						if (loButton !== null) {
							loButton.setVisible(isVisible);
							this.setDirty();
						}
					},
					setDirty : function() {
						this.getParent().setContentChanged(true);
						this.setContentChanged(true);
						this.setContentChangedRecursive();
					},
					setVisible : function(visible) {
					},
					isVisible : function() {
						return true;
					},
					getLeftMargin : function() {
						return "0";
					},
					setLeftMargin : function(newValue) {
					},
					getRightMargin : function() {
						return "0";
					},
					setRightMargin : function(newValue) {
					},
					getBottomMargin : function() {
						return "0";
					},
					setBottomMargin : function(newValue) {
					},
					getTopMargin : function() {
						return "0";
					},
					setTopMargin : function(newValue) {
					},
					releaseObject : function() {
						sap.zen.DialogControl.$superclass.releaseObject
								.call(this);
						if (this.oMessageManager !== null) {
							this.oMessageManager.releaseObject();
							this.oMessageManager = null;
						}
						if (this.oMessageComponent !== null) {
							this.oMessageComponent.releaseObject();
							this.oMessageComponent = null;
						}
						if (this.tButtons !== null) {
							this.tButtons.releaseObject();
							this.tButtons = null;
						}
					}
				});
$Firefly
		.createClass(
				"sap.zen.FilterBarControl",
				sap.zen.ContainerComponent,
				{
					tVisibleDimensionNames : null,
					applyAllFiltersFlag : false,
					createFilters : false,
					dirtyCount : 0,
					delayRerender : false,
					fbVisible : false,
					wasRendered : false,
					visibilityChanged : false,
					dataSourceChanged : false,
					variantKey : null,
					create : function() {
						var lUid;
						var loDataSource;
						sap.zen.FilterBarControl.$superclass.create.call(this);
						lUid = sap.firefly.XString.concatenate2(this.getName(),
								"_filterbar1");
						this.initControl(lUid, "filterbar");
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.filterbar/resources/js/filterbar_handler");
						this.tVisibleDimensionNames = sap.firefly.XListOfString
								.create();
						this.applyAllFiltersFlag = false;
						this.createFilters = true;
						this.dirtyCount = 1;
						this.delayRerender = false;
						this.fbVisible = true;
						this.wasRendered = false;
						this.visibilityChanged = false;
						this.dataSourceChanged = false;
						loDataSource = this.getDataSourceObject();
						if (loDataSource !== null) {
							loDataSource.addDataSourceChangeListener(this);
						}
					},
					handleDataSourceChanged : function(oDataSource, oCause,
							metaData, resultData) {
						this.setContentChanged(true);
						if (resultData) {
							this.dataSourceChanged = true;
						}
					},
					getRightMarginAsString : function() {
						return this.getStringPropertyWithDefault(
								"RIGHT_MARGIN", "0");
					},
					shouldRender : function() {
						return !this.delayRerender;
					},
					getVariantKey : function() {
						var dataSource;
						if (sap.firefly.XStringUtils
								.isNullOrEmpty(this.variantKey)) {
							dataSource = this.getDataSourceObject();
							if (dataSource !== null
									&& sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(dataSource
													.getQueryTechnicalName())) {
								this.variantKey = sap.firefly.XString
										.concatenate2(
												this.getPage().getAppName(),
												sap.firefly.XString
														.concatenate2(
																".",
																dataSource
																		.getQueryTechnicalName()));
							}
						}
						return this.variantKey;
					},
					getDataSourceObject : function() {
						var dataSource = null;
						var dataSourceNode = this.getInitParameters()
								.getFirstChildWithNameTag(
										"DATA_SOURCE_ALIAS_REF");
						var ds;
						if (dataSourceNode !== null) {
							ds = dataSourceNode.getAttribute("value");
							if (ds !== null) {
								dataSource = this.getPage().getDataSource(ds);
							}
						}
						return dataSource;
					},
					renderControlContent : function(renderManager) {
						var renderSerializer;
						if (!this.delayRerender) {
							this.wasRendered = true;
							renderSerializer = renderManager
									.getRenderSerializer();
							renderSerializer
									.addBooleanAttribute("applyAllFilters",
											this.applyAllFiltersFlag);
							this.applyAllFiltersFlag = false;
							this.renderControlSpecificContent(renderSerializer);
							renderSerializer.addAttribute("allChildrenSubmit",
									this.collectAllChildrenSubmit());
							sap.zen.FilterBarControl.$superclass.renderControlContent
									.call(this, renderManager);
						}
					},
					renderControlSpecificContent : function(oRenderSerializer) {
						var lScript;
						var allSelectedItemsAsIterator;
						var oneItemOfAllSelectedItems;
						this.processControlSpecificAddDimensions();
						lScript = null;
						lScript = sap.firefly.XString.concatenate2(
								this.getId(), ".doExpand(__arguments__);");
						lScript = this.createScriptAction(lScript, "");
						oRenderSerializer.addAttribute("expandcmd", lScript);
						lScript = this.getOnToggle();
						if (sap.firefly.XString.size(lScript) > 0) {
							lScript = this.createMethodCallScript("onToggle");
						}
						oRenderSerializer.addAttribute("onToggle", lScript);
						lScript = this.getOnBookmarkLoad();
						if (sap.firefly.XString.size(lScript) > 0) {
							lScript = this
									.createMethodCallScript("onBookmarkLoad");
						}
						oRenderSerializer.addAttribute("onBookmarkLoad",
								lScript);
						lScript = this.createScriptActionWithPlaceHolders2(
								this, "doLoadSfinBookmark", "__bmId__",
								sap.zen.PlaceHolderType.STRING, "__arg2__",
								sap.zen.PlaceHolderType.STRING);
						oRenderSerializer.addAttribute("loadsfinbookmarkcmd",
								lScript);
						lScript = this.createScriptActionWithPlaceHolders2(
								this, "doDelayRerender", "__arg1__",
								sap.zen.PlaceHolderType.STRING, "__arg2__",
								sap.zen.PlaceHolderType.STRING);
						oRenderSerializer.addAttribute("delayrerendercmd",
								lScript);
						oRenderSerializer.addBooleanAttribute("enabled", this
								.isEnabled());
						oRenderSerializer.addBooleanAttribute("expanded", this
								.isFilterAreaVisible());
						oRenderSerializer
								.addAttribute(
										"EXPAND_ACTION",
										sap.zen.CLocalizationFilterBarTexts.EXPAND_ACTION
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"COLLAPSE_ACTION",
										sap.zen.CLocalizationFilterBarTexts.COLLAPSE_ACTION
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addAttribute("NO_VARIANT",
								sap.zen.CLocalizationFilterBarTexts.NO_VARIANT
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("datasource", this
								.getDataSource());
						oRenderSerializer.addAttribute("ALL_VARIANTS", this
								.getStringPropertyWithDefault("ALL_VARIANTS",
										"[]"));
						oRenderSerializer.addBooleanAttribute(
								"datasourcechanged", this.dataSourceChanged);
						oRenderSerializer.addAttribute("SET_SELECTED_BMID",
								this.getStringPropertyWithDefault(
										"SET_SELECTED_BMID", ""));
						oRenderSerializer.addBooleanAttribute(
								"visibilityChanged", this.visibilityChanged);
						oRenderSerializer.addBooleanAttribute("fbVisible",
								this.fbVisible);
						oRenderSerializer.addBooleanAttribute(
								"ignoreDefaultVariant", this
										.getBooleanPropertyWithDefault(
												"IGNORE_DEFAULT", false));
						oRenderSerializer.addAttribute("VARIANT_KEY", this
								.getVariantKey());
						oRenderSerializer.addAttribute("PAGE_ID", this
								.getPage().getPageIdForScripting());
						oRenderSerializer.openArray("visibleDimensionNames");
						allSelectedItemsAsIterator = this.tVisibleDimensionNames
								.getIterator();
						while (allSelectedItemsAsIterator.hasNext()) {
							oneItemOfAllSelectedItems = allSelectedItemsAsIterator
									.next();
							oRenderSerializer.openJsonTag();
							oRenderSerializer.addAttribute("_n",
									oneItemOfAllSelectedItems);
							oRenderSerializer.closeJsonTag();
						}
						oRenderSerializer.closeArray();
						this.dataSourceChanged = false;
						this.visibilityChanged = false;
					},
					processControlSpecificAddDimensions : function() {
						var dimensionsConfig;
						var dataSourceName;
						var dscr;
						var queryManager;
						var ltDimensions;
						var lDimensionIndex;
						var lDimension;
						var ltDimensionsSorted;
						var lKeyfigureDimension;
						var lComparator;
						var jsonParser;
						var dimensionsConfigList;
						var dimensionsIterator;
						var cconfig;
						if (!(this.getPage().isDesignMode())) {
							dimensionsConfig = this.getDimensionsConfig();
							dataSourceName = this.getDataSource();
							dscr = null;
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(dataSourceName)) {
								dscr = this.getPage().getDataSource(
										dataSourceName);
								dscr.addDataSourceChangeListener(this);
							}
							if (dscr !== null) {
								queryManager = dscr.getQueryManager();
								if (queryManager !== null) {
									if (this.createFilters) {
										this.createFilters = false;
										this.removeAllComponents();
										if (sap.firefly.XString.isEqual(
												dimensionsConfig, "")
												|| sap.firefly.XString.isEqual(
														dimensionsConfig, "[]")) {
											ltDimensions = queryManager
													.getQueryModel()
													.getSelector()
													.getDimensions();
											lDimensionIndex = 0;
											lDimension = null;
											ltDimensionsSorted = sap.firefly.XList
													.create();
											lKeyfigureDimension = null;
											for (lDimensionIndex = 0; lDimensionIndex < ltDimensions
													.size(); lDimensionIndex++) {
												lDimension = ltDimensions
														.get(lDimensionIndex);
												if (lDimension
														.isMeasureStructure()) {
													lKeyfigureDimension = lDimension;
													continue;
												}
												ltDimensionsSorted
														.add(lDimension);
											}
											lComparator = new sap.zen.SortDimensionsAscByTextComparator();
											ltDimensionsSorted
													.sortByComparator(lComparator);
											if (lKeyfigureDimension !== null) {
												ltDimensionsSorted
														.add(lKeyfigureDimension);
											}
											for (lDimensionIndex = 0; lDimensionIndex < ltDimensionsSorted
													.size(); lDimensionIndex++) {
												lDimension = ltDimensionsSorted
														.get(lDimensionIndex);
												if (!sap.zen.DataSourceScriptApiUtils
														.isViewableDimension(lDimension)) {
													continue;
												}
												if (lDimension
														.isAxisSupported(sap.firefly.AxisType.ROWS)
														|| lDimension
																.isMeasureStructure()) {
													this
															.createDimFilter(
																	dataSourceName,
																	lDimension
																			.getName(),
																	this
																			.getTargetDataSource());
												}
											}
										} else {
											if (dimensionsConfig !== null) {
												jsonParser = this
														.getJsonParser();
												dimensionsConfigList = sap.zen.CharacteristicConfig
														.parseJSON(jsonParser,
																dimensionsConfig);
												dimensionsIterator = dimensionsConfigList
														.getIterator();
												while (dimensionsIterator
														.hasNext()) {
													cconfig = dimensionsIterator
															.next();
													this
															.createDimFilter(
																	dataSourceName,
																	cconfig
																			.getName(),
																	this
																			.getTargetDataSource());
												}
											}
										}
									}
								}
							}
						}
					},
					collectAllChildrenSubmit : function() {
						var scriptSequence = new sap.zen.ScriptSequence();
						var s2 = "";
						var i;
						var oneChild;
						var script1;
						if (this.tChildren !== null
								&& this.tChildren.size() > 0) {
							for (i = 0; i < this.tChildren.size(); i++) {
								oneChild = this.tChildren.get(i);
								script1 = this
										.createScriptSequenceItemWithPlaceHolders2(
												oneChild,
												"doSubmitFilterCommand",
												sap.firefly.XStringUtils
														.concatenate3(
																"__STRING__",
																"__",
																this
																		.getPage()
																		.getIdForRendering(
																				oneChild
																						.getName())),
												sap.zen.PlaceHolderType.STRING,
												"X",
												sap.zen.PlaceHolderType.STRING);
								scriptSequence.add(script1);
							}
							s2 = scriptSequence.createScript(this.getPage());
						}
						return s2;
					},
					setVisible : function(visible) {
						sap.zen.FilterBarControl.$superclass.setVisible.call(
								this, visible);
						if (visible !== this.fbVisible) {
							this.visibilityChanged = this.wasRendered;
							this.forceDeltaUpdate();
						}
						this.fbVisible = visible;
					},
					isVisible : function() {
						return this.fbVisible;
					},
					getDimensionsConfig : function() {
						return this.getStringPropertyWithDefault(
								"DIMENSIONS_CONFIG", "");
					},
					getTargetDataSource : function() {
						return this.getStringPropertyWithDefault(
								"TARGET_DATA_SOURCES_ALIAS_REF", "");
					},
					getDataSource : function() {
						return this.getStringPropertyWithDefault(
								"DATA_SOURCE_ALIAS_REF", "");
					},
					getOnToggle : function() {
						var text = this.getProperty("ON_TOGGLE");
						if (text !== null) {
							return text;
						}
						return "";
					},
					getOnBookmarkLoad : function() {
						var text = this.getProperty("ON_VARIANT_LOAD");
						if (text !== null) {
							return text;
						}
						return "";
					},
					setVisibleDimensions : function(dimensionsJson) {
						var jsonObj = this.getJsonParser()
								.parse(dimensionsJson);
						var dimensionList = jsonObj.asList();
						var cntDimensions = dimensionList.size();
						var i;
						var dimension;
						this.tVisibleDimensionNames.clear();
						for (i = 0; i < cntDimensions; i++) {
							dimension = dimensionList.getElementByIndex(i)
									.asString().getStringValue();
							this.tVisibleDimensionNames.add(dimension);
						}
					},
					onToggle : function() {
						var onToggle = this.getOnToggle();
						if (sap.firefly.XString.size(onToggle) > 0) {
							this.getPage().execWithoutRerender(onToggle);
						}
					},
					onBookmarkLoad : function() {
						var onBookmarkLoad = this.getOnBookmarkLoad();
						if (sap.firefly.XString.size(onBookmarkLoad) > 0) {
							this.getPage().execWithoutRerender(onBookmarkLoad);
						}
					},
					doDelayRerender : function(value, dimensionsJson) {
						this.delayRerender = sap.firefly.XBoolean
								.convertStringToBoolean(value);
						if (!this.delayRerender) {
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(dimensionsJson)
									&& !sap.firefly.XString.isEqual(
											dimensionsJson, "__arg2__")) {
								this.setVisibleDimensions(dimensionsJson);
							}
							this.forceDeltaUpdate();
						}
					},
					doExpand : function() {
						var oldValue = this.getBooleanPropertyWithDefault(
								"FILTERBAR_EXPANDED", false);
						this
								.setBooleanProperty("FILTERBAR_EXPANDED",
										!oldValue);
					},
					doLoadSfinBookmark : function(bmId, data) {
						var bookmark;
						var bm;
						if (sap.firefly.XStringUtils.isNotNullAndNotEmpty(data)
								&& !sap.firefly.XString.isEqual(data,
										"__arg2__")) {
							bookmark = new sap.zen.Bookmark();
							bookmark.initMe(null, null, data, "42");
							bm = this.getPage().getWindow().getContext(
									"BookmarkInternal");
							bm.loadBookmarkInternal(bookmark, false);
						}
						this.onBookmarkLoad();
						this.dataSourceChanged = false;
					},
					forceDeltaUpdate : function() {
						this.dirtyCount = this.dirtyCount + 1;
						this.setStringProperty("dirtyCount",
								sap.firefly.XStringUtils.concatenateWithInt(
										"a", this.dirtyCount));
					},
					applyAllFilters : function() {
						this.applyAllFiltersFlag = true;
						this.setContentChanged(true);
					},
					setEnabled : function(enabled) {
						this.setBooleanProperty("ENABLED", enabled);
					},
					isEnabled : function() {
						return this.getBooleanPropertyWithDefault("ENABLED",
								true);
					},
					isFilterAreaVisible : function() {
						return this.getBooleanPropertyWithDefault(
								"FILTERBAR_EXPANDED", false);
					},
					getDefaultWidthAsString : function() {
						return "100";
					},
					getDefaultHeightAsString : function() {
						return "50";
					},
					getDimNames : function() {
						var createListOfString = sap.firefly.XListOfString
								.create();
						var i;
						var child;
						for (i = 0; i < this.tChildren.size(); i++) {
							child = this.tChildren.get(i);
							createListOfString.add(child.getDimensionKey());
						}
						return sap.buddha.XObjectConverter
								.getStringArrayFromIXListForSelection(createListOfString);
					},
					createDimFilter : function(dataSourceGiven, dimension,
							targetDataSource) {
						var dataSource = this.getPage().getDataSource(
								dataSourceGiven);
						var dimFilter = this
								.getPage()
								.createComponentObjectWOInitParameter(
										"DIMENSIONFILTER_COMPONENT",
										sap.firefly.XStringUtils
												.concatenate3(
														this.getId(),
														"_",
														sap.buddha.XJsUtils
																.createJsIdentifier(dimension)),
										this);
						var memberDisplay;
						dimFilter.setHeightAsString("45");
						dimFilter.setWidthAsString("auto");
						dimFilter.setTopMarginAsString("25");
						dimFilter.setLeftMarginAsString("0");
						dimFilter.setRightMarginAsString("0");
						dimFilter.setIntProperty("MAX_MEMBERS", this
								.getMaxMembers());
						dimFilter.setBooleanProperty("DIMENSION_NAME_ON_TOP",
								true);
						dimFilter.setLabelOnTop(true);
						dimFilter.setBooleanProperty("DIMENSION_NAME_DISPLAY",
								false);
						dimFilter.setLabel(false);
						dimFilter.setStringProperty("DATA_SOURCE_ALIAS_REF",
								dataSourceGiven);
						dimFilter.setStringProperty(
								"TARGET_DATA_SOURCES_ALIAS_REF",
								targetDataSource);
						dimFilter
								.setStringProperty("DIMENSION_NAME", dimension);
						dimFilter.setBooleanProperty("PAUSE_REFRESH", true);
						memberDisplay = sap.zen.FPMemberDisplay.valueOf2(this
								.getStringPropertyWithDefault("MEMBER_DISPLAY",
										"KEY_TEXT"));
						dimFilter.setMemberDisplay(memberDisplay);
						dimFilter.setDataSource(dataSource);
						dimFilter.setIgnoreEmptyDataSource(true);
						dimFilter.setItemMessage(null);
						dimFilter.handleDataSourceChanged(dataSource, null,
								true, false);
						this.addChild(dimFilter);
					},
					getMaxMembers : function() {
						return this.getIntPropertyWithDefault(
								"FILTERBAR_MAX_MEMBERS", 100);
					},
					addVisibleDimension : function(dimensionName) {
						if (!this.tVisibleDimensionNames
								.contains(dimensionName)) {
							this.tVisibleDimensionNames.add(dimensionName);
						}
						this.setContentChanged(true);
					},
					removeVisibleDimension : function(dimensionName) {
						if (this.tVisibleDimensionNames.contains(dimensionName)) {
							this.tVisibleDimensionNames
									.removeElement(dimensionName);
						}
						this.setContentChanged(true);
					},
					setIgnoreDefaultVariant : function(ignore) {
						this.setBooleanProperty("IGNORE_DEFAULT", ignore);
					},
					getVisibleDimensionNames : function() {
						return sap.buddha.XObjectConverter
								.getStringArrayFromIXListForSelection(this.tVisibleDimensionNames);
					},
					removeAllComponents : function() {
						var i;
						var child;
						for (i = 0; i < this.tChildren.size(); i++) {
							child = this.tChildren.get(i);
							this.removeChild(child);
							child.doDestroyFilterComponentCommand();
						}
					},
					getJavaScriptWrapperName : function() {
						return "FilterBar";
					},
					renderEvenIfNotVisible : function() {
						return this.wasRendered;
					}
				});
$Firefly
		.createClass(
				"sap.zen.FilterBarClassicControl",
				sap.zen.ContainerComponent,
				{
					applyAllFiltersFlag : false,
					create : function() {
						var uid;
						sap.zen.FilterBarClassicControl.$superclass.create
								.call(this);
						uid = sap.firefly.XString.concatenate2(this.getName(),
								"_filterbar1");
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.filterbar/resources/js/filterbarclassic_handler");
						this.initControl(uid, "filterbarclassic");
						this.applyAllFiltersFlag = false;
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						renderSerializer.addBooleanAttribute("applyAllFilters",
								this.applyAllFiltersFlag);
						this.applyAllFiltersFlag = false;
						renderSerializer.addAttribute("allChildrenSubmit", this
								.collectAllChildrenSubmit());
						sap.zen.FilterBarClassicControl.$superclass.renderControlContent
								.call(this, renderManager);
					},
					collectAllChildrenSubmit : function() {
						var s2 = "";
						var i;
						var oneChild;
						if (this.tChildren !== null) {
							for (i = 0; i < this.tChildren.size(); i++) {
								oneChild = this.tChildren.get(i);
								s2 = sap.firefly.XString
										.concatenate2(
												s2,
												this
														.createScriptActionWithPlaceHolders2(
																oneChild,
																"doSubmitFilterCommand",
																sap.firefly.XStringUtils
																		.concatenate3(
																				"__STRING__",
																				"__",
																				this
																						.getPage()
																						.getIdForRendering(
																								oneChild
																										.getName())),
																sap.zen.PlaceHolderType.STRING,
																"true",
																sap.zen.PlaceHolderType.STRING));
							}
						}
						return s2;
					},
					applyAllFilters : function() {
						this.applyAllFiltersFlag = true;
						this.setContentChanged(true);
					},
					setEnabled : function(enabled) {
						this.setBooleanProperty("ENABLED", enabled);
					},
					isEnabled : function() {
						return this.getBooleanPropertyWithDefault("ENABLED",
								true);
					},
					getDefaultWidthAsString : function() {
						return "100";
					},
					getDefaultHeightAsString : function() {
						return "50";
					},
					getDimensionNames : function() {
						var createListOfString = sap.firefly.XListOfString
								.create();
						var i;
						var child;
						for (i = 0; i < this.tChildren.size(); i++) {
							child = this.tChildren.get(i);
							createListOfString.add(child.getDimensionKey());
						}
						return sap.buddha.XObjectConverter
								.getStringArrayFromIXListForSelection(createListOfString);
					},
					addDimFilter : function(dataSourceGiven, dimension) {
						var dataSource = this.getPage().getDataSource(
								dataSourceGiven);
						var createComponentObjectWOInitParameter = this
								.getPage()
								.createComponentObjectWOInitParameter(
										"DIMENSIONFILTER_COMPONENT",
										this
												.createUniquePageObjectId("DIMENSIONFILTER_COMPONENT"),
										this);
						createComponentObjectWOInitParameter
								.setHeightAsString("45");
						createComponentObjectWOInitParameter
								.setWidthAsString("auto");
						createComponentObjectWOInitParameter
								.setTopMarginAsString("25");
						createComponentObjectWOInitParameter
								.setLeftMarginAsString("0");
						createComponentObjectWOInitParameter
								.setRightMarginAsString("0");
						createComponentObjectWOInitParameter
								.setBooleanProperty("DIMENSION_NAME_ON_TOP",
										true);
						createComponentObjectWOInitParameter
								.setLabelOnTop(true);
						createComponentObjectWOInitParameter
								.setBooleanProperty("DIMENSION_NAME_DISPLAY",
										false);
						createComponentObjectWOInitParameter.setLabel(false);
						createComponentObjectWOInitParameter.setStringProperty(
								"DATA_SOURCE_ALIAS_REF", dataSourceGiven);
						createComponentObjectWOInitParameter.setStringProperty(
								"DIMENSION_NAME", dimension);
						createComponentObjectWOInitParameter
								.setDataSource(dataSource);
						createComponentObjectWOInitParameter
								.setIgnoreEmptyDataSource(true);
						createComponentObjectWOInitParameter
								.setItemMessage(null);
						createComponentObjectWOInitParameter
								.handleDataSourceChanged(dataSource, null,
										true, false);
						this.addChild(createComponentObjectWOInitParameter);
					},
					removeDimFilter : function(dataSourceGiven, dimension) {
						var dataSource = this.getPage().getDataSource(
								dataSourceGiven);
						var childrenToRemove = sap.firefly.XList.create();
						var i;
						var child;
						for (i = 0; i < this.tChildren.size(); i++) {
							child = this.tChildren.get(i);
							if (sap.firefly.XString
									.isEqual(child.getDataSource().getName(),
											dataSourceGiven)
									&& sap.firefly.XString.isEqual(child
											.getDimensionKey(), dimension)) {
								childrenToRemove.add(child);
							}
						}
						for (i = 0; i < childrenToRemove.size(); i++) {
							this.removeChild(childrenToRemove.get(i));
						}
					},
					getJavaScriptWrapperName : function() {
						return "FilterBar";
					}
				});
$Firefly.createClass("sap.zen.FooterBarControl", sap.zen.ContainerComponent, {
	create : function() {
		var uid;
		sap.zen.FooterBarControl.$superclass.create.call(this);
		uid = sap.firefly.XString.concatenate2(this.getName(), "_footerbar");
		this.getPage().addRequireModule(
				"zen.rt.components.footerbar/resources/js/footerbar_handler");
		this.initControl(uid, "footerbar");
	},
	renderControlContent : function(renderManager) {
		sap.zen.FooterBarControl.$superclass.renderControlContent.call(this,
				renderManager);
	},
	getTopMarginAsString : function() {
		return "auto";
	},
	getRightMarginAsString : function() {
		return "0";
	},
	getBottomMarginAsString : function() {
		return "0";
	},
	getLeftMarginAsString : function() {
		return "0";
	},
	getDefaultWidthAsString : function() {
		return "auto";
	},
	getDefaultHeightAsString : function() {
		return "40";
	}
});
$Firefly.createClass("sap.zen.GridcellControl", sap.zen.ContainerComponent, {
	create : function() {
		var uid;
		sap.zen.GridcellControl.$superclass.create.call(this);
		uid = sap.firefly.XString.concatenate2(this.getName(), "_glc0");
		this.initControl(uid, "gridcell");
	},
	ignorePositionParameter : function() {
		return true;
	}
});
$Firefly
		.createClass("sap.zen.GridcellSimpleControl",
				sap.zen.ContainerComponent, {
					create : function() {
						var uid;
						sap.zen.GridcellSimpleControl.$superclass.create
								.call(this);
						uid = sap.firefly.XString.concatenate2(this.getName(),
								"_glc0");
						this.initControl(uid, "gridcellsimple");
					},
					ignorePositionParameter : function() {
						return true;
					}
				});
$Firefly
		.createClass(
				"sap.zen.GridlayoutControl",
				sap.zen.ContainerComponent,
				{
					tColumnNodeChildren : null,
					tRowNodeChildren : null,
					sfinMode : false,
					rowIndexForCellSimple : 0,
					create : function() {
						var lUid;
						var loRootNode;
						var loSettingsNode;
						var ltChildNode;
						var loChildNodeIterator;
						var loChildNode;
						sap.zen.GridlayoutControl.$superclass.create.call(this);
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components/resources/js/gridlayout_handler");
						lUid = sap.firefly.XString.concatenate2(this.getName(),
								"_grid");
						this.initControl(lUid, "gridlayout");
						this.tColumnNodeChildren = sap.firefly.XListOfString
								.create();
						this.tRowNodeChildren = sap.firefly.XListOfString
								.create();
						loRootNode = this.getInitParameters();
						if (loRootNode !== null) {
							loSettingsNode = null;
							ltChildNode = null;
							loChildNodeIterator = null;
							loChildNode = null;
							loSettingsNode = loRootNode
									.getFirstChildWithNameTag("COLUMN_SETTINGS_LIST");
							if (loSettingsNode !== null) {
								ltChildNode = loSettingsNode
										.getChildren("property");
								loChildNodeIterator = ltChildNode.getIterator();
								while (loChildNodeIterator.hasNext()) {
									loChildNode = loChildNodeIterator.next();
									this.tColumnNodeChildren.add(loChildNode
											.getAttribute("value"));
								}
							}
							loSettingsNode = loRootNode
									.getFirstChildWithNameTag("ROW_SETTINGS_LIST");
							if (loSettingsNode !== null) {
								ltChildNode = loSettingsNode
										.getChildren("property");
								loChildNodeIterator = ltChildNode.getIterator();
								while (loChildNodeIterator.hasNext()) {
									loChildNode = loChildNodeIterator.next();
									this.tRowNodeChildren.add(loChildNode
											.getAttribute("value"));
								}
							}
						}
					},
					createGrid : function(rows, cols, tRowNodeChildren,
							tColNodeChildren) {
						var lRowIndex = 0;
						var lColIndex = 0;
						var lUidIndex = 0;
						var lUid;
						var loGridCellComponent;
						for (lRowIndex = 0; lRowIndex < rows; lRowIndex++) {
							this.tRowNodeChildren.add(tRowNodeChildren
									.get(lRowIndex));
							for (lColIndex = 0; lColIndex < cols; lColIndex++) {
								lUid = sap.firefly.XString
										.concatenate2(
												"gc",
												sap.firefly.XInteger
														.convertIntegerToString(lUidIndex));
								lUidIndex = lUidIndex + 1;
								loGridCellComponent = null;
								if (this.sfinMode
										&& (lRowIndex === this.rowIndexForCellSimple)) {
									loGridCellComponent = this
											.getPage()
											.createComponentObjectWOInitParameter(
													"GRID_CELL_SIMPLE_COMPONENT",
													lUid, this);
								} else {
									loGridCellComponent = this
											.getPage()
											.createComponentObjectWOInitParameter(
													"GRID_CELL_COMPONENT",
													lUid, this);
								}
								this.addChild(loGridCellComponent);
							}
						}
						for (lColIndex = 0; lColIndex < cols; lColIndex++) {
							this.tColumnNodeChildren.add(tColNodeChildren
									.get(lColIndex));
						}
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer = renderManager
								.getRenderSerializer();
						this.renderControlSpecificContent(loRenderSerializer);
						sap.zen.GridlayoutControl.$superclass.renderControlContent
								.call(this, renderManager);
					},
					renderControlSpecificContent : function(oRenderSerializer) {
						var lRowIndex;
						var lRow;
						var lColIndex;
						var lCol;
						oRenderSerializer.openArray("rows");
						for (lRowIndex = 0; lRowIndex < this.tRowNodeChildren
								.size(); lRowIndex++) {
							lRow = this.tRowNodeChildren.get(lRowIndex);
							oRenderSerializer.openTag("row");
							oRenderSerializer.addAttribute("height", lRow);
							oRenderSerializer.closeTag();
						}
						oRenderSerializer.closeArray();
						oRenderSerializer.openArray("cols");
						for (lColIndex = 0; lColIndex < this.tColumnNodeChildren
								.size(); lColIndex++) {
							lCol = this.tColumnNodeChildren.get(lColIndex);
							oRenderSerializer.openTag("col");
							oRenderSerializer.addAttribute("width", lCol);
							oRenderSerializer.closeTag();
						}
						oRenderSerializer.closeArray();
					},
					removeRowSettings : function() {
						this.tRowNodeChildren = sap.firefly.XListOfString
								.create();
					},
					addRowSetting : function(height) {
						this.tRowNodeChildren.add(height);
					},
					removeColumnSettings : function() {
						this.tColumnNodeChildren = sap.firefly.XListOfString
								.create();
					},
					addColumnSetting : function(width) {
						this.tColumnNodeChildren.add(width);
					},
					setSFinMode : function(sfinMode, rowIndexForCellSimple) {
						this.sfinMode = sfinMode;
						this.rowIndexForCellSimple = rowIndexForCellSimple;
					},
					moveComponent : function(x, y, object) {
						var lColumns = this.tColumnNodeChildren.size();
						var lRows = this.tRowNodeChildren.size();
						var lIndex;
						var loContainerComponent;
						if (y >= lColumns || x >= lRows) {
							sap.zen.CLocalizationGridLayoutMessages.GRIDLAYOUT_INVALIDCELLINDEX
									.addMessageToMessageHandler(this.getPage()
											.getMessageManager(),
											sap.firefly.Severity.ERROR, null,
											null, null);
							return;
						}
						lIndex = y * lColumns + x;
						loContainerComponent = this.tChildren.get(lIndex);
						loContainerComponent.moveComponentToParent(object);
					}
				});
$Firefly
		.createClass(
				"sap.zen.Html5ChartControl",
				sap.zen.DataProviderReferenceComponent,
				{
					tMembers : null,
					tAllMembers : null,
					clearSelectionFlag : false,
					create : function() {
						var lUid;
						sap.zen.Html5ChartControl.$superclass.create.call(this);
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.sdkhtml5chart/resources/js/sdkcharts_handler");
						lUid = sap.firefly.XString.concatenate2(this.getName(),
								"_c1");
						this.initControl(lUid, "sdkcharts");
					},
					mapChartType : function(chartType) {
						if (sap.firefly.XString.isEqual("BAR_COMBINATION",
								chartType)) {
							return "horizontal_combination";
						} else {
							if (sap.firefly.XString.isEqual(
									"DUAL_HORIZONTAL_COMBINATION", chartType)) {
								return "dual_horizontal_combination";
							} else {
								if (sap.firefly.XString.isEqual("BUBBLE",
										chartType)) {
									return "bubble";
								} else {
									if (sap.firefly.XString.isEqual(
											"COLUMN_COMBINATION", chartType)) {
										return "combination";
									} else {
										if (sap.firefly.XString.isEqual(
												"DUAL_COMBINATION", chartType)) {
											return "dual_combination";
										} else {
											if (sap.firefly.XString.isEqual(
													"DUAL_BAR", chartType)) {
												return "dual_bar";
											} else {
												if (sap.firefly.XString
														.isEqual("DUAL_COLUMN",
																chartType)) {
													return "dual_column";
												} else {
													if (sap.firefly.XString
															.isEqual(
																	"DUAL_LINE",
																	chartType)) {
														return "dual_line";
													} else {
														if (sap.firefly.XString
																.isEqual(
																		"HORIZONTAL_AREA",
																		chartType)) {
															return "horizontal_area";
														} else {
															if (sap.firefly.XString
																	.isEqual(
																			"HORIZONTAL_BAR",
																			chartType)) {
																return "bar";
															} else {
																if (sap.firefly.XString
																		.isEqual(
																				"HORIZONTAL_LINE",
																				chartType)) {
																	return "horizontal_line";
																} else {
																	if (sap.firefly.XString
																			.isEqual(
																					"HORIZONTAL_STACKED_100_BAR",
																					chartType)) {
																		return "100_stacked_bar";
																	} else {
																		if (sap.firefly.XString
																				.isEqual(
																						"HORIZONTAL_STACKED_BAR",
																						chartType)) {
																			return "stacked_bar";
																		} else {
																			if (sap.firefly.XString
																					.isEqual(
																							"HORIZONTAL_WATERFALL",
																							chartType)) {
																				return "horizontal_waterfall";
																			} else {
																				if (sap.firefly.XString
																						.isEqual(
																								"LINE",
																								chartType)) {
																					return "line";
																				} else {
																					if (sap.firefly.XString
																							.isEqual(
																									"MULTIPIE",
																									chartType)) {
																						return "multi_pie";
																					} else {
																						if (sap.firefly.XString
																								.isEqual(
																										"MULTIRADAR",
																										chartType)) {
																							return "multi_radar";
																						} else {
																							if (sap.firefly.XString
																									.isEqual(
																											"PIE",
																											chartType)) {
																								return "pie";
																							} else {
																								if (sap.firefly.XString
																										.isEqual(
																												"RADAR",
																												chartType)) {
																									return "radar";
																								} else {
																									if (sap.firefly.XString
																											.isEqual(
																													"SCATTER",
																													chartType)) {
																										return "scatter";
																									} else {
																										if (sap.firefly.XString
																												.isEqual(
																														"STACKED_WATERFALL",
																														chartType)) {
																											return "stacked_waterfall";
																										} else {
																											if (sap.firefly.XString
																													.isEqual(
																															"SURFACE",
																															chartType)) {
																												return "area";
																											} else {
																												if (sap.firefly.XString
																														.isEqual(
																																"VERTICAL_BAR",
																																chartType)) {
																													return "column";
																												} else {
																													if (sap.firefly.XString
																															.isEqual(
																																	"VERTICAL_STACKED_100_BAR",
																																	chartType)) {
																														return "100_stacked_column";
																													} else {
																														if (sap.firefly.XString
																																.isEqual(
																																		"VERTICAL_STACKED_BAR",
																																		chartType)) {
																															return "stacked_column";
																														} else {
																															if (sap.firefly.XString
																																	.isEqual(
																																			"WATERFALL",
																																			chartType)) {
																																return "waterfall";
																															} else {
																																return chartType;
																															}
																														}
																													}
																												}
																											}
																										}
																									}
																								}
																							}
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					},
					mapAdditionalProperties : function(additionalProperty) {
						if (sap.firefly.XString.isEqual("RESIZING_ANIMATION",
								additionalProperty)) {
							return "plotArea.animation.resizing";
						} else {
							if (sap.firefly.XString.isEqual(
									"AREA_BACKGROUND_FILL", additionalProperty)) {
								return "background.selectedValue";
							} else {
								if (sap.firefly.XString.isEqual(
										"AREA_BACKGROUND_COLOR",
										additionalProperty)) {
									return "background.colorValue";
								} else {
									if (sap.firefly.XString.isEqual(
											"DIMENSION_LABEL",
											additionalProperty)) {
										return "presentation.selectedValue";
									} else {
										if (sap.firefly.XString.isEqual(
												"TOOTIP_VISIBLE",
												additionalProperty)) {
											return "tooltip.visible";
										} else {
											if (sap.firefly.XString.isEqual(
													"LEGEND_VISIBLE",
													additionalProperty)) {
												return "legend.visible";
											} else {
												if (sap.firefly.XString
														.isEqual(
																"LEGEND_POSITION",
																additionalProperty)) {
													return "legendGroup.layout.position";
												} else {
													if (sap.firefly.XString
															.isEqual(
																	"AXIS_LABELS_VISIBLE",
																	additionalProperty)) {
														return "yAxis.visible";
													} else {
														if (sap.firefly.XString
																.isEqual(
																		"AXIS_VALUES_VISIBLE",
																		additionalProperty)) {
															return "xAxis.visible";
														} else {
															if (sap.firefly.XString
																	.isEqual(
																			"CHART_VALUES_VISIBLE",
																			additionalProperty)) {
																return "dataLabel.visible";
															} else {
																if (sap.firefly.XString
																		.isEqual(
																				"CHART_VALUES_POSITION",
																				additionalProperty)) {
																	return "dataLabel.position";
																} else {
																	if (sap.firefly.XString
																			.isEqual(
																					"AXIS_SCALING_ENABLED",
																					additionalProperty)) {
																		return "scale.fixedRange";
																	} else {
																		if (sap.firefly.XString
																				.isEqual(
																						"AXIS_SCALING_MAX",
																						additionalProperty)) {
																			return "scale.maxValue";
																		} else {
																			if (sap.firefly.XString
																					.isEqual(
																							"AXIS_SCALING_MIN",
																							additionalProperty)) {
																				return "scale.minValue";
																			} else {
																				if (sap.firefly.XString
																						.isEqual(
																								"AXIS_SCALING_ENABLED_Y",
																								additionalProperty)) {
																					return "yAxis.scale.fixedRange";
																				} else {
																					if (sap.firefly.XString
																							.isEqual(
																									"AXIS_SCALING_MAX_Y",
																									additionalProperty)) {
																						return "yAxis.scale.maxValue";
																					} else {
																						if (sap.firefly.XString
																								.isEqual(
																										"AXIS_SCALING_MIN_Y",
																										additionalProperty)) {
																							return "yAxis.scale.minValue";
																						} else {
																							if (sap.firefly.XString
																									.isEqual(
																											"TITLE_VISIBLE",
																											additionalProperty)) {
																								return "title.visible";
																							} else {
																								if (sap.firefly.XString
																										.isEqual(
																												"TITLE_TEXT",
																												additionalProperty)) {
																									return "title.text";
																								} else {
																									if (sap.firefly.XString
																											.isEqual(
																													"TITLE_ALIGNMENT",
																													additionalProperty)) {
																										return "title.alignment";
																									}
																								}
																							}
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
						return "";
					},
					writeSelectCommand : function(oRenderSerializer) {
						var lScript = sap.firefly.XString.concatenate2(this
								.getId(), ".setSelection('__arguments__');");
						var lScriptAction = this.createScriptAction(lScript,
								"__KEY__");
						oRenderSerializer
								.addAttribute("command", lScriptAction);
					},
					getOnSelect : function() {
						return this.getStringPropertyWithDefault("ON_SELECT",
								"");
					},
					onSelect : function() {
						var lOnSelect = this.getOnSelect();
						if (sap.firefly.XString.size(lOnSelect) > 0) {
							this.getPage().execWithoutRerender(lOnSelect);
						}
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer = renderManager
								.getRenderSerializer();
						var lScript = this.getOnSelect();
						var lChartType;
						var lMappedChartType;
						var lAdditionalProperties;
						var lResultsVisible;
						var lShowScalingFactors;
						var lChartAxisScaling;
						var lChartBackgroundColor;
						var loDataSource;
						var loQueryManager;
						var loResultSet;
						if (sap.firefly.XString.size(lScript) > 0) {
							lScript = this.createMethodCallScript("onSelect");
						}
						this.writeSelectCommand(loRenderSerializer);
						lChartType = this.getChartType();
						lMappedChartType = this.mapChartType(lChartType);
						loRenderSerializer.addAttribute("charttype",
								lMappedChartType);
						lAdditionalProperties = this.getAdditionalProperty();
						if ((lAdditionalProperties !== null)
								&& (sap.firefly.XString
										.size(lAdditionalProperties) > 0)) {
							loRenderSerializer.addAttribute(
									"additionalProperties",
									lAdditionalProperties);
						}
						loRenderSerializer.addBooleanAttribute("axesSwapped",
								this.getBooleanPropertyWithDefault(
										"AXES_SWAPPED", false));
						lResultsVisible = this.getBooleanPropertyWithDefault(
								"RESULTS_VISIBLE", false);
						loRenderSerializer.addBooleanAttribute(
								"resultsVisible", this
										.getBooleanPropertyWithDefault(
												"RESULTS_VISIBLE",
												lResultsVisible));
						lShowScalingFactors = this
								.getBooleanPropertyWithDefault(
										"SCALING_VISIBLE", false);
						loRenderSerializer
								.addBooleanAttribute("showVisible", this
										.getBooleanPropertyWithDefault(
												"SCALING_VISIBLE",
												lShowScalingFactors));
						loRenderSerializer.addAttribute(
								"conditionalFormatting", this
										.getConditionalFormatting());
						loRenderSerializer.addAttribute("locale", this
								.getPage().getLocale());
						if (this.clearSelectionFlag) {
							loRenderSerializer.addAttribute(
									"selectedDataPoint", "CLEAR");
							this.clearSelectionFlag = false;
						}
						lChartAxisScaling = this.getStringPropertyWithDefault(
								"CHART_AXIS_SCALING", "");
						if ((lChartAxisScaling !== null)
								&& (sap.firefly.XString.size(lChartAxisScaling) > 0)) {
							loRenderSerializer.addAttribute("chartAxisScaling",
									lChartAxisScaling);
							loRenderSerializer.addDoubleAttribute(
									"chartAxisScalingMinValue",
									this.getDoublePropertyWithDefault(
											"CHART_AXIS_SCALING_MIN_VALUE", 0));
							loRenderSerializer.addDoubleAttribute(
									"chartAxisScalingMaxValue",
									this.getDoublePropertyWithDefault(
											"CHART_AXIS_SCALING_MAX_VALUE", 0));
							loRenderSerializer
									.addBooleanAttribute(
											"chartAxisScalingEnable",
											this
													.getBooleanPropertyWithDefault(
															"CHART_AXIS_SCALING_ENABLE",
															false));
						}
						lChartBackgroundColor = this
								.getStringPropertyWithDefault(
										"CHART_BACKGROUNDCOLOR", "");
						if (lChartBackgroundColor !== null
								&& sap.firefly.XString
										.size(lChartBackgroundColor) > 0) {
							loRenderSerializer.addAttribute(
									"CHART_BACKGROUNDCOLOR",
									lChartBackgroundColor);
						}
						loDataSource = this.getDataSource();
						if (loDataSource !== null) {
							loRenderSerializer.addAttribute(
									"data_source_alias_name", loDataSource
											.getName());
							if (loDataSource.isSDKDataSource()) {
								this.renderRS(renderManager, lResultsVisible,
										loDataSource);
							} else {
								loQueryManager = loDataSource.getQueryManager();
								if (loQueryManager !== null) {
									loResultSet = null;
									try {
										sap.zen.DataSourceScriptApiUtils
												.logGetResultSet(
														this.getPage(),
														loQueryManager,
														"Html5Charts renderControlContent");
										loResultSet = loDataSource
												.getResultSet();
										if (loResultSet === null) {
											sap.zen.CLocalizationHtml5ChartMessages.ERROR_IN_GETRESULT
													.addMessageToComponent(
															this,
															sap.firefly.Severity.ERROR,
															null, null, null);
											return;
										}
									} catch (t) {
										sap.zen.CLocalizationHtml5ChartMessages.ERROR_IN_GETRESULT
												.addMessageToComponent(
														this,
														sap.firefly.Severity.ERROR,
														null, null, null);
										return;
									}
									if (!loResultSet.hasDataCells()) {
										sap.zen.CLocalizationHtml5ChartMessages.ERROR_IN_GETRESULT
												.addMessageToComponent(
														this,
														sap.firefly.Severity.WARNING,
														null, null, null);
										return;
									} else {
										if (loResultSet.hasErrors()) {
											sap.zen.LocalizationText
													.sAddUnspecifiedMessageToComponent(
															this,
															sap.firefly.Severity.WARNING,
															loResultSet
																	.getErrors());
											return;
										}
									}
									try {
										if (!loResultSet.hasErrors()) {
											this.renderRS(renderManager,
													lResultsVisible,
													loDataSource);
										}
									} catch (t2) {
										sap.zen.CLocalizationHtml5ChartMessages.ERROR_IN_GETRESULT
												.addMessageToComponent(
														this,
														sap.firefly.Severity.ERROR,
														null, null, null);
									}
								}
							}
							this.renderNewChartOptions(loRenderSerializer);
							this.renderMessages(loRenderSerializer);
							loRenderSerializer.addAttribute("axisStringFormat",
									"#,##0");
							loRenderSerializer.addAttribute("chartFormat",
									"s#,##0");
						}
					},
					renderRS : function(oRenderManager, resultsVisible,
							oDataSource) {
						var lCurrentSelection = "";
						var loDataSelectionNode = this.getInitParameters()
								.getFirstChildWithNameTag("DATA_SELECTION");
						var loProjectionInformation;
						var ltProjectionInformation;
						if (loDataSelectionNode !== null) {
							lCurrentSelection = loDataSelectionNode
									.getFirstChild("value").getText();
						}
						loProjectionInformation = sap.zen.ProjectionInformation
								.create(this.getId(), "resultset",
										lCurrentSelection);
						loProjectionInformation.setOption("includeMetadata",
								"true");
						loProjectionInformation.setOption(
								"fillMetadataProperty", "false");
						loProjectionInformation.setOption("includeAxesTuples",
								"true");
						loProjectionInformation.setOption(
								"presentationDelimiter", " ");
						loProjectionInformation
								.setOption(
										"includeResults",
										sap.firefly.XBoolean
												.convertBooleanToString(resultsVisible));
						loProjectionInformation.setOption("swapAxes",
								sap.firefly.XBoolean
										.convertBooleanToString(this
												.isAxisSwapped()));
						ltProjectionInformation = sap.firefly.XList.create();
						ltProjectionInformation.add(loProjectionInformation);
						oDataSource.renderResultSetAsJSONs(oRenderManager,
								ltProjectionInformation, false);
					},
					setSelection : function(oObject) {
						this.setSelectionByJson(sap.buddha.XJsonObject
								.create(oObject));
					},
					setSelectionByString : function(value) {
						this.setSelectionByJson(sap.buddha.XJsonObject
								.createFromJSonString(value));
					},
					setSelectionByJson : function(oJsonObject) {
						var loJsonParser;
						var loJsonElement;
						var loJsonStructure;
						var loJsonListSelectedMembers;
						var lSize;
						var lSelectedMemberIndex;
						var loJsonStructureSelectedElement;
						var lDimension;
						var lValue;
						var loMember;
						this.setAllMemberListByJson(oJsonObject);
						if (oJsonObject.isString() === true) {
							loJsonParser = this.getJsonParser();
							loJsonElement = loJsonParser.parse(oJsonObject
									.getString());
							loJsonStructure = loJsonElement.asStructure();
							this.tMembers = sap.firefly.XList.create();
							loJsonListSelectedMembers = loJsonStructure
									.getListByName("selectedMembers");
							lSize = loJsonListSelectedMembers.size();
							for (lSelectedMemberIndex = 0; lSelectedMemberIndex < lSize; lSelectedMemberIndex++) {
								loJsonStructureSelectedElement = loJsonListSelectedMembers
										.getElementByIndex(lSelectedMemberIndex)
										.asStructure();
								lDimension = loJsonStructureSelectedElement
										.getStringByName("dimension");
								lValue = loJsonStructureSelectedElement
										.getStringByName("value");
								loMember = new sap.zen.Member();
								loMember.doInit(lDimension, lValue);
								this.tMembers.add(loMember);
							}
						}
						this.onSelect();
					},
					setAllMemberList : function(oObject) {
						this.setAllMemberListByJson(sap.buddha.XJsonObject
								.create(oObject));
					},
					setAllMemberListByJson : function(oJsonObject) {
						var loJsonParser = this.getJsonParser();
						var loJsonElement = loJsonParser.parse(oJsonObject
								.getString());
						var loJsonStructure = loJsonElement.asStructure();
						var loJsonStructureAllSelection;
						var ltAllSelectionNames;
						var loJsonListDimension;
						var lAllSelectionIndex;
						this.tAllMembers = sap.firefly.XHashMapByString
								.create();
						loJsonStructureAllSelection = loJsonStructure
								.getStructureByName("allSelection");
						ltAllSelectionNames = loJsonStructureAllSelection
								.getStructureElementNames();
						loJsonListDimension = null;
						for (lAllSelectionIndex = 0; lAllSelectionIndex < ltAllSelectionNames
								.size(); lAllSelectionIndex++) {
							loJsonListDimension = loJsonStructureAllSelection
									.getListByName(ltAllSelectionNames
											.get(lAllSelectionIndex));
							this.tAllMembers.put((ltAllSelectionNames
									.get(lAllSelectionIndex)),
									loJsonListDimension);
						}
					},
					setChartType : function(value) {
						this.setStringProperty("TYPE", value);
					},
					getChartType : function() {
						return this.getStringPropertyWithDefault("TYPE",
								"VERTICAL_BAR");
					},
					isShowScalingFactors : function() {
						return this.getBooleanPropertyWithDefault(
								"SCALING_VISIBLE", false);
					},
					showScalingFactors : function(value) {
						this.setStringProperty("SCALING_VISIBLE", value);
					},
					setDataSelection : function(oObject) {
						var loJsonMap = new sap.buddha.XJsonMap();
						var lJson = loJsonMap.getJsonFromMapObject(oObject);
						this.setStringPropertyAsCData("DATA_SELECTION", lJson);
					},
					showTotals : function(value) {
						this.setBooleanProperty("RESULTS_VISIBLE", value);
					},
					isShowTotals : function() {
						return this.getBooleanPropertyWithDefault(
								"RESULTS_VISIBLE", false);
					},
					setAdditionalProperties : function(value) {
						this.setStringProperty("ADDITIONAL_PROPERTIES", value);
					},
					getAdditionalProperties : function() {
						return this.getStringPropertyWithDefault(
								"ADDITIONAL_PROPERTIES", "");
					},
					getConditionalFormatting : function() {
						return this.getStringPropertyWithDefault(
								"CONDITIONAL_FORMATTING", "");
					},
					showDataLabels : function(value) {
						var lIsVisible = "";
						var lDataLabelsFormatPath;
						var lFormatString;
						if (value) {
							lIsVisible = "X";
						}
						this.setBooleanProperty("CHART_VALUES_VISIBLE", value);
						this.addToNewChartOptionsXml("dataLabel.visible",
								lIsVisible);
						if (value) {
							lDataLabelsFormatPath = "dataLabel.formatString";
							lFormatString = this
									.getNewChartOption(lDataLabelsFormatPath);
							if (lFormatString === null) {
								this.addToNewChartOptionsXml(
										lDataLabelsFormatPath, "None");
							}
						}
					},
					isAxisSwapped : function() {
						return this.getBooleanPropertyWithDefault(
								"AXES_SWAPPED", false);
					},
					setAxisScaling : function(chartAxisScaling, minValue,
							maxValue) {
						this.setStringProperty("CHART_AXIS_SCALING",
								chartAxisScaling);
						this.setDoubleProperty("CHART_AXIS_SCALING_MIN_VALUE",
								minValue);
						this.setDoubleProperty("CHART_AXIS_SCALING_MAX_VALUE",
								maxValue);
						this.setBooleanProperty("CHART_AXIS_SCALING_ENABLE",
								true);
					},
					removeAxisScaling : function(chartAxisScaling) {
						this.setStringProperty("CHART_AXIS_SCALING",
								chartAxisScaling);
						this.setBooleanProperty("CHART_AXIS_SCALING_ENABLE",
								false);
					},
					getAxisScalingMin : function(axis) {
						var lValue = 0;
						if (this.getBooleanPropertyWithDefault(
								"CHART_AXIS_SCALING_ENABLE", false)) {
							lValue = this.getDoublePropertyWithDefault(
									"CHART_AXIS_SCALING_MIN_VALUE", 0);
						}
						return lValue;
					},
					getAxisScalingMax : function(axis) {
						var lValue = 0;
						if (this.getBooleanPropertyWithDefault(
								"CHART_AXIS_SCALING_ENABLE", false)) {
							lValue = this.getDoublePropertyWithDefault(
									"CHART_AXIS_SCALING_MAX_VALUE", 0);
						}
						return lValue;
					},
					getLegendPosition : function() {
						var lValue = "RIGHT";
						var ltPath = sap.firefly.XStringTokenizer.splitString(
								"properties,legendGroup,layout,position", ",");
						var loLegendPositionNode = this.getDescendentParameter(
								this.getChartTypeNode(true), ltPath);
						if (loLegendPositionNode !== null) {
							lValue = sap.firefly.XString
									.convertToUpperCase(loLegendPositionNode
											.getAttribute("value"));
						}
						return lValue;
					},
					setLegendPosition : function(value) {
						var ltPath;
						value = sap.firefly.XString.convertToLowerCase(value);
						ltPath = sap.firefly.XStringTokenizer.splitString(
								"properties,legendGroup,layout,position", ",");
						this.setDescendentParameter(
								this.getChartTypeNode(true), value, ltPath);
						this.setContentChanged(true);
					},
					getAdditionalPropertyAtt : function() {
						return this.getStringPropertyWithDefault(
								"ADDITIONAL_PROPERTY_ATT", "");
					},
					getAdditionalPropertyValue : function() {
						return this.getStringPropertyWithDefault(
								"ADDITIONAL_PROPERTY_VALUE", "");
					},
					getDescendentParameter : function(oNode, tPath) {
						var loNode = oNode;
						var lPathIndex;
						for (lPathIndex = 0; lPathIndex < tPath.size()
								&& loNode !== null; lPathIndex++) {
							loNode = loNode.getFirstChildWithNameTag(tPath
									.get(lPathIndex));
						}
						return loNode;
					},
					setDescendentParameter : function(oNode, value, tPath) {
						var lPathIndex;
						var lNodeValue;
						for (lPathIndex = 0; lPathIndex < tPath.size(); lPathIndex++) {
							lNodeValue = "";
							if (lPathIndex === tPath.size() - 1) {
								lNodeValue = value;
							}
							oNode.setProperty(tPath.get(lPathIndex),
									lNodeValue, false);
							oNode = oNode.getFirstChildWithNameTag(tPath
									.get(lPathIndex));
						}
						return oNode;
					},
					swapAxes : function(value) {
						this.setBooleanProperty("AXES_SWAPPED", value);
					},
					renderMessages : function(oRenderSerializer) {
						oRenderSerializer.openTag("messages");
						oRenderSerializer.addAttribute("nodata",
								sap.zen.CLocalizationHtml5ChartMessages.NO_DATA
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer
								.addAttribute(
										"internalerror",
										sap.zen.CLocalizationHtml5ChartMessages.INTERNAL_ERROR
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"datamapping_measure_pused_to_end",
										sap.zen.CLocalizationHtml5ChartMessages.DATAMAPPING_MEASURE_PUSHED_TO_END
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"waterfall_datamapping_rmd",
										sap.zen.CLocalizationHtml5ChartMessages.WATERFALL_DATA_MAPPING_RMD
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"waterfall_datamapping_cmd",
										sap.zen.CLocalizationHtml5ChartMessages.WATERFALL_DATA_MAPPING_CMD
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"waterfall_datamapping_rm_cnd",
										sap.zen.CLocalizationHtml5ChartMessages.WATERFALL_DATA_MAPPING_CNDRM
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"waterfall_datamapping_rnd_cm",
										sap.zen.CLocalizationHtml5ChartMessages.WATERFALL_DATA_MAPPING_CMRND
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"datasource_no_measures",
										sap.zen.CLocalizationHtml5ChartMessages.DATASOURCE_NO_MEASURES
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"chart_mapping_error",
										sap.zen.CLocalizationHtml5ChartMessages.CHART_MAPPING_ERROR
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"value_format_default",
										sap.zen.CLocalizationHtml5ChartMessages.VALUE_FORMAT_DEFAULT
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.closeTag();
					},
					getSelectedMember : function(dimensionName) {
						var loScriptableMember = null;
						var lMemberIndex;
						var loMember;
						if ((this.tMembers === null)
								|| (this.tMembers.size() === 0)) {
							loScriptableMember = new sap.zen.ScriptableMember();
							loScriptableMember.doInit("");
							return loScriptableMember;
						}
						for (lMemberIndex = 0; lMemberIndex < this.tMembers
								.size(); lMemberIndex++) {
							loMember = this.tMembers.get(lMemberIndex);
							if (sap.firefly.XString.isEqual(loMember.getKey(),
									dimensionName)) {
								loScriptableMember = new sap.zen.ScriptableMember();
								loScriptableMember.doInit(loMember.getValue());
								return loScriptableMember;
							}
						}
						return null;
					},
					getSelectedMembers : function(dimensionName) {
						var ltMembers;
						var loListMembers;
						var i;
						var loStructureMember;
						var loScriptableMember;
						if (this.tAllMembers.isEmpty()
								|| this.tAllMembers.getByKey(dimensionName) === null) {
							return this.getPage().getWindow().createJSArray(
									sap.firefly.XList.create());
						}
						ltMembers = sap.firefly.XList.create();
						loListMembers = this.tAllMembers
								.getByKey(dimensionName);
						for (i = 0; i < loListMembers.size(); i++) {
							loStructureMember = loListMembers
									.getStructureByIndex(i);
							loScriptableMember = new sap.zen.ScriptableMember();
							loScriptableMember.doInit(loStructureMember
									.getStringByName("key"));
							ltMembers.add(loScriptableMember);
						}
						return this.getPage().getWindow().createJSArray(
								ltMembers);
					},
					clearSelection : function() {
						this
								.setSelectionByString('{"selectedMembers":[],"allSelection":{},"selection":[]}');
						this.clearSelectionFlag = true;
						this.setContentChanged(true);
					},
					getAdditionalProperty : function() {
						var lAdditionalProperties = this
								.getAdditionalProperties();
						if (this.isAdditionalPropertyAtt()) {
							return this.updateAdditionalProp();
						}
						return lAdditionalProperties;
					},
					isAdditionalPropertyAtt : function() {
						var lAdditionalPropertyAtt = this
								.getAdditionalPropertyAtt();
						var lAdditionalPropertyValue = this
								.getAdditionalPropertyValue();
						if ((lAdditionalPropertyAtt !== null)
								&& (sap.firefly.XString
										.size(lAdditionalPropertyAtt) > 0)
								&& (lAdditionalPropertyValue !== null)
								&& (sap.firefly.XString
										.size(lAdditionalPropertyValue) > 0)) {
							return true;
						}
						return false;
					},
					updateAdditionalProp : function() {
						if (sap.firefly.XString.containsString(this
								.getAdditionalProperties(), this
								.mapAdditionalProperties(this
										.getAdditionalPropertyAtt()))) {
							return this.replaceAdditionalProp();
						}
						return this.addAdditionalProp();
					},
					addAdditionalProp : function() {
						var lAdditionalProperties = this
								.getAdditionalProperties();
						var lAdditionalPropSubstring = "{";
						var additionalPropertyMapped;
						if (lAdditionalProperties !== null
								&& sap.firefly.XString
										.size(lAdditionalProperties) > 0) {
							lAdditionalPropSubstring = sap.firefly.XString
									.substring(
											lAdditionalProperties,
											0,
											sap.firefly.XString
													.size(lAdditionalProperties) - 1);
							lAdditionalPropSubstring = sap.firefly.XString
									.concatenate2(lAdditionalPropSubstring, ",");
						}
						additionalPropertyMapped = "";
						additionalPropertyMapped = sap.firefly.XString
								.concatenate2(
										additionalPropertyMapped,
										this
												.getQuotedValue(this
														.mapAdditionalProperties(this
																.getAdditionalPropertyAtt())));
						additionalPropertyMapped = sap.firefly.XString
								.concatenate2(additionalPropertyMapped, ":");
						lAdditionalPropSubstring = sap.firefly.XString
								.concatenate2(lAdditionalPropSubstring,
										additionalPropertyMapped);
						if (sap.firefly.XString.isEqual(this
								.getAdditionalPropertyValue(), "true")
								|| sap.firefly.XString.isEqual(this
										.getAdditionalPropertyValue(), "false")) {
							lAdditionalPropSubstring = sap.firefly.XString
									.concatenate2(lAdditionalPropSubstring,
											this.getAdditionalPropertyValue());
						} else {
							lAdditionalPropSubstring = sap.firefly.XString
									.concatenate2(
											lAdditionalPropSubstring,
											this
													.getQuotedValue(this
															.getAdditionalPropertyValue()));
						}
						lAdditionalPropSubstring = sap.firefly.XString
								.concatenate2(lAdditionalPropSubstring, "}");
						return lAdditionalPropSubstring;
					},
					replaceAdditionalProp : function() {
						var lAdditionalProperties = this
								.getAdditionalProperties();
						var lIndex1 = sap.firefly.XString.indexOf(
								lAdditionalProperties, this
										.mapAdditionalProperties(this
												.getAdditionalPropertyAtt()));
						var lAdditionalPropertiesSub = sap.firefly.XString
								.substring(lAdditionalProperties, lIndex1,
										sap.firefly.XString
												.size(lAdditionalProperties));
						var lIndex2 = sap.firefly.XString.indexOf(
								lAdditionalPropertiesSub, ",")
								+ lIndex1 - 1;
						var lAdditionalProp1 = sap.firefly.XString
								.substring(
										lAdditionalProperties,
										0,
										lIndex1
												+ sap.firefly.XString
														.size(this
																.mapAdditionalProperties(this
																		.getAdditionalPropertyAtt()))
												+ 1);
						var lAdditionalProp2 = sap.firefly.XString
								.substring(lAdditionalProperties, lIndex2,
										sap.firefly.XString
												.size(lAdditionalProperties));
						var lAdditionalConcat = "";
						if (sap.firefly.XString.isEqual(this
								.getAdditionalPropertyValue(), "true")
								|| sap.firefly.XString.isEqual(this
										.getAdditionalPropertyValue(), "false")) {
							lAdditionalConcat = sap.firefly.XString
									.concatenate2(lAdditionalProp1, this
											.getAdditionalPropertyValue());
						} else {
							lAdditionalConcat = sap.firefly.XString
									.concatenate2(
											lAdditionalProp1,
											this
													.getQuotedValue(this
															.getAdditionalPropertyValue()));
						}
						lAdditionalConcat = sap.firefly.XString.concatenate2(
								lAdditionalConcat, lAdditionalProp2);
						return lAdditionalConcat;
					},
					getQuotedValue : function(value) {
						var lAdditionalValue = "";
						lAdditionalValue = sap.firefly.XString.concatenate2(
								lAdditionalValue, '"');
						lAdditionalValue = sap.firefly.XString.concatenate2(
								lAdditionalValue, value);
						lAdditionalValue = sap.firefly.XString.concatenate2(
								lAdditionalValue, '"');
						return lAdditionalValue;
					},
					renderNewChartOptions : function(oRenderSerializer) {
						var loChartTypeNode = this.getChartTypeNode(true);
						if (loChartTypeNode !== null) {
							this.renderNodeAsJSON(loChartTypeNode,
									oRenderSerializer, "newChartOptions");
						}
					},
					renderNodeAsJSON : function(oNode, oRenderSerializer, name) {
						var tPropertyNodes;
						var lPropertyNodeIndex;
						var loPropertyNode;
						if (name === null) {
							name = oNode.getAttribute("name");
						}
						tPropertyNodes = oNode.getChildren("property");
						if (tPropertyNodes.size() > 0) {
							oRenderSerializer.openTag(name);
							for (lPropertyNodeIndex = 0; lPropertyNodeIndex < tPropertyNodes
									.size(); lPropertyNodeIndex++) {
								loPropertyNode = tPropertyNodes
										.get(lPropertyNodeIndex);
								this.renderNodeAsJSON(loPropertyNode,
										oRenderSerializer, null);
							}
							oRenderSerializer.closeTag();
						} else {
							if (sap.firefly.XString.isEqual(oNode
									.getAttribute("value"), "X")) {
								oRenderSerializer.addBooleanAttribute(name,
										true);
							} else {
								oRenderSerializer.addAttribute(name, oNode
										.getAttribute("value"));
							}
						}
					},
					getNewChartOption : function(path) {
						var lValue = null;
						var ltPath = this.getNewChartOptionsPaths(path);
						var loChartTypeNode = this.getChartTypeNode(true);
						if (loChartTypeNode !== null) {
							loChartTypeNode = this.getNodeValue(
									loChartTypeNode, ltPath);
							if (loChartTypeNode !== null) {
								lValue = loChartTypeNode.getAttribute("value");
							}
						}
						return lValue;
					},
					addToNewChartOptionsXml : function(path, value) {
						var loChartTypeNode = this.getChartTypeNode(true);
						var loNode;
						if (loChartTypeNode !== null) {
							loNode = this.findOrCreateNode(loChartTypeNode,
									this.getNewChartOptionsPaths(path));
							loNode.setAttribute("value", value);
						}
					},
					getNewChartOptionsPaths : function(path) {
						var ltPath = sap.firefly.XStringTokenizer.splitString(
								path, ".");
						ltPath.insert(0, "properties");
						return ltPath;
					},
					getChartTypeNode : function(create) {
						var loChartTypeNode = null;
						var loTypeNode;
						var lChartType;
						var ltPath;
						if (this.getPropertyNode("TYPE") === null) {
							this.setStringProperty("TYPE", this.getChartType());
						}
						loTypeNode = this.getPropertyNode("TYPE");
						lChartType = loTypeNode.getAttribute("value");
						loChartTypeNode = loTypeNode
								.getFirstChildWithNameTag(lChartType);
						if (loChartTypeNode === null && create) {
							ltPath = sap.firefly.XListOfString.create();
							ltPath.add(lChartType);
							loChartTypeNode = this.createNodes(loTypeNode,
									ltPath);
						}
						return loChartTypeNode;
					},
					findOrCreateNode : function(oNode, tPath) {
						var lNodeName = tPath.get(0);
						var loNode = this.findNodeWithName(oNode, lNodeName);
						if (loNode === null) {
							loNode = this.createNodes(oNode, tPath);
						} else {
							if (tPath.size() > 1) {
								tPath.removeAt(0);
								loNode = this.findOrCreateNode(loNode, tPath);
							}
						}
						return loNode;
					},
					getNodeValue : function(oParentNode, tPath) {
						var lNodeName = tPath.get(0);
						var loNode = this.findNodeWithName(oParentNode,
								lNodeName);
						if (loNode !== null && tPath.size() > 1) {
							tPath.removeAt(0);
							loNode = this.getNodeValue(loNode, tPath);
						}
						return loNode;
					},
					createNodes : function(oParentNode, tPath) {
						var lNodeName = tPath.get(0);
						var loNode = oParentNode
								.createChildWithNameTag(lNodeName);
						if (tPath.size() > 1) {
							tPath.removeAt(0);
							loNode = this.createNodes(loNode, tPath);
						}
						return loNode;
					},
					findNodeWithName : function(oParentNode, name) {
						var loNode = null;
						var ltPropertyNodes = oParentNode
								.getChildren("property");
						var lPropertyNodeIndex;
						var loPropertyNode;
						for (lPropertyNodeIndex = 0; lPropertyNodeIndex < ltPropertyNodes
								.size()
								&& loNode === null; lPropertyNodeIndex++) {
							loPropertyNode = ltPropertyNodes
									.get(lPropertyNodeIndex);
							if (sap.firefly.XString.isEqual(name,
									loPropertyNode.getAttribute("name"))) {
								loNode = loPropertyNode;
							}
						}
						return loNode;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ImageTableControl",
				sap.zen.DataProviderReferenceComponent,
				{
					enabled : false,
					create : function() {
						var uid;
						sap.zen.ImageTableControl.$superclass.create.call(this);
						uid = sap.firefly.XString.concatenate2(this.getName(),
								"_imagetable");
						this.initControl(uid, "imagetable");
					},
					getDefaultWidthAsString : function() {
						return "80";
					},
					getDefaultHeightAsString : function() {
						return "30";
					},
					setEnabled : function(enabled) {
						this.setBooleanProperty("ENABLED", enabled);
					},
					isEnabled : function() {
						return this.getBooleanPropertyWithDefault("ENABLED",
								true);
					},
					renderControlContent : function(renderManager) {
						var loDataSource = this.getDataSource();
						var loQueryManager;
						var loQueryModel;
						var lDimensionName;
						var loDimension;
						var loRenderSerializer;
						var loResultSet;
						var lAmountOfTuples;
						var lTupleIndex;
						var loTupleWrapper;
						var loTupleElementWrapper;
						var loDimensionMember;
						var lDimensionMemberName;
						if (loDataSource === null) {
							return;
						}
						loQueryManager = loDataSource.getQueryManager();
						if (loQueryManager === null) {
							return;
						}
						loQueryModel = loQueryManager.getQueryModel();
						if (loQueryModel === null) {
							return;
						}
						lDimensionName = this.getStringPropertyWithDefault(
								"DIMENSION_NAME", "");
						loDimension = sap.zen.DimensionWrapper.create(this
								.getDataSource(), null, lDimensionName);
						if (loDimension === null) {
							return;
						}
						loRenderSerializer = renderManager
								.getRenderSerializer();
						sap.zen.DataSourceScriptApiUtils.logGetResultSet(this
								.getPage(), loQueryManager,
								"ImageTableControl renderControlContent");
						loResultSet = this.getDataSource().getResultSet();
						lAmountOfTuples = loResultSet
								.getAmountOfTuplesOnAxis(sap.firefly.AxisType.ROWS);
						loRenderSerializer.openArray("images");
						for (lTupleIndex = 0; lTupleIndex < lAmountOfTuples; lTupleIndex++) {
							loTupleWrapper = loResultSet.getTuple(
									sap.firefly.AxisType.ROWS, lTupleIndex,
									null, null);
							loTupleElementWrapper = loTupleWrapper
									.getTupleElement(-1, loDimension);
							loDimensionMember = loTupleElementWrapper
									.getDimensionMember();
							lDimensionMemberName = loDimensionMember.getName();
							if (sap.firefly.XString.size(lDimensionMemberName) > 0) {
								loRenderSerializer.openJsonTag();
								loRenderSerializer.addAttribute("image",
										lDimensionMemberName);
								loRenderSerializer.closeJsonTag();
							}
						}
						loRenderSerializer.closeArray();
						loRenderSerializer.addBooleanAttribute("enabled", this
								.isEnabled());
					}
				});
$Firefly.createClass("sap.zen.LumiraViewControl", sap.zen.ContainerComponent, {
	create : function() {
		var uid;
		sap.zen.LumiraViewControl.$superclass.create.call(this);
		uid = sap.firefly.XString.concatenate2(this.getName(), "b");
		this.initControl(uid, "lumiraview");
	},
	renderControlContent : function(renderManager) {
		var renderSerializer = renderManager.getRenderSerializer();
		var i;
		var component;
		renderSerializer.openArray("content");
		for (i = 0; i < this.tChildren.size(); i++) {
			component = this.tChildren.get(i);
			renderSerializer.openTag("view");
			renderSerializer.addAttribute("name", component.getName());
			renderSerializer.addAttribute("type", component.getType());
			renderSerializer.closeTag();
		}
		renderSerializer.closeArray();
	},
	getDefaultWidthAsString : function() {
		return "100";
	},
	getDefaultHeightAsString : function() {
		return "50";
	},
	getCssStyle : function() {
		return this.getStringPropertyWithDefault("CSS_STYLE", "");
	},
	setOnClick : function(text) {
		this.setStringProperty("ON_CLICK", text);
	},
	getOnClick : function() {
		var text = this.getProperty("ON_CLICK");
		if (text !== null) {
			return text;
		}
		return "";
	},
	renderChildren : function(renderManager) {
	}
});
$Firefly.createClass("sap.zen.PageControl", sap.zen.ContainerComponent, {
	create : function() {
		var uid;
		sap.zen.PageControl.$superclass.create.call(this);
		uid = sap.firefly.XString.concatenate2(this.getName(), "_tf1");
		this.initControl(uid, "page");
	},
	ignorePositionParameter : function() {
		return true;
	}
});
$Firefly
		.createClass(
				"sap.zen.PagebookControl",
				sap.zen.ContainerComponent,
				{
					indexWasSetByScript : false,
					create : function() {
						var uid;
						sap.zen.PagebookControl.$superclass.create.call(this);
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.pagebook/resources/js/pagebook_m_handler");
						uid = sap.firefly.XString.concatenate2(this.getName(),
								"_tf1");
						sap.zen.PagebookControl.$superclass.initControl.call(
								this, uid, "pagebook");
					},
					getCachingMode : function() {
						return this.getStringPropertyWithDefault(
								"CACHING_MODE", "NONE");
					},
					setCachingMode : function(cachingMode) {
						this.setStringProperty("CACHING_MODE", cachingMode);
					},
					setPageIndicatorVisibilty : function(pageIndicatorVisibilty) {
						this.setBooleanProperty("PAGEINDICATOR_VISIBILITY",
								pageIndicatorVisibilty);
					},
					isPageIndicatorVisibilty : function() {
						return this.getBooleanPropertyWithDefault(
								"PAGEINDICATOR_VISIBILITY", false);
					},
					setEnabled : function(enabled) {
						this.setBooleanProperty("ENABLED", enabled);
					},
					isEnabled : function() {
						return this.getBooleanPropertyWithDefault("ENABLED",
								true);
					},
					mapCachingMode : function(cachingMode) {
						if (sap.firefly.XString.isEqual(cachingMode, "NONE")) {
							cachingMode = "none";
						}
						if (sap.firefly.XString
								.isEqual(cachingMode, "ADJACENT")) {
							cachingMode = "adjacent";
						}
						if (sap.firefly.XString.isEqual(cachingMode, "ALL")) {
							cachingMode = "all";
						}
						return cachingMode;
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var selectedPageIndex;
						this.setContentChangedAccordingToCaching();
						selectedPageIndex = this
								.renderControlSpecificContent(renderSerializer);
						renderSerializer.openArray("content");
						this.renderChildren(renderManager);
						renderSerializer.closeArray();
					},
					renderControlSpecificContent : function(renderSerializer) {
						var selectedPageIndex = this.getSelectedPageIndex();
						var transitionDirection;
						var transitionEffect;
						var s1;
						var pvtScript;
						renderSerializer.addIntegerAttribute(
								"selectedpageindex", selectedPageIndex);
						renderSerializer.addAttribute("cachingmode", this
								.mapCachingMode(this.getCachingMode()));
						transitionDirection = this.getTransitionDirection();
						if (sap.firefly.XString.isEqual(transitionDirection,
								"horizontal")) {
							renderSerializer.addAttribute(
									"transitiondirection", "horizontal");
						} else {
							renderSerializer.addAttribute(
									"transitiondirection", "vertical");
						}
						transitionEffect = this.getTransitionEffect();
						if (sap.firefly.XString.isEqual(transitionEffect,
								"SLIDE_IN")) {
							renderSerializer.addAttribute("transitioneffect",
									"slide_in");
						} else {
							if (sap.firefly.XString.isEqual(transitionEffect,
									"FADE")) {
								renderSerializer.addAttribute(
										"transitioneffect", "fade");
							} else {
								if (sap.firefly.XString.isEqual(
										transitionEffect, "FLIP")) {
									renderSerializer.addAttribute(
											"transitioneffect", "flip");
								} else {
									if (sap.firefly.XString.isEqual(
											transitionEffect, "CUBE")) {
										renderSerializer.addAttribute(
												"transitioneffect", "cube");
									} else {
										renderSerializer.addAttribute(
												"transitioneffect", "none");
									}
								}
							}
						}
						renderSerializer
								.addBooleanAttribute("indexWasSetByScript",
										this.indexWasSetByScript);
						this.indexWasSetByScript = false;
						renderSerializer.addBooleanAttribute(
								"scriptWillBeExecuted", sap.firefly.XString
										.size(this.getOnSelect()) > 0);
						if (this.isPageIndicatorVisibilty() === true) {
							renderSerializer.addBooleanAttribute(
									"showpageindicator", this
											.isPageIndicatorVisibilty());
						}
						if (this.isEnabled() === false) {
							renderSerializer.addBooleanAttribute("enabled",
									this.isEnabled());
						}
						renderSerializer.addBooleanAttribute("enableswiping",
								this.getBooleanPropertyWithDefault(
										"ENABLE_SWIPING", true));
						s1 = sap.firefly.XString.concatenate2(this.getId(),
								".setSelectedPageIndexByUi(__arguments__);");
						pvtScript = this.createScriptAction(s1, "__KEY__");
						renderSerializer.addAttribute("command", pvtScript);
						return selectedPageIndex;
					},
					getOnSelect : function() {
						return this.getStringPropertyWithDefault("ON_SELECT",
								"");
					},
					setOnSelect : function(script) {
						this.setStringProperty("ON_SELECT", script);
					},
					getSelectedPageIndex : function() {
						return this.getIntPropertyWithDefault(
								"SELECTED_PAGE_INDEX", 0);
					},
					getTransitionDirection : function() {
						return this.getStringPropertyWithDefault(
								"TRANSITION_DIRECTION", "horizontal");
					},
					getTransitionEffect : function() {
						return this.getStringPropertyWithDefault(
								"TRANSITION_EFFECT", "NONE");
					},
					setSelectedPageByName : function(pageName) {
						var valuesAsIterator = this.tChildren.getIterator();
						var found = false;
						var i = 0;
						var next;
						var name;
						while (valuesAsIterator.hasNext() && !found) {
							next = valuesAsIterator.next();
							name = next.getName();
							if (sap.firefly.XString.isEqual(pageName, name)) {
								this.setSelectedPageIndex(i);
								found = true;
							}
							i++;
						}
					},
					getSelectedPage : function() {
						return this.tChildren.get(this.getSelectedPageIndex())
								.getName();
					},
					setSelectedPageIndex : function(selectedPageIndex) {
						this.setSelectedIndex(selectedPageIndex);
						this.indexWasSetByScript = true;
					},
					setSelectedIndex : function(selectedPageIndex) {
						selectedPageIndex = this
								.correctConsistencyIfNeeded(selectedPageIndex);
						if (selectedPageIndex !== this.getSelectedPageIndex()) {
							this.setIntProperty("SELECTED_PAGE_INDEX",
									selectedPageIndex);
							this.setContentChanged(true);
							this.setContentChangedAccordingToCaching();
						}
					},
					setSelectedPageIndexByUi : function(selectedPageIndex) {
						this.setSelectedIndex(selectedPageIndex);
						this.indexWasSetByScript = false;
						this.getPage().execWithoutRerender(this.getOnSelect());
					},
					correctConsistencyIfNeeded : function(selectedPageIndex) {
						if (this.tChildren.size() <= selectedPageIndex
								|| selectedPageIndex < 0) {
							return 0;
						} else {
							return selectedPageIndex;
						}
					},
					onSelect : function() {
						var onSelect = this.getOnSelect();
						if (sap.firefly.XString.size(onSelect) > 0) {
							this.getPage().execWithoutRerender(onSelect);
						}
					},
					renderChildren : function(renderManager) {
						var i;
						var oneChild;
						if (this.isContentChanged()) {
							sap.zen.PagebookControl.$superclass.renderChildren
									.call(this, renderManager);
						} else {
							if (this.isVisible()) {
								this.createChildrenRegardingChildItemRefList();
								i = 0;
								for (i = 0; i < this.tChildren.size(); i++) {
									oneChild = this.tChildren.get(i);
									oneChild.setRenderEmptyContent(false);
									if (sap.firefly.XString.isEqual(this
											.getCachingMode(), "NONE")) {
										if (i === this.getSelectedPageIndex()) {
											this.renderOneChild(renderManager,
													oneChild);
										}
									} else {
										if (sap.firefly.XString.isEqual(this
												.getCachingMode(), "ADJACENT")) {
											if (i === this
													.getSelectedPageIndex()
													|| i === this
															.getSelectedPageIndex() - 1
													|| i === this
															.getSelectedPageIndex() + 1) {
												this
														.renderOneChild(
																renderManager,
																oneChild);
											}
										} else {
											this.renderOneChild(renderManager,
													oneChild);
										}
									}
								}
							}
						}
					},
					renderOneChild : function(renderManager, child) {
						if (child.isVisible() === true) {
							if (this.isContentChanged()) {
								if (child.hasChildrenContentChanged()) {
									child.setContentChanged(true);
								} else {
									child.setRenderOnlyPlaceholder(true);
								}
							}
							child.renderComponentInternal(renderManager);
						}
					},
					setContentChangedAccordingToCaching : function() {
						var i = 0;
						var contentHasToBeChanged = false;
						var oneChild;
						for (i = 0; i < this.tChildren.size(); i++) {
							oneChild = this.tChildren.get(i);
							oneChild.setRenderEmptyContent(false);
							if (sap.firefly.XString.isEqual(this
									.getCachingMode(), "NONE")) {
								contentHasToBeChanged = true;
								if (i === this.getSelectedPageIndex()) {
									oneChild.setContentChangedRecursive();
								} else {
									oneChild.setContentChanged(true);
									oneChild.setRenderEmptyContent(true);
								}
							} else {
								if (sap.firefly.XString.isEqual(this
										.getCachingMode(), "ADJACENT")) {
									contentHasToBeChanged = true;
									if (i === this.getSelectedPageIndex()
											|| i === this
													.getSelectedPageIndex() - 1
											|| i === this
													.getSelectedPageIndex() + 1) {
										oneChild.setContentChangedRecursive();
									} else {
										oneChild.setContentChanged(true);
										oneChild.setRenderEmptyContent(true);
									}
								} else {
									oneChild.setRenderOnlyPlaceholder(true);
								}
							}
						}
						if (contentHasToBeChanged) {
							this.setContentChanged(true);
						}
					},
					mapTransitionDirection : function(transitionDirection) {
						if (sap.firefly.XString.isEqual(transitionDirection,
								"HORIZONTAL")) {
							transitionDirection = "horizontal";
						}
						if (sap.firefly.XString.isEqual(transitionDirection,
								"VERTICAL")) {
							transitionDirection = "vertical";
						}
						return transitionDirection;
					},
					setTransitionDirection : function(transitionDirection) {
						this.setStringProperty("TRANSITION_DIRECTION",
								transitionDirection);
					},
					setTransitionEffect : function(transitionEffect) {
						this.setStringProperty("TRANSITION_EFFECT",
								transitionEffect);
					},
					getUsedDataSourcesByDummyRendering : function(list) {
						var i;
						var oneChild;
						if (this.isVisible()) {
							this.createChildrenRegardingChildItemRefList();
							i = 0;
							for (i = 0; i < this.tChildren.size(); i++) {
								oneChild = this.tChildren.get(i);
								oneChild.setRenderEmptyContent(false);
								if (sap.firefly.XString.isEqual(this
										.getCachingMode(), "NONE")) {
									if (i === this.getSelectedPageIndex()) {
										oneChild
												.getUsedDataSourcesByDummyRendering(list);
									}
								} else {
									if (sap.firefly.XString.isEqual(this
											.getCachingMode(), "ADJACENT")) {
										if (i === this.getSelectedPageIndex()
												|| i === this
														.getSelectedPageIndex() - 1
												|| i === this
														.getSelectedPageIndex() + 1) {
											oneChild
													.getUsedDataSourcesByDummyRendering(list);
										}
									} else {
										oneChild
												.getUsedDataSourcesByDummyRendering(list);
									}
								}
							}
						}
					},
					moveComponent : function(pageName, object) {
						var valuesAsIterator = this.tChildren.getIterator();
						var pageCtrl = null;
						var i = 0;
						var next;
						var name;
						while (valuesAsIterator.hasNext() && pageCtrl === null) {
							next = valuesAsIterator.next();
							name = next.getName();
							if (sap.firefly.XString.isEqual(pageName, name)) {
								pageCtrl = next;
							}
							i++;
						}
						if (pageCtrl !== null) {
							pageCtrl.moveComponentToParent(object);
						}
					}
				});
$Firefly.createClass("sap.zen.PanelControl", sap.zen.ContainerComponent, {
	create : function() {
		var uid;
		sap.zen.PanelControl.$superclass.create.call(this);
		uid = sap.firefly.XString.concatenate2(this.getName(), "_panel1");
		this.getPage().addRequireModule(
				"zen.rt.components.panel/resources/js/panel_handler");
		this.initControl(uid, "panel");
	},
	renderControlContent : function(renderManager) {
		var renderSerializer = renderManager.getRenderSerializer();
		var script;
		renderSerializer.addAttribute("cssStyle", this.getCssStyle());
		script = this.getOnClick();
		if (sap.firefly.XString.size(script) > 0) {
			script = this.createMethodCallScript("onClick");
		}
		renderSerializer.addAttribute("onclick", script);
		sap.zen.PanelControl.$superclass.renderControlContent.call(this,
				renderManager);
	},
	getDefaultWidthAsString : function() {
		return "100";
	},
	getDefaultHeightAsString : function() {
		return "50";
	},
	getCssStyle : function() {
		return this.getStringPropertyWithDefault("CSS_STYLE", "");
	},
	setOnClick : function(text) {
		this.setStringProperty("ON_CLICK", text);
	},
	getOnClick : function() {
		var text = this.getProperty("ON_CLICK");
		if (text !== null) {
			return text;
		}
		return "";
	},
	onClick : function() {
		var onClick = this.getOnClick();
		if (sap.firefly.XString.size(onClick) > 0) {
			this.getPage().execWithoutRerender(onClick);
		}
	},
	moveComponent : function(object) {
		this.moveComponentToParent(object);
	}
});
$Firefly.createClass("sap.zen.PopupControl", sap.zen.ContainerComponent, {
	showing : false,
	shouldRenderFlag : false,
	create : function() {
		var uid;
		sap.zen.PopupControl.$superclass.create.call(this);
		uid = sap.firefly.XString.concatenate2(this.getName(), "_popup");
		this.getPage().addRequireModule(
				"zen.rt.components.popup/resources/js/popup_handler");
		this.initControl(uid, "popup");
		this.shouldRenderFlag = false;
		this.showing = false;
	},
	getDefaultWidthAsString : function() {
		return "200";
	},
	getDefaultHeightAsString : function() {
		return "100";
	},
	renderControlContent : function(renderManager) {
		var renderSerializer = renderManager.getRenderSerializer();
		this.renderControlSpecificContent(renderSerializer);
		sap.zen.PopupControl.$superclass.renderControlContent.call(this,
				renderManager);
	},
	shouldRender : function() {
		return true;
	},
	renderChildren : function(renderManager) {
		if (this.isShowing()) {
			sap.zen.PopupControl.$superclass.renderChildren.call(this,
					renderManager);
		}
	},
	renderControlSpecificContent : function(renderSerializer) {
		var s1 = sap.firefly.XString.concatenate2(this.getId(),
				".setShowing(__arguments__);");
		var pvtScript = this.createScriptAction(s1, "__VALUE__");
		renderSerializer.addAttribute("command", pvtScript);
		renderSerializer.addBooleanAttribute("modal", this.isModal());
		renderSerializer.addBooleanAttribute("autoclose", this.isAutoclose());
		renderSerializer.addBooleanAttribute("show", this.isShowing());
		renderSerializer.addAttribute("animation", this.getAnimation());
	},
	setAnimation : function(animation) {
		this.setStringProperty("ANIMATION", animation);
	},
	setAutoclose : function(autoclose) {
		this.setBooleanProperty("AUTOCLOSE", autoclose);
	},
	setModal : function(modal) {
		this.setBooleanProperty("MODAL", modal);
	},
	setShowing : function(showing) {
		if (this.showing !== showing) {
			this.setContentChanged(true);
		}
		this.showing = showing;
	},
	getAnimation : function() {
		return this.getStringPropertyWithDefault("ANIMATION", "NONE");
	},
	isAutoclose : function() {
		return this.getBooleanPropertyWithDefault("AUTOCLOSE", false);
	},
	isModal : function() {
		return this.getBooleanPropertyWithDefault("MODAL", false);
	},
	isShowing : function() {
		return this.showing;
	},
	show : function() {
		this.setShowing(true);
		this.getParent().setContentChanged(true);
		this.setContentChanged(true);
		this.setContentChangedRecursive();
	},
	hide : function() {
		this.setShowing(false);
		this.getParent().setContentChanged(true);
		this.setContentChanged(true);
		this.setContentChangedRecursive();
		this.setRenderEmptyContent(true);
	},
	isRenderCssAndShowLoadingState : function() {
		return false;
	}
});
$Firefly.createClass("sap.zen.PopupmControl", sap.zen.ContainerComponent, {
	showing : false,
	create : function() {
		var uid;
		sap.zen.PopupmControl.$superclass.create.call(this);
		uid = sap.firefly.XString.concatenate2(this.getName(), "_popup");
		this.getPage().addRequireModule(
				"zen.rt.components.popup/resources/js/popupm_handler");
		this.initControl(uid, "popupm");
		this.showing = false;
	},
	getLeftMarginAsString : function() {
		return this.getStringPropertyWithDefault("LEFT_MARGIN", "100");
	},
	getTopMarginAsString : function() {
		return this.getStringPropertyWithDefault("TOP_MARGIN", "100");
	},
	getDefaultWidthAsString : function() {
		return "200";
	},
	getDefaultHeightAsString : function() {
		return "100";
	},
	renderControlContent : function(renderManager) {
		var renderSerializer = renderManager.getRenderSerializer();
		this.renderControlSpecificContent(renderSerializer);
		sap.zen.PopupmControl.$superclass.renderControlContent.call(this,
				renderManager);
	},
	shouldRender : function() {
		return true;
	},
	renderChildren : function(renderManager) {
		if (this.isOpen()) {
			sap.zen.PopupmControl.$superclass.renderChildren.call(this,
					renderManager);
		}
	},
	renderControlSpecificContent : function(renderSerializer) {
		var s1 = sap.firefly.XString.concatenate2(this.getId(),
				".setShowing(__arguments__);");
		var pvtScript = this.createScriptAction(s1, "__VALUE__");
		renderSerializer.addAttribute("command", pvtScript);
		renderSerializer.addBooleanAttribute("modal", this.isModal());
		renderSerializer.addBooleanAttribute("autoclose", this.isAutoclose());
		renderSerializer.addBooleanAttribute("show", this.isOpen());
		renderSerializer.addAttribute("backgroundDesign", this
				.getBackgroundDesign());
		renderSerializer.addBooleanAttribute("openCentered", this
				.isOpenCentered());
	},
	setAutoclose : function(autoclose) {
		this.setBooleanProperty("AUTOCLOSE", autoclose);
	},
	setModal : function(modal) {
		this.setBooleanProperty("MODAL", modal);
	},
	setShowing : function(showing) {
		if (this.showing !== showing) {
			this.setContentChanged(true);
		}
		this.showing = showing;
	},
	setOpenCentered : function(value) {
		this.setBooleanProperty("OPENCENTERED", value);
	},
	setBackgroundDesign : function(value) {
		this.setStringProperty("BACKGROUND_DESIGN", value);
	},
	getBackgroundDesign : function() {
		return this.getStringPropertyWithDefault("BACKGROUND_DESIGN",
				"TRANSLUCENT");
	},
	isOpenCentered : function() {
		return this.getBooleanPropertyWithDefault("OPENCENTERED", false);
	},
	isAutoclose : function() {
		return this.getBooleanPropertyWithDefault("AUTOCLOSE", false);
	},
	isModal : function() {
		return this.getBooleanPropertyWithDefault("MODAL", false);
	},
	isOpen : function() {
		return this.showing;
	},
	open : function() {
		this.open1(false);
	},
	open1 : function(openCentered) {
		this.setShowing(true);
		this.setOpenCentered(openCentered);
		this.getParent().setContentChanged(true);
		this.setContentChanged(true);
		this.setContentChangedRecursive();
	},
	close : function() {
		this.setShowing(false);
		this.getParent().setContentChanged(true);
		this.setContentChanged(true);
		this.setContentChangedRecursive();
		this.setRenderEmptyContent(true);
	},
	isRenderCssAndShowLoadingState : function() {
		return false;
	}
});
$Firefly
		.createClass(
				"sap.zen.SDKControl",
				sap.zen.DataProviderReferenceComponent,
				{
					$statics : {
						texts : null,
						genericProperies : null
					},
					enabled : false,
					factory : null,
					create : function() {
						var type;
						var uid;
						var jsIncudesIterator;
						var loader;
						var next;
						var url;
						var cssIncludesIterator;
						var cssNext;
						var requireJsIterator;
						var requ;
						var modes;
						var splitString;
						var load;
						var module;
						var propertiesIterator;
						var propertyNode;
						var key;
						var defaultValue;
						sap.zen.SDKControl.$superclass.create.call(this);
						type = "";
						if (sap.firefly.XString.isEqual("div",
								this.factory.handlerType)) {
							type = "sdk";
							this
									.getPage()
									.addRequireModule(
											"zen.rt.components.sdk/resources/js/sdk_handler");
						} else {
							if (sap.firefly.XString.isEqual("sapui5",
									this.factory.handlerType)) {
								type = "sdkui5";
								this
										.getPage()
										.addRequireModule(
												"zen.rt.components.sdk/resources/js/sdkui5_handler");
							}
						}
						uid = sap.firefly.XString.concatenate2(this.getName(),
								"_control");
						this.initControl(uid, type);
						if (this.factory.jsIncludes !== null) {
							jsIncudesIterator = this.factory.jsIncludes
									.getIterator();
							loader = this.getPage().getSDKLoader();
							while (jsIncudesIterator.hasNext()) {
								next = jsIncudesIterator.next();
								url = next.getText();
								if (this.factory.isBuiltIn()) {
									loader.loadBuiltInJs(url);
								} else {
									loader.loadJS(this.factory.libraryId, url);
								}
							}
						}
						if (this.factory.cssIncludes !== null) {
							cssIncludesIterator = this.factory.cssIncludes
									.getIterator();
							while (cssIncludesIterator.hasNext()) {
								cssNext = cssIncludesIterator.next();
								this.getPage().getSDKLoader().loadCSS(
										this.factory.libraryId,
										cssNext.getText());
							}
						}
						if (this.factory.requireJs !== null) {
							requireJsIterator = this.factory.requireJs
									.getIterator();
							while (requireJsIterator.hasNext()) {
								requ = requireJsIterator.next();
								modes = requ.getAttribute("modes");
								splitString = sap.firefly.XStringTokenizer
										.splitString(modes, " ");
								load = splitString.contains("m");
								module = requ.getText();
								if (load) {
									if (!this.factory.isBuiltIn()) {
										module = sap.firefly.XStringUtils
												.concatenate4("sdk_include/",
														this.factory.libraryId,
														"/", module);
									}
									this.getPage().addRequireModule(module);
								}
							}
						}
						if (this.factory.properties !== null) {
							propertiesIterator = this.factory.properties
									.getIterator();
							while (propertiesIterator.hasNext()) {
								propertyNode = propertiesIterator.next();
								key = propertyNode.getAttribute("id");
								defaultValue = this.getDefaultFor(key);
								if (defaultValue !== null
										&& this.getStringPropertyWithDefault(
												key, null) === null) {
									this.setStringProperty(key, defaultValue);
								}
							}
						}
					},
					getAdditionalScriptAfterWrapping : function() {
						var script = this.wrapComponent(this.factory.libraryId,
								this.getName(), this.factory.properties,
								this.factory.componentTypeId);
						return script;
					},
					wrapComponent : function(libraryId, componentName,
							properties, myD) {
						var javaScriptToExecute = "";
						var ztlClass = sap.firefly.XStringUtils.concatenate3(
								libraryId, ".", myD);
						var propertiesIterator;
						var propertyNode;
						var key;
						var propertyType;
						ztlClass = sap.firefly.XString.replace(ztlClass, ".",
								"_");
						ztlClass = sap.firefly.XString.concatenate2("window.",
								ztlClass);
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, "sap.zen.initSdkControl(");
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, ztlClass);
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, ", ");
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, componentName);
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, ", [");
						if (properties !== null) {
							propertiesIterator = properties.getIterator();
							while (propertiesIterator.hasNext()) {
								propertyNode = propertiesIterator.next();
								key = propertyNode.getAttribute("id");
								propertyType = propertyNode
										.getAttribute("type");
								javaScriptToExecute = sap.firefly.XString
										.concatenate2(javaScriptToExecute,
												"{name: '");
								javaScriptToExecute = sap.firefly.XString
										.concatenate2(javaScriptToExecute, key);
								javaScriptToExecute = sap.firefly.XString
										.concatenate2(javaScriptToExecute,
												"', type: '");
								javaScriptToExecute = sap.firefly.XString
										.concatenate2(javaScriptToExecute,
												propertyType);
								javaScriptToExecute = sap.firefly.XString
										.concatenate2(javaScriptToExecute, "'}");
								if (propertiesIterator.hasNext()) {
									javaScriptToExecute = sap.firefly.XString
											.concatenate2(javaScriptToExecute,
													", ");
								}
							}
						}
						javaScriptToExecute = sap.firefly.XString.concatenate2(
								javaScriptToExecute, "]);");
						return javaScriptToExecute;
					},
					initSDKBase : function(factory) {
						this.factory = factory;
					},
					getDefaultWidthAsString : function() {
						return this.getDefaultFor("WIDTH");
					},
					getDefaultHeightAsString : function() {
						return this.getDefaultFor("HEIGHT");
					},
					runScript : function(nameOfScript) {
						var children = this.getInitParameters().getChildren(
								"property");
						var valuesAsIterator = children.getIterator();
						var scriptToExecute = "";
						var next;
						var attribute;
						while (valuesAsIterator.hasNext()) {
							next = valuesAsIterator.next();
							attribute = next.getAttribute("name");
							if (sap.firefly.XString.isEqual(attribute,
									nameOfScript)) {
								scriptToExecute = next.getFirstChild("value")
										.getText();
							}
						}
						if (sap.firefly.XString.size(scriptToExecute) > 0) {
							this.getPage().execWithoutRerender(scriptToExecute);
						}
					},
					createAssignDataSourceItemMessage : function(dataSourceName) {
					},
					getProjectionInformation : function(propertyName,
							selection, propertyNode) {
						var propertyType = propertyNode.getAttribute("type");
						var result = sap.zen.ProjectionInformation.create(this
								.getId(), propertyName, selection);
						var options;
						var i;
						var opt;
						var name;
						var val;
						if (sap.firefly.XString.isEqual("ResultCellList",
								propertyType)) {
							result.setOption("selectionShape", "1");
						} else {
							if (sap.firefly.XString.isEqual("ResultCell",
									propertyType)) {
								result.setOption("selectionShape", "0");
							} else {
								if (sap.firefly.XString.isEqual("ResultSet",
										propertyType)) {
									result.setOption("includeMetadata", "true");
									result.setOption("fillMetadataProperty",
											"false");
									result.setOption("includeAxesTuples",
											"true");
								}
							}
						}
						options = propertyNode.getAllChildren();
						for (i = 0; i < options.size(); i++) {
							opt = options.get(i);
							if (sap.firefly.XString.isEqual("option", opt
									.getNodeName())) {
								name = opt.getAttribute("name");
								val = opt.getAttribute("value");
								result.setOption(name, val);
							}
						}
						return result;
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var ds;
						var result_cell_sets;
						var resulsetWasRendered;
						var propertiesIterator;
						var propertyNode;
						var key;
						var propertyType;
						var realArrayNode;
						var arrayEntryPropertyNode;
						var arrayEntryType;
						var realArrayEntries;
						var expectedProps;
						var objectProperties;
						var objectPropertiesIterator;
						var objectProperty;
						var realArrayEntriesIterator;
						var realArrayEntry;
						var realEntryProperties;
						var realEntryPropertiesIterator;
						var realEntryProperty;
						var entryName;
						var entryValue;
						var expectedType;
						var jsPropertyName;
						var value;
						var dummy;
						var projectionInformation;
						var projectionInformations;
						var bVal;
						var intValue;
						var doubleValue;
						var stringValue;
						renderSerializer.addAttribute("handler_name",
								sap.firefly.XStringUtils.concatenate3(
										this.factory.libraryId, ".",
										this.factory.componentTypeId));
						if (sap.firefly.XStringUtils.isNotNullAndNotEmpty(this
								.getPage().getDshControlId())) {
							renderSerializer.addAttribute("pureId", this
									.getId());
							renderSerializer.addAttribute("buddhaId",
									sap.firefly.XString.concatenate2(this
											.getPage().getDshControlId(),
											"Buddha"));
						}
						ds = this.getDataSource();
						if (ds !== null) {
							renderSerializer.addAttribute(
									"DATA_SOURCE_ALIAS_REF", ds.getName());
						}
						result_cell_sets = sap.firefly.XList.create();
						resulsetWasRendered = false;
						if (this.factory.properties !== null) {
							propertiesIterator = this.factory.properties
									.getIterator();
							while (propertiesIterator.hasNext()) {
								propertyNode = propertiesIterator.next();
								key = propertyNode.getAttribute("id");
								propertyType = propertyNode
										.getAttribute("type");
								if (sap.firefly.XString.isEqual("Array",
										propertyType)) {
									realArrayNode = this.getPropertyNode(key);
									if (realArrayNode !== null) {
										arrayEntryPropertyNode = propertyNode
												.getFirstChildWoBiNameSpace("property");
										if (arrayEntryPropertyNode !== null) {
											arrayEntryType = arrayEntryPropertyNode
													.getAttribute("type");
											realArrayEntries = realArrayNode
													.getChildren("property");
											expectedProps = sap.firefly.XHashMapOfStringByString
													.create();
											if (sap.firefly.XString.isEqual(
													"Object", arrayEntryType)) {
												renderSerializer.openArray(key);
												objectProperties = arrayEntryPropertyNode
														.getChildrenWoBiNameSpace("property");
												objectPropertiesIterator = objectProperties
														.getIterator();
												while (objectPropertiesIterator
														.hasNext()) {
													objectProperty = objectPropertiesIterator
															.next();
													expectedProps
															.put(
																	objectProperty
																			.getAttribute("id"),
																	objectProperty
																			.getAttribute("type"));
												}
												realArrayEntriesIterator = realArrayEntries
														.getIterator();
												while (realArrayEntriesIterator
														.hasNext()) {
													realArrayEntry = realArrayEntriesIterator
															.next();
													renderSerializer
															.openJsonTag();
													realEntryProperties = realArrayEntry
															.getChildren("property");
													realEntryPropertiesIterator = realEntryProperties
															.getIterator();
													while (realEntryPropertiesIterator
															.hasNext()) {
														realEntryProperty = realEntryPropertiesIterator
																.next();
														entryName = realEntryProperty
																.getAttribute("name");
														entryValue = realEntryProperty
																.getAttribute("value");
														if (expectedProps
																.containsKey(entryName)) {
															expectedType = expectedProps
																	.getByKey(entryName);
															if (sap.firefly.XString
																	.isEqual(
																			"boolean",
																			expectedType)) {
																renderSerializer
																		.addBooleanAttribute(
																				entryName,
																				this
																						.makeBooleanPropertyWithDefault(
																								entryValue,
																								false));
															} else {
																if (sap.firefly.XString
																		.isEqual(
																				"int",
																				expectedType)) {
																	renderSerializer
																			.addIntegerAttribute(
																					entryName,
																					sap.firefly.XInteger
																							.convertStringToIntegerWithDefault(
																									entryValue,
																									0));
																} else {
																	if (sap.firefly.XString
																			.isEqual(
																					"float",
																					expectedType)) {
																		renderSerializer
																				.addDoubleAttribute(
																						entryName,
																						sap.firefly.XDouble
																								.convertStringToDoubleWithDefault(
																										entryValue,
																										0));
																	} else {
																		if (sap.firefly.XString
																				.isEqual(
																						"Url",
																						expectedType)) {
																			entryValue = this
																					.translateUrl(entryValue);
																		}
																		renderSerializer
																				.addAttribute(
																						entryName,
																						entryValue);
																	}
																}
															}
														}
													}
													renderSerializer
															.closeJsonTag();
												}
												renderSerializer.closeArray();
											}
										}
									}
								} else {
									jsPropertyName = key;
									value = this.getStringPropertyWithDefault(
											key, "");
									if (sap.firefly.XString.isEqual(
											"ScriptText", propertyType)) {
										dummy = 42;
									} else {
										if (sap.firefly.XString.isEqual(
												"ResultCellSet", propertyType)
												|| sap.firefly.XString.isEqual(
														"ResultCellList",
														propertyType)
												|| sap.firefly.XString.isEqual(
														"ResultCell",
														propertyType)
												|| sap.firefly.XString.isEqual(
														"ResultSet",
														propertyType)) {
											projectionInformation = this
													.getProjectionInformation(
															jsPropertyName,
															value, propertyNode);
											if (projectionInformation
													.isFillMetadataProperty()) {
												result_cell_sets
														.add(projectionInformation);
											} else {
												if (this.getDataSource() !== null) {
													projectionInformations = sap.firefly.XList
															.create();
													projectionInformations
															.add(projectionInformation);
													this
															.getDataSource()
															.renderResultSetAsJSONs(
																	renderManager,
																	projectionInformations,
																	false);
												}
											}
										} else {
											if (sap.firefly.XString.isEqual(
													"Url", propertyType)) {
												renderSerializer
														.addAttribute(
																jsPropertyName,
																this
																		.translateUrl(value));
											} else {
												if (sap.firefly.XString
														.isEqual("boolean",
																propertyType)) {
													bVal = this
															.getBooleanPropertyWithDefault(
																	key, false);
													renderSerializer
															.addBooleanAttribute(
																	jsPropertyName,
																	bVal);
												} else {
													if (sap.firefly.XString
															.isEqual("int",
																	propertyType)) {
														intValue = this
																.getIntPropertyWithDefault(
																		key, 0);
														renderSerializer
																.addIntegerAttribute(
																		jsPropertyName,
																		intValue);
													} else {
														if (sap.firefly.XString
																.isEqual(
																		"float",
																		propertyType)) {
															doubleValue = this
																	.getDoublePropertyWithDefault(
																			key,
																			0);
															renderSerializer
																	.addDoubleAttribute(
																			jsPropertyName,
																			doubleValue);
														} else {
															stringValue = value;
															renderSerializer
																	.addAttribute(
																			jsPropertyName,
																			stringValue);
														}
													}
												}
											}
										}
									}
								}
							}
						}
						if (!resulsetWasRendered
								&& this.getDataSource() !== null) {
							this.getDataSource().renderResultSetAsJSONs(
									renderManager, result_cell_sets, true);
						}
					},
					doSDKPVT : function(obj) {
						var lJsonObject = sap.buddha.XJsonObject.create(obj);
						var lJsonArray = lJsonObject.getArray();
						var lArraySize = lJsonArray.size();
						var lArrayIndex;
						var lJsonArrayObject;
						var lName;
						var lValue;
						for (lArrayIndex = 0; lArrayIndex < lArraySize; lArrayIndex++) {
							lJsonArrayObject = null;
							lName = null;
							lJsonArrayObject = lJsonArray.get(lArrayIndex);
							if (lJsonArrayObject.isDefined()) {
								lName = lJsonArrayObject.getString();
							}
							lArrayIndex = lArrayIndex + 1;
							lValue = null;
							lJsonArrayObject = lJsonArray.get(lArrayIndex);
							if (lJsonArrayObject.isDefined()) {
								lValue = lJsonArrayObject.getString();
							}
							this.setStringProperty(lName, lValue);
						}
					},
					getDefaultFor : function(key) {
						var defaultsIterator;
						var defaultEntryNode;
						var forId;
						if (this.factory.defaultValues !== null) {
							defaultsIterator = this.factory.defaultValues
									.getIterator();
							while (defaultsIterator.hasNext()) {
								defaultEntryNode = defaultsIterator.next();
								forId = defaultEntryNode
										.getAttribute("property");
								if (sap.firefly.XString.isEqual(forId, key)) {
									return defaultEntryNode.getText();
								}
							}
						}
						return null;
					},
					createMember : function(dimensionName, internalKey) {
						var loQueryManager;
						var loQueryModel;
						var loInternalDimension;
						var loDimension;
						var loInternalDimensionMember;
						var loDimensionMember;
						var loScriptableMember;
						if (internalKey !== null
								&& !sap.firefly.XString.isEqual("undefined",
										internalKey)) {
							loQueryManager = this.getDataSource()
									.getQueryManager();
							loQueryModel = loQueryManager.getQueryModel();
							loInternalDimension = sap.zen.DataSourceScriptApiUtils
									.getDimension(loQueryModel.getSelector(),
											dimensionName);
							loDimension = sap.zen.DimensionWrapper.create(this
									.getDataSource(), null, dimensionName);
							loInternalDimension = loDimension
									.getInternalObject();
							if (loInternalDimension !== null) {
								loInternalDimensionMember = loInternalDimension
										.getDimensionMember(internalKey, false);
								loDimensionMember = sap.zen.DimensionMemberWrapper
										.create(loDimension,
												loInternalDimensionMember);
								if (loDimensionMember !== null) {
									loScriptableMember = new sap.zen.ScriptableMember();
									loScriptableMember
											.doInit2(loDimensionMember);
									return loScriptableMember;
								}
							}
						}
						return new sap.zen.ScriptableMember();
					},
					stringifySelection : function(selectionJSON) {
						var create = sap.buddha.XJsonObject
								.create(selectionJSON);
						if (create.isString()) {
							return create.getString();
						}
						return create.toString();
					},
					getJavaScriptWrapperName : function() {
						return "PageObject";
					}
				});
$Firefly.createClass("sap.zen.DropdownControl", sap.zen.SelectionControl, {
	create : function() {
		var uid = sap.firefly.XString.concatenate2(this.getName(), "_dd");
		this.getPage().addRequireModule(
				"zen.rt.components.selection/resources/js/dropdown_handler");
		this.initControl(uid, "dropdown");
		sap.zen.DropdownControl.$superclass.create.call(this);
	},
	getDefaultWidthAsString : function() {
		return "120";
	},
	getDefaultHeightAsString : function() {
		return "auto";
	},
	setTooltip : function(tooltip) {
		this.setStringProperty("TOOLTIP", tooltip);
	},
	getTooltip : function() {
		return this.getStringPropertyWithDefault("TOOLTIP", "");
	}
});
$Firefly
		.createClass(
				"sap.zen.ListboxControl",
				sap.zen.SelectionControl,
				{
					create : function() {
						var uid = sap.firefly.XString.concatenate2(this
								.getName(), "_ddlb");
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.selection/resources/js/listbox_m_handler");
						this.initControl(uid, "listbox");
						sap.zen.ListboxControl.$superclass.create.call(this);
					},
					renderContentInternal : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						renderSerializer.openTag("control");
						renderSerializer.addAttribute("type", this.getCType());
						renderSerializer.addAttribute("selectionMode", this
								.getStringPropertyWithDefault("SELECTION_MODE",
										"SINGLE_MASTER"));
						renderSerializer.addAttribute("id", this.getPage()
								.getIdForRendering(this.getCId()));
						this.renderControlContent(renderManager);
						renderSerializer.closeTag();
					},
					setSelection : function(selectedKey) {
						var splitString = sap.firefly.XListOfString.create();
						var delemiter = "|SeP|";
						if (sap.firefly.XString
								.endsWith(selectedKey, delemiter)) {
							selectedKey = sap.firefly.XString.substring(
									selectedKey, 0, sap.firefly.XString
											.size(selectedKey)
											- sap.firefly.XString
													.size(delemiter));
							splitString = sap.firefly.XStringTokenizer
									.splitString(selectedKey, delemiter);
						}
						this.setMultipleItemsForSelection(splitString);
						this.getPage().execWithoutRerender(this.getOnSelect());
					},
					setMultipleItemsForSelection : function(splitString) {
						var i;
						var oneKey;
						var itemByKey;
						if (this.listOfAllSelectedItems.size() > 0) {
							this.listOfAllSelectedItems.clear();
						}
						for (i = 0; i < splitString.size(); i++) {
							oneKey = splitString.get(i);
							itemByKey = this.getItemByKey(oneKey);
							if (itemByKey !== null) {
								this.listOfAllSelectedItems.add(itemByKey);
							} else {
								if (this.listOfAllItems.size() > 0) {
									this.listOfAllSelectedItems
											.add(this.listOfAllItems.get(0));
								}
							}
						}
						this.setContentChanged(true);
					},
					setSelectedValues : function(keys) {
						var ixListOfStringForSelectionFromStringArray = sap.buddha.XObjectConverter
								.getIXListOfStringForSelectionFromStringArray(keys);
						var valuesAsIteratorOfString;
						var next;
						var itemByKey;
						if (this.listOfAllSelectedItems.size() > 0) {
							this.listOfAllSelectedItems.clear();
						}
						valuesAsIteratorOfString = ixListOfStringForSelectionFromStringArray
								.getIterator();
						while (valuesAsIteratorOfString.hasNext()) {
							next = valuesAsIteratorOfString.next();
							itemByKey = this.getItemByKey(next);
							if (itemByKey !== null) {
								this.listOfAllSelectedItems.add(itemByKey);
							}
						}
						this.setContentChanged(true);
					},
					getSelectedValues : function() {
						var createListOfString = sap.firefly.XListOfString
								.create();
						var allSelectedItemsAsIterator = this.listOfAllSelectedItems
								.getIterator();
						var oneItemOfAllSelectedItems;
						while (allSelectedItemsAsIterator.hasNext()) {
							oneItemOfAllSelectedItems = allSelectedItemsAsIterator
									.next();
							createListOfString.add(oneItemOfAllSelectedItems
									.getValue());
						}
						return sap.buddha.XObjectConverter
								.getStringArrayFromIXListForSelection(createListOfString);
					},
					getSelectedTexts : function() {
						var createListOfString = sap.firefly.XListOfString
								.create();
						var allSelectedItemsAsIterator = this.listOfAllSelectedItems
								.getIterator();
						var oneItemOfAllSelectedItems;
						while (allSelectedItemsAsIterator.hasNext()) {
							oneItemOfAllSelectedItems = allSelectedItemsAsIterator
									.next();
							createListOfString.add(oneItemOfAllSelectedItems
									.getText());
						}
						return sap.buddha.XObjectConverter
								.getStringArrayFromIXListForSelection(createListOfString);
					}
				});
$Firefly
		.createClass(
				"sap.zen.RadioButtonGroupControl",
				sap.zen.SelectionControl,
				{
					create : function() {
						var uid = sap.firefly.XString.concatenate2(this
								.getName(), "_rb");
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.selection/resources/js/radiobuttongroup_m_handler");
						this.initControl(uid, "radiobuttongroup");
						sap.zen.RadioButtonGroupControl.$superclass.create
								.call(this);
					},
					renderControlContent : function(renderManager) {
						var renderSerializer;
						sap.zen.RadioButtonGroupControl.$superclass.renderControlContent
								.call(this, renderManager);
						renderSerializer = renderManager.getRenderSerializer();
						renderSerializer.addIntegerAttribute("columns", this
								.getIntPropertyWithDefault("COLUMNS", 1));
					}
				});
$Firefly
		.createClass(
				"sap.zen.SmartlayoutControl",
				sap.zen.ContainerComponent,
				{
					$statics : {
						number : 0
					},
					sizes : null,
					create : function() {
						var uid;
						sap.zen.SmartlayoutControl.$superclass.create
								.call(this);
						uid = sap.firefly.XString.concatenate2(this.getName(),
								"b");
						this.initControl(uid, "smartlayout");
						this.sizes = sap.firefly.XArray.create(0);
					},
					calcInitialSizes : function() {
						var valuesAsIterator;
						var i;
						var d;
						if (this.sizes.size() !== this.tChildren.size()) {
							this.sizes = sap.firefly.XArray
									.create(this.tChildren.size());
							valuesAsIterator = this.tChildren.getIterator();
							i = 0;
							while (valuesAsIterator.hasNext()) {
								valuesAsIterator.next();
								d = sap.firefly.XIntegerValue
										.create(((100 / this.tChildren.size())));
								this.sizes.set(i, d);
								i = i + 1;
							}
						}
					},
					hasOnlySLChildren : function() {
						var result = true;
						var valuesAsIterator = this.tChildren.getIterator();
						var next;
						while (valuesAsIterator.hasNext()) {
							next = valuesAsIterator.next();
							if (!sap.firefly.XString.isEqual(next.getCType(),
									"smartlayout")) {
								return false;
							}
						}
						return result;
					},
					getSizes : function() {
						var result;
						var i;
						var convertIntegerToString;
						this.calcInitialSizes();
						result = "[";
						for (i = 0; i < this.sizes.size(); i++) {
							convertIntegerToString = this.sizes.get(i)
									.toString();
							result = sap.firefly.XString.concatenate2(result,
									convertIntegerToString);
							if (i < this.tChildren.size() - 1) {
								result = sap.firefly.XString.concatenate2(
										result, ",");
							}
						}
						result = sap.firefly.XString.concatenate2(result, "]");
						return result;
					},
					setValuePVT : function(newValue, newValue2) {
						this.setContentChanged(true);
					},
					getOnSelect : function() {
						return this.getStringPropertyWithDefault("ON_SELECT",
								"");
					},
					getContentName : function() {
						var child;
						var name;
						if ((this.tChildren !== null)
								&& (this.tChildren.size() > 0)) {
							child = this.tChildren.get(0);
							if (child !== null) {
								name = child.getName();
								return name;
							}
						}
						return "";
					},
					renderControlContent : function(renderManager) {
						var renderSerializer = renderManager
								.getRenderSerializer();
						var s1;
						var s2;
						renderSerializer.addAttribute("orientation", this
								.getOrientation());
						renderSerializer.addIntegerAttribute(
								"numberOfChildren", this.tChildren.size());
						renderSerializer.addBooleanAttribute("root",
								sap.firefly.XString.isEqual(this.getParent()
										.getCType(), "absolutelayout"));
						renderSerializer.addBooleanAttribute(
								"hasOnlySLChildren", this.hasOnlySLChildren());
						renderSerializer.addAttribute("sizes", this.getSizes());
						renderSerializer.addAttribute("title", this
								.getStringPropertyWithDefault("TITLE",
										"Test Title"));
						s1 = sap.firefly.XString.concatenate2(this.getId(),
								".setValuePVT(__arguments__);");
						s2 = this.createScriptAction(s1,
								'"__VALUE__","__VALUE2__"');
						renderSerializer.addAttribute("command", s2);
						renderSerializer.openArray("content");
						if (this.isRenderEmptyContent() === false) {
							this.renderChildren(renderManager);
						}
						renderSerializer.closeArray();
					},
					getDefaultWidthAsString : function() {
						return "auto";
					},
					getDefaultHeightAsString : function() {
						return "auto";
					},
					getLeftMarginAsString : function() {
						if (!this.getParent().isSmartLayout()) {
							return sap.zen.SmartlayoutControl.$superclass.getLeftMarginAsString
									.call(this);
						}
						return "0";
					},
					getTopMarginAsString : function() {
						if (!this.getParent().isSmartLayout()) {
							return sap.zen.SmartlayoutControl.$superclass.getTopMarginAsString
									.call(this);
						}
						return "0";
					},
					getRightMarginAsString : function() {
						if (!this.getParent().isSmartLayout()) {
							return sap.zen.SmartlayoutControl.$superclass.getRightMarginAsString
									.call(this);
						}
						return "0";
					},
					getBottomMarginAsString : function() {
						if (!this.getParent().isSmartLayout()) {
							return sap.zen.SmartlayoutControl.$superclass.getBottomMarginAsString
									.call(this);
						}
						return "0";
					},
					getOrientation : function() {
						return this.getStringPropertyWithDefault("ORIENTATION",
								"VERTICAL");
					},
					setOrientation : function(orientation) {
						this.setStringProperty("ORIENTATION", orientation);
					},
					isSmartLayout : function() {
						return true;
					},
					addTop : function(component, changeOrientation,
							smartlayoutControlOriginal) {
						var uid;
						var newSmartlayout1;
						var index;
						var newSmartlayout1a;
						var byIndex;
						var newSmartlayout2;
						if (this.tChildren.size() === 0) {
							this.tChildren.insert(0, component);
							component.setParent(this);
							this.setContentChanged(true);
						} else {
							uid = sap.firefly.XString.concatenate2("SML_",
									sap.firefly.XIntegerValue.create(
											sap.zen.SmartlayoutControl.number)
											.toString());
							if (!changeOrientation && this.tChildren.size() > 1) {
								newSmartlayout1 = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								newSmartlayout1.addChild(component);
								component.setParent(newSmartlayout1);
								newSmartlayout1.setContentChanged(true);
								sap.zen.SmartlayoutControl.number++;
								if (sap.firefly.XString.isEqual(
										smartlayoutControlOriginal.getId(),
										this.getId())) {
									this.tChildren.insert(0, newSmartlayout1);
								} else {
									index = this.tChildren
											.getIndex(smartlayoutControlOriginal);
									if (index === -1) {
										index = 0;
									}
									this.tChildren.insert(index,
											newSmartlayout1);
								}
								newSmartlayout1.setParent(this);
								this.setContentChangedRecursive();
							} else {
								newSmartlayout1a = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								byIndex = this.tChildren.get(0);
								newSmartlayout1a.addChild(byIndex);
								byIndex.setParent(newSmartlayout1a);
								sap.zen.SmartlayoutControl.number++;
								uid = sap.firefly.XString
										.concatenate2(
												"SML_",
												sap.firefly.XIntegerValue
														.create(
																sap.zen.SmartlayoutControl.number)
														.toString());
								newSmartlayout2 = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								newSmartlayout2.addChild(component);
								component.setParent(newSmartlayout2);
								sap.zen.SmartlayoutControl.number++;
								this.tChildren.removeAt(0);
								this.addChild(newSmartlayout2);
								this.addChild(newSmartlayout1a);
								newSmartlayout2.setParent(this);
								newSmartlayout1a.setParent(this);
								this.setContentChangedRecursive();
							}
						}
					},
					addBottom : function(component, changeOrientation,
							smartlayoutControlOriginal) {
						var uid;
						var newSmartlayout1;
						var index;
						var newSmartlayout1a;
						var byIndex;
						var newSmartlayout2;
						if (this.tChildren.size() === 0) {
							this.tChildren.add(component);
							component.setParent(this);
							this.setContentChanged(true);
						} else {
							uid = sap.firefly.XString.concatenate2("SML_",
									sap.firefly.XIntegerValue.create(
											sap.zen.SmartlayoutControl.number)
											.toString());
							if (!changeOrientation && this.tChildren.size() > 1) {
								newSmartlayout1 = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								newSmartlayout1.addChild(component);
								component.setParent(newSmartlayout1);
								newSmartlayout1.setContentChanged(true);
								sap.zen.SmartlayoutControl.number++;
								if (sap.firefly.XString.isEqual(
										smartlayoutControlOriginal.getId(),
										this.getId())) {
									this.tChildren.add(newSmartlayout1);
								} else {
									index = this.tChildren
											.getIndex(smartlayoutControlOriginal);
									if (index === -1) {
										index = 0;
									}
									this.tChildren.insert(index + 1,
											newSmartlayout1);
								}
								newSmartlayout1.setParent(this);
								this.setContentChangedRecursive();
							} else {
								newSmartlayout1a = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								byIndex = this.tChildren.get(0);
								newSmartlayout1a.addChild(byIndex);
								byIndex.setParent(newSmartlayout1a);
								sap.zen.SmartlayoutControl.number++;
								uid = sap.firefly.XString
										.concatenate2(
												"SML_",
												sap.firefly.XIntegerValue
														.create(
																sap.zen.SmartlayoutControl.number)
														.toString());
								newSmartlayout2 = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								newSmartlayout2.addChild(component);
								component.setParent(newSmartlayout2);
								sap.zen.SmartlayoutControl.number++;
								this.tChildren.removeAt(0);
								this.addChild(newSmartlayout1a);
								this.addChild(newSmartlayout2);
								newSmartlayout2.setParent(this);
								newSmartlayout1a.setParent(this);
								this.setContentChangedRecursive();
							}
						}
					},
					addRight : function(component, changeOrientation,
							smartlayoutControlOriginal) {
						var uid;
						var newSmartlayout1;
						var index;
						var newSmartlayout1a;
						var byIndex;
						var newSmartlayout2;
						if (this.tChildren.size() === 0) {
							this.tChildren.add(component);
							component.setParent(this);
							this.setContentChanged(true);
						} else {
							uid = sap.firefly.XString.concatenate2("SML_",
									sap.firefly.XIntegerValue.create(
											sap.zen.SmartlayoutControl.number)
											.toString());
							if (!changeOrientation && this.tChildren.size() > 1) {
								newSmartlayout1 = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								newSmartlayout1.addChild(component);
								component.setParent(newSmartlayout1);
								newSmartlayout1.setContentChanged(true);
								sap.zen.SmartlayoutControl.number++;
								if (sap.firefly.XString.isEqual(
										smartlayoutControlOriginal.getId(),
										this.getId())) {
									this.tChildren.add(newSmartlayout1);
								} else {
									index = this.tChildren
											.getIndex(smartlayoutControlOriginal);
									if (index === -1) {
										index = 0;
									}
									this.tChildren.insert(index + 1,
											newSmartlayout1);
								}
								newSmartlayout1.setParent(this);
								this.setContentChangedRecursive();
							} else {
								newSmartlayout1a = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								byIndex = this.tChildren.get(0);
								newSmartlayout1a.addChild(byIndex);
								byIndex.setParent(newSmartlayout1a);
								sap.zen.SmartlayoutControl.number++;
								uid = sap.firefly.XString
										.concatenate2(
												"SML_",
												sap.firefly.XIntegerValue
														.create(
																sap.zen.SmartlayoutControl.number)
														.toString());
								newSmartlayout2 = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								newSmartlayout2.addChild(component);
								component.setParent(newSmartlayout2);
								sap.zen.SmartlayoutControl.number++;
								this.tChildren.removeAt(0);
								this.addChild(newSmartlayout1a);
								this.addChild(newSmartlayout2);
								newSmartlayout2.setParent(this);
								newSmartlayout1a.setParent(this);
								this.setContentChangedRecursive();
							}
						}
					},
					addLeft : function(component, changeOrientation,
							smartlayoutControlOriginal) {
						var uid;
						var newSmartlayout1;
						var index;
						var newSmartlayout1a;
						var byIndex;
						var newSmartlayout2;
						if (this.tChildren.size() === 0) {
							this.tChildren.insert(0, component);
							component.setParent(this);
							this.setContentChanged(true);
						} else {
							uid = sap.firefly.XString.concatenate2("SML_",
									sap.firefly.XIntegerValue.create(
											sap.zen.SmartlayoutControl.number)
											.toString());
							if (!changeOrientation && this.tChildren.size() > 1) {
								newSmartlayout1 = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								newSmartlayout1.addChild(component);
								component.setParent(newSmartlayout1);
								newSmartlayout1.setContentChanged(true);
								sap.zen.SmartlayoutControl.number++;
								if (sap.firefly.XString.isEqual(
										smartlayoutControlOriginal.getId(),
										this.getId())) {
									this.tChildren.insert(0, newSmartlayout1);
								} else {
									index = this.tChildren
											.getIndex(smartlayoutControlOriginal);
									if (index === -1) {
										index = 0;
									}
									this.tChildren.insert(index,
											newSmartlayout1);
								}
								newSmartlayout1.setParent(this);
								this.setContentChangedRecursive();
							} else {
								newSmartlayout1a = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								byIndex = this.tChildren.get(0);
								newSmartlayout1a.addChild(byIndex);
								byIndex.setParent(newSmartlayout1a);
								sap.zen.SmartlayoutControl.number++;
								uid = sap.firefly.XString
										.concatenate2(
												"SML_",
												sap.firefly.XIntegerValue
														.create(
																sap.zen.SmartlayoutControl.number)
														.toString());
								newSmartlayout2 = this.getPage()
										.createComponentObjectWOInitParameter(
												"SMARTLAYOUT_COMPONENT", uid,
												this);
								newSmartlayout2.addChild(component);
								sap.zen.SmartlayoutControl.number++;
								this.tChildren.removeAt(0);
								this.addChild(newSmartlayout2);
								this.addChild(newSmartlayout1a);
								newSmartlayout2.setParent(this);
								newSmartlayout1a.setParent(this);
								this.setContentChangedRecursive();
							}
						}
					},
					removeChild : function(oComponent) {
						var smartLayout;
						var index;
						var otherSmartLayout;
						var valuesAsIterator;
						var changeInOrientation;
						var parentToUse;
						if (!(oComponent.isSmartLayout())
								|| this.tChildren.size() > 2) {
							sap.zen.SmartlayoutControl.$superclass.removeChild
									.call(this, oComponent);
						} else {
							if (this.tChildren.size() === 2) {
								smartLayout = oComponent;
								index = this.tChildren.getIndex(smartLayout);
								if (index === 0) {
									otherSmartLayout = this.tChildren.get(1);
								} else {
									otherSmartLayout = this.tChildren.get(0);
								}
								this.tChildren.clear();
								valuesAsIterator = otherSmartLayout.tChildren
										.getIterator();
								changeInOrientation = !sap.firefly.XString
										.isEqual(this.getOrientation(),
												otherSmartLayout
														.getOrientation());
								this.setOrientation(otherSmartLayout
										.getOrientation());
								parentToUse = this;
								if (this.getParent().isSmartLayout()) {
									if (sap.firefly.XString.isEqual(this
											.getOrientation(), (this
											.getParent()).getOrientation())) {
										(this.getParent()).tChildren
												.removeElement(this);
										(this.getParent())
												.setContentChangedRecursive();
										parentToUse = (this.getParent());
									}
								}
								while (valuesAsIterator.hasNext()) {
									if (sap.firefly.XString.isEqual(
											otherSmartLayout.getOrientation(),
											"VERTICAL")) {
										parentToUse.addTop(valuesAsIterator
												.next(), changeInOrientation,
												parentToUse);
									} else {
										parentToUse.addRight(valuesAsIterator
												.next(), changeInOrientation,
												parentToUse);
									}
								}
								this.setContentChangedRecursive();
							}
						}
					}
				});
$Firefly.createClass("sap.zen.ContentAreaControl", sap.zen.ContainerComponent,
		{
			$statics : {
				RESIZABLE : "resizable",
				CONTENT_SIZE : "contentSize",
				UNIT_OF_SIZE : "unitOfSize",
				MINIMUM_SIZE : "minimumSize",
				UNIT_OF_MINIMUM_SIZE : "unitOfMinimumSize"
			},
			create : function() {
				var uid;
				sap.zen.ContentAreaControl.$superclass.create.call(this);
				uid = sap.firefly.XString.concatenate2(this.getName(),
						"_splitter1");
				this.initControl(uid, "contentarea");
			},
			setSize : function(size) {
				var width = sap.firefly.XInteger.convertStringToInteger(this
						.getParent().getWidth());
				var height = sap.firefly.XInteger.convertStringToInteger(this
						.getParent().getHeight());
				var orientation = this.getParent().getInitParameters()
						.getAttribute("ORIENTATION");
				var iParentSize = width;
				if (sap.firefly.XString.isEqual("Vertical", orientation)) {
					iParentSize = height;
				}
				if (size >= 0 && size <= iParentSize) {
					this.setStringProperty("CONTENT_SIZE", sap.firefly.XInteger
							.convertIntegerToString(size));
				} else {
					this.setStringProperty("CONTENT_SIZE", "auto");
				}
			},
			getSize : function() {
				var size = this.getStringPropertyWithDefault("CONTENT_SIZE",
						"200");
				if (sap.firefly.XString.isEqual("auto", size)) {
					return -1;
				} else {
					return sap.firefly.XInteger.convertStringToInteger(size);
				}
			},
			renderControlContent : function(renderManager) {
				var renderSerializer = renderManager.getRenderSerializer();
				this.renderControlSpecificContent(renderSerializer);
				sap.zen.ContentAreaControl.$superclass.renderControlContent
						.call(this, renderManager);
			},
			renderControlSpecificContent : function(renderSerializer) {
				renderSerializer.addBooleanAttribute(RESIZABLE, this
						.getBooleanPropertyWithDefault("RESIZABLE", true));
				renderSerializer.addAttribute(CONTENT_SIZE, this
						.getStringPropertyWithDefault("CONTENT_SIZE", "200"));
				renderSerializer.addAttribute(UNIT_OF_SIZE, this
						.getStringPropertyWithDefault("UNIT_OF_SIZE", "px"));
				renderSerializer.addAttribute(MINIMUM_SIZE, this
						.getStringPropertyWithDefault("MINIMUM_SIZE", "50"));
				renderSerializer.addAttribute(UNIT_OF_MINIMUM_SIZE, this
						.getStringPropertyWithDefault("UNIT_OF_MINIMUM_SIZE",
								"px"));
			},
			ignorePositionParameter : function() {
				return true;
			}
		});
$Firefly
		.createClass(
				"sap.zen.SplitterControl",
				sap.zen.ContainerComponent,
				{
					$statics : {
						ORIENTATION : "orientation"
					},
					create : function() {
						var lUid;
						sap.zen.SplitterControl.$superclass.create.call(this);
						lUid = sap.firefly.XString.concatenate2(this.getName(),
								"_splitter1");
						this.initControl(lUid, "splitter");
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.splitter/resources/js/splitter_handler");
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer;
						this.createChildrenRegardingChildItemRefList();
						loRenderSerializer = renderManager
								.getRenderSerializer();
						this.renderControlSpecificContent(loRenderSerializer);
						loRenderSerializer.openArray("content");
						this.renderChildren(renderManager);
						loRenderSerializer.closeArray();
					},
					renderChildren : function(renderManager) {
						var lChildIndex;
						var loComponent;
						if (this.isContentChanged()) {
							sap.zen.SplitterControl.$superclass.renderChildren
									.call(this, renderManager);
						} else {
							if (this.isVisible()) {
								this.createChildrenRegardingChildItemRefList();
								for (lChildIndex = 0; lChildIndex < this.tChildren
										.size(); lChildIndex++) {
									loComponent = this.tChildren
											.get(lChildIndex);
									if (this.isContentChanged()) {
										if (loComponent
												.hasChildrenContentChanged()) {
											loComponent.setContentChanged(true);
										} else {
											loComponent
													.setRenderOnlyPlaceholder(true);
										}
									}
									loComponent
											.renderComponentInternal(renderManager);
								}
							}
						}
					},
					renderControlSpecificContent : function(oRenderSerializer) {
						oRenderSerializer.addAttribute(ORIENTATION, this
								.getStringPropertyWithDefault("ORIENTATION",
										"Horizontal"));
						return 0;
					},
					getContentArea : function(index) {
						return this.tChildren.get(index);
					},
					setContentChangedAccordingToCaching : function(oldPage) {
						var i = 0;
						for (i = 0; i < this.tChildren.size(); i++) {
							if (oldPage !== i) {
								this.tChildren.get(i)
										.setContentChangedRecursive();
							} else {
								this.tChildren.get(i).setContentChanged(true);
							}
						}
						this.setContentChanged(true);
					},
					getUsedDataSourcesByDummyRendering : function(list) {
						var lChildIndex;
						var loComponent;
						if (this.isVisible()) {
							this.createChildrenRegardingChildItemRefList();
							for (lChildIndex = 0; lChildIndex < this.tChildren
									.size(); lChildIndex++) {
								loComponent = this.tChildren.get(lChildIndex);
								if (this.isContentChanged()) {
									if (!(loComponent
											.hasChildrenContentChanged() || loComponent
											.isContentChanged())) {
										continue;
									}
								}
								loComponent
										.getUsedDataSourcesByDummyRendering(list);
							}
						}
					},
					moveComponent : function(contentareaIndex, object) {
						var loContentarea;
						if (contentareaIndex >= this.tChildren.size()) {
							sap.zen.CLocalizationSplitterMessages.INVALID_CONTENTAREA_INDEX
									.addMessageToMessageHandler(this.getPage()
											.getMessageManager(),
											sap.firefly.Severity.ERROR, null,
											null, null);
							return;
						}
						loContentarea = this.getContentArea(contentareaIndex);
						loContentarea.moveComponentToParent(object);
					}
				});
$Firefly.createClass("sap.zen.TabControl", sap.zen.ContainerComponent, {
	create : function() {
		var uid;
		sap.zen.TabControl.$superclass.create.call(this);
		uid = sap.firefly.XString.concatenate2(this.getName(), "_tf1");
		this.initControl(uid, "tab");
	},
	setText : function(tabText) {
		this.setStringProperty("TEXT", tabText);
		if (!sap.firefly.XString.isEqual((this.getParent()).getSelectedTab(),
				this.getName())) {
			this.setRenderEmptyContent(true);
		}
	},
	getText : function() {
		return this.getStringPropertyWithDefault("TEXT", "");
	},
	setEnabled : function(enabled) {
		sap.zen.TabControl.$superclass.setEnabled.call(this, enabled);
		if (!sap.firefly.XString.isEqual((this.getParent()).getSelectedTab(),
				this.getName())) {
			this.setRenderEmptyContent(true);
		}
	},
	renderControlContent : function(renderManager) {
		var renderSerializer = renderManager.getRenderSerializer();
		this.renderControlSpecificContent(renderSerializer);
		sap.zen.TabControl.$superclass.renderControlContent.call(this,
				renderManager);
	},
	renderControlSpecificContent : function(renderSerializer) {
		renderSerializer.addAttribute("caption", this.getText());
		renderSerializer.addBooleanAttribute("enabled", this
				.getBooleanPropertyWithDefault("ENABLED", true));
	},
	ignorePositionParameter : function() {
		return true;
	}
});
$Firefly
		.createClass(
				"sap.zen.TabstripControl",
				sap.zen.ContainerComponent,
				{
					oldIndex : 0,
					create : function() {
						var lUid;
						sap.zen.TabstripControl.$superclass.create.call(this);
						lUid = sap.firefly.XString.concatenate2(this.getName(),
								"_tf1");
						this.initControl(lUid, "tabstrip");
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.tabstrip/resources/js/tabstrip_handler");
						this.oldIndex = -1;
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer;
						var lSelectedPageIndex;
						var lChildIndex;
						var loTabControl;
						this.createChildrenRegardingChildItemRefList();
						this.setContentChangedAccordingToCaching(this.oldIndex);
						loRenderSerializer = renderManager
								.getRenderSerializer();
						lSelectedPageIndex = this
								.renderControlSpecificContent(loRenderSerializer);
						loRenderSerializer.openArray("content");
						for (lChildIndex = 0; lChildIndex < this.tChildren
								.size(); lChildIndex++) {
							loTabControl = this.tChildren.get(lChildIndex);
							if (lChildIndex === lSelectedPageIndex) {
								loTabControl.setRenderEmptyContent(false);
							} else {
								loTabControl.setRenderEmptyContent(true);
							}
						}
						this.renderChildren(renderManager);
						loRenderSerializer.closeArray();
						this.oldIndex = lSelectedPageIndex;
					},
					renderChildren : function(renderManager) {
						var lSelectedPageIndex;
						var lChildIndex;
						var loComponent;
						if (this.isContentChanged()) {
							sap.zen.TabstripControl.$superclass.renderChildren
									.call(this, renderManager);
						} else {
							if (this.isVisible()) {
								this.createChildrenRegardingChildItemRefList();
								lSelectedPageIndex = this
										.correctIndexIfNeeded(this
												.getSelectedTabIndex());
								for (lChildIndex = 0; lChildIndex < this.tChildren
										.size(); lChildIndex++) {
									loComponent = this.tChildren
											.get(lChildIndex);
									if (lChildIndex === lSelectedPageIndex) {
										if (loComponent.isVisible() === true) {
											if (this.isContentChanged()) {
												if (loComponent
														.hasChildrenContentChanged()) {
													loComponent
															.setContentChanged(true);
												} else {
													loComponent
															.setRenderOnlyPlaceholder(true);
												}
											}
											loComponent
													.renderComponentInternal(renderManager);
										}
									} else {
										if (loComponent.isVisible() === true) {
											if (loComponent.isContentChanged()) {
												loComponent
														.setRenderOnlyPlaceholder(true);
												loComponent
														.renderComponentInternal(renderManager);
											}
										}
									}
								}
							}
						}
					},
					renderControlSpecificContent : function(oRenderSerializer) {
						var lSelectedPageIndex = this.correctIndexIfNeeded(this
								.getSelectedTabIndex());
						var lScript;
						var lScriptAction;
						oRenderSerializer.addIntegerAttribute(
								"selectedtabindex", lSelectedPageIndex);
						oRenderSerializer.addAttribute("tablocation", "TOP");
						lScript = sap.firefly.XString.concatenate2(
								this.getId(),
								".setSelectedTabIndexByUi(__arguments__);");
						lScriptAction = this.createScriptAction(lScript,
								"__KEY__");
						oRenderSerializer
								.addAttribute("command", lScriptAction);
						return lSelectedPageIndex;
					},
					getOnSelect : function() {
						return this.getStringPropertyWithDefault("ON_SELECT",
								"");
					},
					setOnSelect : function(value) {
						this.setStringProperty("ON_SELECT", value);
					},
					getSelectedTabIndex : function() {
						return this.getIntPropertyWithDefault(
								"SELECTED_TAB_INDEX", 0);
					},
					setSelectedTabIndex : function(value) {
						var lOldTabIndex = this.getSelectedTabIndex();
						if (lOldTabIndex === value) {
							return;
						}
						this.setIntProperty("SELECTED_TAB_INDEX", value);
						this.setContentChangedAccordingToCaching(lOldTabIndex);
					},
					setSelectedTabIndexByUi : function(value) {
						var lOldTabIndex = this.getSelectedTabIndex();
						if (lOldTabIndex === value) {
							return;
						}
						this.setIntProperty("SELECTED_TAB_INDEX", value);
						this.setContentChangedAccordingToCaching(this.oldIndex);
						this.getPage().execWithoutRerender(this.getOnSelect());
					},
					getTab : function(index) {
						return this.tChildren.get(index);
					},
					setSelectedTabByName : function(pageName) {
						var lFound = false;
						var lTabIndex = 0;
						var loComponentIterator = this.tChildren.getIterator();
						var loComponent;
						var lComponentName;
						while (loComponentIterator.hasNext() && !lFound) {
							loComponent = loComponentIterator.next();
							lComponentName = loComponent.getName();
							if (sap.firefly.XString.isEqual(pageName,
									lComponentName)) {
								this.setSelectedTabIndex(lTabIndex);
								lFound = true;
							}
							lTabIndex++;
						}
					},
					getSelectedTab : function() {
						return this.tChildren.get(this.getSelectedTabIndex())
								.getName();
					},
					onSelect : function() {
						var lOnSelect = this.getOnSelect();
						if (sap.firefly.XString.size(lOnSelect) > 0) {
							this.getPage().execWithoutRerender(lOnSelect);
						}
					},
					setSelectedTab : function(value) {
						this.setSelectedTabByName(value);
					},
					isSelectedIndexAlsoEnabled : function(tabIndex) {
						var loTabControl;
						if ((tabIndex < 0)
								|| (tabIndex >= this.tChildren.size())) {
							return false;
						}
						if (this.getPage().isDesignMode()) {
							return true;
						}
						loTabControl = this.tChildren.get(tabIndex);
						return loTabControl.isEnabled();
					},
					correctIndexIfNeeded : function(selectedTabIndex) {
						var lIsEnabled;
						var lMaxCounter;
						if (this.tChildren.size() === 0) {
							return selectedTabIndex;
						}
						lIsEnabled = this
								.isSelectedIndexAlsoEnabled(selectedTabIndex);
						lMaxCounter = 0;
						if (!lIsEnabled) {
							while (!lIsEnabled) {
								selectedTabIndex++;
								if (selectedTabIndex >= this.tChildren.size()) {
									selectedTabIndex = 0;
								}
								lIsEnabled = this
										.isSelectedIndexAlsoEnabled(selectedTabIndex);
								lMaxCounter++;
								if (lMaxCounter >= this.tChildren.size()) {
									lIsEnabled = true;
								}
							}
						}
						return selectedTabIndex;
					},
					setContentChangedAccordingToCaching : function(oldPage) {
						var lChildIndex;
						for (lChildIndex = 0; lChildIndex < this.tChildren
								.size(); lChildIndex++) {
							if (lChildIndex === this.getSelectedTabIndex()) {
								if (oldPage !== lChildIndex) {
									this.tChildren.get(lChildIndex)
											.setContentChangedRecursive();
								} else {
									this.tChildren.get(lChildIndex)
											.setContentChanged(true);
								}
							} else {
								this.tChildren.get(lChildIndex)
										.setContentChanged(true);
							}
						}
						this.setContentChanged(true);
					},
					getUsedDataSourcesByDummyRendering : function(list) {
						var lSelectedPageIndex;
						var lChildIndex;
						var loComponent;
						if (this.isVisible()) {
							this.createChildrenRegardingChildItemRefList();
							lSelectedPageIndex = this.correctIndexIfNeeded(this
									.getSelectedTabIndex());
							for (lChildIndex = 0; lChildIndex < this.tChildren
									.size(); lChildIndex++) {
								loComponent = this.tChildren.get(lChildIndex);
								if (lChildIndex === lSelectedPageIndex) {
									if (loComponent.isVisible() === true) {
										if (this.isContentChanged()) {
											if (!(loComponent
													.hasChildrenContentChanged() || loComponent
													.isContentChanged())) {
												continue;
											}
										}
										loComponent
												.getUsedDataSourcesByDummyRendering(list);
									}
								}
							}
						}
					},
					moveComponent : function(tabIndex, object) {
						var loTabControl;
						if (tabIndex >= this.tChildren.size()) {
							sap.zen.CLocalizationTabstripMessages.INVALID_TABINDEX
									.addMessageToMessageHandler(this.getPage()
											.getMessageManager(),
											sap.firefly.Severity.ERROR, null,
											null, null);
							return;
						}
						loTabControl = this.getTab(tabIndex);
						loTabControl.moveComponentToParent(object);
					}
				});
$Firefly
		.createClass(
				"sap.zen.VariableDialogControl_M",
				sap.zen.Dialog_M,
				{
					$statics : {
						COMPONENT_TYPE : "udialog",
						VARIABLEDIALOG_UID : "VARIABLEDIALOG"
					},
					oFilterPanelComponent : null,
					dataSourceChanged : false,
					cancelApplicationAction : null,
					cancelVariableProcessingAction : null,
					create : function() {
						var loAppPropsComponent = this.getPage()
								.getApplicationPropertiesComponent();
						var lPromptMode = loAppPropsComponent.getPromptMode();
						var lSfinMode = sap.firefly.XString.isEqual(
								lPromptMode, "SFIN");
						var s;
						var s2;
						var idForRendering;
						this.setSFinMode(lSfinMode);
						sap.zen.VariableDialogControl_M.$superclass.create
								.call(this);
						this.setRenderCssAndShowLoadingState(false);
						s = null;
						s2 = null;
						idForRendering = this.getPage().getIdForRendering(
								"VARSCREEN_filterpanel1");
						s = 'var oDlg = sap.ui.getCore().getControl("';
						s = sap.firefly.XString.concatenate2(s, idForRendering);
						s = sap.firefly.XString.concatenate2(s,
								'"); oDlg.ZEN_submit();');
						s2 = this.createMethodCallScript("onOK");
						s = sap.firefly.XString.concatenate2(s, s2);
						this.oFilterPanelComponent = sap.zen.VariableDialogHelper
								.createFilterPanel(this.getPage(), lSfinMode,
										this, true);
						this.check(this.oFilterPanelComponent.initialCheck());
						this.setOKAction(s);
						s = 'var oDlg = sap.ui.getCore().getControl("';
						s = sap.firefly.XString.concatenate2(s, idForRendering);
						s = sap.firefly.XString.concatenate2(s,
								'"); oDlg.ZEN_cancel();');
						s2 = this.createMethodCallScript("onCancel");
						s = sap.firefly.XString.concatenate2(s, s2);
						this.cancelVariableProcessingAction = s;
						s = 'var oCrossAppNav = sap.ushell && sap.ushell.Container && sap.ushell.Container.getService("CrossApplicationNavigation");';
						s = sap.firefly.XString
								.concatenate2(s,
										"if (oCrossAppNav) { oCrossAppNav.backToPreviousApp(); } ");
						this.cancelApplicationAction = s;
						this
								.setCancelAction(this.cancelVariableProcessingAction);
						this.dataSourceChanged = true;
						this.setContent(this.oFilterPanelComponent);
					},
					handleDataSourceChanged : function(oDataSource, oCause,
							metaData, resultData) {
						this.dataSourceChanged = true;
					},
					isVisible : function() {
						return this.isVisibleInternal();
					},
					setHasCancelButton : function(hasCancelButton) {
						sap.zen.VariableDialogControl_M.$superclass.setHasCancelButton
								.call(this, hasCancelButton);
						if (hasCancelButton) {
							this.setIsInitialDialog(false);
						} else {
							sap.zen.VariableDialogControl_M.$superclass.setHasCancelButton
									.call(this, true);
							this.setIsInitialDialog(true);
						}
					},
					setIsInitialDialog : function(isInitialDialog) {
						if (isInitialDialog) {
							this.setCancelAction(this.cancelApplicationAction);
						} else {
							this
									.setCancelAction(this.cancelVariableProcessingAction);
						}
					},
					showDialog : function() {
						sap.zen.VariableDialogControl_M.$superclass.showDialog
								.call(this);
						sap.zen.VariableDialogHelper.createWrapperAndSync(this
								.getPage(), this, this.oFilterPanelComponent);
					},
					getDefaultWidthAsString : function() {
						return "500";
					},
					getDefaultHeightAsString : function() {
						return "500";
					},
					getCssStyle : function() {
						return this.getStringPropertyWithDefault("CSS_STYLE",
								"");
					},
					onOK : function() {
						var checkResult = this.oFilterPanelComponent
								.isErrorFree();
						if (checkResult) {
							this.getPage().leaveInitialVariableMode();
							sap.zen.VariableDialogControl_M.$superclass.onOK
									.call(this);
						}
					},
					onCancel : function() {
						sap.zen.VariableDialogHelper
								.cancelContainer(this.oFilterPanelComponent);
						sap.zen.VariableDialogControl_M.$superclass.onCancel
								.call(this);
					},
					check : function(checkResult) {
						this.setOKButtonEnabled(checkResult);
					},
					switchPage : function(page) {
					},
					isDataSourceChanged : function() {
						return this.dataSourceChanged;
					},
					setDataSourceChanged : function(changed) {
						this.dataSourceChanged = changed;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ZCrosstabControl",
				sap.zen.DataProviderReferenceComponent,
				{
					$statics : {
						COMPONENT_TYPE : "CROSSTAB_COMPONENT",
						CONTROL_TYPE : "xtable",
						UID_SUFFIX : "_ia_pt_a",
						HANDLER_MODULE : "zen.rt.components.crosstab/resources/js/crosstab_handler",
						COLID_ALL_COLUMNS : "*",
						ACTIVATE_SERVER_SIDE_PAGING : false,
						DEFAULT_ROWS_PER_REQUEST : 50,
						DEFAULT_COLS_PER_REQUEST : 30
					},
					oResultSet : null,
					oGrid : null,
					resultsetChangedFlag : false,
					oRootCause : null,
					pixelScrolling : false,
					rowsPerRequest : 0,
					colsPerRequest : 0,
					scrollPositionChanged : false,
					verticalScrollPosition : 0,
					horizontalScrollPosition : 0,
					oColWidthHandler : null,
					valueUpdated : false,
					tPlanningCellInputInfoList : null,
					tHeaderInfoMap : null,
					tDimNameLookup : null,
					tDimHeaderLookUp : null,
					oSelectionStore : null,
					selectionRemoved : false,
					create : function() {
						var lUid;
						sap.zen.ZCrosstabControl.$superclass.create.call(this);
						lUid = sap.firefly.XStringUtils
								.concatenate2(this.getName(),
										sap.zen.ZCrosstabControl.UID_SUFFIX);
						this.getPage().addRequireModule(
								sap.zen.ZCrosstabControl.HANDLER_MODULE);
						this.initControl(lUid,
								sap.zen.ZCrosstabControl.CONTROL_TYPE);
						this.verticalScrollPosition = 0;
						this.horizontalScrollPosition = 0;
						this.rowsPerRequest = sap.zen.ZCrosstabControl.DEFAULT_ROWS_PER_REQUEST;
						this.colsPerRequest = sap.zen.ZCrosstabControl.DEFAULT_COLS_PER_REQUEST;
						this.resultsetChangedFlag = true;
						this.oColWidthHandler = sap.zen.ZCrosstabColWidthHandler
								.create(this);
						this.validateDataSource();
					},
					handleDataSourceChanged : function(oDataSource, oCause,
							metaData, resultData) {
						sap.zen.ZCrosstabControl.$superclass.handleDataSourceChanged
								.call(this, oDataSource, oCause, metaData,
										resultData);
						this.oRootCause = oCause;
						this.resultsetChangedFlag = true;
						this.reset();
						this.setItemMessage(null);
						this.validateDataSource();
					},
					doProvideResultSetConfiguration : function() {
						var loDataSourceConfiguration = sap.zen.ResultSetConfiguration
								.create();
						return loDataSourceConfiguration;
					},
					getListOfXpRowIterator : function() {
						var ltRowIterators = sap.firefly.XList.create();
						var loRowIterator = sap.zen.XTabXpRowIterator.create(
								this.oResultSet, this);
						var loFilterRowIterator;
						ltRowIterators.add(loRowIterator);
						loFilterRowIterator = sap.zen.FilterXpRowIterator
								.create(this.oResultSet, this);
						ltRowIterators.add(loFilterRowIterator);
						return ltRowIterators;
					},
					recalculate : function() {
						this.getPage().recalculate();
					},
					reset : function() {
						this.setVerticalScrollPosition(0);
						this.setHorizontalScrollPosition(0);
						this.scrollPositionChanged = false;
						this.setContentChanged(true);
					},
					validateDataSource : function() {
						if (!this.isDataSourceAvailable()) {
							sap.zen.CLocalizationCrosstabMessages.DATASOURCE_NOT_INSTANTIATED
									.addMessageToComponent(this,
											sap.firefly.Severity.WARNING, null,
											null, null);
							return;
						}
					},
					isDataSourceAvailable : function() {
						var loQueryManager = this.getQueryManager();
						if (loQueryManager === null) {
							return false;
						}
						return true;
					},
					getQueryManager : function() {
						var loDataSource = this.getDataSource();
						var loQueryManager;
						if (loDataSource === null) {
							return null;
						}
						loQueryManager = loDataSource.getQueryManager();
						return loQueryManager;
					},
					getQueryModel : function() {
						var loQueryManager = this.getQueryManager();
						if (loQueryManager === null) {
							return null;
						}
						return loQueryManager.getQueryModel();
					},
					getResultSet : function() {
						var loDataSource = this.getDataSource();
						var loQueryManager;
						if (loDataSource === null) {
							return null;
						}
						loQueryManager = loDataSource.getQueryManager();
						if (loQueryManager === null) {
							return null;
						}
						sap.zen.DataSourceScriptApiUtils.logGetResultSet(this
								.getPage(), loQueryManager,
								"ZCrosstabControl getResultSet");
						return loDataSource.getResultSet();
					},
					renderContentInternal : function(renderManager) {
						var loRenderSerializer;
						if (!this.isDataSourceAvailable()) {
							return;
						}
						loRenderSerializer = renderManager
								.getRenderSerializer();
						loRenderSerializer.openTag("control");
						loRenderSerializer
								.addAttribute("type", this.getCType());
						loRenderSerializer.addAttribute("id", this.getCId());
						this.renderControlContent(renderManager);
						loRenderSerializer.closeTag();
					},
					renderControlContent : function(renderManager) {
						var loRenderSerializer;
						var loDisplayArea;
						var lMessageCollection;
						var lMessage;
						var loServerPaging;
						var lError;
						if (!this.isDataSourceAvailable()) {
							return;
						}
						loRenderSerializer = renderManager
								.getRenderSerializer();
						this.oResultSet = this.getResultSet();
						if (this.verticalScrollPosition >= this.oResultSet
								.getAmountOfRows()) {
							this.setVerticalScrollPosition(0);
						}
						if (this.horizontalScrollPosition >= this.oResultSet
								.getAmountOfColumns()) {
							this.setHorizontalScrollPosition(0);
						}
						this.pixelScrolling = this
								.getBooleanPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_PIXEL_SCROLL_MODE,
										false);
						if (this.pixelScrolling) {
							this.rowsPerRequest = this
									.getIntPropertyWithDefault(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_PIXEL_SCROLL_MODE_ROW_LIMIT,
											20);
							this.colsPerRequest = this
									.getIntPropertyWithDefault(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_PIXEL_SCROLL_MODE_COL_LIMIT,
											20);
						}
						loDisplayArea = sap.zen.GridDisplayArea.create(
								this.verticalScrollPosition,
								this.rowsPerRequest,
								this.horizontalScrollPosition,
								this.colsPerRequest);
						this.oGrid = this.oResultSet.getGrid(true, this
								.getDisplayScalingFactorInHeader(),
								loDisplayArea);
						if (this.valueUpdated === true) {
							this.renderCheckPlanningValue(loRenderSerializer,
									this.oGrid.getRowHeaders(), this.oGrid
											.getColumnHeaders());
							this.valueUpdated = false;
							return;
						}
						if (this.selectionRemoved === true) {
							loRenderSerializer.addBooleanAttribute(
									"removeselection", true);
							this.selectionRemoved = false;
							return;
						}
						lMessageCollection = this.getQueryManager()
								.getResultSetMessages();
						if ((lMessageCollection !== null)
								&& lMessageCollection.hasErrors()) {
							lMessage = lMessageCollection.getErrors().get(0);
							if (lMessage !== null) {
								sap.zen.CLocalizationCrosstabMessages.RESULTSET_PARAM_ERROR
										.addMessageToComponent(this,
												sap.firefly.Severity.ERROR,
												lMessage.getText(), null, null);
							}
						}
						loServerPaging = this.oResultSet.getServerPaging();
						if (loServerPaging.isPagingActive()) {
							loServerPaging.getAxisPaging(
									sap.firefly.AxisType.ROWS).setPage(
									this.verticalScrollPosition,
									sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
							loServerPaging.getAxisPaging(
									sap.firefly.AxisType.COLUMNS).setPage(
									this.horizontalScrollPosition,
									sap.zen.ResultSetAxisPaging.SIZE_DEFAULT);
						}
						if (this.oResultSet.hasErrors()) {
							lError = this.oResultSet.getErrors();
							if (lError !== null) {
								sap.zen.CLocalizationCrosstabMessages.RESULTSET_PARAM_ERROR
										.addMessageToComponent(this,
												sap.firefly.Severity.ERROR,
												lError, null, null);
							} else {
								sap.zen.CLocalizationCrosstabMessages.RESULTSET_ERROR
										.addMessageToComponent(this,
												sap.firefly.Severity.ERROR,
												null, null, null);
							}
							this.renderCrosstabEmtpyAndError(
									loRenderSerializer, "");
							return;
						}
						if ((this.oResultSet.getAmountOfRows() === 0 && this.oResultSet
								.getAmountOfColumns() === 0)
								|| (this.oResultSet.getAmountOfRows() === 0 && this.oResultSet
										.getAmountOfDimensionsOnAxis(sap.firefly.AxisType.ROWS) > 0)
								|| (this.oResultSet.getAmountOfColumns() === 0 && this.oResultSet
										.getAmountOfDimensionsOnAxis(sap.firefly.AxisType.COLUMNS) > 0)) {
							this.renderCrosstabEmtpyAndError(
									loRenderSerializer, "");
							return;
						}
						loRenderSerializer.addBooleanAttribute(
								"dataproviderchanged", false);
						loRenderSerializer.addBooleanAttribute(
								"displayexceptions", false);
						loRenderSerializer.addBooleanAttribute(
								"resultsetchanged", this.resultsetChangedFlag);
						loRenderSerializer
								.addBooleanAttribute(
										"alwaysfill",
										this
												.getBooleanPropertyWithDefault(
														sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_DISPLAY_ALWAYS_FILL,
														false));
						if (this.oRootCause !== null) {
							this.oRootCause.addToRenderSerializer(
									loRenderSerializer, "rootcause");
						}
						this.renderCrosstab(loRenderSerializer);
						this.renderTextInformation(loRenderSerializer);
						this.renderContextMenuInformation(loRenderSerializer);
						this.renderZebraInformation(loRenderSerializer);
						this.renderScrollInformation(loRenderSerializer);
						this.renderHeaderInformation(loRenderSerializer);
						this
								.renderHeaderScrollingInformation(loRenderSerializer);
						this.renderColWidthInformation(loRenderSerializer);
						this.addSelectionAttributes(loRenderSerializer);
						this.renderDragDropInformation(loRenderSerializer);
						this.renderPlanningInformation(loRenderSerializer);
						this.scrollPositionChanged = false;
						this.resultsetChangedFlag = false;
					},
					renderCrosstabEmtpyAndError : function(oRenderSerializer,
							message) {
						oRenderSerializer.addIntegerAttribute(
								"fixedcolheaders", 0);
						oRenderSerializer.addIntegerAttribute(
								"fixedrowheaders", 0);
						oRenderSerializer.addIntegerAttribute("totaldatarows",
								0);
						oRenderSerializer.addIntegerAttribute("totaldatacols",
								0);
						oRenderSerializer
								.addIntegerAttribute("sentdatarows", 0);
						oRenderSerializer
								.addIntegerAttribute("sentdatacols", 0);
						oRenderSerializer.addIntegerAttribute("tilerows", 0);
						oRenderSerializer.addIntegerAttribute("tilecols", 0);
						oRenderSerializer.addIntegerAttribute("h_pos", 0);
						oRenderSerializer.addIntegerAttribute("v_pos", 0);
						oRenderSerializer.addBooleanAttribute(
								"resultsetchanged", true);
						oRenderSerializer.addBooleanAttribute(
								"dataproviderchanged", false);
						oRenderSerializer.addBooleanAttribute("changed", true);
						oRenderSerializer
								.addAttribute(
										"messagetitle",
										sap.zen.CLocalizationCrosstabTexts.CROSSTAB_EMPTY_TITLE
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"messagetext",
										sap.zen.CLocalizationCrosstabTexts.CROSSTAB_EMPTY_TEXT
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
					},
					renderTextInformation : function(oRenderSerializer) {
						oRenderSerializer.openTag("texts");
						oRenderSerializer.addAttribute("rowtext",
								sap.zen.CLocalizationCrosstabTexts.ROW.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer.addAttribute("coltext",
								sap.zen.CLocalizationCrosstabTexts.COLUMN
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer
								.addAttribute(
										"colwidthtext",
										sap.zen.CLocalizationCrosstabTexts.COLWIDTH_DBLCLICK
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"mobilemenuitemcolwidthtext",
										sap.zen.CLocalizationCrosstabTexts.COLWIDTH_ADJUST
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						if (this
								.getBooleanPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_DD_ENABLED,
										false)) {
							oRenderSerializer
									.addAttribute(
											"measurestructtext",
											sap.zen.CLocalizationCrosstabTexts.MEASURE_STRUCTURE_TEXT
													.getText(this.getPage()
															.getLocalization(),
															null, null, null));
						}
						oRenderSerializer.openTag("sorting");
						oRenderSerializer.addAttribute("length", "3");
						oRenderSerializer.openTag("0");
						oRenderSerializer.addAttribute("alttext",
								sap.zen.CLocalizationCrosstabTexts.SORTED_NONE
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("tooltipidx", "0");
						oRenderSerializer.closeTag();
						oRenderSerializer.openTag("1");
						oRenderSerializer
								.addAttribute(
										"alttext",
										sap.zen.CLocalizationCrosstabTexts.SORTED_ASCENDING
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addAttribute("tooltipidx", "1");
						oRenderSerializer.closeTag();
						oRenderSerializer.openTag("2");
						oRenderSerializer
								.addAttribute(
										"alttext",
										sap.zen.CLocalizationCrosstabTexts.SORTED_DESCENDING
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addAttribute("tooltipidx", "2");
						oRenderSerializer.closeTag();
						oRenderSerializer.closeTag();
						oRenderSerializer.closeTag();
					},
					renderZebraInformation : function(oRenderSerializer) {
						var lZebraMode = this
								.getStringPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ZEBRA_MODE,
										sap.zen.CCrosstabZebraMode.FULL
												.getValue());
						if (sap.firefly.XString.isEqual(lZebraMode,
								sap.zen.CCrosstabZebraMode.DATA.getValue())
								|| sap.firefly.XString.isEqual(lZebraMode,
										sap.zen.CCrosstabZebraMode.OFF
												.getValue())) {
							oRenderSerializer.addAttribute("zebra", lZebraMode);
						}
					},
					renderCrosstab : function(oRenderSerializer) {
						var lCrosstabRow;
						var lCrosstabCol;
						var loGridCell;
						var lRowSpan;
						var lColSpan;
						oRenderSerializer.addIntegerAttribute(
								"fixedrowheaders", this.oGrid.getRowHeaders());
						oRenderSerializer.addIntegerAttribute(
								"fixedcolheaders", this.oGrid
										.getColumnHeaders());
						oRenderSerializer.addIntegerAttribute("totaldatarows",
								this.oGrid.getDataRows());
						oRenderSerializer.addIntegerAttribute("totaldatacols",
								this.oGrid.getDataColumns());
						oRenderSerializer.addBooleanAttribute("pixelscrolling",
								this.pixelScrolling);
						oRenderSerializer.addIntegerAttribute("tilerows",
								this.rowsPerRequest);
						oRenderSerializer.addIntegerAttribute("tilecols",
								this.colsPerRequest);
						oRenderSerializer.addIntegerAttribute("sentdatarows",
								this.oGrid.getPageDataRows());
						oRenderSerializer.addIntegerAttribute("sentdatacols",
								this.oGrid.getPageDataColumns());
						this.tDimNameLookup = sap.firefly.XSetOfNameObject
								.create();
						this.tHeaderInfoMap = sap.firefly.XHashMapByString
								.create();
						this.tDimHeaderLookUp = sap.firefly.XHashMapByString
								.create();
						oRenderSerializer.openArray("rows");
						for (lCrosstabRow = 0; lCrosstabRow < this.oGrid
								.getPageRows(); lCrosstabRow++) {
							oRenderSerializer.openTag("row");
							oRenderSerializer.addIntegerAttribute("rowidx",
									lCrosstabRow + 1);
							oRenderSerializer.openArray("cells");
							for (lCrosstabCol = 0; lCrosstabCol < this.oGrid
									.getPageColumns(); lCrosstabCol++) {
								loGridCell = this.oGrid.getPageCell(
										lCrosstabRow, lCrosstabCol);
								if ((loGridCell.getRowSpan() <= 0)
										|| (loGridCell.getColumnSpan() <= 0)) {
									continue;
								}
								oRenderSerializer.openTag("control");
								oRenderSerializer.addIntegerAttribute("colidx",
										lCrosstabCol + 1);
								if (loGridCell.getRowSpan() > 1) {
									lRowSpan = loGridCell.getRowSpan();
									oRenderSerializer.addIntegerAttribute(
											"rowspan", lRowSpan);
								}
								if (loGridCell.getColumnSpan() > 1) {
									lColSpan = loGridCell.getColumnSpan();
									oRenderSerializer.addIntegerAttribute(
											"colspan", lColSpan);
								}
								if (loGridCell.isTotal() === true) {
									oRenderSerializer.addBooleanAttribute(
											"isresult", true);
								}
								if (loGridCell.isInputEnabled()) {
									oRenderSerializer.addBooleanAttribute(
											"isdataentryenabled", true);
								}
								if (loGridCell.isHeaderCell()) {
									this.renderCrosstabHeaderCell(
											oRenderSerializer, loGridCell,
											lCrosstabRow, lCrosstabCol);
									oRenderSerializer.addText(loGridCell
											.getFormattedValue());
								} else {
									oRenderSerializer.addText(loGridCell
											.getFormattedValue());
								}
								oRenderSerializer.closeTag();
							}
							oRenderSerializer.closeArray();
							oRenderSerializer.closeTag();
						}
						oRenderSerializer.closeArray();
					},
					renderCrosstabHeaderCell : function(oRenderSerializer,
							oGridCell, crosstabRow, crosstabCol) {
						var ltHeaderData;
						var loDimension;
						var loDimensionMember;
						var loInternalField;
						var loTuple;
						var loTupleElement;
						var lHeaderDataIndex;
						var loHeaderData;
						var lRowColKey;
						var lSortDirection;
						var lSortAction;
						var lIsDimensionSorting;
						var lIsKeyField;
						var loInternalDimensionMember;
						var loStructureMember;
						var loMeasureDimension;
						var lIsAttributeSorting;
						var lAxis;
						var lNodeState;
						var lNodeLevel;
						var lNodeAlignment;
						var lWriteHierarchyAction;
						var lDataSourceName;
						var lCommand;
						var lOtherAxisIndex;
						var lScriptSequence;
						var lScriptSequenceItemRecalc;
						var lScriptSequenceItemSetDrillState;
						var lDecimals;
						if (!oGridCell.isHeaderCell()) {
							return;
						}
						ltHeaderData = oGridCell.getHeaderInfo()
								.getHeaderData();
						loDimension = null;
						loDimensionMember = null;
						loInternalField = null;
						loTuple = null;
						loTupleElement = null;
						if (ltHeaderData !== null && !ltHeaderData.isEmpty()) {
							loDimension = ltHeaderData.get(0).getDimension();
							loDimensionMember = ltHeaderData.get(0)
									.getDimensionMember();
							loInternalField = ltHeaderData.get(0).getField();
							loTuple = ltHeaderData.get(0).getTuple();
							loTupleElement = ltHeaderData.get(0)
									.getTupleElement();
						}
						if (ltHeaderData !== null && !ltHeaderData.isEmpty()) {
							for (lHeaderDataIndex = 0; lHeaderDataIndex < ltHeaderData
									.size(); lHeaderDataIndex++) {
								loHeaderData = ltHeaderData
										.get(lHeaderDataIndex);
								if (loHeaderData === null) {
									continue;
								}
								if (loTuple === null) {
									lRowColKey = sap.firefly.XStringUtils
											.concatenate3(
													sap.firefly.XInteger
															.convertIntegerToString(crosstabRow),
													"/",
													sap.firefly.XInteger
															.convertIntegerToString(crosstabCol));
									this.createDimHeaderLookup(lRowColKey,
											loHeaderData);
								}
								if (loHeaderData.getAxis() === sap.firefly.AxisType.ROWS) {
									this.createHeaderInfo(loHeaderData,
											crosstabCol, oGridCell.getGrid()
													.getRowHeaders(), oGridCell
													.getGrid()
													.getColumnHeaders());
								} else {
									if (loHeaderData.getAxis() === sap.firefly.AxisType.COLUMNS) {
										this.createHeaderInfo(loHeaderData,
												crosstabRow, oGridCell
														.getGrid()
														.getRowHeaders(),
												oGridCell.getGrid()
														.getColumnHeaders());
									}
								}
							}
						}
						if (loDimension !== null) {
							lSortDirection = oGridCell.getHeaderInfo()
									.getSortDirection();
							if (lSortDirection !== null) {
								lSortAction = null;
								lIsDimensionSorting = false;
								lIsKeyField = false;
								if (loDimension.isMeasureStructure()) {
									if (loDimensionMember !== null) {
										loInternalDimensionMember = loDimensionMember
												.getInternalObject();
										loStructureMember = loInternalDimensionMember;
										loMeasureDimension = this
												.getQueryModel()
												.getMeasureDimension();
										loStructureMember = loMeasureDimension
												.getStructureMember(loStructureMember
														.getName());
										if (loStructureMember !== null) {
											lIsDimensionSorting = false;
											lIsKeyField = false;
											lSortAction = this
													.createCommandSortDimension(
															loStructureMember
																	.getName(),
															lIsKeyField,
															lSortDirection,
															lIsDimensionSorting);
										}
									}
								} else {
									lIsDimensionSorting = true;
									lIsAttributeSorting = false;
									if (loInternalField !== null) {
										lIsKeyField = loInternalField
												.getPresentationType()
												.isTypeOf(
														sap.firefly.PresentationType.ABSTRACT_KEY);
										lIsAttributeSorting = sap.zen.DataSourceScriptApiUtils
												.isAttribute(this
														.getDataSource(),
														loInternalField
																.getAttribute());
									}
									if (lIsAttributeSorting
											&& loInternalField !== null) {
										lSortAction = this
												.createCommandSortAttribute(
														loDimension.getName(),
														loInternalField
																.getAttribute()
																.getName(),
														lIsKeyField,
														lSortDirection);
									} else {
										lSortAction = this
												.createCommandSortDimension(
														loDimension.getName(),
														lIsKeyField,
														lSortDirection,
														lIsDimensionSorting);
									}
								}
								this.renderSortInformation(oRenderSerializer,
										lSortDirection, lSortAction);
							}
						}
						if (ltHeaderData !== null && !ltHeaderData.isEmpty()) {
							if (loTuple !== null) {
								if (ltHeaderData.get(0).getMergeKey() !== null) {
									oRenderSerializer.addAttribute("key",
											ltHeaderData.get(0).getMergeKey());
								}
								if (ltHeaderData.get(0).isInnerMember()) {
									oRenderSerializer.addBooleanAttribute(
											"isinnermember", true);
								}
							}
						}
						if (ltHeaderData !== null && !ltHeaderData.isEmpty()
								&& loTuple !== null && loTupleElement !== null) {
							if (oGridCell.isHierarchical()) {
								lAxis = oGridCell.getHeaderInfo().getAxis();
								lNodeState = oGridCell.getNodeState();
								lNodeLevel = oGridCell.getNodeLevel();
								lNodeAlignment = oGridCell.getNodeAlignment();
								if (this
										.getBooleanPropertyWithDefault(
												sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_HIERARCHY_NAVIGATION,
												true)) {
									lWriteHierarchyAction = false;
									if (sap.firefly.DrillState.EXPANDED
											.isEqualTo(lNodeState)) {
										oRenderSerializer.addIntegerAttribute(
												"level", lNodeLevel);
										oRenderSerializer.addAttribute(
												"drillstate", "O");
										lWriteHierarchyAction = true;
									} else {
										if (sap.firefly.DrillState.COLLAPSED
												.isEqualTo(lNodeState)) {
											oRenderSerializer
													.addIntegerAttribute(
															"level", lNodeLevel);
											oRenderSerializer.addAttribute(
													"drillstate", "C");
											lWriteHierarchyAction = true;
										} else {
											if (sap.firefly.DrillState.LEAF
													.isEqualTo(lNodeState)) {
												if (lNodeLevel > 0) {
													oRenderSerializer
															.addIntegerAttribute(
																	"level",
																	lNodeLevel);
													oRenderSerializer
															.addAttribute(
																	"drillstate",
																	"L");
												}
											}
										}
									}
									if (lWriteHierarchyAction) {
										lDataSourceName = this.getDataSource()
												.getId();
										lCommand = sap.firefly.XStringUtils
												.concatenate2(lDataSourceName,
														".toggleDrillState('");
										lCommand = sap.firefly.XStringUtils
												.concatenate2(lCommand, lAxis
														.getName());
										lCommand = sap.firefly.XStringUtils
												.concatenate2(lCommand, "',");
										lCommand = sap.firefly.XStringUtils
												.concatenate2(
														lCommand,
														sap.firefly.XInteger
																.convertIntegerToString(loTuple
																		.getIndex()));
										lCommand = sap.firefly.XStringUtils
												.concatenate2(lCommand, ",");
										lOtherAxisIndex = loTupleElement
												.getIndex();
										if (lAxis === sap.firefly.AxisType.ROWS) {
											lOtherAxisIndex = oGridCell
													.getColumnIndex();
										} else {
											if (lAxis === sap.firefly.AxisType.COLUMNS) {
												lOtherAxisIndex = oGridCell
														.getRowIndex();
											}
										}
										lCommand = sap.firefly.XStringUtils
												.concatenate2(
														lCommand,
														sap.firefly.XInteger
																.convertIntegerToString(lOtherAxisIndex));
										lCommand = sap.firefly.XStringUtils
												.concatenate2(lCommand, ",'");
										lCommand = sap.firefly.XStringUtils
												.concatenate2(lCommand, "');");
										if ((this.getQueryManager() !== null)
												&& this.getQueryManager()
														.isDataEntryEnabled()
												&& !this.getQueryManager()
														.isDataEntryReadOnly()) {
											lScriptSequence = new sap.zen.ScriptSequence();
											lScriptSequenceItemRecalc = this
													.createScriptSequenceItemMethodCall(
															this, "recalculate");
											lScriptSequence
													.add(lScriptSequenceItemRecalc);
											lScriptSequenceItemSetDrillState = this
													.createScriptSequenceItem(lCommand);
											lScriptSequence
													.add(lScriptSequenceItemSetDrillState);
											lCommand = lScriptSequence
													.createScript(this
															.getPage());
										} else {
											lCommand = this
													.createScript(lCommand);
										}
										oRenderSerializer.addAttribute(
												"hierarchyaction", lCommand);
										if (sap.firefly.Alignment.CHILDREN_ABOVE_PARENT
												.isEqualTo(lNodeAlignment)) {
											oRenderSerializer.addAttribute(
													"nodeAlignment", "bottom");
										}
									}
								}
							}
						}
						if (sap.firefly.XMath.binaryAnd(oGridCell.getStyle(),
								sap.zen.GridCell.STYLE_INTERNAL_VALUE) > 0) {
							oRenderSerializer.addAttribute("valueType",
									oGridCell.getValueType().getName());
							if (oGridCell.getValueType().isNumber()) {
								lDecimals = 0;
								if (loDimensionMember !== null) {
									lDecimals = loDimensionMember.getDecimals();
								}
								oRenderSerializer.addIntegerAttribute(
										"decimals", lDecimals);
							}
							if (sap.firefly.XStringUtils
									.isNotNullAndNotEmpty(oGridCell
											.getFormatString())) {
								oRenderSerializer.addAttribute("formatString",
										oGridCell.getFormatString());
							}
						}
					},
					createDimHeaderLookup : function(mapKey, oResultSetInfo) {
						if (!this.tDimHeaderLookUp.containsKey(mapKey)) {
							this.tDimHeaderLookUp.put(mapKey, oResultSetInfo);
						}
					},
					isDimVisible : function(oInternalDimension) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, oInternalDimension.getName());
						var lMemberDisplay = loDimension.getProperties()
								.getMemberDisplay(null);
						if (lMemberDisplay === sap.zen.CMemberDisplayMode.KEY
								|| lMemberDisplay === sap.zen.CMemberDisplayMode.KEY_TEXT
								|| lMemberDisplay === sap.zen.CMemberDisplayMode.TEXT
								|| lMemberDisplay === sap.zen.CMemberDisplayMode.TEXT_KEY) {
							return true;
						}
						return false;
					},
					getMemberName : function(oDimensionMember) {
						var lMemberName;
						if (oDimensionMember.isTotal()) {
							lMemberName = "(RESULT_MEMBER)";
						} else {
							lMemberName = oDimensionMember.getName();
						}
						return lMemberName;
					},
					getSelectedMember : function(dimensionName) {
						var loDimensionMember = null;
						var loDimension;
						var ltSelectedTuples;
						var loTuple;
						var lAxisContainsDimension;
						var loTupleElement;
						var loScriptableMember;
						if (this.oSelectionStore !== null) {
							loDimension = sap.zen.DimensionWrapper.create(
									this.oResultSet.getDataSource(),
									this.oResultSet, dimensionName);
							if (loDimension !== null) {
								ltSelectedTuples = this.oSelectionStore
										.getSelectedTuples();
								if (ltSelectedTuples.size() > 0) {
									loTuple = ltSelectedTuples.get(0);
									lAxisContainsDimension = this
											.selectionAxisContainsRequestedDimension(
													loTuple, loDimension);
									if (lAxisContainsDimension) {
										loTupleElement = loTuple
												.getTupleElement(-1,
														loDimension);
										if (loTupleElement !== null) {
											loDimensionMember = loTupleElement
													.getDimensionMember();
										}
									}
								}
							}
						}
						loScriptableMember = new sap.zen.ScriptableMember();
						if (loDimensionMember !== null) {
							loScriptableMember.doInit2(loDimensionMember);
						} else {
							loScriptableMember.doInit("");
						}
						return loScriptableMember;
					},
					getSelectedMembers : function(dimensionName) {
						var ltScriptableMembers = sap.firefly.XList.create();
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						var ltLookupSetDimensionMembers = sap.firefly.XSetOfNameObject
								.create();
						var ltSelectedTuples;
						var i;
						var loTuple;
						var lAxisContainsDimension;
						var loTupleElement;
						var loDimensionMember;
						var loScriptableMember;
						if (this.oSelectionStore !== null
								&& loDimension !== null) {
							ltSelectedTuples = this.oSelectionStore
									.getSelectedTuples();
							for (i = 0; i < ltSelectedTuples.size(); i++) {
								loTuple = ltSelectedTuples.get(i);
								if (loTuple === null) {
									continue;
								}
								lAxisContainsDimension = this
										.selectionAxisContainsRequestedDimension(
												loTuple, loDimension);
								if (lAxisContainsDimension) {
									loTupleElement = loTuple.getTupleElement(
											-1, loDimension);
									if (loTupleElement !== null) {
										loDimensionMember = loTupleElement
												.getDimensionMember();
										if (loDimensionMember !== null
												&& !ltLookupSetDimensionMembers
														.contains(loDimensionMember)) {
											loScriptableMember = new sap.zen.ScriptableMember();
											loScriptableMember
													.doInit2(loDimensionMember);
											ltScriptableMembers
													.add(loScriptableMember);
											ltLookupSetDimensionMembers
													.put(loDimensionMember);
										}
									}
								}
							}
						}
						return this.getPage().getWindow().createJSArray(
								ltScriptableMembers);
					},
					isSelectable : function() {
						var lSelectionMode = this
								.getProperty(sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_SELECTION);
						return sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(lSelectionMode);
					},
					includeSelectedTupleInformation : function(
							oRenderSerializer) {
						var ltSelectionAnchors;
						var i;
						var loSelectionAnchor;
						if (this.oSelectionStore !== null) {
							ltSelectionAnchors = this.oSelectionStore
									.getSelectionAnchors();
							if (ltSelectionAnchors !== null
									&& ltSelectionAnchors.size() > 0) {
								oRenderSerializer.openTag("selection");
								oRenderSerializer
										.addAttribute("axis",
												ltSelectionAnchors.get(0)
														.getAxisName());
								oRenderSerializer.addIntegerAttribute("length",
										ltSelectionAnchors.size());
								for (i = 0; i < ltSelectionAnchors.size(); i++) {
									loSelectionAnchor = ltSelectionAnchors
											.get(i);
									if (loSelectionAnchor === null) {
										continue;
									}
									oRenderSerializer
											.openTag(sap.firefly.XInteger
													.convertIntegerToString(i));
									oRenderSerializer.addIntegerAttribute(
											"row", loSelectionAnchor.getRow());
									oRenderSerializer.addIntegerAttribute(
											"col", loSelectionAnchor.getCol());
									oRenderSerializer.closeTag();
								}
								oRenderSerializer.closeTag();
							}
						}
					},
					addSelectionAttributes : function(oRenderSerializer) {
						var lSelectionMode = this
								.getProperty(sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_SELECTION);
						var lSelectionSpace;
						var sCommand;
						var onSelectScript;
						var lEnableHoverEffect;
						var lSingleOnSelect;
						var lRepeatTexts;
						if (sap.firefly.XString.isEqual("X", lSelectionMode)) {
							lSelectionMode = sap.zen.CCrosstabSelectionMode.SINGLE
									.getValue();
						}
						lSelectionSpace = this
								.getProperty(sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_SELECTION_SPACE);
						if (!sap.firefly.XString.isEqual(lSelectionMode,
								sap.zen.CCrosstabSelectionMode.NONE.getValue())) {
							oRenderSerializer.addAttribute("selectionmode",
									lSelectionMode);
							oRenderSerializer.addAttribute("selectionspace",
									lSelectionSpace);
							sCommand = sap.firefly.XStringUtils.concatenate2(
									this.getId(),
									".setSelection('__arguments__');");
							onSelectScript = this.createScriptAction(sCommand,
									"__CELLS__");
							oRenderSerializer.addAttribute("onselectcommand",
									onSelectScript);
							lEnableHoverEffect = this
									.getBooleanPropertyWithDefault(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_SELECTION_HOVERING,
											true);
							if (!lEnableHoverEffect) {
								oRenderSerializer.addBooleanAttribute(
										"disablehovering", true);
							}
							lSingleOnSelect = this
									.getBooleanPropertyWithDefault(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_MULTISELECT_SINGLE_EVENT,
											false);
							if (lSingleOnSelect) {
								oRenderSerializer.addBooleanAttribute(
										"singleonselectevent", true);
							}
							lRepeatTexts = this.isRepeatTexts();
							if (lRepeatTexts) {
								oRenderSerializer.addBooleanAttribute(
										"repeattxt", lRepeatTexts);
							}
							this
									.includeSelectedTupleInformation(oRenderSerializer);
						}
					},
					isRepeatTexts : function() {
						var lRepeatTexts = this
								.getBooleanPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_REPEAT_TEXTS,
										false);
						return lRepeatTexts;
					},
					selectionAxisContainsRequestedDimension : function(
							oSelectedTuple, requestedDimension) {
						var lAxisContainsDimension = false;
						var loResultSet = oSelectedTuple.getResultSet();
						var ltDimensions = loResultSet
								.getAxisDimensions(oSelectedTuple.getAxis());
						var lDimensions = ltDimensions.size();
						var i;
						var loDimension;
						for (i = 0; i < lDimensions; i++) {
							loDimension = ltDimensions.get(i);
							if (loDimension === null) {
								continue;
							}
							if (sap.firefly.XString.isEqual(loDimension
									.getName(), requestedDimension.getName())) {
								lAxisContainsDimension = true;
								break;
							}
						}
						return lAxisContainsDimension;
					},
					getSelection : function() {
						this.createUnsupportedApiMessage("getSelection");
						return null;
					},
					setOnSelect : function(text) {
						this
								.setStringProperty(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ON_SELECT,
										text);
					},
					getOnSelect : function() {
						return this
								.getStringPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ON_SELECT,
										"");
					},
					getTupleAxisIndexFromCrosstabTuple : function(
							oCrosstabTuple) {
						var lAxisIndex = -1;
						var lAmountOfTuplesOnAxis = this.oResultSet
								.getAmountOfTuplesOnAxis(oCrosstabTuple
										.getAxis());
						var lCrosstabTuples = oCrosstabTuple.size();
						var loCrosstabTupleElement;
						var loTuple = null;
						var ltTupleElements = null;
						var loTupleElement = null;
						var lTupleElements;
						var loDimensionMember;
						var lTupleFound = true;
						var i;
						var j;
						for (i = 0; i < lAmountOfTuplesOnAxis; i++) {
							loTuple = this.oResultSet.getTuple(oCrosstabTuple
									.getAxis(), i, null, null);
							if (loTuple === null) {
								continue;
							}
							ltTupleElements = loTuple.getTupleElements();
							lTupleElements = ltTupleElements.size();
							if (lTupleElements === lCrosstabTuples) {
								lTupleFound = true;
								for (j = 0; j < lTupleElements; j++) {
									loTupleElement = ltTupleElements.get(j);
									if (loTupleElement === null) {
										continue;
									}
									loDimensionMember = loTupleElement
											.getDimensionMember();
									loCrosstabTupleElement = oCrosstabTuple
											.getTupleElement(j);
									if (!(sap.firefly.XString
											.isEqual(
													sap.zen.ZCrosstabTupleElement
															.sGetDimensionMemberName(loDimensionMember),
													loCrosstabTupleElement
															.getDimensionMemberName()) && sap.firefly.XString
											.isEqual(loDimensionMember
													.getDimension().getName(),
													loCrosstabTupleElement
															.getDimensionName()))) {
										lTupleFound = false;
										break;
									}
								}
							} else {
								lTupleFound = false;
							}
							if (lTupleFound) {
								lAxisIndex = i;
								break;
							}
						}
						return lAxisIndex;
					},
					getTuplePosition : function(oTuple) {
						var newTuplePosOnAxis = this
								.getTupleAxisIndexFromCrosstabTuple(oTuple);
						var lPixelScrolling = this
								.getBooleanPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_PIXEL_SCROLL_MODE,
										false);
						if (newTuplePosOnAxis > -1 && lPixelScrolling) {
							if (oTuple.getAxis() === sap.firefly.AxisType.ROWS) {
								if (newTuplePosOnAxis >= this.rowsPerRequest) {
									newTuplePosOnAxis = -1;
								}
							} else {
								if (oTuple.getAxis() === sap.firefly.AxisType.COLUMNS) {
									if (newTuplePosOnAxis >= this.colsPerRequest) {
										newTuplePosOnAxis = -1;
									}
								}
							}
						}
						return newTuplePosOnAxis;
					},
					correctIndexForHiddenDimensions : function(index, axisType) {
						var lCorrectIndex = index;
						var loAxis = this.getQueryManager().getQueryModel()
								.getAxis(axisType);
						var ltDimensions = loAxis.getDimensionList();
						var lDimensionIndex;
						var loDimension;
						if (ltDimensions !== null) {
							for (lDimensionIndex = 0; lDimensionIndex <= lCorrectIndex
									&& lDimensionIndex < ltDimensions.size(); lDimensionIndex++) {
								loDimension = ltDimensions.get(lDimensionIndex);
								if (loDimension === null) {
									continue;
								}
								if (!this.isDimVisible(loDimension)) {
									lCorrectIndex++;
								}
							}
						}
						return lCorrectIndex;
					},
					setSelection : function(object) {
						var loJsonObject = sap.buddha.XJsonObject
								.create(object);
						var lJsonString = loJsonObject.getString();
						var loJsonParser = this.getJsonParser();
						var loJsonElement = loJsonParser.parse(lJsonString);
						var loJsonStructure = loJsonElement.asStructure();
						var ltJsonListSelectedElements;
						var loJsonListSelectedElement;
						var lJsonListSelectedElementIndex;
						var lRowIndex;
						var lColIndex;
						var lFixedRowHeaders;
						var lFixedColHeaders;
						this.oSelectionStore = sap.zen.ZCrosstabSelectionStore
								.create(this);
						ltJsonListSelectedElements = loJsonStructure
								.getListByName("ROW");
						if (ltJsonListSelectedElements !== null) {
							for (lJsonListSelectedElementIndex = 0; lJsonListSelectedElementIndex < ltJsonListSelectedElements
									.size(); lJsonListSelectedElementIndex++) {
								loJsonListSelectedElement = ltJsonListSelectedElements
										.getStructureByIndex(lJsonListSelectedElementIndex);
								if (loJsonListSelectedElement === null) {
									continue;
								}
								lRowIndex = loJsonListSelectedElement
										.getIntegerByName("row");
								lColIndex = loJsonListSelectedElement
										.getIntegerByName("col");
								lColIndex = this
										.correctIndexForHiddenDimensions(
												lColIndex,
												sap.firefly.AxisType.ROWS);
								this.oSelectionStore
										.collectSelectedTupleElements(
												this.oResultSet,
												sap.firefly.AxisType.ROWS,
												lRowIndex, lColIndex);
							}
						} else {
							ltJsonListSelectedElements = loJsonStructure
									.getListByName("COL");
							if (ltJsonListSelectedElements !== null) {
								for (lJsonListSelectedElementIndex = 0; lJsonListSelectedElementIndex < ltJsonListSelectedElements
										.size(); lJsonListSelectedElementIndex++) {
									loJsonListSelectedElement = ltJsonListSelectedElements
											.getStructureByIndex(lJsonListSelectedElementIndex);
									if (loJsonListSelectedElement === null) {
										continue;
									}
									lRowIndex = loJsonListSelectedElement
											.getIntegerByName("row");
									lRowIndex = this
											.correctIndexForHiddenDimensions(
													lRowIndex,
													sap.firefly.AxisType.COLUMNS);
									lColIndex = loJsonListSelectedElement
											.getIntegerByName("col");
									this.oSelectionStore
											.collectSelectedTupleElements(
													this.oResultSet,
													sap.firefly.AxisType.COLUMNS,
													lRowIndex, lColIndex);
								}
							} else {
								ltJsonListSelectedElements = loJsonStructure
										.getListByName("DATA");
								if (ltJsonListSelectedElements !== null) {
									loJsonListSelectedElement = ltJsonListSelectedElements
											.getStructureByIndex(0);
									lRowIndex = loJsonListSelectedElement
											.getIntegerByName("row");
									lRowIndex = this
											.correctIndexForHiddenDimensions(
													lRowIndex,
													sap.firefly.AxisType.COLUMNS);
									lColIndex = loJsonListSelectedElement
											.getIntegerByName("col");
									lColIndex = this
											.correctIndexForHiddenDimensions(
													lColIndex,
													sap.firefly.AxisType.ROWS);
									lFixedRowHeaders = this.oResultSet
											.getTuple(
													sap.firefly.AxisType.ROWS,
													0, null, null)
											.getAmountOfTupleElements() - 1;
									lFixedColHeaders = this.oResultSet
											.getTuple(
													sap.firefly.AxisType.COLUMNS,
													0, null, null)
											.getAmountOfTupleElements() - 1;
									this.oSelectionStore
											.collectSelectedTupleElements(
													this.oResultSet,
													sap.firefly.AxisType.ROWS,
													lRowIndex, lFixedRowHeaders);
									this.oSelectionStore
											.collectSelectedTupleElements(
													this.oResultSet,
													sap.firefly.AxisType.COLUMNS,
													lFixedColHeaders, lColIndex);
								} else {
									this.oSelectionStore = null;
								}
							}
						}
						this.onSelect();
					},
					onSelect : function() {
						var onSelectScript = this
								.getStringPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ON_SELECT,
										"");
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(onSelectScript)) {
							this.getPage().execWithoutRerender(onSelectScript);
						}
					},
					removeSelection : function() {
						if (this.oSelectionStore !== null) {
							this.oSelectionStore = null;
							if (!this.isContentChanged()) {
								this.setContentChanged(true);
								this.selectionRemoved = true;
							}
						}
					},
					isConditionalFormattingVisible : function() {
						this
								.createUnsupportedApiMessage("isConditionalFormattingVisible");
						return false;
					},
					setConditionalFormattingVisible : function(
							isConditionalFormattingVisible) {
						this
								.createUnsupportedApiMessage("setConditionalFormattingVisible");
					},
					isHierarchyNavigationEnabled : function() {
						return this
								.getBooleanPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_HIERARCHY_NAVIGATION,
										true);
					},
					setHierarchyNavigationEnabled : function(
							isHierarchyNavigationEnabled) {
						this
								.setBooleanProperty(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_HIERARCHY_NAVIGATION,
										isHierarchyNavigationEnabled);
						this.setContentChanged(true);
					},
					getScalingFactorDisplayMode : function() {
						var lDisplayMode = this
								.getStringPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_SCALING_FACTOR_DISPLAY_MODE,
										sap.zen.CCrosstabScalingFactorDisplayMode.NO_DISPLAY
												.getValue());
						return sap.zen.CCrosstabScalingFactorDisplayMode
								.valueOf2(lDisplayMode);
					},
					setScalingFactorDisplayMode : function(displayMode) {
						if (displayMode === null) {
							return;
						}
						this
								.setStringProperty(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_SCALING_FACTOR_DISPLAY_MODE,
										displayMode.getValue());
						this.setContentChanged(true);
					},
					getScalingFactorDisplayName : function() {
						var lDisplayMode = this.getScalingFactorDisplayMode();
						return lDisplayMode.getValue();
					},
					setScalingFactorDisplayName : function(displayModeName) {
						var lDisplayMode = sap.zen.CCrosstabScalingFactorDisplayMode
								.valueOf2(displayModeName);
						this.setScalingFactorDisplayMode(lDisplayMode);
					},
					getDisplayScalingFactorInHeader : function() {
						var lDisplayScalingFactorsInHeader = false;
						var lDisplayMode = this.getScalingFactorDisplayMode();
						var lMeasureWithScalingFactorExists;
						if (lDisplayMode === sap.zen.CCrosstabScalingFactorDisplayMode.IN_HEADER) {
							lMeasureWithScalingFactorExists = this.oResultSet
									.doesMeasureWithScalingFactorExist();
							if (lMeasureWithScalingFactorExists) {
								lDisplayScalingFactorsInHeader = true;
							}
						}
						return lDisplayScalingFactorsInHeader;
					},
					setDisplayScalingFactorInHeader : function(display) {
						if (display) {
							this
									.setScalingFactorDisplayMode(sap.zen.CCrosstabScalingFactorDisplayMode.IN_HEADER);
						} else {
							this
									.setScalingFactorDisplayMode(sap.zen.CCrosstabScalingFactorDisplayMode.NO_DISPLAY);
						}
					},
					renderSortInformation : function(oRenderSerializer,
							sortDirection, sortAction) {
						if (sortDirection === null) {
							return;
						}
						if (sap.firefly.XStringUtils
								.isNotNullAndNotEmpty(sortAction)) {
							if (sortDirection === sap.firefly.XSortDirection.ASCENDING) {
								oRenderSerializer.addAttribute("sort", "ASC");
								oRenderSerializer.addAttribute("sorttxtidx",
										"1");
								oRenderSerializer.addAttribute("sortaction",
										sortAction);
							} else {
								if (sortDirection === sap.firefly.XSortDirection.DESCENDING) {
									oRenderSerializer.addAttribute("sort",
											"DESC");
									oRenderSerializer.addAttribute(
											"sorttxtidx", "2");
									oRenderSerializer.addAttribute(
											"sortaction", sortAction);
								} else {
									if ((sortDirection === sap.firefly.XSortDirection.NONE)
											|| (sortDirection === sap.firefly.XSortDirection.DEFAULT_VALUE)) {
										oRenderSerializer.addAttribute("sort",
												"NONE");
										oRenderSerializer.addAttribute(
												"sorttxtidx", "0");
										oRenderSerializer.addAttribute(
												"sortaction", sortAction);
									}
								}
							}
						}
					},
					createCommandSortDimension : function(name, keyField,
							sortDirection, isDimensionSorting) {
						var lScript;
						var lIsSortingEnabled;
						var lCommand;
						var lDataSourceName;
						var lScriptSequence;
						var lSequenceRecalc;
						var lSequenceSort;
						if (sortDirection === null) {
							return null;
						}
						lScript = "";
						lIsSortingEnabled = this
								.getBooleanPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_SORTING,
										true);
						if (lIsSortingEnabled) {
							lCommand = null;
							lDataSourceName = this.getDataSource().getName();
							lCommand = sap.firefly.XStringUtils.concatenate2(
									lDataSourceName, ".");
							if (isDimensionSorting) {
								lCommand = sap.firefly.XStringUtils
										.concatenate2(lCommand,
												"setDimensionSorting(");
							} else {
								lCommand = sap.firefly.XStringUtils
										.concatenate2(lCommand,
												"setMeasureSorting(");
							}
							lCommand = sap.firefly.XStringUtils.concatenate4(
									lCommand, "'", name, "'");
							lCommand = sap.firefly.XStringUtils.concatenate2(
									lCommand, ",'");
							if (sap.firefly.XString.isEqual(sortDirection
									.getName(),
									sap.firefly.XSortDirection.ASCENDING
											.getName())) {
								lCommand = sap.firefly.XStringUtils
										.concatenate2(
												lCommand,
												sap.firefly.XSortDirection.DESCENDING
														.getName());
							} else {
								if (sap.firefly.XString.isEqual(sortDirection
										.getName(),
										sap.firefly.XSortDirection.DESCENDING
												.getName())) {
									lCommand = sap.firefly.XStringUtils
											.concatenate2(
													lCommand,
													sap.firefly.XSortDirection.ASCENDING
															.getName());
								} else {
									if ((sap.firefly.XString.isEqual(
											sortDirection.getName(),
											sap.firefly.XSortDirection.NONE
													.getName()))
											|| (sap.firefly.XString
													.isEqual(
															sortDirection
																	.getName(),
															sap.firefly.XSortDirection.DEFAULT_VALUE
																	.getName()))) {
										lCommand = sap.firefly.XStringUtils
												.concatenate2(
														lCommand,
														sap.firefly.XSortDirection.ASCENDING
																.getName());
									}
								}
							}
							lCommand = sap.firefly.XStringUtils.concatenate2(
									lCommand, "'");
							if (isDimensionSorting) {
								lCommand = sap.firefly.XStringUtils
										.concatenate3(lCommand, ",",
												sap.firefly.XBooleanValue
														.create(keyField)
														.toString());
							}
							lCommand = sap.firefly.XStringUtils.concatenate2(
									lCommand, ");");
							if ((this.getQueryManager() !== null)
									&& this.getQueryManager()
											.isDataEntryEnabled()
									&& !this.getQueryManager()
											.isDataEntryReadOnly()) {
								lScriptSequence = new sap.zen.ScriptSequence();
								lSequenceRecalc = this
										.createScriptSequenceItemMethodCall(
												this, "recalculate");
								lScriptSequence.add(lSequenceRecalc);
								lSequenceSort = this
										.createScriptSequenceItem(lCommand);
								lScriptSequence.add(lSequenceSort);
								lScript = lScriptSequence.createScript(this
										.getPage());
							} else {
								lScript = this.createScript(lCommand);
							}
						}
						return lScript;
					},
					createCommandSortAttribute : function(dimensionName,
							attributeName, sortByKey, sortDirection) {
						var lScript;
						var lIsSortingEnabled;
						var lCommand;
						var lDataSourceName;
						if (sortDirection === null) {
							return null;
						}
						lScript = "";
						lIsSortingEnabled = this
								.getBooleanPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_SORTING,
										true);
						if (lIsSortingEnabled) {
							lCommand = null;
							lDataSourceName = this.getDataSource().getName();
							lCommand = sap.firefly.XStringUtils.concatenate2(
									lDataSourceName, ".");
							lCommand = sap.firefly.XStringUtils.concatenate2(
									lCommand,
									"setDimensionAndAttributeSorting(");
							lCommand = sap.firefly.XStringUtils.concatenate4(
									lCommand, "'", dimensionName, "'");
							lCommand = sap.firefly.XStringUtils.concatenate4(
									lCommand, ",'", attributeName, "'");
							lCommand = sap.firefly.XStringUtils.concatenate2(
									lCommand, ",'");
							if (sap.firefly.XString.isEqual(sortDirection
									.getName(),
									sap.firefly.XSortDirection.ASCENDING
											.getName())) {
								lCommand = sap.firefly.XStringUtils
										.concatenate2(
												lCommand,
												sap.firefly.XSortDirection.DESCENDING
														.getName());
							} else {
								if (sap.firefly.XString.isEqual(sortDirection
										.getName(),
										sap.firefly.XSortDirection.DESCENDING
												.getName())) {
									lCommand = sap.firefly.XStringUtils
											.concatenate2(
													lCommand,
													sap.firefly.XSortDirection.ASCENDING
															.getName());
								} else {
									if ((sap.firefly.XString.isEqual(
											sortDirection.getName(),
											sap.firefly.XSortDirection.NONE
													.getName()))
											|| (sap.firefly.XString
													.isEqual(
															sortDirection
																	.getName(),
															sap.firefly.XSortDirection.DEFAULT_VALUE
																	.getName()))) {
										lCommand = sap.firefly.XStringUtils
												.concatenate2(
														lCommand,
														sap.firefly.XSortDirection.ASCENDING
																.getName());
									}
								}
							}
							lCommand = sap.firefly.XStringUtils.concatenate2(
									lCommand, "'");
							lCommand = sap.firefly.XStringUtils.concatenate3(
									lCommand, ",", sap.firefly.XBooleanValue
											.create(sortByKey).toString());
							lCommand = sap.firefly.XStringUtils.concatenate2(
									lCommand, ");");
							lScript = this.createScript(lCommand);
						}
						return lScript;
					},
					isSortingEnabled : function() {
						return this
								.getBooleanPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_SORTING,
										true);
					},
					setSortingEnabled : function(isSortingEnabled) {
						this
								.setBooleanProperty(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_SORTING,
										isSortingEnabled);
						this.setContentChanged(true);
					},
					renderPlanningInformation : function(oRenderSerializer) {
						if (this.oResultSet.isDataEntryEnabled()) {
							oRenderSerializer.addAttribute(
									"transferdatacommand", this
											.createCommandTransferDataValue());
						}
					},
					renderCheckPlanningValue : function(oRenderSerializer,
							rowHeaders, colHeaders) {
						var index;
						var loCellInfo;
						oRenderSerializer.addIntegerAttribute("vlhlpstatus", 0);
						if (this.tPlanningCellInputInfoList !== null
								&& this.tPlanningCellInputInfoList.size() > 0) {
							oRenderSerializer.openTag("pvcheck");
							oRenderSerializer.addIntegerAttribute("length",
									this.tPlanningCellInputInfoList.size());
							for (index = 0; index < this.tPlanningCellInputInfoList
									.size(); index++) {
								loCellInfo = this.tPlanningCellInputInfoList
										.get(index);
								if (loCellInfo === null) {
									continue;
								}
								loCellInfo.finalizeData(colHeaders, rowHeaders,
										"");
								oRenderSerializer.openTag(sap.firefly.XInteger
										.convertIntegerToString(index));
								oRenderSerializer.addIntegerAttribute("tabrow",
										loCellInfo.getTableRow());
								oRenderSerializer.addIntegerAttribute("tabcol",
										loCellInfo.getTableCol());
								oRenderSerializer.addBooleanAttribute("valid",
										loCellInfo.isValid());
								oRenderSerializer.addBooleanAttribute("newval",
										loCellInfo.isNewValue());
								oRenderSerializer.addAttribute("text",
										sap.buddha.XSSEncoder
												.encodeHtml(loCellInfo
														.getText()));
								oRenderSerializer.closeTag();
							}
							oRenderSerializer.closeTag();
						}
					},
					createCommandTransferDataValue : function() {
						var lCommand = sap.firefly.XStringUtils.concatenate2(
								this.getId(),
								".doCommandTransferDataValue(__arguments__);");
						var lScript = this.createScriptAction(lCommand,
								'"__ROW__","__COL__","__VALUE__","__CTYPE__"');
						return lScript;
					},
					doCommandTransferDataValue : function(row, col, value,
							ctype) {
						var r = this.convertStringToInteger(row);
						var c = this.convertStringToInteger(col);
						this.setContentChanged(true);
						this.valueUpdated = true;
						this.setPlanningValueToCell(c, r, value, "NORMAL");
					},
					setPlanningValueToCell : function(selectedCol, selectedRow,
							value, cType) {
						var planningCellInputInfo;
						var effectiveRow;
						var loResultDataCell;
						var validInput;
						this.tPlanningCellInputInfoList = sap.firefly.XList
								.create();
						planningCellInputInfo = null;
						if (sap.firefly.XString.isEqual(cType, "NORMAL")) {
							effectiveRow = selectedRow;
							loResultDataCell = this.oResultSet
									.getResultDataCell(effectiveRow,
											selectedCol);
							if (loResultDataCell !== null && value !== null) {
								if (sap.firefly.XString.size(value) === 0) {
									value = "0";
								}
								validInput = true;
								try {
									validInput = loResultDataCell
											.isInputStringValid(value);
									loResultDataCell
											.setNewValueInExternalFormat(value);
								} catch (e) {
									validInput = false;
								}
								if (!validInput) {
									sap.zen.CLocalizationCrosstabMessages.CANNOT_CONVERT_NUMBER
											.addMessageToMessageHandler(this
													.getPage()
													.getMessageManager(),
													sap.firefly.Severity.ERROR,
													value, null, null);
								}
								planningCellInputInfo = new sap.zen.CrosstabPlanningCellInputInfo();
								planningCellInputInfo.initMe(selectedRow,
										selectedCol, loResultDataCell, null,
										validInput, cType, value);
								this.tPlanningCellInputInfoList
										.add(planningCellInputInfo);
							}
						}
						this.oRootCause = new sap.zen.DataSourceChangeCause();
						this.oRootCause.setPlanningChange(true);
					},
					renderDragDropInformation : function(oRenderSerializer) {
						if (this
								.getBooleanPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_DD_ENABLED,
										false)) {
							oRenderSerializer.openTag("dragdropcommands");
							oRenderSerializer.addAttribute(
									"removedimensioncommand", this
											.createCommandRemoveDimension());
							oRenderSerializer.addAttribute(
									"swapdimensionscommand", this
											.createCommandSwapDimensions());
							oRenderSerializer.addAttribute(
									"insertdimensioncommand", this
											.createCommandInsertDimension());
							oRenderSerializer.closeTag();
						}
					},
					createCommandRemoveDimension : function() {
						var lCommand = sap.firefly.XStringUtils.concatenate2(
								this.getId(),
								".doCommandRemoveDimension(__arguments__);");
						var lScript = this.createScriptAction(lCommand,
								'"__DIMENSION_NAME__"');
						return lScript;
					},
					createCommandSwapDimensions : function() {
						var lCommand = sap.firefly.XStringUtils.concatenate2(
								this.getId(),
								".doCommandSwapDimensions(__arguments__);");
						var lScript = this
								.createScriptAction(lCommand,
										'"__DIMENSION_NAME__", "__WITH_DIMENSION_NAME__"');
						return lScript;
					},
					createCommandInsertDimension : function() {
						var lCommand = sap.firefly.XStringUtils.concatenate2(
								this.getId(),
								".doCommandInsertDimension(__arguments__);");
						var lScript = this
								.createScriptAction(lCommand,
										'"__DIMENSION_NAME__", "__AXIS__", "__AXIS_INDEX__"');
						return lScript;
					},
					doCommandRemoveDimension : function(dimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						loDimension.getProperties()
								.removeDimensionFromCurrentAxis(true);
					},
					doCommandInsertDimension : function(dimensionName,
							axisName, axisIndexAsString) {
						var lNewAxis = null;
						var lAxisIndex;
						var loDimension;
						if (sap.firefly.XString.isEqual(axisName, "ROWS")) {
							lNewAxis = sap.firefly.AxisType.ROWS;
						} else {
							if (sap.firefly.XString.isEqual(axisName, "COLS")) {
								lNewAxis = sap.firefly.AxisType.COLUMNS;
							}
						}
						lAxisIndex = this
								.convertStringToInteger(axisIndexAsString);
						loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, dimensionName);
						loDimension.getProperties().moveDimensionToAxis(
								lNewAxis, lAxisIndex, true);
					},
					doCommandSwapDimensions : function(sourceDimensionName,
							targetDimensionName) {
						var loDimension = sap.zen.DimensionWrapper.create(
								this.oResultSet.getDataSource(),
								this.oResultSet, sourceDimensionName);
						loDimension.getProperties().swapDimensions(
								targetDimensionName, true);
					},
					renderScrollInformation : function(oRenderSerializer) {
						if (this.scrollPositionChanged === true) {
							oRenderSerializer.addBooleanAttribute("ispaging",
									true);
						} else {
							oRenderSerializer.addBooleanAttribute("changed",
									true);
						}
						oRenderSerializer.addAttribute("scrollaction", this
								.createCommandSetScrollPosition());
						oRenderSerializer.addAttribute("scrollnotifier", this
								.createCommandSetClientScrollPosition());
						oRenderSerializer
								.addAttribute(
										"clientvpos",
										this
												.getStringPropertyWithDefault(
														sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_CLIENT_VPOS,
														"0"));
						oRenderSerializer
								.addBooleanAttribute(
										"clientvscrolledtoend",
										this
												.getBooleanPropertyWithDefault(
														sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_CLIENT_VPOS_END,
														false));
						oRenderSerializer
								.addAttribute(
										"clienthpos",
										this
												.getStringPropertyWithDefault(
														sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_CLIENT_HPOS,
														"0"));
						oRenderSerializer
								.addBooleanAttribute(
										"clienthscrolledtoend",
										this
												.getBooleanPropertyWithDefault(
														sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_CLIENT_HPOS_END,
														false));
						if (this.verticalScrollPosition > 0) {
							oRenderSerializer.addIntegerAttribute("v_pos",
									this.verticalScrollPosition + 1);
						}
						if (this.horizontalScrollPosition > 0) {
							oRenderSerializer.addIntegerAttribute("h_pos",
									this.horizontalScrollPosition + 1);
						}
					},
					setVerticalScrollPosition : function(verticalScrollPostion) {
						this.verticalScrollPosition = verticalScrollPostion;
					},
					setHorizontalScrollPosition : function(
							horizontalScrollPostion) {
						this.horizontalScrollPosition = horizontalScrollPostion;
					},
					createCommandSetScrollPosition : function() {
						var lCommand = sap.firefly.XStringUtils.concatenate2(
								this.getId(),
								".doCommandSetScrollPosition(__arguments__);");
						var lScript = this.createScriptAction(lCommand,
								"__X__,__Y__");
						return lScript;
					},
					createCommandSetClientScrollPosition : function() {
						var lCommand = sap.firefly.XStringUtils
								.concatenate2(this.getId(),
										".doCommandSetClientScrollPosition(__arguments__);");
						var lScript = this
								.createScriptAction(
										lCommand,
										"'__CLIENT_VPOS__','__CLIENT_VPOS_END__','__CLIENT_HPOS__','__CLIENT_HPOS_END__'");
						return lScript;
					},
					doCommandSetScrollPosition : function(x, y) {
						this.setVerticalScrollPosition(y - 1);
						this.setHorizontalScrollPosition(x - 1);
						this.scrollPositionChanged = true;
						this.setContentChanged(true);
					},
					doCommandSetClientScrollPosition : function(clientVPos,
							isVScrolledToEnd, clientHPos, isHScrolledToEnd) {
						var actualClientHPos = clientHPos;
						var posMode = sap.firefly.XString.substring(
								actualClientHPos, 0, 1);
						if (sap.firefly.XString.isEqual(posMode, "H")) {
							actualClientHPos = sap.firefly.XString.substring(
									actualClientHPos, 1, sap.firefly.XString
											.size(actualClientHPos));
							this
									.setStringProperty(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_HEADER_CLIENT_HPOS,
											actualClientHPos);
						} else {
							this
									.setStringProperty(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_CLIENT_VPOS,
											clientVPos);
							this
									.setStringProperty(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_CLIENT_HPOS,
											clientHPos);
							this
									.setStringProperty(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_CLIENT_VPOS_END,
											this
													.convertAbapBool(isVScrolledToEnd));
							this
									.setStringProperty(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_CLIENT_HPOS_END,
											this
													.convertAbapBool(isHScrolledToEnd));
						}
						this.oRootCause = null;
						this.setContentChanged(false);
					},
					createHeaderInfo : function(oResultSetInfo,
							tupleElementIndex, rowHeaders, colHeaders) {
						var lAxis;
						var ltAxisHeaderInfos;
						var lDimensionName;
						var loLookupObject;
						var loDimensionHeaderInfo;
						if (oResultSetInfo === null) {
							return;
						}
						lAxis = null;
						if (oResultSetInfo.getAxis() === sap.firefly.AxisType.ROWS) {
							lAxis = sap.zen.CCrosstabAxis.ROWS;
						} else {
							if (oResultSetInfo.getAxis() === sap.firefly.AxisType.COLUMNS) {
								lAxis = sap.zen.CCrosstabAxis.COLS;
							} else {
								return;
							}
						}
						if (!this.tHeaderInfoMap.containsKey(lAxis.getValue())) {
							ltAxisHeaderInfos = sap.firefly.XList.create();
							this.tHeaderInfoMap.put(lAxis.getValue(),
									ltAxisHeaderInfos);
						}
						ltAxisHeaderInfos = this.tHeaderInfoMap.getByKey(lAxis
								.getValue());
						lDimensionName = oResultSetInfo.getDimension()
								.getName();
						loLookupObject = sap.zen.ZCrosstabControlLookupObject
								.create(lDimensionName, tupleElementIndex);
						if (lAxis === sap.zen.CCrosstabAxis.ROWS) {
							if (tupleElementIndex < rowHeaders) {
								if (!this.tDimNameLookup
										.containsKey(loLookupObject.getName())) {
									loDimensionHeaderInfo = sap.zen.ZCrosstabHeaderDimensionInfo
											.create(oResultSetInfo, this
													.getDataSource());
									ltAxisHeaderInfos
											.add(loDimensionHeaderInfo);
									this.tDimNameLookup.put(loLookupObject);
								}
							}
						} else {
							if (lAxis === sap.zen.CCrosstabAxis.COLS) {
								if (tupleElementIndex < colHeaders) {
									if (!this.tDimNameLookup
											.containsKey(loLookupObject
													.getName())) {
										loDimensionHeaderInfo = sap.zen.ZCrosstabHeaderDimensionInfo
												.create(oResultSetInfo, this
														.getDataSource());
										ltAxisHeaderInfos
												.add(loDimensionHeaderInfo);
										this.tDimNameLookup.put(loLookupObject);
									}
								}
							}
						}
					},
					renderHeaderInformation : function(oRenderSerializer) {
						var loAxisHeaderInfo;
						if (this.tHeaderInfoMap !== null
								&& this.tHeaderInfoMap.size() > 0) {
							oRenderSerializer.openTag("headerinfo");
							loAxisHeaderInfo = null;
							loAxisHeaderInfo = this.tHeaderInfoMap
									.getByKey(sap.zen.CCrosstabAxis.ROWS
											.getValue());
							this.renderAxisHeaderInformation("cols",
									loAxisHeaderInfo, oRenderSerializer);
							loAxisHeaderInfo = this.tHeaderInfoMap
									.getByKey(sap.zen.CCrosstabAxis.COLS
											.getValue());
							this.renderAxisHeaderInformation("rows",
									loAxisHeaderInfo, oRenderSerializer);
							oRenderSerializer.closeTag();
						}
					},
					renderAxisHeaderInformation : function(tagName,
							tAxisHeaderInfo, oRenderSerializer) {
						var i;
						var loDimensionHeaderInfo;
						if (tAxisHeaderInfo !== null) {
							if (tAxisHeaderInfo.size() > 0) {
								oRenderSerializer.openTag(tagName);
								oRenderSerializer.addIntegerAttribute("length",
										tAxisHeaderInfo.size());
								for (i = 0; i < tAxisHeaderInfo.size(); i++) {
									loDimensionHeaderInfo = tAxisHeaderInfo
											.get(i);
									if (loDimensionHeaderInfo === null) {
										continue;
									}
									oRenderSerializer
											.openTag(sap.firefly.XInteger
													.convertIntegerToString(i));
									oRenderSerializer
											.addAttribute("charname",
													loDimensionHeaderInfo
															.getCharName());
									if (loDimensionHeaderInfo
											.getAttributeName() !== null) {
										oRenderSerializer.addAttribute(
												"attrname",
												loDimensionHeaderInfo
														.getAttributeName());
									}
									if (loDimensionHeaderInfo
											.isKeyPresentation()) {
										oRenderSerializer.addBooleanAttribute(
												"iskey", loDimensionHeaderInfo
														.isKeyPresentation());
									}
									if (loDimensionHeaderInfo.isStructure()) {
										oRenderSerializer.addBooleanAttribute(
												"bIsStructure",
												loDimensionHeaderInfo
														.isStructure());
										oRenderSerializer
												.addBooleanAttribute(
														"bIsRemoveStructureAllowed",
														loDimensionHeaderInfo
																.isRemoveStructureAllowed());
									}
									if (loDimensionHeaderInfo
											.isMeasureStructure()) {
										oRenderSerializer.addBooleanAttribute(
												"bIsMeasureStructure",
												loDimensionHeaderInfo
														.isMeasureStructure());
									}
									if (this
											.getBooleanPropertyWithDefault(
													sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_DD_ENABLED,
													false)) {
										if (loDimensionHeaderInfo
												.isTextPresentation()) {
											oRenderSerializer
													.addBooleanAttribute(
															"bIsTextPresentation",
															loDimensionHeaderInfo
																	.isTextPresentation());
										}
										oRenderSerializer.addAttribute(
												"sDimensionText",
												loDimensionHeaderInfo
														.getDimText());
										if (sap.firefly.XStringUtils
												.isNotNullAndNotEmpty(loDimensionHeaderInfo
														.getAttributeName())) {
											oRenderSerializer.addAttribute(
													"sAttributeText",
													loDimensionHeaderInfo
															.getAttrText());
										}
									}
									oRenderSerializer.closeTag();
								}
								oRenderSerializer.closeTag();
							}
						}
					},
					renderHeaderScrollingInformation : function(
							oRenderSerializer) {
						var headerScrollingEnabled;
						var lHeaderWidthLimit;
						var lCurrentHeaderWidth;
						var sHeaderWidthLimit;
						var currentHeaderHPos;
						var lIsUserHeaderResize;
						oRenderSerializer.addAttribute(
								"userheaderwidthcommand", this
										.createCommandUpdateHeaderWidth());
						headerScrollingEnabled = this
								.getBooleanPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_HEADER_SCROLLABLE,
										true);
						if (headerScrollingEnabled) {
							lHeaderWidthLimit = 0;
							lCurrentHeaderWidth = 0;
							oRenderSerializer.addBooleanAttribute(
									"headerscrolling", true);
							sHeaderWidthLimit = this
									.getStringPropertyWithDefault(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_HEADER_HORIZONTAL_LIMIT,
											"auto");
							if (sap.firefly.XString.compare("auto",
									sHeaderWidthLimit) !== 0) {
								lHeaderWidthLimit = this
										.convertStringToInteger(sHeaderWidthLimit);
							}
							lCurrentHeaderWidth = this
									.getIntPropertyWithDefault(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_HEADER_ACTUAL_WIDTH,
											0);
							if (lHeaderWidthLimit > 0) {
								oRenderSerializer.addAttribute("headerwidth",
										sHeaderWidthLimit);
							}
							if (lCurrentHeaderWidth > 0
									|| lHeaderWidthLimit > 0) {
								currentHeaderHPos = this
										.getStringPropertyWithDefault(
												sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_HEADER_CLIENT_HPOS,
												"0");
								oRenderSerializer.addAttribute(
										"clientheaderhpos", currentHeaderHPos);
							}
							if (lCurrentHeaderWidth > 0) {
								oRenderSerializer.addIntegerAttribute(
										"headerwidthcurrent",
										lCurrentHeaderWidth);
							}
							lIsUserHeaderResize = this
									.getBooleanPropertyWithDefault(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_HEADER_USER_RESIZE,
											false);
							if (lIsUserHeaderResize) {
								oRenderSerializer
										.addBooleanAttribute(
												"userheaderresize",
												lIsUserHeaderResize);
							}
						}
					},
					createCommandUpdateHeaderWidth : function() {
						var lCommand = sap.firefly.XStringUtils.concatenate2(
								this.getId(),
								".doCommandUpdateHeaderWidth(__arguments__);");
						var lScript = this.createScriptAction(lCommand,
								'"__HEADER_WIDTH__"');
						return lScript;
					},
					doCommandUpdateHeaderWidth : function(width) {
						var lNoUpdateFlag = sap.firefly.XString.substring(
								width, 0, 1);
						var lHeaderWidth = "";
						if (sap.firefly.XString.isEqual(lNoUpdateFlag, "N")) {
							lHeaderWidth = sap.firefly.XString.substring(width,
									1, sap.firefly.XString.size(width));
							this
									.setStringProperty(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_HEADER_ACTUAL_WIDTH,
											lHeaderWidth);
							this.setContentChanged(false);
						} else {
							this
									.setStringProperty(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_HEADER_ACTUAL_WIDTH,
											width);
						}
					},
					renderColWidthInformation : function(oRenderSerializer) {
						var ltUserColWidths;
						var lIndex;
						var ltUserColWidthsKeys;
						var lColId;
						var loColWidthInfo;
						var lIgnore;
						oRenderSerializer
								.addBooleanAttribute(
										"enablecolresize",
										this
												.getBooleanPropertyWithDefault(
														sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_COL_RESIZE,
														true));
						oRenderSerializer.addAttribute("updatecolwidthcmd",
								this.createCommandUpdateColumnWidth());
						ltUserColWidths = this.oColWidthHandler
								.getUserColWidths();
						if (ltUserColWidths.size() > 0) {
							oRenderSerializer.openTag("usercolwidths");
							oRenderSerializer
									.addAttribute(
											"length",
											sap.firefly.XInteger
													.convertIntegerToString(ltUserColWidths
															.size()));
							lIndex = 0;
							ltUserColWidthsKeys = ltUserColWidths
									.getKeysAsIteratorOfString();
							while (ltUserColWidthsKeys.hasNext()) {
								lColId = ltUserColWidthsKeys.next();
								loColWidthInfo = ltUserColWidths
										.getByKey(lColId);
								lIgnore = loColWidthInfo.getIgnore();
								oRenderSerializer.openTag(sap.firefly.XInteger
										.convertIntegerToString(lIndex));
								oRenderSerializer.addAttribute("colid", lColId);
								oRenderSerializer.addAttribute("colwidth",
										loColWidthInfo.getWidth());
								if (lIgnore) {
									oRenderSerializer.addAttribute("ignore",
											"true");
								}
								lIndex++;
								oRenderSerializer.closeTag();
							}
							oRenderSerializer.closeTag();
						}
					},
					createCommandUpdateColumnWidth : function() {
						var lCommand = sap.firefly.XStringUtils.concatenate2(
								this.getId(),
								".doCommandUpdateColumnWidth(__arguments__);");
						var lScript = this.createScriptAction(lCommand,
								'"__COL__", "__WIDTH__"');
						return lScript;
					},
					doCommandUpdateColumnWidth : function(colId, colWidth) {
						this.setColumnWidthInternal(colId, colWidth);
						this.setContentChanged(false);
					},
					OnColWidthChanged : function() {
						var lScript = this.getOnColWidthChangedScript();
						if (sap.firefly.XString.size(lScript) > 0) {
							this.getPage().execWithoutRerender(lScript);
						}
					},
					isColumnResizingEnabled : function() {
						return this
								.getBooleanPropertyWithDefault(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_COL_RESIZE,
										true);
					},
					setColumnResizingEnabled : function(enableColumnResizing) {
						this
								.setBooleanProperty(
										sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_COL_RESIZE,
										enableColumnResizing);
						this.setContentChanged(true);
					},
					validateColumnId : function(colId, strict) {
						if (!this.oColWidthHandler.isColIdValid(colId, strict)) {
							sap.zen.CLocalizationCrosstabMessages.INVALID_COLUMN_ID
									.addMessageToMessageHandler(this.getPage()
											.getMessageManager(),
											sap.firefly.Severity.ERROR, this
													.getName(), colId, null);
							return false;
						}
						return true;
					},
					validateColumnWidth : function(colWidth) {
						if (!this.oColWidthHandler.isColWidthValid(colWidth)) {
							sap.zen.CLocalizationCrosstabMessages.INVALID_COLUMN_WIDTH
									.addMessageToMessageHandler(this.getPage()
											.getMessageManager(),
											sap.firefly.Severity.ERROR,
											colWidth, null, null);
							return false;
						}
						return true;
					},
					resetAllColumnWidths : function() {
						this.oColWidthHandler
								.resetUserColWidth(sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS);
						this.OnColWidthChanged();
						this.setContentChanged(true);
					},
					resetColumnWidth : function(colIndex) {
						var lColId = sap.firefly.XInteger
								.convertIntegerToString(colIndex);
						if (!this.validateColumnId(lColId, false)) {
							return;
						}
						this.oColWidthHandler.resetUserColWidth(lColId);
						this.OnColWidthChanged();
						this.setContentChanged(true);
					},
					setDefaultColumnWidth : function(colWidth) {
						var lColWidth = sap.firefly.XInteger
								.convertIntegerToString(colWidth);
						if (!this.validateColumnWidth(lColWidth)) {
							return;
						}
						this.oColWidthHandler.setUserColWidth(
								sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS,
								sap.firefly.XInteger
										.convertIntegerToString(colWidth));
						this.OnColWidthChanged();
						this.setContentChanged(true);
					},
					setColumnWidths : function(tColumnWidths) {
						this.oColWidthHandler.setUserColWidths(tColumnWidths);
						this.OnColWidthChanged();
						this.setContentChanged(true);
					},
					setColumnWidth : function(colIndex, colWidth) {
						var lColId = sap.firefly.XInteger
								.convertIntegerToString(colIndex);
						var lColWidth = sap.firefly.XInteger
								.convertIntegerToString(colWidth);
						this.setColumnWidthInternal(lColId, lColWidth);
						this.setContentChanged(true);
					},
					setColumnWidthInternal : function(colId, colWidth) {
						var lValid = true;
						lValid = this.validateColumnId(colId, false) && lValid;
						lValid = this.validateColumnWidth(colWidth) && lValid;
						if (!lValid) {
							return;
						}
						this.oColWidthHandler.setUserColWidth(colId, colWidth);
						this.OnColWidthChanged();
					},
					getColumnWidth : function(colIndex) {
						var lColId = sap.firefly.XInteger
								.convertIntegerToString(colIndex);
						var loColumnWidthInfo;
						if (!this.validateColumnId(lColId, true)) {
							return 0;
						}
						loColumnWidthInfo = this.oColWidthHandler
								.getUserColWidth(sap.firefly.XInteger
										.convertIntegerToString(colIndex));
						if (loColumnWidthInfo === null
								|| loColumnWidthInfo.getIgnore()) {
							return -1;
						}
						return this.convertStringToInteger(loColumnWidthInfo
								.getWidth());
					},
					getColumnsWithSetWidths : function() {
						var ltScriptableColumnWidths = sap.firefly.XList
								.create();
						var ltColumnWidths = this.oColWidthHandler
								.getUserColWidths();
						var ltKeyIterator = ltColumnWidths
								.getKeysAsIteratorOfString();
						var lColId;
						var loColumnWidthInfo;
						var loScriptableColumnInfo;
						var ltJSArray;
						while (ltKeyIterator.hasNext()) {
							lColId = ltKeyIterator.next();
							loColumnWidthInfo = ltColumnWidths.getByKey(lColId);
							loScriptableColumnInfo = new sap.zen.ScriptableColumnInfo();
							loScriptableColumnInfo.initMe(lColId,
									loColumnWidthInfo.getWidth());
							ltScriptableColumnWidths
									.add(loScriptableColumnInfo);
						}
						ltJSArray = this.getPage().getWindow().createJSArray(
								ltScriptableColumnWidths);
						return ltJSArray;
					},
					applyColumnWidths : function(object) {
						var ltColumnWidths = sap.firefly.XHashMapByString
								.create();
						var loColumnWidthInfo = null;
						var loJsonObject = sap.buddha.XJsonObject
								.create(object);
						var loJsonArray;
						var lJsonArraySize;
						var i;
						var loJsonObjectInArray;
						var lJsonColumnWidth;
						var lJsonColId;
						var lJsonWidth;
						if (loJsonObject.isArray()) {
							loJsonArray = loJsonObject.getArray();
							lJsonArraySize = loJsonArray.size();
							for (i = 0; i < lJsonArraySize; i++) {
								loJsonObjectInArray = loJsonArray.get(i);
								if (loJsonObjectInArray === null) {
									continue;
								}
								lJsonColumnWidth = loJsonObjectInArray
										.getJSON();
								lJsonColId = lJsonColumnWidth
										.getByKey(sap.zen.ScriptableColumnInfo.PROPERTY_ID_INTERNAL);
								if (lJsonColId === null) {
									lJsonColId = lJsonColumnWidth
											.getByKey(sap.zen.ScriptableColumnInfo.PROPERTY_ID);
								}
								lJsonWidth = lJsonColumnWidth
										.getByKey(sap.zen.ScriptableColumnInfo.PROPERTY_WIDTH_INTERNAL);
								if (lJsonWidth === null) {
									lJsonWidth = lJsonColumnWidth
											.getByKey(sap.zen.ScriptableColumnInfo.PROPERTY_WIDTH);
								}
								loColumnWidthInfo = sap.zen.ZCrosstabColWidthInfo
										.create1(lJsonWidth);
								ltColumnWidths.put(lJsonColId,
										loColumnWidthInfo);
							}
						}
						if (ltColumnWidths.size() > 0) {
							this.oColWidthHandler
									.resetUserColWidth(sap.zen.ZCrosstabControl.COLID_ALL_COLUMNS);
							this.oColWidthHandler
									.setUserColWidths(ltColumnWidths);
							this.setContentChanged(true);
						}
					},
					getOnColWidthChangedScript : function() {
						var lScript = this
								.getProperty(sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ON_COLWIDTH_CHANGED);
						if (lScript !== null) {
							return lScript;
						}
						return "";
					},
					renderContextMenuInformation : function(oRenderSerializer) {
						var lIsContextMenuEnabled;
						var lCommand;
						if (this.getPage().containsComponentType(
								"CONTEXT_MENU_COMPONENT")) {
							lIsContextMenuEnabled = this
									.getBooleanPropertyWithDefault(
											sap.zen.ZCrosstabControlMetadataProvider.CROSSTAB_ENABLE_CONTEXT_MENU,
											true);
							if (lIsContextMenuEnabled) {
								lCommand = this
										.createCommandCreateContextMenu();
								oRenderSerializer.addAttribute(
										"contextmenucmd", lCommand);
							}
						}
					},
					createContextMenu4 : function(contextMenuComponentId, row,
							col, axis) {
						this.createContextMenu(contextMenuComponentId, row,
								col, axis, "");
					},
					createCommandCreateContextMenu : function() {
						var lCommand = sap.firefly.XStringUtils.concatenate2(
								this.getId(),
								".createContextMenu(__arguments__);");
						var lParams = '"__ID__","__ROW__","__COL__","__AXIS__"';
						var lScript;
						if (this.isSelectable()) {
							lParams = sap.firefly.XStringUtils.concatenate2(
									lParams, ',"__REMOVE_SELECTION__"');
						}
						lScript = this.createScriptAction(lCommand, lParams);
						return lScript;
					},
					createContextMenu : function(contextMenuComponentId, row,
							col, axis, removeSelection) {
						var lRow = this.convertStringToInteger(row);
						var lCol = this.convertStringToInteger(col);
						var lRowHeader = false;
						var lColumnHeader = false;
						var loQueryManager;
						var loResultSetInfo;
						var mapKey;
						var loComponent;
						var loContextMenu;
						var loResultDataCell;
						var loField;
						var loAttribute;
						var lIsAttribute;
						var lRemoveSelection;
						if (lRow <= 0) {
							lRowHeader = true;
						}
						if (lCol <= 0) {
							lColumnHeader = true;
						}
						if (sap.firefly.XStringUtils.isNotNullAndNotEmpty(axis)) {
							loQueryManager = this.getDataSource()
									.getQueryManager();
							sap.zen.DataSourceScriptApiUtils.logGetResultSet(
									this.getPage(), loQueryManager,
									"XTab createContextMenu");
							loResultSetInfo = new sap.zen.ResultSetHelper();
							if (sap.firefly.XString
									.isEqual(sap.zen.CCrosstabAxis.ROWS
											.getValue(), axis)) {
								lRow = this.correctIndex(
										sap.zen.CCrosstabAxis.ROWS, lRow);
								loResultSetInfo = sap.zen.ResultSetHelper
										.create(this.oResultSet,
												sap.firefly.AxisType.ROWS,
												lRow, lCol);
							} else {
								if (sap.firefly.XString.isEqual(
										sap.zen.CCrosstabAxis.COLS.getValue(),
										axis)) {
									lCol = this.correctIndex(
											sap.zen.CCrosstabAxis.COLS, lCol);
									loResultSetInfo = sap.zen.ResultSetHelper
											.create(
													this.oResultSet,
													sap.firefly.AxisType.COLUMNS,
													lCol, lRow);
								} else {
									if (sap.firefly.XString.isEqual(
											sap.zen.CCrosstabAxis.DIM
													.getValue(), axis)) {
										mapKey = sap.firefly.XStringUtils
												.concatenate3(row, "/", col);
										loResultSetInfo = this.tDimHeaderLookUp
												.getByKey(mapKey);
									}
								}
							}
							loComponent = this.getPage().getComponent(
									contextMenuComponentId);
							loContextMenu = loComponent;
							if (loContextMenu !== null
									&& loResultSetInfo !== null) {
								if (sap.firefly.XString.isEqual(
										sap.zen.CCrosstabAxis.DATA.getValue(),
										axis)) {
									lRow = this.correctIndex(
											sap.zen.CCrosstabAxis.ROWS, lRow);
									lCol = this.correctIndex(
											sap.zen.CCrosstabAxis.COLS, lCol);
									loResultDataCell = this.oResultSet
											.getResultDataCell(lRow, lCol);
									loContextMenu.openMenuForDataCell(this
											.getName(), loResultDataCell);
								} else {
									if (!sap.firefly.XString.isEqual(
											sap.zen.CCrosstabAxis.DIM
													.getValue(), axis)) {
										if (!loResultSetInfo.getDimension()
												.isMeasureStructure()) {
											if (loResultSetInfo.getDimension()
													.getAxis() === sap.firefly.AxisType.ROWS
													&& lRowHeader) {
												loResultSetInfo = sap.zen.ResultSetHelper
														.create(
																this.oResultSet,
																sap.firefly.AxisType.ROWS,
																-1, lCol);
											} else {
												if (loResultSetInfo
														.getDimension()
														.getAxis() === sap.firefly.AxisType.COLUMNS
														&& lColumnHeader) {
													loResultSetInfo = sap.zen.ResultSetHelper
															.create(
																	this.oResultSet,
																	sap.firefly.AxisType.COLUMNS,
																	-1, lRow);
												}
											}
										}
										loContextMenu
												.openMenuForFieldValue(this
														.getName(),
														loResultSetInfo);
									} else {
										loField = loResultSetInfo.getField();
										loAttribute = loField.getAttribute();
										lIsAttribute = sap.zen.DataSourceScriptApiUtils
												.isAttribute(this
														.getDataSource(),
														loAttribute);
										if (lIsAttribute) {
											loContextMenu.openMenuForAttribute(
													this.getName(),
													loResultSetInfo
															.getResultSet(),
													loAttribute);
										} else {
											if (!loResultSetInfo.getDimension()
													.isStructure()) {
												loContextMenu
														.openMenuForDimension(
																this.getName(),
																sap.zen.CContextMenuMode.CROSSTAB,
																loResultSetInfo
																		.getDimension());
											}
										}
									}
								}
								if (sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(removeSelection)) {
									lRemoveSelection = sap.firefly.XBoolean
											.convertStringToBoolean(removeSelection);
									if (lRemoveSelection) {
										this.removeSelection();
										this.onSelect();
									}
								}
							}
						}
					},
					correctIndex : function(axis, index) {
						var lCorrectedIndex = index;
						if (axis === sap.zen.CCrosstabAxis.ROWS) {
							lCorrectedIndex = lCorrectedIndex
									- this.oGrid.getColumnHeaders();
						} else {
							if (axis === sap.zen.CCrosstabAxis.COLS) {
								lCorrectedIndex = lCorrectedIndex
										- this.oGrid.getRowHeaders();
							}
						}
						if (lCorrectedIndex < 0) {
							lCorrectedIndex = 0;
						}
						return lCorrectedIndex;
					},
					convertStringToInteger : function(stringValue) {
						if (sap.firefly.XStringUtils.isNullOrEmpty(stringValue)) {
							return 0;
						}
						return sap.firefly.XInteger
								.convertStringToInteger(stringValue);
					},
					createUnsupportedApiMessage : function(methodName) {
						sap.zen.CLocalizationCrosstabMessages.UNSUPPORTED_API
								.addMessageToMessageHandler(this.getPage()
										.getMessageManager(),
										sap.firefly.Severity.ERROR, methodName,
										null, null);
					},
					getSelections : function() {
						var selectionPerDimension = sap.firefly.XHashMapByString
								.create();
						var ltSelectedTuples;
						var i;
						var loTuple;
						var ltTupleElements;
						var j;
						var loTupleElement;
						var loDimension;
						var loInternalDimension;
						var lDimensionName;
						var ltRanges;
						var loMemberWrapper;
						var loInternalDimensionMember;
						var loRange;
						if (this.oSelectionStore !== null
								&& this.isVisibleRecursive()) {
							ltSelectedTuples = this.oSelectionStore
									.getSelectedTuples();
							for (i = 0; i < ltSelectedTuples.size(); i++) {
								loTuple = ltSelectedTuples.get(i);
								if (loTuple === null) {
									continue;
								}
								ltTupleElements = loTuple.getTupleElements();
								for (j = 0; j < ltTupleElements.size(); j++) {
									loTupleElement = ltTupleElements.get(j);
									if (loTupleElement === null) {
										continue;
									}
									loDimension = loTupleElement.getDimension();
									loInternalDimension = loDimension
											.getInternalObject();
									lDimensionName = sap.zen.DataSourceScriptApiUtils
											.getDimensionNameForNavigation(this
													.getPage(), loDimension);
									if (!selectionPerDimension
											.containsKey(lDimensionName)) {
										selectionPerDimension.put(
												lDimensionName,
												sap.firefly.XList.create());
									}
									ltRanges = selectionPerDimension
											.getByKey(lDimensionName);
									loMemberWrapper = new sap.zen.MemberWrapper();
									loInternalDimensionMember = loTupleElement
											.getDimensionMember()
											.getInternalObject();
									loMemberWrapper.initMe(
											loInternalDimensionMember, false,
											loInternalDimension);
									loRange = new sap.zen.Range();
									loRange.initMe2(loMemberWrapper);
									ltRanges.add(loRange);
								}
							}
						}
						return selectionPerDimension;
					}
				});
$Firefly
		.createClass(
				"sap.zen.MultiDataProviderReferenceComponent",
				sap.zen.DataProviderReferenceComponent,
				{
					raiseDataSourceChangedEvent : function() {
						var loDataSource = this.getDataSource();
						var lTargetQueryViewsString;
						var ltTargetDataSourceNames;
						var lDataSourceIndex;
						if (loDataSource !== null) {
							loDataSource.raiseDataSourceChangedEvent(null,
									false, true);
						}
						lTargetQueryViewsString = this
								.getStringPropertyWithDefault(
										"TARGET_DATA_SOURCES_ALIAS_REF", "");
						ltTargetDataSourceNames = null;
						if (!sap.firefly.XString.isEqual("",
								lTargetQueryViewsString)) {
							ltTargetDataSourceNames = sap.firefly.XStringTokenizer
									.splitString(lTargetQueryViewsString, ";");
						}
						if (ltTargetDataSourceNames !== null) {
							for (lDataSourceIndex = 0; lDataSourceIndex < ltTargetDataSourceNames
									.size(); lDataSourceIndex++) {
								loDataSource = this.getPage().getDataSource(
										ltTargetDataSourceNames
												.get(lDataSourceIndex));
								loDataSource.raiseDataSourceChangedEvent(null,
										false, true);
							}
						}
					},
					getTargetQueryViews : function(tTargetDataSourceNames) {
						var loDataSource = this.getDataSource();
						var lDataSourceName = null;
						var ltTargetQueryModels;
						var lDataSourceIndex;
						var lTargetDataSourceName;
						var loQueryManager;
						if (loDataSource !== null) {
							lDataSourceName = this.getDataSource().getName();
						}
						ltTargetQueryModels = sap.firefly.XList.create();
						for (lDataSourceIndex = 0; lDataSourceIndex < tTargetDataSourceNames
								.size(); lDataSourceIndex++) {
							lTargetDataSourceName = tTargetDataSourceNames
									.get(lDataSourceIndex);
							if (!sap.firefly.XString.isEqual(
									lTargetDataSourceName, lDataSourceName)) {
								loDataSource = this.getPage().getDataSource(
										lTargetDataSourceName);
								loQueryManager = loDataSource.getQueryManager();
								if (loQueryManager !== null) {
									ltTargetQueryModels.add(loQueryManager
											.getQueryModel());
								}
							}
						}
						return ltTargetQueryModels;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ZPlanningFunction",
				sap.zen.ZPlanningObject,
				{
					planningFunction : null,
					createPlanningCommand : function(planningFunctionName) {
						var planningService = this.getPage()
								.getPlanningService();
						var planningContext;
						var dataArea;
						var commandIdentifier;
						var extResultCreateCommand;
						var planningFunctionMetadata;
						var baseDataSource;
						if (planningService !== null) {
							planningContext = planningService
									.getPlanningContext();
							if (planningContext.getPlanningContextType() !== sap.firefly.PlanningContextType.DATA_AREA) {
								throw sap.firefly.XException
										.createIllegalStateException("unexpected data area");
							}
							dataArea = planningContext;
							commandIdentifier = dataArea
									.createPlanningFunctionIdentifier(planningFunctionName);
							extResultCreateCommand = planningContext
									.createPlanningCommand(commandIdentifier);
							this.getPage().getMessageManager().createMessages(
									extResultCreateCommand);
							if (!extResultCreateCommand.hasErrors()) {
								this.planningCommand = extResultCreateCommand
										.getData()
										.getCreatedPlanningCommandWithId();
								if (this.planningCommand.getCommandType() === sap.firefly.PlanningCommandType.PLANNING_FUNCTION) {
									this.planningFunction = this.planningCommand;
									planningFunctionMetadata = this.planningFunction
											.getPlanningFunctionMetadata();
									baseDataSource = planningFunctionMetadata
											.getBaseDataSource();
								}
							} else {
								this.tErrors = extResultCreateCommand
										.getErrors();
							}
						}
					},
					isDataSourceChanged : function() {
						return false;
					}
				});
$Firefly
		.createClass(
				"sap.zen.ZPlanningSequence",
				sap.zen.ZPlanningObject,
				{
					planningSequence : null,
					createPlanningCommand : function(planningFunctionName) {
						var planningService = this.getPage()
								.getPlanningService();
						var planningContext;
						var dataArea;
						var commandIdentifier;
						var extResultCreateCommand;
						var planningSequenceMetadata;
						if (planningService !== null) {
							planningContext = planningService
									.getPlanningContext();
							if (planningContext.getPlanningContextType() !== sap.firefly.PlanningContextType.DATA_AREA) {
								throw sap.firefly.XException
										.createIllegalStateException("unexpected data area");
							}
							dataArea = planningContext;
							commandIdentifier = dataArea
									.createPlanningSequenceIdentifier(planningFunctionName);
							extResultCreateCommand = planningContext
									.createPlanningCommand(commandIdentifier);
							this.getPage().getMessageManager().createMessages(
									extResultCreateCommand);
							if (!extResultCreateCommand.hasErrors()) {
								this.planningCommand = extResultCreateCommand
										.getData()
										.getCreatedPlanningCommandWithId();
								if (this.planningCommand.getCommandType() === sap.firefly.PlanningCommandType.PLANNING_SEQUENCE) {
									this.planningSequence = this.planningCommand;
									planningSequenceMetadata = this.planningSequence
											.getPlanningSequenceMetadata();
								}
							} else {
								this.tErrors = extResultCreateCommand
										.getErrors();
							}
						}
					},
					isDataSourceChanged : function() {
						return false;
					}
				});
$Firefly
		.createClass(
				"sap.zen.XpDSItemContainerDataSource",
				sap.zen.XpDSItemContainer,
				{
					$statics : {
						createDataSourceContainer : function(oParent,
								oDataSource, oResultSet) {
							var loInstance = null;
							if (oDataSource !== null) {
								loInstance = new sap.zen.XpDSItemContainerDataSource();
								loInstance.initDataSourceContainer(oParent,
										oDataSource, oResultSet);
							}
							return loInstance;
						}
					},
					initDataSourceContainer : function(oParent, oDataSource,
							oResultSet) {
						sap.zen.XpDSItemContainerDataSource.$superclass.initDSItemContainer
								.call(this, oParent, oDataSource, oResultSet,
										sap.zen.CXpDSItem.INFO);
						this.applyLayout();
					},
					prepare : function() {
						sap.zen.XpDSItemContainerDataSource.$superclass.prepare
								.call(this);
					},
					applyLayout : function() {
						var loDSItem;
						this.removeChildren();
						loDSItem = null;
						loDSItem = this
								.addDSItem(sap.zen.CXpDSItem.TECHNICAL_INFORMATION);
						loDSItem = this.addDSItem(sap.zen.CXpDSItem.VARIABLES);
						(loDSItem)
								.setBehaviour(sap.zen.XpDSItemContainerVariables.DISPLAY_DIMENSIONS_WITH_VARIABLES);
						this.addChildByKey(loDSItem.getDataSourceItem()
								.getValue(), loDSItem);
						loDSItem = this.addDSItem(sap.zen.CXpDSItem.FILTERS);
						(loDSItem)
								.setBehaviour(sap.zen.XpDSItemContainerFilter.DISPLAY_DIMENSIONS_WITH_FILTER);
						this.addChildByKey(loDSItem.getDataSourceItem()
								.getValue(), loDSItem);
						loDSItem = this.addDSItem(sap.zen.CXpDSItem.GRID);
						(loDSItem).setHasTitle(false);
						this.addChildByKey(loDSItem.getDataSourceItem()
								.getValue(), loDSItem);
					},
					getName : function() {
						return this.getDataSource().getId();
					},
					getTitle : function() {
						return this.oDataSource.getId();
					},
					releaseObject : function() {
						sap.zen.XpDSItemContainerDataSource.$superclass.releaseObject
								.call(this);
					}
				});
$Firefly
		.createClass(
				"sap.zen.XpDSItemContainerFilter",
				sap.zen.XpDSItemContainer,
				{
					$statics : {
						DISPLAY_DIMENSIONS_WITH_FILTER : 1,
						DISPLAY_DIMENSIONS : 2,
						createFilterContainer : function(oParent, oDataSource,
								oResultSet) {
							var loInstance = null;
							if (oDataSource !== null) {
								loInstance = new sap.zen.XpDSItemContainerFilter();
								loInstance.initFilterContainer(oParent,
										oDataSource, oResultSet);
							}
							return loInstance;
						}
					},
					behaviour : 0,
					initFilterContainer : function(oParent, oDataSource,
							oResultSet) {
						sap.zen.XpDSItemContainerFilter.$superclass.initDSItemContainer
								.call(this, oParent, oDataSource, oResultSet,
										sap.zen.CXpDSItem.FILTERS);
						this.behaviour = sap.zen.XpDSItemContainerFilter.DISPLAY_DIMENSIONS_WITH_FILTER;
					},
					setBehaviour : function(behaviour) {
						this.behaviour = behaviour;
					},
					prepare : function() {
						var loDataSource;
						var ltDimensions;
						var lDimensionIndex;
						var loInternalDimension;
						var loDimension;
						var ltFilterValues;
						this.removeChildren();
						loDataSource = this.getDataSource();
						ltDimensions = loDataSource.getSelector()
								.getDimensions();
						for (lDimensionIndex = 0; lDimensionIndex < ltDimensions
								.size(); lDimensionIndex++) {
							loInternalDimension = ltDimensions
									.get(lDimensionIndex);
							if (loInternalDimension === null) {
								continue;
							}
							loDimension = sap.zen.DimensionWrapper.create(
									loDataSource, this.getResultSet(),
									loInternalDimension.getName());
							ltFilterValues = loDimension.getFilterValues();
							if (this.behaviour === sap.zen.XpDSItemContainerFilter.DISPLAY_DIMENSIONS_WITH_FILTER) {
								if (ltFilterValues !== null
										&& ltFilterValues.size() > 0) {
									this.addChild(sap.zen.XpDSItemRow.create(
											this, this.getAmountOfChildren(),
											loDimension));
								}
							} else {
								this.addChild(sap.zen.XpDSItemRow
										.create(this, this
												.getAmountOfChildren(),
												loDimension));
							}
						}
					},
					getName : function() {
						return sap.firefly.XStringUtils.concatenate2("Filter ",
								this.getDataSource().getId());
					},
					getTitle : function() {
						return sap.zen.CLocalizationDataSourceTexts.FILTERS
								.getText(this.getDataSource().getPage()
										.getLocalization(), null, null, null);
					},
					getColumns : function() {
						var lColumns = sap.zen.XpDSItemContainerFilter.$superclass.getColumns
								.call(this);
						if (lColumns <= 0) {
							return 2;
						}
						return lColumns;
					},
					releaseObject : function() {
						sap.zen.XpDSItemContainerFilter.$superclass.releaseObject
								.call(this);
						this.behaviour = -1;
					}
				});
$Firefly
		.createClass(
				"sap.zen.XpDSItemContainerGrid",
				sap.zen.XpDSItemContainer,
				{
					$statics : {
						createGridContainer : function(oParent, oDataSource,
								oResultSet) {
							var loInstance = null;
							if (oDataSource !== null) {
								loInstance = new sap.zen.XpDSItemContainerGrid();
								loInstance.initGridContainer(oParent,
										oDataSource, oResultSet);
							}
							return loInstance;
						}
					},
					oGrid : null,
					initGridContainer : function(oParent, oDataSource,
							oResultSet) {
						var loPaging;
						var lMergeContentAllowed;
						sap.zen.XpDSItemContainerGrid.$superclass.initDSItemContainer
								.call(this, oParent, oDataSource, oResultSet,
										sap.zen.CXpDSItem.GRID);
						loPaging = this.getResultSet().getServerPaging();
						lMergeContentAllowed = !loPaging.isPagingActive();
						this.oGrid = this.getResultSet().getGrid(
								lMergeContentAllowed, false, null);
					},
					prepare : function() {
						var loPaging;
						var lMergeContentAllowed;
						this.removeChildren();
						loPaging = this.getResultSet().getServerPaging();
						lMergeContentAllowed = !loPaging.isPagingActive();
						if (this.oGrid.isMergeContent()
								&& !lMergeContentAllowed) {
							this.oGrid.setMergeContent(false);
						}
					},
					getName : function() {
						return sap.firefly.XStringUtils.concatenate2("XTab ",
								this.getDataSource().getId());
					},
					getGrid : function() {
						return this.oGrid;
					},
					getTitle : function() {
						return this.getDataSource().getQueryDescription();
					},
					getColumns : function() {
						return sap.zen.XpDSItemContainerGrid.$superclass.getColumns
								.call(this);
					},
					getAmountOfChildren : function() {
						return this.oGrid.getRows();
					},
					getChild : function(index) {
						return sap.zen.XpDSItemRow.create(this, index,
								this.oGrid);
					},
					releaseObject : function() {
						sap.zen.XpDSItemContainerGrid.$superclass.releaseObject
								.call(this);
						this.oGrid = null;
					}
				});
$Firefly
		.createClass(
				"sap.zen.XpDSItemContainerInfo",
				sap.zen.XpDSItemContainer,
				{
					$statics : {
						createInfoContainer : function(oParent, oDataSource,
								oResultSet) {
							var loInstance = null;
							if (oDataSource !== null) {
								loInstance = new sap.zen.XpDSItemContainerInfo();
								loInstance.initInfoContainer(oParent,
										oDataSource, oResultSet);
							}
							return loInstance;
						}
					},
					initInfoContainer : function(oParent, oDataSource,
							oResultSet) {
						sap.zen.XpDSItemContainerInfo.$superclass.initDSItemContainer
								.call(this, oParent, oDataSource, oResultSet,
										sap.zen.CXpDSItem.INFO);
						this.applyLayout();
					},
					prepare : function() {
						sap.zen.XpDSItemContainerInfo.$superclass.prepare
								.call(this);
					},
					applyLayout : function() {
						var loDSItem;
						this.removeChildren();
						loDSItem = null;
						loDSItem = this
								.addDSItem(sap.zen.CXpDSItem.TECHNICAL_INFORMATION);
						loDSItem = this.addDSItem(sap.zen.CXpDSItem.VARIABLES);
						(loDSItem)
								.setBehaviour(sap.zen.XpDSItemContainerVariables.DISPLAY_DIMENSIONS_WITH_VARIABLES);
						this.addChildByKey(loDSItem.getDataSourceItem()
								.getValue(), loDSItem);
						loDSItem = this.addDSItem(sap.zen.CXpDSItem.FILTERS);
						(loDSItem)
								.setBehaviour(sap.zen.XpDSItemContainerFilter.DISPLAY_DIMENSIONS_WITH_FILTER);
						this.addChildByKey(loDSItem.getDataSourceItem()
								.getValue(), loDSItem);
					},
					getName : function() {
						return sap.firefly.XStringUtils.concatenate2("Info ",
								this.getDataSource().getId());
					},
					releaseObject : function() {
						sap.zen.XpDSItemContainerInfo.$superclass.releaseObject
								.call(this);
					}
				});
$Firefly
		.createClass(
				"sap.zen.XpDSItemContainerTechInfo",
				sap.zen.XpDSItemContainer,
				{
					$statics : {
						createTechInfoContainer : function(oParent,
								oDataSource, oResultSet) {
							var loInstance = null;
							if (oDataSource !== null) {
								loInstance = new sap.zen.XpDSItemContainerTechInfo();
								loInstance.initTechInfoContainer(oParent,
										oDataSource, oResultSet);
							}
							return loInstance;
						}
					},
					initTechInfoContainer : function(oParent, oDataSource,
							oResultSet) {
						sap.zen.XpDSItemContainerTechInfo.$superclass.initDSItemContainer
								.call(this, oParent, oDataSource, oResultSet,
										sap.zen.CXpDSItem.TECHNICAL_INFORMATION);
					},
					prepare : function() {
						this.removeChildren();
						this.addChild(sap.zen.XpDSItemRow.create(this, this
								.getAmountOfChildren(),
								sap.zen.CXpDSTechInfo.QUERY_DESCRIPTION));
						this
								.addChild(sap.zen.XpDSItemRow
										.create(
												this,
												this.getAmountOfChildren(),
												sap.zen.CXpDSTechInfo.INFOPROVIDER_DESCRIPTION));
						this.addChild(sap.zen.XpDSItemRow.create(this, this
								.getAmountOfChildren(),
								sap.zen.CXpDSTechInfo.CREATED_BY));
						this.addChild(sap.zen.XpDSItemRow.create(this, this
								.getAmountOfChildren(),
								sap.zen.CXpDSTechInfo.CREATED_ON));
						this.addChild(sap.zen.XpDSItemRow.create(this, this
								.getAmountOfChildren(),
								sap.zen.CXpDSTechInfo.REFRESHED_BY));
						this.addChild(sap.zen.XpDSItemRow.create(this, this
								.getAmountOfChildren(),
								sap.zen.CXpDSTechInfo.REFRESHED_ON));
						this.addChild(sap.zen.XpDSItemRow.create(this, this
								.getAmountOfChildren(),
								sap.zen.CXpDSTechInfo.LAST_DATA_UPDATE));
					},
					getName : function() {
						return sap.firefly.XStringUtils.concatenate2(
								"TechInfo ", this.getDataSource().getId());
					},
					getTitle : function() {
						return sap.zen.CLocalizationDataSourceTexts.TECHNICAL_INFO
								.getText(this.getDataSource().getPage()
										.getLocalization(), null, null, null);
					},
					getColumns : function() {
						var lColumns = sap.zen.XpDSItemContainerTechInfo.$superclass.getColumns
								.call(this);
						if (lColumns <= 0) {
							return 2;
						}
						return lColumns;
					},
					releaseObject : function() {
						sap.zen.XpDSItemContainerTechInfo.$superclass.releaseObject
								.call(this);
					}
				});
$Firefly
		.createClass(
				"sap.zen.XpDSItemContainerVariables",
				sap.zen.XpDSItemContainer,
				{
					$statics : {
						DISPLAY_DIMENSIONS_WITH_VARIABLES : 1,
						DISPLAY_DIMENSIONS : 2,
						createVariableContainer : function(oParent,
								oDataSource, oResultSet) {
							var loInstance = null;
							if (oDataSource !== null) {
								loInstance = new sap.zen.XpDSItemContainerVariables();
								loInstance.initVariableContainer(oParent,
										oDataSource, oResultSet);
							}
							return loInstance;
						}
					},
					behaviour : 0,
					initVariableContainer : function(oParent, oDataSource,
							oResultSet) {
						sap.zen.XpDSItemContainerVariables.$superclass.initDSItemContainer
								.call(this, oParent, oDataSource, oResultSet,
										sap.zen.CXpDSItem.VARIABLES);
						this.behaviour = sap.zen.XpDSItemContainerVariables.DISPLAY_DIMENSIONS_WITH_VARIABLES;
					},
					setBehaviour : function(behaviour) {
						this.behaviour = behaviour;
					},
					prepare : function() {
						var loDataSource;
						var ltVariables;
						var lVariableIndex;
						var loInternalVariable;
						var loVariable;
						var ltVariableValues;
						this.removeChildren();
						loDataSource = this.getDataSource();
						ltVariables = loDataSource.getQueryManager()
								.getVariables();
						for (lVariableIndex = 0; lVariableIndex < ltVariables
								.size(); lVariableIndex++) {
							loInternalVariable = ltVariables
									.get(lVariableIndex);
							if (loInternalVariable === null) {
								continue;
							}
							loVariable = sap.zen.VariableWrapper.createWrapper(
									loInternalVariable, loDataSource
											.getMessageWriter());
							ltVariableValues = loVariable.getAllSelections();
							if (this.behaviour === sap.zen.XpDSItemContainerFilter.DISPLAY_DIMENSIONS_WITH_FILTER) {
								if (ltVariableValues !== null
										&& ltVariableValues.size() > 0) {
									this.addChild(sap.zen.XpDSItemRow.create(
											this, this.getAmountOfChildren(),
											loInternalVariable));
								}
							} else {
								this.addChild(sap.zen.XpDSItemRow.create(this,
										this.getAmountOfChildren(),
										loInternalVariable));
							}
						}
					},
					getName : function() {
						return sap.firefly.XStringUtils.concatenate2(
								"Variables ", this.getDataSource().getId());
					},
					getTitle : function() {
						return sap.zen.CLocalizationDataSourceTexts.VARIABLES
								.getText(this.getDataSource().getPage()
										.getLocalization(), null, null, null);
					},
					getColumns : function() {
						var lColumns = sap.zen.XpDSItemContainerVariables.$superclass.getColumns
								.call(this);
						if (lColumns <= 0) {
							return 2;
						}
						return lColumns;
					},
					releaseObject : function() {
						sap.zen.XpDSItemContainerVariables.$superclass.releaseObject
								.call(this);
						this.behaviour = -1;
					}
				});
$Firefly
		.createClass(
				"sap.zen.Dialog",
				sap.zen.PopupControl,
				{
					oGridlayoutControl : null,
					oButtonOK : null,
					oButtonCancel : null,
					sfinMode : false,
					create : function() {
						var sRowNodeChildren;
						var sColNodeChildren;
						var onOk;
						var onCancel;
						var textControl;
						var cssStyle;
						sap.zen.Dialog.$superclass.create.call(this);
						this.setTopMarginAsString("150");
						this.setLeftMarginAsString("150");
						this.setRenderCssAndShowLoadingState(true);
						this.oGridlayoutControl = this.getPage()
								.createComponentObjectWOInitParameter(
										"GRID_LAYOUT_COMPONENT", "dd", this);
						this.oGridlayoutControl
								.setLeftMarginAsStringWoCheck("5");
						this.oGridlayoutControl
								.setRightMarginAsStringWoCheck("5");
						this.oGridlayoutControl
								.setTopMarginAsStringWoCheck("32");
						this.oGridlayoutControl
								.setBottomMarginAsStringWoCheck("34");
						this.oGridlayoutControl.setWidthAsStringWoCheck("auto");
						this.oGridlayoutControl
								.setHeightAsStringWoCheck("auto");
						sRowNodeChildren = sap.firefly.XListOfString.create();
						sRowNodeChildren.add("1");
						sColNodeChildren = sap.firefly.XListOfString.create();
						sColNodeChildren.add("1");
						this.oGridlayoutControl.setSFinMode(this.sfinMode, 0);
						this.oGridlayoutControl.createGrid(1, 1,
								sRowNodeChildren, sColNodeChildren);
						this.addChild(this.oGridlayoutControl);
						this.oButtonOK = this.getPage()
								.createComponentObjectWOInitParameter(
										"BUTTON_COMPONENT", "OK", this);
						this.oButtonCancel = this.getPage()
								.createComponentObjectWOInitParameter(
										"BUTTON_COMPONENT", "CANCEL", this);
						this.oButtonOK
								.setText(sap.zen.CLocalizationDialogTexts.OK
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						this.oButtonOK.setLeftMarginAsStringWoCheck("auto");
						this.oButtonOK.setRightMarginAsStringWoCheck("5");
						this.oButtonOK.setBottomMarginAsStringWoCheck("8");
						this.oButtonOK.setHeightAsStringWoCheck("21");
						this.oButtonOK.setTopMarginAsStringWoCheck("auto");
						onOk = sap.firefly.XString.concatenate2(this.getId(),
								".onOK()");
						this.oButtonOK.setOnClick(onOk);
						this.oButtonCancel
								.setText(sap.zen.CLocalizationDialogTexts.CANCEL
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						this.oButtonCancel.setLeftMarginAsStringWoCheck("auto");
						this.oButtonCancel.setRightMarginAsStringWoCheck("100");
						this.oButtonCancel.setBottomMarginAsStringWoCheck("10");
						this.oButtonCancel.setHeightAsStringWoCheck("21");
						this.oButtonCancel.setTopMarginAsStringWoCheck("auto");
						onCancel = sap.firefly.XString.concatenate2(this
								.getId(), ".onCancel()");
						this.oButtonCancel.setOnClick(onCancel);
						textControl = this.getPage()
								.createComponentObjectWOInitParameter(
										"TEXT_COMPONENT", "HEADER", this);
						textControl.setLeftMarginAsStringWoCheck("0");
						textControl.setRightMarginAsStringWoCheck("0");
						textControl.setWidthAsStringWoCheck("auto");
						textControl.setBottomMarginAsStringWoCheck("auto");
						textControl.setHeightAsStringWoCheck("23");
						textControl.setTopMarginAsStringWoCheck("0");
						textControl
								.setText(sap.zen.CLocalizationDialogTexts.PROMPTS
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						cssStyle = "font-size:10px; background-color:rgb(229, 234, 243); padding-top:4px;";
						cssStyle = sap.firefly.XString
								.concatenate2(cssStyle,
										" padding-left:6px;border-bottom-color: rgb(150, 168, 195);");
						cssStyle = sap.firefly.XString
								.concatenate2(cssStyle,
										" border-bottom-style: solid; border-bottom-width: 1px;");
						textControl.setCss(cssStyle);
						this.addChild(textControl);
						this.addChild(this.oButtonOK);
						this.addChild(this.oButtonCancel);
					},
					getComponentName : function() {
						return this.getName();
					},
					isOpen : function() {
						return this.isShowing();
					},
					getMessageManager : function() {
						return this.getPage().getMessageManager();
					},
					getMessageComponent : function() {
						return null;
					},
					setMessageComponent : function(messageComponent) {
						return;
					},
					handleMessagesChanged : function() {
						this.setContentChanged(true);
					},
					showDialog : function() {
						sap.zen.Dialog.$superclass.show.call(this);
					},
					onOK : function() {
						this.hide();
					},
					onCancel : function() {
						this.hide();
					},
					setContent : function(oComponent) {
						(this.oGridlayoutControl.getChildren().get(0))
								.getChildren().clear();
						(this.oGridlayoutControl.getChildren().get(0))
								.addChild(oComponent);
						oComponent.setParent(this.oGridlayoutControl
								.getChildren().get(0));
					},
					getContent : function() {
						if (this.tChildren.size() > 1) {
							return (this.tChildren.get(1));
						}
						return null;
					},
					setWidthInt : function(width) {
						this.setWidth(width);
					},
					setHeightInt : function(height) {
						this.setHeight(height);
					},
					setOKAction : function(action) {
						this.oButtonOK.setOnClick(action);
						this.oButtonOK.setRenderOnClickDirectly(true);
					},
					setCancelAction : function(action) {
						return;
					},
					setOKButtonEnabled : function(enable) {
						this.oButtonOK.setEnabled(enable);
					},
					setHasCancelButton : function(hasCancelButton) {
						this.oButtonCancel.setVisible(!hasCancelButton);
					},
					setSFinMode : function(sfinMode) {
						this.sfinMode = sfinMode;
					}
				});
$Firefly
		.createClass(
				"sap.zen.AbstractFilterComponentBase",
				sap.zen.MultiDataProviderReferenceComponent,
				{
					$statics : {
						EMPTY : null,
						USE_MEMBER_CACHE : true,
						CONSTANTS_INITITIALIZED : false,
						staticSetup2 : function() {
							sap.zen.AbstractFilterComponentBase.EMPTY = "";
						}
					},
					memberDisplay : null,
					characteristicWrappers : null,
					characteristicContainer : null,
					axisWrapper : null,
					variableScreen : false,
					isInDialog : false,
					label : false,
					appearance : null,
					title : null,
					showEmbedded : false,
					filterPanel : false,
					navigationPanel : false,
					popupWidth : 0,
					popupHeight : 0,
					popupPosition : null,
					onSubmit : null,
					onCancel : null,
					showFilerDialogCommand : null,
					destroyFilerDialogCommand : null,
					memberSearchCommand : null,
					expandNodeCommand : null,
					destroyFilterComponentCommand : null,
					createContextMenuCommand : null,
					filterDialogFor : null,
					memberToExpand : null,
					visibleFlag : false,
					changeVisibility : false,
					theFilterOrAxisChanged : false,
					filterCanceled : false,
					theSetInitialJson : false,
					theForceFullRerendering : false,
					errorFree : false,
					oldVisible : null,
					view : null,
					checkListeners : null,
					sFinNavigation : false,
					showOneScreen : false,
					sFinPrompt : false,
					labelOnTop : false,
					desktopMemberSelector : false,
					navigationDragDrop : false,
					useNavigationPanelHandler : false,
					validatedFilterConfig : null,
					setVisiblePromptsCommand : null,
					create : function() {
						sap.zen.AbstractFilterComponentBase.$superclass.create
								.call(this);
						this.getPage().addRequireModule(
								this.getHandlerRequireModuleName());
					},
					getHandlerRequireModuleName : function() {
						return "zen.rt.components.filterpanel/resources/js/filterpanel_m_handler";
					},
					handleDataSourceChanged : function(oDataSource, oCause,
							metaData, resultData) {
						if (metaData) {
							this.initWrappers();
							this.forceFullRerendering();
						}
						if (resultData) {
							if (oCause !== null
									&& sap.firefly.XString
											.isEqual(
													oCause.getAction(),
													sap.zen.CDataSourceChangeAction.AsyncResultSet
															.toString())) {
								return;
							}
							this.filterOrAxisChanged();
						}
						sap.zen.AbstractFilterComponentBase.$superclass.handleDataSourceChanged
								.call(this, oDataSource, oCause, false, true);
					},
					doUiItemInit : function() {
						var oldVisible;
						var s1;
						if (sap.zen.AbstractFilterComponentBase.CONSTANTS_INITITIALIZED === false) {
							sap.zen.AbstractFilterComponentBase.CONSTANTS_INITITIALIZED = true;
							sap.zen.AbstractFilterComponentBase.staticSetup2();
						}
						this.visibleFlag = this.getBooleanPropertyWithDefault(
								"VISIBLE", true);
						if (this.oldVisible !== null) {
							oldVisible = this.oldVisible.getBooleanValue();
							if (oldVisible !== this.visibleFlag) {
								this.changeVisibility = true;
							}
						} else {
							this.view = sap.zen.View.VIEW_DEFAULT;
							this.fireSwitchPageEvent(sap.zen.FilterPage.MAIN);
							this.theSetInitialJson = true;
							this.theFilterOrAxisChanged = true;
							this.filterCanceled = false;
							this.changeVisibility = false;
							this.errorFree = true;
							s1 = sap.firefly.XString
									.concatenate2(this.getId(),
											".doShowFilterDialogCommand('__arguments__');");
							this.showFilerDialogCommand = this
									.createScriptAction(s1, "__STRING__");
							s1 = sap.firefly.XString.concatenate2(this.getId(),
									".doDestroyFilterDialogCommand();");
							this.destroyFilerDialogCommand = this
									.createScriptAction(s1, "");
							s1 = sap.firefly.XString.concatenate2(this.getId(),
									".doMemberSearchCommand('__arguments__');");
							this.memberSearchCommand = this.createScriptAction(
									s1, "__STRING__");
							s1 = sap.firefly.XString.concatenate2(this.getId(),
									".doExpandNodeCommand('__arguments__');");
							this.expandNodeCommand = this.createScriptAction(
									s1, "__STRING__','__STRING2__");
							s1 = sap.firefly.XString.concatenate2(this.getId(),
									".doDestroyFilterComponentCommand();");
							this.destroyFilterComponentCommand = this
									.createScript(s1);
							s1 = sap.firefly.XString
									.concatenate2(this.getId(),
											".doCreateContextMenuCommand('__arguments__');");
							this.createContextMenuCommand = this
									.createScriptAction(s1,
											"__STRING__','__STRING2__','__STRING3__");
							s1 = sap.firefly.XString.concatenate2(this.getId(),
									".doSetVisiblePrompts('__arguments__');");
							this.setVisiblePromptsCommand = this
									.createScriptAction(s1, "__ARRAY__");
						}
						this.oldVisible = sap.firefly.XBooleanValue
								.create(this.visibleFlag);
					},
					setTitle : function(value) {
						this.title = value;
					},
					isShowEmbedded : function() {
						return this.showEmbedded;
					},
					setShowEmbedded : function(showEmbedded) {
						this.showEmbedded = showEmbedded;
					},
					setPopupWidth : function(popupWidth) {
						this.popupWidth = popupWidth;
					},
					setPopupHeight : function(popupHeight) {
						this.popupHeight = popupHeight;
					},
					setPopupPosition : function(position) {
						this.popupPosition = position;
					},
					setOnSubmit : function(onSubmit) {
						this.onSubmit = onSubmit;
					},
					setOnCancel : function(onCancel) {
						this.onCancel = onCancel;
					},
					setFilterPanel : function(filterPanel) {
						this.filterPanel = filterPanel;
					},
					isFilterPanel : function() {
						return this.filterPanel;
					},
					isNavigationPanel : function() {
						return this.navigationPanel;
					},
					setNavigationPanel : function(navigationPanel) {
						this.navigationPanel = navigationPanel;
					},
					setSFinNavigation : function(sFinNavigation) {
						this.sFinNavigation = sFinNavigation;
					},
					setShowOneScreen : function(showOneScreen) {
						this.showOneScreen = showOneScreen;
					},
					setSFinPrompt : function(sFinPrompt) {
						this.sFinPrompt = sFinPrompt;
					},
					setCharacteristicContainer : function(
							characteristicContainer) {
						this.characteristicContainer = characteristicContainer;
						if (this.filterDialogFor !== null) {
							this.filterDialogFor = this.characteristicContainer
									.getElement(this.filterDialogFor
											.getConfig().getName());
						}
					},
					getCharacteristicContainer : function() {
						return this.characteristicContainer;
					},
					sortCharacteristics : function(characteristics) {
						var comparator;
						if (characteristics.size() <= 1) {
							return;
						}
						comparator = new sap.zen.SortCharsAscByTextComparator();
						characteristics.sortByComparator(comparator);
					},
					setAxisWrapper : function(axisWrapper) {
						this.axisWrapper = axisWrapper;
					},
					setVariableScreen : function(variableScreen) {
						this.variableScreen = variableScreen;
					},
					setInDialog : function(isInDialog) {
						this.isInDialog = isInDialog;
					},
					setAppearance : function(appearance) {
						this.appearance = appearance;
					},
					setLabel : function(label) {
						this.label = label;
					},
					setMemberDisplay : function(display) {
						this.memberDisplay = display;
					},
					setCharacteristicChanged : function(name) {
						if (this.filterDialogFor !== null
								&& (sap.firefly.XString.compare(
										this.filterDialogFor.getName(), name) === 0)) {
							this.view = sap.zen.View.DIALOG;
							this
									.fireSwitchPageEvent(sap.zen.FilterPage.SELECTOR);
							this.setContentChanged(true);
						}
					},
					initWrappers : function() {
						this.characteristicWrappers = this
								.getCharacteristicsContainer();
						if (this.isNavigationPanel()) {
							this.setAxisWrapper(this.getAxisWrapper());
						}
						this
								.setCharacteristicContainer(this.characteristicWrappers);
					},
					setVisible : function(visible) {
						sap.zen.AbstractFilterComponentBase.$superclass.setVisible
								.call(this, visible);
						this.setVisibilityChanged(visible);
					},
					forceFullRerendering : function() {
						this.filterOrAxisChanged();
						this.setInitialJson();
						this.theForceFullRerendering = true;
					},
					setInitialJson : function() {
						this.view = sap.zen.View.VIEW_DEFAULT;
						this.fireSwitchPageEvent(sap.zen.FilterPage.MAIN);
						this.theSetInitialJson = true;
					},
					isErrorFree : function() {
						return this.errorFree;
					},
					submit : function(executeOnApply) {
						if (executeOnApply) {
							this.view = sap.zen.View.SUBMIT_WITH_APPLY;
						} else {
							this.view = sap.zen.View.SUBMIT;
						}
					},
					cancel : function() {
						this.view = sap.zen.View.CANCEL;
					},
					getExpandedNode : function(oRenderSerializer) {
						var children;
						oRenderSerializer.addAttribute("path",
								this.memberToExpand.getPath());
						oRenderSerializer.openTag("member");
						this.getMemberAttributes(oRenderSerializer,
								this.memberToExpand.getMember());
						children = this.memberToExpand.getMember()
								.getChildren();
						this.getMembersAsLeafs(oRenderSerializer, children);
						oRenderSerializer.closeTag();
					},
					getSearchJson : function(oRenderSerializer) {
						var selectionTypes = null;
						var members;
						var visible;
						if (this.filterDialogFor.getConfig() !== null) {
							selectionTypes = this.filterDialogFor.getConfig()
									.getSelectionTypes();
						}
						oRenderSerializer.openTag("dialog");
						members = false;
						if (this.filterDialogFor.isCharacteristicHierarchical()
								&& this.filterDialogFor.isSearchStringEmpty()) {
							members = this
									.getAllMembersAsTree(oRenderSerializer);
						} else {
							members = this.getAllMembers(oRenderSerializer);
						}
						oRenderSerializer.openTag("selection");
						visible = selectionTypes === null
								|| selectionTypes
										.contains(sap.zen.TabType.SELECTION);
						oRenderSerializer.addBooleanAttribute("visible",
								visible);
						if (visible) {
							if (members) {
								oRenderSerializer
										.addAttribute(
												"nomembers",
												sap.zen.CLocalizationFilterTexts.NO_RESULTS
														.getText(
																this
																		.getPage()
																		.getLocalization(),
																null, null,
																null));
							} else {
								oRenderSerializer
										.addAttribute(
												"nomembers",
												sap.zen.CLocalizationFilterTexts.TOO_MANY_RESULTS
														.getText(
																this
																		.getPage()
																		.getLocalization(),
																null, null,
																null));
							}
							oRenderSerializer.addBooleanAttribute(
									"maxelements", this.filterDialogFor
											.hasMoreThanMaxElements()
											.getBooleanValue());
						}
						oRenderSerializer.closeTag();
						oRenderSerializer.openTag("range");
						visible = !this.filterDialogFor
								.isCharacteristicHierarchical()
								&& (this.filterDialogFor.supportsInterval() || this.filterDialogFor
										.supportsRange())
								&& (selectionTypes === null || selectionTypes
										.contains(sap.zen.TabType.RANGE));
						oRenderSerializer.addBooleanAttribute("visible",
								visible);
						if (visible) {
							if (members) {
								oRenderSerializer
										.addAttribute(
												"nomembers",
												sap.zen.CLocalizationFilterTexts.NO_RESULTS
														.getText(
																this
																		.getPage()
																		.getLocalization(),
																null, null,
																null));
							} else {
								oRenderSerializer
										.addAttribute(
												"nomembers",
												sap.zen.CLocalizationFilterTexts.TOO_MANY_RESULTS
														.getText(
																this
																		.getPage()
																		.getLocalization(),
																null, null,
																null));
							}
							oRenderSerializer.addBooleanAttribute(
									"maxelements", this.filterDialogFor
											.hasMoreThanMaxElements()
											.getBooleanValue());
						}
						oRenderSerializer.closeTag();
						oRenderSerializer.closeTag();
					},
					getDialogJson : function(rs) {
						var hierarchical;
						var memberType;
						var moreThanMaxElements;
						var selectionTypes;
						var hasSelectionOrRange;
						rs.openTag("dialog");
						rs.addAttribute("name", this.filterDialogFor.getName());
						rs
								.addAttribute("title", this.filterDialogFor
										.getText());
						hierarchical = this.filterDialogFor
								.isCharacteristicHierarchical();
						rs.addBooleanAttribute("hierarchical", hierarchical);
						rs.addBooleanAttribute("exclusionallowed",
								this.filterDialogFor.supportsExcluding());
						if (!this.filterDialogFor.supportsMultiSelection()) {
							rs.addBooleanAttribute("singleonly", true);
						}
						if (this.filterDialogFor.supportsValueHelp()) {
							memberType = this.filterDialogFor.getMemberType();
							if (memberType === sap.zen.Type.DOUBLE
									|| memberType === sap.zen.Type.INTEGER
									|| memberType === sap.zen.Type.DATE
									|| memberType === sap.zen.Type.DATE_TIME
									|| memberType === sap.zen.Type.TIMESPAN) {
								rs.addAttribute("membertype", memberType
										.toString());
							}
							moreThanMaxElements = this.filterDialogFor
									.hasMoreThanMaxElements();
							if (hierarchical) {
								this.getAllMembersAsTree(rs);
							} else {
								if (moreThanMaxElements === null
										|| !moreThanMaxElements
												.getBooleanValue()) {
									this.getAllMembers(rs);
								}
							}
						}
						selectionTypes = null;
						if (this.filterDialogFor.getConfig() !== null) {
							selectionTypes = this.filterDialogFor.getConfig()
									.getSelectionTypes();
						}
						hasSelectionOrRange = false;
						rs.openTag("selection");
						if ((selectionTypes === null || selectionTypes
								.contains(sap.zen.TabType.SELECTION))
								&& this.filterDialogFor.supportsValueHelp()) {
							this.getMaxElementsInfos(rs);
							rs.addBooleanAttribute("visible", true);
							hasSelectionOrRange = true;
						} else {
							rs.addBooleanAttribute("visible", false);
						}
						rs.closeTag();
						rs.openTag("range");
						if (!hierarchical
								&& (this.filterDialogFor.supportsInterval() || this.filterDialogFor
										.supportsRange())
								&& (selectionTypes === null || selectionTypes
										.contains(sap.zen.TabType.RANGE))
								&& this.filterDialogFor.supportsValueHelp()) {
							this.getMaxElementsInfos(rs);
							rs.addBooleanAttribute("visible", true);
							hasSelectionOrRange = true;
						} else {
							rs.addBooleanAttribute("visible", false);
						}
						rs.closeTag();
						if (this.showOneScreen) {
							rs.openTag("input");
							rs.addBooleanAttribute("visible",
									(!this.sFinPrompt || this.sFinPrompt
											&& !hasSelectionOrRange));
							rs.closeTag();
						}
						rs.closeTag();
					},
					getMaxElementsInfos : function(oRenderSerializer) {
						if (this.filterDialogFor.hasMoreThanMaxElements()
								.getBooleanValue()) {
							oRenderSerializer.addAttribute("nomembers",
									sap.zen.CLocalizationFilterTexts.USE_SEARCH
											.getText(this.getPage()
													.getLocalization(), null,
													null, null));
						} else {
							oRenderSerializer.addAttribute("nomembers",
									sap.zen.CLocalizationFilterTexts.NO_RESULTS
											.getText(this.getPage()
													.getLocalization(), null,
													null, null));
						}
						oRenderSerializer.addBooleanAttribute("maxelements",
								this.filterDialogFor.hasMoreThanMaxElements()
										.getBooleanValue());
					},
					getAllMembersAsTree : function(rs) {
						var members = null;
						members = this.filterDialogFor.getMembers();
						if (members !== null) {
							rs.openTag("members");
							this.getMembersAsLeafs(rs, members);
							rs.closeTag();
						}
						return members !== null;
					},
					getAllMembers : function(rs) {
						var members = null;
						members = this.filterDialogFor.getMembers();
						rs.openArray("members");
						if (members !== null) {
							this.getMembers(rs, members);
						}
						rs.closeArray();
						return members !== null;
					},
					getMembersAsLeafs : function(oRenderSerializer, tMembers) {
						var j;
						var member;
						for (j = 0; j < tMembers.size(); j++) {
							member = tMembers.get(j);
							oRenderSerializer.openTag(sap.firefly.XInteger
									.convertIntegerToString(j));
							this.getMemberAttributes(oRenderSerializer, member);
							if (member.isNode()) {
								oRenderSerializer.openTag("0");
								oRenderSerializer.addBooleanAttribute("node",
										true);
								oRenderSerializer
										.addAttribute(
												"text",
												sap.zen.CLocalizationFilterTexts.LOAD_MEMBERS
														.getText(
																this
																		.getPage()
																		.getLocalization(),
																null, null,
																null));
								oRenderSerializer.closeTag();
							}
							oRenderSerializer.closeTag();
						}
					},
					getMembers : function(rs, members) {
						var j;
						var member;
						for (j = 0; j < members.size(); j++) {
							member = members.get(j);
							rs.openJsonTag();
							this.getMemberAttributes(rs, member);
							rs.closeJsonTag();
						}
					},
					getRanges : function(rs, ranges) {
						var j;
						var range;
						var from;
						var to;
						for (j = 0; j < ranges.size(); j++) {
							range = ranges.get(j);
							from = range.getFrom();
							to = range.getTo();
							rs.openJsonTag();
							rs.addAttribute("key", range.getKey());
							if (range.isExclude()) {
								rs.addBooleanAttribute("exclude", true);
							}
							if (range.getOperation() !== null
									&& !sap.firefly.XString.isEqual("EQ", range
											.getOperation().toString())) {
								rs.addAttribute("operation", range
										.getOperation().toString());
							}
							if (from !== null) {
								rs.openTag("from");
								this.getMemberAttributes(rs, from);
								rs.closeTag();
							}
							if (to !== null) {
								rs.openTag("to");
								this.getMemberAttributes(rs, to);
								rs.closeTag();
							}
							rs.closeJsonTag();
						}
					},
					getMemberAttributes : function(rs, member) {
						rs.addAttribute("key", member.getKey());
						rs.addAttribute("displaykey", member.getDisplayKey());
						if (this.memberDisplay !== sap.zen.FPMemberDisplay.KEY) {
							rs.addAttribute("text", member.getText());
						}
					},
					getFilterPanelJson : function(oRenderSerializer) {
						var characteristics = sap.firefly.XListOfString
								.create();
						var visiblePrompts;
						var v;
						var elements;
						var j;
						var characteristicWrapper;
						var measureStructure;
						var memberType;
						var valueHelp;
						var incorrectValue;
						var mandatory;
						var members;
						var characteristicNameTextSet;
						var i;
						var characteristicNameText;
						if (this.characteristicContainer !== null) {
							if (this.variableScreen) {
								visiblePrompts = this.getPage()
										.getVisiblePrompts();
								if (visiblePrompts !== null) {
									oRenderSerializer
											.openArray("visibleprompts");
									for (v = 0; v < visiblePrompts.size(); v++) {
										oRenderSerializer
												.addSimpleValueToArray(visiblePrompts
														.get(v));
									}
									oRenderSerializer.closeArray();
								}
							}
							oRenderSerializer.openArray("characteristics");
							elements = this.characteristicContainer
									.getElements();
							for (j = 0; j < elements.size(); j++) {
								characteristicWrapper = elements.get(j);
								measureStructure = characteristicWrapper
										.isMeasureStructure();
								oRenderSerializer.openTag("characteristic");
								oRenderSerializer.addAttribute("name",
										characteristicWrapper.getName());
								characteristics.add(characteristicWrapper
										.getName());
								if (measureStructure) {
									oRenderSerializer
											.addAttribute(
													"text",
													sap.zen.CLocalizationFilterTexts.MEASURES
															.getText(
																	this
																			.getPage()
																			.getLocalization(),
																	null, null,
																	null));
								} else {
									oRenderSerializer.addAttribute("text",
											characteristicWrapper.getText());
								}
								memberType = characteristicWrapper
										.getMemberType();
								oRenderSerializer.addAttribute("type",
										memberType.toString());
								valueHelp = characteristicWrapper
										.supportsValueHelp();
								if (valueHelp) {
									oRenderSerializer.addBooleanAttribute(
											"valuehelp", valueHelp);
								}
								if (memberType === sap.zen.Type.DATE) {
									if (characteristicWrapper
											.supportsExcluding()) {
										oRenderSerializer.addBooleanAttribute(
												"exclusionallowed", true);
									}
									if (!characteristicWrapper
											.supportsMultiSelection()) {
										oRenderSerializer.addBooleanAttribute(
												"singleonly", true);
									}
									if (!characteristicWrapper
											.isCharacteristicHierarchical()
											&& characteristicWrapper
													.supportsInterval()) {
										oRenderSerializer.addBooleanAttribute(
												"intervalallowed", true);
									}
									if (!characteristicWrapper
											.isCharacteristicHierarchical()
											&& characteristicWrapper
													.supportsRange()) {
										oRenderSerializer.addBooleanAttribute(
												"rangeallowed", true);
									}
									if (characteristicWrapper
											.isCharacteristicHierarchical()) {
										oRenderSerializer.addBooleanAttribute(
												"hierarchical", true);
									}
								}
								incorrectValue = !this.characteristicContainer
										.checkValue(characteristicWrapper
												.getName());
								if (incorrectValue) {
									oRenderSerializer.addBooleanAttribute(
											"incorrectvalue", incorrectValue);
								}
								mandatory = characteristicWrapper.isMandatory();
								if (mandatory) {
									oRenderSerializer.addBooleanAttribute(
											"mandatory", mandatory);
								}
								if (this.navigationPanel) {
									oRenderSerializer.addAttribute("axis",
											characteristicWrapper.getAxis()
													.toString());
								}
								if (measureStructure) {
									oRenderSerializer.addBooleanAttribute(
											"measureStructure",
											measureStructure);
								}
								if (this.isUseNavigationPanelHandler()
										&& measureStructure) {
									characteristicWrapper.setMaxMembers(100000);
									members = characteristicWrapper
											.getMembers();
									oRenderSerializer.openArray("members");
									this.getMembers(oRenderSerializer, members);
									oRenderSerializer.closeArray();
								}
								oRenderSerializer.closeTag();
							}
							oRenderSerializer.closeArray();
						}
						if (this.isUseNavigationPanelHandler()) {
							characteristicNameTextSet = this
									.getCharacteristicNameTextMap(characteristics);
							if (!characteristicNameTextSet.isEmpty()) {
								oRenderSerializer.openArray("charnames");
								for (i = 0; i < characteristicNameTextSet
										.size(); i++) {
									characteristicNameText = characteristicNameTextSet
											.get(i);
									oRenderSerializer.openJsonTag();
									oRenderSerializer.addAttribute("name",
											characteristicNameText.name);
									if (characteristicNameText.measure) {
										oRenderSerializer
												.addAttribute(
														"text",
														sap.zen.CLocalizationFilterTexts.MEASURES
																.getText(
																		this
																				.getPage()
																				.getLocalization(),
																		null,
																		null,
																		null));
									} else {
										oRenderSerializer.addAttribute("text",
												characteristicNameText.text);
									}
									oRenderSerializer.closeJsonTag();
								}
								oRenderSerializer.closeArray();
							}
						}
					},
					getCharacteristicNameTextMap : function(
							exportedCharacteristics) {
						return sap.firefly.XList.create();
					},
					getAxisJson : function(oRenderSerializer) {
						var rows;
						var j;
						var charName;
						var columns;
						var j2;
						var charName2;
						if (this.axisWrapper !== null) {
							oRenderSerializer.openTag("axis");
							oRenderSerializer.openArray("rows");
							rows = this.axisWrapper.getRows();
							for (j = 0; j < rows.size(); j++) {
								charName = rows.get(j);
								oRenderSerializer.openTag("entry");
								oRenderSerializer
										.addAttribute("name", charName);
								oRenderSerializer.closeTag();
							}
							oRenderSerializer.closeArray();
							oRenderSerializer.openArray("columns");
							columns = this.axisWrapper.getColumns();
							for (j2 = 0; j2 < columns.size(); j2++) {
								charName2 = this.axisWrapper.getColumns().get(
										j2);
								oRenderSerializer.openTag("entry");
								oRenderSerializer.addAttribute("name",
										charName2);
								oRenderSerializer.closeTag();
							}
							oRenderSerializer.closeArray();
							oRenderSerializer.closeTag();
						}
					},
					getFilters : function(oRenderSerializer) {
						var elements;
						var j;
						var characteristicWrapper;
						if (this.characteristicContainer !== null) {
							oRenderSerializer.openTag("filters");
							elements = this.characteristicContainer
									.getElements();
							for (j = 0; j < elements.size(); j++) {
								characteristicWrapper = elements.get(j);
								if (!this.isUseNavigationPanelHandler()
										|| characteristicWrapper
												.isMeasureStructure()) {
									this.getAllFilters(oRenderSerializer,
											characteristicWrapper);
								}
							}
							oRenderSerializer.closeTag();
						}
					},
					getAllFilters : function(rs, characteristicWrapper) {
						var allSelections;
						rs.openTag(characteristicWrapper.getName());
						rs.openArray("ranges");
						allSelections = characteristicWrapper
								.getAllSelections();
						if (allSelections !== null && !allSelections.isEmpty()) {
							this.getRanges(rs, allSelections);
						}
						rs.closeArray();
						rs.closeTag();
					},
					getValidatedFilters : function(rs) {
						var keysList;
						var i;
						var allSelections;
						if (this.validatedFilterConfig !== null
								&& !this.validatedFilterConfig.isEmpty()) {
							rs.openTag("validatedfilters");
							keysList = this.validatedFilterConfig
									.getKeysAsReadOnlyListOfString();
							for (i = 0; i < keysList.size(); i++) {
								rs.openTag(keysList.get(i));
								rs.openArray("ranges");
								allSelections = this.validatedFilterConfig
										.getByKey(keysList.get(i));
								if (allSelections !== null
										&& !allSelections.isEmpty()) {
									this.getRanges(rs, allSelections);
								}
								rs.closeArray();
								rs.closeTag();
							}
							rs.closeTag();
						}
					},
					doOnCancel : function() {
						if (sap.firefly.XString.size(this.onCancel) > 0) {
							this.getPage().execWithoutRerender(this.onCancel);
						}
					},
					doOnSubmit : function() {
						if (sap.firefly.XString.size(this.onSubmit) > 0) {
							this.getPage().execWithoutRerender(this.onSubmit);
						}
					},
					getInitialJson : function(oRenderSerializer) {
						var s2;
						var scriptSequence;
						var script1;
						var script2;
						var scriptSequence2;
						var script1a;
						var script2a;
						var pauseRefreshCommand;
						var navigationPanelMode;
						var directInput;
						oRenderSerializer.openTag("text");
						if (this.variableScreen) {
							oRenderSerializer
									.addAttribute(
											"nodata",
											sap.zen.CLocalizationFilterTexts.VAR_NO_DATA
													.getText(this.getPage()
															.getLocalization(),
															null, null, null));
							oRenderSerializer
									.addAttribute(
											"clearfilter",
											sap.zen.CLocalizationFilterTexts.VAR_CLEAR_FILTER
													.getText(this.getPage()
															.getLocalization(),
															null, null, null));
						} else {
							oRenderSerializer.addAttribute("nodata",
									sap.zen.CLocalizationFilterTexts.NO_DATA
											.getText(this.getPage()
													.getLocalization(), null,
													null, null));
							oRenderSerializer
									.addAttribute(
											"clearfilter",
											sap.zen.CLocalizationFilterTexts.CLEAR_FILTER
													.getText(this.getPage()
															.getLocalization(),
															null, null, null));
						}
						oRenderSerializer.addAttribute("submit",
								sap.zen.CLocalizationFilterTexts.APPLY.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer.addAttribute("all",
								sap.zen.CLocalizationFilterTexts.ALL.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer.addAttribute("columns",
								sap.zen.CLocalizationFilterTexts.COLUMNS
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("rows",
								sap.zen.CLocalizationFilterTexts.ROWS.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer.addAttribute("selection",
								sap.zen.CLocalizationFilterTexts.SELECTION
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("search",
								sap.zen.CLocalizationFilterTexts.SEARCH
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("range",
								sap.zen.CLocalizationFilterTexts.RANGE.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer.addAttribute("remove",
								sap.zen.CLocalizationFilterTexts.REMOVE
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("exclude",
								sap.zen.CLocalizationFilterTexts.EXCLUDE
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer
								.addAttribute(
										"includedmembers",
										sap.zen.CLocalizationFilterTexts.INCLUDED_MEMBERS
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"excludedmembers",
										sap.zen.CLocalizationFilterTexts.EXCLUDED_MEMBERS
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addAttribute("noincludedmembers",
								sap.zen.CLocalizationFilterTexts.NO_MEMBERS
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer
								.addAttribute(
										"complexselection",
										sap.zen.CLocalizationFilterTexts.COMPLEX_SELECTION
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addAttribute("check_all",
								sap.zen.CLocalizationFilterTexts.CHECK_ALL
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("back",
								sap.zen.CLocalizationFilterTexts.BACK.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer.addAttribute("from",
								sap.zen.CLocalizationFilterTexts.FROM.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer.addAttribute("to",
								sap.zen.CLocalizationFilterTexts.TO.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer
								.addAttribute(
										"includedranges",
										sap.zen.CLocalizationFilterTexts.INCLUDED_RANGES
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"excludedranges",
										sap.zen.CLocalizationFilterTexts.EXCLUDED_RANGES
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addAttribute("addtolist",
								sap.zen.CLocalizationFilterTexts.ADD_TO_LIST
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("cancel",
								sap.zen.CLocalizationFilterTexts.CANCEL
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer
								.addAttribute(
										"showselectedmembers",
										sap.zen.CLocalizationFilterTexts.SHOW_SELECTED_MEMBERS
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"selectnewmembers",
										sap.zen.CLocalizationFilterTexts.SELECT_NEW_MEMBERS
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"includedmember",
										sap.zen.CLocalizationFilterTexts.INCLUDED_MEMBER
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"excludedmember",
										sap.zen.CLocalizationFilterTexts.EXCLUDED_MEMBER
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addAttribute("includedrange",
								sap.zen.CLocalizationFilterTexts.INCLUDED_RANGE
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("excludedrange",
								sap.zen.CLocalizationFilterTexts.EXCLUDED_RANGE
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer
								.addAttribute(
										"showselectedranges",
										sap.zen.CLocalizationFilterTexts.SHOW_SELECTED_RANGES
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"selectnewranges",
										sap.zen.CLocalizationFilterTexts.SELECT_NEW_RANGES
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addAttribute("selectmembers",
								sap.zen.CLocalizationFilterTexts.SELECT_MEMBERS
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer.addAttribute("selectranges",
								sap.zen.CLocalizationFilterTexts.SELECT_RANGES
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						oRenderSerializer
								.addAttribute(
										"selectsinglemember",
										sap.zen.CLocalizationFilterTexts.SELECT_SINGLE_MEMBER
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer
								.addAttribute(
										"selectsinglerange",
										sap.zen.CLocalizationFilterTexts.SELECT_SINGLE_RANGE
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addAttribute("ok",
								sap.zen.CLocalizationFilterTexts.OK.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer.addAttribute("text",
								sap.zen.CLocalizationFilterTexts.TEXT.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer.addAttribute("key",
								sap.zen.CLocalizationFilterTexts.KEY.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer
								.addAttribute(
										"selectdimension",
										sap.zen.CLocalizationFilterTexts.SELECT_DIMENSION
												.getText(this.getPage()
														.getLocalization(),
														null, null, null));
						oRenderSerializer.addAttribute("title", this.title);
						oRenderSerializer.addAttribute("input",
								sap.zen.CLocalizationFilterTexts.INPUT.getText(
										this.getPage().getLocalization(), null,
										null, null));
						oRenderSerializer.addAttribute("dimensions",
								sap.zen.CLocalizationFilterTexts.DIMENSIONS
										.getText(this.getPage()
												.getLocalization(), null, null,
												null));
						if (this.navigationPanel) {
							oRenderSerializer.addAttribute("ROWS",
									sap.zen.CLocalizationFilterTexts.ROWS_UC
											.getText(this.getPage()
													.getLocalization(), null,
													null, null));
							oRenderSerializer.addAttribute("COLUMNS",
									sap.zen.CLocalizationFilterTexts.COLUMNS_UC
											.getText(this.getPage()
													.getLocalization(), null,
													null, null));
							oRenderSerializer.addAttribute("FREE",
									sap.zen.CLocalizationFilterTexts.FREE_UC
											.getText(this.getPage()
													.getLocalization(), null,
													null, null));
						}
						if (this.isUseNavigationPanelHandler()) {
							oRenderSerializer.addAttribute("pause",
									sap.zen.CLocalizationFilterTexts.PAUSE
											.getText(this.getPage()
													.getLocalization(), null,
													null, null));
							oRenderSerializer.addAttribute("refresh",
									sap.zen.CLocalizationFilterTexts.REFRESH
											.getText(this.getPage()
													.getLocalization(), null,
													null, null));
						}
						oRenderSerializer.closeTag();
						oRenderSerializer.openTag("command");
						oRenderSerializer.addAttribute("showfilterdialog",
								this.showFilerDialogCommand);
						oRenderSerializer.addAttribute("destroyfilterdialog",
								this.destroyFilerDialogCommand);
						oRenderSerializer.addAttribute("membersearch",
								this.memberSearchCommand);
						s2 = "";
						s2 = this.createScriptActionWithPlaceHolders2(this,
								"doSubmitFilterCommand", "__STRING__",
								sap.zen.PlaceHolderType.STRING, "__BOOLEAN__",
								sap.zen.PlaceHolderType.STRING);
						oRenderSerializer.addAttribute("submitonlyfilter", s2);
						if (this.onSubmit !== null
								&& (sap.firefly.XString.size(this.onSubmit) > 0)) {
							scriptSequence = new sap.zen.ScriptSequence();
							script1 = this
									.createScriptSequenceItemWithPlaceHolders2(
											this, "doSubmitFilterCommand",
											"__STRING__",
											sap.zen.PlaceHolderType.STRING,
											"__BOOLEAN__",
											sap.zen.PlaceHolderType.STRING);
							script2 = this.createScriptSequenceItemMethodCall(
									this, "doOnSubmit");
							scriptSequence.add(script1);
							scriptSequence.add(script2);
							s2 = scriptSequence.createScript(this.getPage());
							oRenderSerializer.addBooleanAttribute(
									"containsonsubmit", true);
						}
						oRenderSerializer.addAttribute("submitfilter", s2);
						s2 = this
								.createMethodCallScript("doCancelFilterCommand");
						oRenderSerializer.addAttribute("cancelonlyfilter", s2);
						if (this.onCancel !== null
								&& (sap.firefly.XString.size(this.onCancel) > 0)) {
							scriptSequence2 = new sap.zen.ScriptSequence();
							script1a = this.createScriptSequenceItemMethodCall(
									this, "doCancelFilterCommand");
							script2a = this.createScriptSequenceItemMethodCall(
									this, "doOnCancel");
							scriptSequence2.add(script1a);
							scriptSequence2.add(script2a);
							s2 = scriptSequence2.createScript(this.getPage());
						}
						oRenderSerializer.addAttribute("cancelfilter", s2);
						oRenderSerializer.addAttribute("expandnode",
								this.expandNodeCommand);
						oRenderSerializer.addAttribute(
								"destroyfiltercomponent",
								this.destroyFilterComponentCommand);
						if (!this.variableScreen) {
							oRenderSerializer.addAttribute("createcontextmenu",
									this.createContextMenuCommand);
						} else {
							if (this.getPage().getVisiblePrompts() !== null) {
								oRenderSerializer.addAttribute(
										"setvisibleprompts",
										this.setVisiblePromptsCommand);
							}
						}
						if (this.isUseNavigationPanelHandler()) {
							pauseRefreshCommand = this
									.createScriptAction(
											sap.firefly.XString
													.concatenate2(this.getId(),
															".doSetPauseRefresh('__arguments__');"),
											"__BOOLEAN__");
							oRenderSerializer.addAttribute(
									"pauserefreshcommand", pauseRefreshCommand);
						}
						oRenderSerializer.closeTag();
						oRenderSerializer.openTag("property");
						oRenderSerializer.addBooleanAttribute("showembedded",
								this.showEmbedded);
						if (this.variableScreen) {
							oRenderSerializer.addBooleanAttribute(
									"variablescreen", true);
						}
						if (this.isInDialog) {
							oRenderSerializer.addBooleanAttribute("indialog",
									true);
						}
						if (this.filterPanel) {
							oRenderSerializer.addBooleanAttribute(
									"filterpanel", true);
						}
						if (this.navigationPanel) {
							oRenderSerializer.addBooleanAttribute(
									"navigationpanel", true);
						}
						if (this.sFinNavigation) {
							oRenderSerializer.addBooleanAttribute(
									"sfinnavigation", true);
						}
						if (this.labelOnTop) {
							oRenderSerializer.addBooleanAttribute("labelontop",
									true);
						}
						oRenderSerializer.addBooleanAttribute("label",
								this.label);
						if (!this.isUseNavigationPanelHandler()) {
							oRenderSerializer.addAttribute("memberdisplay",
									this.memberDisplay.toString());
							oRenderSerializer.addAttribute("appearance",
									this.appearance.toString());
						}
						if (this.popupWidth > 0) {
							oRenderSerializer.addIntegerAttribute("popupwidth",
									this.popupWidth);
						}
						if (this.popupHeight > 0) {
							oRenderSerializer.addIntegerAttribute(
									"popupheight", this.popupHeight);
						}
						if (this.popupPosition !== null) {
							oRenderSerializer.addAttribute("popupposition",
									this.popupPosition.toString());
						}
						if (this.showOneScreen) {
							oRenderSerializer.addBooleanAttribute(
									"showonescreen", this.showOneScreen);
						}
						if (this.sFinPrompt) {
							oRenderSerializer.addBooleanAttribute("sfinprompt",
									this.sFinPrompt);
						}
						if (this.navigationDragDrop) {
							oRenderSerializer.addBooleanAttribute(
									"navigationdragdrop",
									this.navigationDragDrop);
						}
						if (this.desktopMemberSelector) {
							oRenderSerializer.addBooleanAttribute(
									"desktopstyle", this.desktopMemberSelector);
						}
						navigationPanelMode = this.getNavigationPanelMode();
						if (navigationPanelMode !== sap.zen.NavigationPanelMode.NAVIGATION) {
							oRenderSerializer.addAttribute(
									"navigationpanelmode", navigationPanelMode
											.toString());
						}
						directInput = this.getDirectInput();
						if (!sap.zen.DirectInput.FOR_ALL
								.equalsDirectInput(directInput)) {
							oRenderSerializer.addAttribute("directinput",
									directInput.toString());
						}
						if (this.isAutoApply()) {
							oRenderSerializer.addBooleanAttribute("autoapply",
									true);
						}
						if (this.showMeasuresSeparately()) {
							oRenderSerializer.addBooleanAttribute(
									"showmeasuresseparately", true);
						}
						if (this.isPauseRefresh()
								&& (this.isUseNavigationPanelHandler() || (this
										.isFilterPanel()
										&& !this.isShowEmbedded() && !this.variableScreen))) {
							oRenderSerializer.addBooleanAttribute(
									"pauserefresh", true);
						}
						if (this.isUseNavigationPanelHandler()
								&& sap.firefly.XStringUtils
										.isNotNullAndNotEmpty(this.getPage()
												.getDshControlId())) {
							oRenderSerializer.addAttribute("rootcomponentid",
									this.getPage().getIdForRendering("ROOT"));
						}
						oRenderSerializer.closeTag();
					},
					doShowFilterDialogCommand : function(dimension) {
						if (dimension !== null) {
							this.filterDialogFor = this.characteristicContainer
									.getElement(dimension);
							if (this.filterDialogFor !== null) {
								this.view = sap.zen.View.DIALOG;
								this
										.fireSwitchPageEvent(sap.zen.FilterPage.SELECTOR);
								this.filterDialogFor
										.setSearchString(sap.zen.AbstractFilterComponentBase.EMPTY);
								if (sap.zen.AbstractFilterComponentBase.USE_MEMBER_CACHE
										&& this.filterDialogFor
												.supportsValueHelp()) {
									this.filterDialogFor.fillMemberCache();
								}
								this.setContentChanged(true);
							}
						}
					},
					doDestroyFilterDialogCommand : function() {
						if (this.filterDialogFor !== null) {
							this.filterDialogFor.setSearchString(null);
							this.filterDialogFor = null;
							this.view = sap.zen.View.VIEW_DEFAULT;
							this.fireSwitchPageEvent(sap.zen.FilterPage.MAIN);
						}
					},
					doDestroyFilterComponentCommand : function() {
						if (this.filterDialogFor !== null) {
							this.filterDialogFor.setSearchString(null);
							this.filterDialogFor = null;
						}
						this.view = sap.zen.View.VIEW_DEFAULT;
						this.fireSwitchPageEvent(sap.zen.FilterPage.MAIN);
						this.theFilterOrAxisChanged = true;
						this.theSetInitialJson = true;
					},
					doMemberSearchCommand : function(search) {
						if (search !== null) {
							this.filterDialogFor.setSearchString(search);
							this.filterDialogFor.fillMemberCache();
							this.view = sap.zen.View.DIALOG_SEARCH;
							this.setContentChanged(true);
						}
					},
					recalculate : function() {
						this.getPage().recalculate();
					},
					doSubmitFilterCommand : function(filter, submitString) {
						var submit = false;
						var valuesOk;
						var configContainer;
						var configs;
						var axis;
						var j;
						var config;
						var window;
						if (sap.firefly.XString.isEqual(submitString, "X")) {
							submit = true;
							if (this.variableScreen && !this.errorFree) {
								return;
							}
						}
						valuesOk = null;
						if (filter !== null) {
							configContainer = this.parseJson(filter);
							configs = configContainer.theFilters;
							axis = configContainer.axisConfig;
							if (configs !== null || axis !== null) {
								this.recalculate();
							}
							if (configs !== null) {
								for (j = 0; j < configs.size(); j++) {
									config = configs.get(j);
									if (submit || this.variableScreen) {
										valuesOk = this.applyFilterConfig(
												config, valuesOk);
									} else {
										if (this.validatedFilterConfig === null) {
											this.validatedFilterConfig = sap.firefly.XHashMapByString
													.create();
										}
										this.validatedFilterConfig
												.put(
														config.theName,
														this
																.validateFilterConfig(config));
										this.setContentChanged(true);
									}
								}
								this.view = sap.zen.View.VIEW_DEFAULT;
								this
										.fireSwitchPageEvent(sap.zen.FilterPage.MAIN);
							}
							if (axis !== null) {
								this.axisWrapper.applyAxisConfig(axis.theRows,
										axis.theColumns);
							}
						}
						if (submit && this.variableScreen) {
							valuesOk = sap.firefly.XBooleanValue.create(true);
						} else {
							valuesOk = sap.firefly.XBooleanValue
									.create(this.characteristicContainer
											.checkValues());
						}
						if ((submit === true) && valuesOk.getBooleanValue()) {
							if (submit
									&& this.variableScreen
									&& sap.firefly.XStringUtils
											.isNotNullAndNotEmpty(this
													.getPage()
													.getApplicationPropertiesComponent()
													.getOnBeforePromptsSubmitScript())) {
								this.getPage()
										.getApplicationPropertiesComponent()
										.execOnBeforePromptsSubmitScript();
							}
							valuesOk = sap.firefly.XBooleanValue
									.create(this.characteristicContainer
											.submit());
							if (this.variableScreen
									&& valuesOk.getBooleanValue()) {
								if (this.getPage().getMessageManager()
										.containsErrorMessage()) {
									valuesOk = sap.firefly.XBooleanValue
											.create(false);
									this.forceFullRerendering();
								} else {
									window = this.getPage().getWindow();
									window.showImmediatelyLoadingIndicator();
									window
											.setExecuteShowHideLoadingIndicator(false);
								}
							}
							this.theFilterOrAxisChanged = true;
						}
						this.errorFree = valuesOk.getBooleanValue();
						this.fireChangeEvent(this.errorFree, submit);
						if (this.variableScreen && submit && this.errorFree) {
							this.setContentChanged(false);
						} else {
							this.setContentChanged(true);
						}
					},
					validateFilterConfig : function(config) {
						var ranges = sap.firefly.XList.create();
						var characteristicWrapper = this.characteristicContainer
								.getElement(config.theName);
						var fullRanges;
						var i;
						var fullRanges2;
						var j;
						if (characteristicWrapper !== null) {
							if (config.fullRanges !== null
									&& !config.fullRanges.isEmpty()) {
								fullRanges = characteristicWrapper
										.parseFullRangeQuery(config.fullRanges);
								for (i = 0; i < fullRanges.size(); i++) {
									ranges.add(fullRanges.get(i));
								}
							}
							if (config.theInputString !== null) {
								fullRanges2 = characteristicWrapper
										.parseInputString(config.theInputString);
								for (j = 0; j < fullRanges2.size(); j++) {
									ranges.add(fullRanges2.get(j));
								}
							}
						}
						return ranges;
					},
					applyFilterConfig : function(config, valuesOk) {
						var characteristicWrapper = this.characteristicContainer
								.getElement(config.theName);
						var inputOk;
						if (config.theInputString === null) {
							characteristicWrapper.resetQuery();
						}
						if (config.theInputString !== null) {
							if (characteristicWrapper.supportsMultiSelection()) {
								inputOk = characteristicWrapper
										.addInputString(config.theInputString);
							} else {
								inputOk = characteristicWrapper
										.setInputString(config.theInputString);
							}
							if (valuesOk === null || valuesOk.getBooleanValue()) {
								valuesOk = sap.firefly.XBooleanValue
										.create(inputOk);
							}
						} else {
							if (config.fullRanges !== null
									&& !config.fullRanges.isEmpty()) {
								characteristicWrapper
										.setFullRangeQuery(config.fullRanges);
							}
						}
						if (!this.isContentChanged()) {
							this.filterOrAxisChanged();
							this.setContentChanged(true);
						}
						return valuesOk;
					},
					doCancelFilterCommand : function() {
						this.view = sap.zen.View.VIEW_DEFAULT;
						this.fireSwitchPageEvent(sap.zen.FilterPage.MAIN);
						this.theFilterOrAxisChanged = true;
						this.filterCanceled = true;
						this.setContentChanged(true);
					},
					doExpandNodeCommand : function(node, path) {
						var nodeMember;
						if ((node !== null) && (path !== null)
								&& this.filterDialogFor !== null) {
							this.view = sap.zen.View.EXPAND_NODE;
							nodeMember = this.filterDialogFor.getNode(node);
							this.memberToExpand = new sap.zen.MemberToExpand();
							this.memberToExpand.setPath(path);
							this.memberToExpand.setMember(nodeMember);
							this.setContentChanged(true);
						}
					},
					doCreateContextMenuCommand : function(
							contextMenuComponentId, dimensionName, memberName) {
						var lContextMenu = this.getPage().getComponent(
								contextMenuComponentId);
						var handler;
						var lCharacteristicWrapper;
						var lMemberWrapper;
						if (lContextMenu === null) {
							return;
						}
						handler = null;
						if (dimensionName !== null) {
							lCharacteristicWrapper = this.characteristicContainer
									.getElement(dimensionName);
							if (lCharacteristicWrapper !== null) {
								handler = lCharacteristicWrapper;
								if (memberName !== null
										&& sap.firefly.XString.compare(
												memberName, "undefined") !== 0) {
									lMemberWrapper = lCharacteristicWrapper
											.getMember(memberName);
									if (lMemberWrapper !== null) {
										handler = lMemberWrapper;
									}
								}
							}
						}
						if (handler !== null) {
							handler.openContextMenu(this.getDataSource(),
									lContextMenu, this.getName());
						}
					},
					doSetVisiblePrompts : function(visiblePrompts) {
						this.getPage().setVisiblePrompts(visiblePrompts);
					},
					parseJson : function(jsonString) {
						var jsonParser = this.getJsonParser();
						var jsonObj = jsonParser.parse(jsonString);
						var container = new sap.zen.ConfigContainer();
						var filterNode = jsonObj.asStructure()
								.getElementByName(
										sap.zen.ConfigContainer.FILTERS);
						var axisNode;
						if (filterNode !== null) {
							container.theFilters = this
									.parseFilterJson(filterNode);
						}
						axisNode = jsonObj.asStructure().getElementByName(
								sap.zen.ConfigContainer.AXIS);
						if (axisNode !== null) {
							container.axisConfig = this.parseAxisJson(axisNode);
						}
						return container;
					},
					parseAxisJson : function(axisNode) {
						var config = new sap.zen.AxisConfig();
						var asStructure = axisNode.asStructure();
						var rowsTag = asStructure.getElementByName("rows");
						var columnsTag;
						if (rowsTag !== null) {
							config.theRows = this.parseOneAxis(rowsTag);
						}
						columnsTag = asStructure.getElementByName("columns");
						if (columnsTag !== null) {
							config.theColumns = this.parseOneAxis(columnsTag);
						}
						if ((rowsTag === null) && (columnsTag === null)) {
							return null;
						}
						return config;
					},
					parseOneAxis : function(axisTag) {
						var dimensionList = axisTag.asList();
						var list = sap.firefly.XListOfString.create();
						var sizeOfList = dimensionList.size();
						var i;
						var entries;
						var entryTag;
						var nameTag;
						var dimensionName;
						for (i = 0; i < sizeOfList; i++) {
							entries = dimensionList.getElementByIndex(i);
							entryTag = entries.asStructure().getElementByName(
									"entry").asStructure();
							nameTag = entryTag.getElementByName("name");
							dimensionName = nameTag.asString().getStringValue();
							list.add(dimensionName);
						}
						return list;
					},
					parseFilterJson : function(filtersNode) {
						var asList = filtersNode.asList();
						var sizeOfList = asList.size();
						var configs;
						var i;
						var filterNode;
						var filterConfigStruct;
						var filterConfigNode;
						var filterConfig;
						var inputStringNode;
						var excludeNode;
						var exclude;
						var keysNode;
						var keysArray;
						var sizeOfList1;
						var j;
						var rangesNode;
						var rangesArray;
						var sizeOfList3;
						var j3;
						var rangeObject2;
						var from2;
						var to2;
						var operation;
						var exclude2;
						var range;
						var memberWrapper;
						var memberWrapperTo;
						if (sizeOfList === 0) {
							return sap.firefly.XList.create();
						}
						configs = sap.firefly.XList.create();
						filtersNode = filtersNode.getPermaCopy();
						for (i = 0; i < sizeOfList; i++) {
							filterNode = asList.getElementByIndex(i);
							filterConfigStruct = filterNode.asStructure();
							filterConfigNode = filterConfigStruct
									.getElementByName(sap.zen.FilterConfig.NAME);
							if (filterConfigNode !== null) {
								filterConfig = new sap.zen.FilterConfig();
								filterConfig.initMe(filterConfigNode.asString()
										.getStringValue());
								inputStringNode = filterConfigStruct
										.getElementByName(sap.zen.FilterConfig.INPUT_STRING);
								if (inputStringNode !== null) {
									filterConfig.theInputString = inputStringNode
											.asString().getStringValue();
								}
								asList = filtersNode.asList();
								filterNode = asList.getElementByIndex(i);
								filterConfigStruct = filterNode.asStructure();
								excludeNode = filterConfigStruct
										.getElementByName(sap.zen.FilterConfig.EXCLUDE);
								if (excludeNode !== null) {
									exclude = excludeNode.asBoolean()
											.getBooleanValue();
									filterConfig.excludeFlag = exclude;
								}
								asList = filtersNode.asList();
								filterNode = asList.getElementByIndex(i);
								filterConfigStruct = filterNode.asStructure();
								keysNode = filterConfigStruct
										.getElementByName(sap.zen.FilterConfig.KEYS);
								if (keysNode !== null) {
									keysArray = keysNode.asList();
									filterConfig.theKeys = sap.firefly.XListOfString
											.create();
									sizeOfList1 = keysArray.size();
									for (j = 0; j < sizeOfList1; j++) {
										filterConfig.theKeys.add(keysArray
												.getStringByIndex(j));
									}
								}
								asList = filtersNode.asList();
								filterNode = asList.getElementByIndex(i);
								filterConfigStruct = filterNode.asStructure();
								rangesNode = filterConfigStruct
										.getElementByName(sap.zen.FilterConfig.RANGES);
								if (rangesNode !== null) {
									rangesArray = rangesNode.asList();
									filterConfig.fullRanges = sap.firefly.XList
											.create();
									sizeOfList3 = rangesArray.size();
									for (j3 = 0; j3 < sizeOfList3; j3++) {
										rangeObject2 = rangesArray
												.getElementByIndex(j3)
												.asStructure();
										from2 = rangeObject2
												.getStringByName(sap.zen.Range.FROM_TEXT);
										to2 = rangeObject2
												.getStringByName(sap.zen.Range.TO_TEXT);
										operation = rangeObject2
												.getStringByName(sap.zen.Range.OPERATION_TEXT);
										exclude2 = false;
										if (rangeObject2
												.hasValueByName(sap.zen.Range.EXCLUDE_TEXT)) {
											exclude2 = rangeObject2
													.getBooleanByName(sap.zen.Range.EXCLUDE_TEXT);
										}
										range = new sap.zen.Range();
										memberWrapper = new sap.zen.MemberKeyWrapper();
										memberWrapper.initMe(from2);
										range.initMe2(memberWrapper);
										if (to2 !== null) {
											memberWrapperTo = new sap.zen.MemberKeyWrapper();
											memberWrapperTo.initMe(to2);
											range.setTo(memberWrapperTo);
										}
										if (operation !== null) {
											range
													.setOperation(sap.zen.Operation
															.valueOf2(operation));
										}
										range.setExclude(exclude2);
										filterConfig.fullRanges.add(range);
									}
								}
								configs.add(filterConfig);
							}
						}
						return configs;
					},
					registerVariableCheckListener : function(checkListener) {
						if (this.checkListeners === null) {
							this.checkListeners = sap.firefly.XList.create();
						}
						if (checkListener !== null) {
							this.checkListeners.add(checkListener);
						}
					},
					unregisterVariableCheckListener : function(checkListener) {
						if (this.checkListeners === null) {
							return;
						}
						if (checkListener !== null) {
							this.checkListeners.removeElement(checkListener);
						}
					},
					fireChangeEvent : function(checkResult, wasSubmit) {
						var i;
						var checkListener;
						if (wasSubmit) {
							this.raiseDataSourceChangedEvent();
						}
						if (this.checkListeners === null) {
							return;
						}
						for (i = 0; i < this.checkListeners.size(); i++) {
							checkListener = this.checkListeners.get(i);
							checkListener.check(checkResult);
						}
					},
					fireSwitchPageEvent : function(page) {
						var i;
						var checkListener;
						if (this.checkListeners === null) {
							return;
						}
						for (i = 0; i < this.checkListeners.size(); i++) {
							checkListener = this.checkListeners.get(i);
							checkListener.switchPage(page);
						}
					},
					initialCheck : function() {
						var returnValue = true;
						if (this.characteristicContainer !== null) {
							if (!this.characteristicContainer.checkValues()) {
								returnValue = false;
							}
						}
						return returnValue;
					},
					getPostfixId : function() {
					},
					renderControlContent : function(renderManager) {
						var rs;
						if (this.characteristicWrappers === null
								&& !this.variableScreen) {
							this.characteristicWrappers = this
									.getCharacteristicsContainer();
							if (this.characteristicWrappers === null) {
								return;
							}
							this
									.setCharacteristicContainer(this.characteristicWrappers);
							this.forceFullRerendering();
						}
						rs = renderManager.getRenderSerializer();
						rs.addBooleanAttribute("visible", this.visibleFlag);
						if (this.changeVisibility) {
							rs.addBooleanAttribute("changeVisibility",
									this.changeVisibility);
							this.changeVisibility = false;
						} else {
							rs.addAttribute("view", this.view.toString());
							if (this.theForceFullRerendering) {
								rs.addBooleanAttribute("newds",
										this.theForceFullRerendering);
								this.theForceFullRerendering = false;
							}
							if (sap.firefly.XString.isEqual(this.view
									.getValue(), sap.zen.View.VIEW_DEFAULT
									.getValue())) {
								this.filterDialogFor = null;
								this.getFilterPanelJson(rs);
								this.getAxisJson(rs);
							} else {
								if (sap.firefly.XString.isEqual(this.view
										.getValue(), sap.zen.View.DIALOG
										.getValue())) {
									this.getDialogJson(rs);
								} else {
									if (sap.firefly.XString.isEqual(this.view
											.getValue(),
											sap.zen.View.DIALOG_SEARCH
													.getValue())) {
										this.getSearchJson(rs);
									} else {
										if (sap.firefly.XString.isEqual(
												this.view.getValue(),
												sap.zen.View.EXPAND_NODE
														.getValue())) {
											this.getExpandedNode(rs);
										} else {
											this.filterDialogFor = null;
											this.getFilterPanelJson(rs);
											this.getAxisJson(rs);
										}
									}
								}
							}
							if (!this.getPage().isDeltaRendering()
									|| this.theSetInitialJson) {
								this.getInitialJson(rs);
								this.theSetInitialJson = false;
							}
							if (this.theFilterOrAxisChanged) {
								this.getFilters(rs);
								this.getAxisJson(rs);
								this.theFilterOrAxisChanged = false;
							}
							if (this.validatedFilterConfig !== null) {
								this.getValidatedFilters(rs);
								this.validatedFilterConfig = null;
							}
							if (this.filterCanceled) {
								rs.addBooleanAttribute("filtercanceled",
										this.filterCanceled);
								this.filterCanceled = false;
							}
							if (this.isUseNavigationPanelHandler()) {
								rs.addBooleanAttribute("pauserefresh", this
										.isPauseRefresh());
							}
						}
					},
					renderEvenIfNotVisible : function() {
						return (this.oldVisible !== null);
					},
					setVisibilityChanged : function(newVisibility) {
						this.visibleFlag = newVisibility;
						this.changeVisibility = true;
					},
					getCharacteristicsContainer : function() {
					},
					getAxisWrapper : function() {
					},
					getWrapper : function(characteristic, config,
							targetQueryViews, memberDisplay, maxMembers,
							messageWriter) {
						var characteristicWrapper = new sap.zen.CharacteristicWrapper();
						characteristicWrapper.initMe(this.getDataSource(),
								characteristic, config, targetQueryViews,
								memberDisplay, messageWriter, false);
						characteristicWrapper.setMaxMembers(maxMembers);
						return characteristicWrapper;
					},
					getMyTargetQueryViews : function() {
						var targetQueryViews = null;
						var targetQueryViewsString = this
								.getStringPropertyWithDefault(
										"TARGET_DATA_SOURCES_ALIAS_REF", "");
						var dpList;
						if (!sap.firefly.XString.isEqual("",
								targetQueryViewsString)) {
							dpList = sap.firefly.XStringTokenizer.splitString(
									targetQueryViewsString, ";");
							targetQueryViews = this.getTargetQueryViews(dpList);
						}
						return targetQueryViews;
					},
					filterOrAxisChanged : function() {
						this.theFilterOrAxisChanged = true;
					},
					getWidthAsString : function() {
						if (this.showOneScreen) {
							return "100%";
						}
						return sap.zen.AbstractFilterComponentBase.$superclass.getWidthAsString
								.call(this);
					},
					getHeightAsString : function() {
						if (this.showOneScreen) {
							return "100%";
						}
						return sap.zen.AbstractFilterComponentBase.$superclass.getHeightAsString
								.call(this);
					},
					getBottomMarginAsString : function() {
						if (this.showOneScreen) {
							return null;
						}
						return sap.zen.AbstractFilterComponentBase.$superclass.getBottomMarginAsString
								.call(this);
					},
					getRightMarginAsString : function() {
						if (this.showOneScreen) {
							return null;
						}
						return sap.zen.AbstractFilterComponentBase.$superclass.getRightMarginAsString
								.call(this);
					},
					setLabelOnTop : function(labelOnTop) {
						this.labelOnTop = labelOnTop;
					},
					setDesktopMemberSelector : function(desktopMemberSelector) {
						this.desktopMemberSelector = desktopMemberSelector;
					},
					setNavigationDragDrop : function(navigationDragDrop) {
						this.navigationDragDrop = navigationDragDrop;
					},
					isUseNavigationPanelHandler : function() {
						return this.useNavigationPanelHandler;
					},
					setUseNavigationPanelHandler : function(
							useNavigationPanelHandler) {
						this.useNavigationPanelHandler = useNavigationPanelHandler;
					},
					getDirectInput : function() {
						return sap.zen.DirectInput.valueOf2(this
								.getStringPropertyWithDefault("DIRECT_INPUT",
										"FOR_ALL"));
					},
					getNavigationPanelMode : function() {
						return sap.zen.NavigationPanelMode.valueOf2(this
								.getStringPropertyWithDefault(
										"NAVIGATION_PANEL_MODE", "NAVIGATION"));
					},
					isAutoApply : function() {
						return this.getBooleanPropertyWithDefault("AUTO_APPLY",
								false);
					},
					showMeasuresSeparately : function() {
						return this.getBooleanPropertyWithDefault(
								"SHOW_MEASURES_SEPARATELY", false);
					},
					isPauseRefresh : function() {
						return this.getBooleanPropertyWithDefault(
								"PAUSE_REFRESH", true);
					}
				});
$Firefly
		.createClass(
				"sap.zen.InfoChartControl",
				sap.zen.SDKControl,
				{
					create : function() {
						sap.zen.InfoChartControl.$superclass.create.call(this);
						this.getPage().addRequireModule(
								"zen.rt.components.infochart/js/info_ctrl");
					},
					provideResultSetConfiguration : function() {
						var loDataSourceConfiguration;
						if (!this.isVisibleRecursive()) {
							return null;
						}
						loDataSourceConfiguration = sap.zen.ResultSetConfiguration
								.create();
						return loDataSourceConfiguration;
					},
					getAdditionalScriptAfterWrapping : function() {
						var loNodeChartType = this.getPropertyWithName(
								this.factory.properties, "charttype");
						if (loNodeChartType !== null) {
							loNodeChartType.setAttribute("type", "Object");
						}
						return sap.zen.InfoChartControl.$superclass.getAdditionalScriptAfterWrapping
								.call(this);
					},
					renderControlContent : function(renderManager) {
						sap.zen.InfoChartControl.$superclass.renderControlContent
								.call(this, renderManager);
						this.renderAdditionProperties(renderManager
								.getRenderSerializer());
					},
					getProjectionInformation : function(propertyName,
							selection, propertyNode) {
						var loProjectionInformation = sap.zen.InfoChartControl.$superclass.getProjectionInformation
								.call(this, propertyName, selection,
										propertyNode);
						var lSwapAxes = this.getInitParameters()
								.getFirstChildWithNameTag("axesSwapped")
								.getAttribute("value");
						loProjectionInformation
								.setOption("swapAxes", lSwapAxes);
						return loProjectionInformation;
					},
					getPropertyWithName : function(properties, propertyName) {
						var loNode = null;
						var loNodePropertyIterator = properties.getIterator();
						var loNodeProperty;
						var lPropertyName;
						while (loNode === null
								&& loNodePropertyIterator.hasNext()) {
							loNodeProperty = loNodePropertyIterator.next();
							lPropertyName = loNodeProperty.getAttribute("id");
							if (sap.firefly.XString.isEqual(propertyName,
									lPropertyName)) {
								loNode = loNodeProperty;
							}
						}
						return loNode;
					},
					renderAdditionProperties : function(oRenderSerializer) {
						var loNodeChartType = this.getPropertyNode("charttype");
						var lChartType;
						var loNodeConfig;
						var lConfig;
						if (loNodeChartType !== null) {
							lChartType = loNodeChartType.getAttribute("value");
							loNodeConfig = loNodeChartType
									.getFirstChildWithNameTag(lChartType);
							if (loNodeConfig !== null) {
								lConfig = sap.zen.PageObject
										.convertXXmlNodeToJson(loNodeConfig);
								oRenderSerializer.addAttribute("chartconfig",
										lConfig);
							}
						}
					},
					getSelections : function() {
						var ltSelectionsPerDimension = sap.firefly.XHashMapByString
								.create();
						var loDataSource;
						var lDataSelectedJson;
						var loJsonParser;
						var loJsonElement;
						var ltJsonElementNames;
						var i;
						var lDimensionName;
						var loDimension;
						var loInternalDimension;
						var loCharacteristicWrapper;
						var ltRange;
						var ltJsonList;
						var j;
						var lDimensionMemberKey;
						var loMemberWrapper;
						var loRange;
						var lDimensionNameForNav;
						if (!this.isVisibleRecursive()) {
							return ltSelectionsPerDimension;
						}
						loDataSource = this.getDataSource();
						lDataSelectedJson = this.getStringPropertyWithDefault(
								"dataSelected", "{}");
						loJsonParser = this.getJsonParser();
						loJsonElement = loJsonParser.parse(lDataSelectedJson);
						ltJsonElementNames = loJsonElement.asStructure()
								.getStructureElementNames();
						for (i = 0; i < ltJsonElementNames.size(); i++) {
							lDimensionName = ltJsonElementNames.get(i);
							if (!sap.firefly.XString.isEqual("[Measures]",
									lDimensionName)) {
								loDimension = sap.zen.DimensionWrapper.create(
										loDataSource, null, lDimensionName);
								if (loDimension !== null) {
									loInternalDimension = loDimension
											.getInternalObject();
									loCharacteristicWrapper = new sap.zen.CharacteristicWrapper();
									loCharacteristicWrapper.initMe(
											loDataSource, loInternalDimension,
											null, null,
											sap.zen.FPMemberDisplay.KEY_TEXT,
											loDataSource.getMessageWriter(),
											false);
									ltRange = sap.firefly.XList.create();
									ltJsonList = loJsonElement.asStructure()
											.getListByName(
													loDimension.getName());
									for (j = 0; j < ltJsonList.size(); j++) {
										lDimensionMemberKey = ltJsonList
												.getStringByIndex(j);
										loMemberWrapper = new sap.zen.MemberKeyWrapper();
										loMemberWrapper
												.initMe(lDimensionMemberKey);
										loRange = new sap.zen.Range();
										loRange.initMe2(loMemberWrapper);
										ltRange.add(loRange);
									}
									ltRange = loCharacteristicWrapper
											.parseFullRangeQueryByField(
													loInternalDimension
															.getKeyField(),
													ltRange);
									lDimensionNameForNav = sap.zen.DataSourceScriptApiUtils
											.getDimensionNameForNavigation(this
													.getPage(), loDimension);
									ltSelectionsPerDimension.put(
											lDimensionNameForNav, ltRange);
								}
							}
						}
						return ltSelectionsPerDimension;
					}
				});
$Firefly
		.createClass(
				"sap.zen.CheckboxGroupControl",
				sap.zen.ListboxControl,
				{
					create : function() {
						var uid = sap.firefly.XString.concatenate2(this
								.getName(), "_cbg");
						sap.zen.CheckboxGroupControl.$superclass.create
								.call(this);
						this
								.getPage()
								.addRequireModule(
										"zen.rt.components.selection/resources/js/checkboxgroup_handler");
						this.initControl(uid, "checkboxgroup");
						this.setBooleanProperty("MULTI_SELECTION", true);
					}
				});
$Firefly
		.createClass(
				"sap.zen.ZenTemplateService",
				sap.firefly.DfService,
				{
					$statics : {
						CLAZZ : null,
						factory : null,
						staticSetup : function() {
							if (sap.zen.ZenTemplateService.CLAZZ === null) {
								sap.zen.ZenTemplateService.CLAZZ = sap.firefly.XClass
										.create(sap.zen.ZenTemplateService);
								sap.zen.ZenTemplateService.factory = new sap.zen.Factory();
								sap.zen.ZenTemplateService.factory.doInit();
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"APPLICATION_PROPERTIES",
												new sap.zen.ApplicationPropertiesComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"BUTTON_COMPONENT",
												new sap.zen.ButtonComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"IMAGE_COMPONENT",
												new sap.zen.ClickPaneComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"ABSOLUTE_LAYOUT_COMPONENT",
												new sap.zen.AbsoluteLayoutComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory("QUERY_DATA_SOURCE",
												new sap.zen.DataSourceFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												sap.zen.ZCrosstabControl.COMPONENT_TYPE,
												new sap.zen.CrossTabComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"SLIDER_COMPONENT",
												new sap.zen.SliderComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"PAGEBOOK_COMPONENT",
												new sap.zen.PagebookComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"PAGE_COMPONENT",
												new sap.zen.PageComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"GRID_LAYOUT_COMPONENT",
												new sap.zen.GridlayoutComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"GRID_CELL_COMPONENT",
												new sap.zen.GridcellComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"GRID_CELL_SIMPLE_COMPONENT",
												new sap.zen.GridcellSimpleComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"POPUP_COMPONENT",
												new sap.zen.PopupComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"POPUPM_COMPONENT",
												new sap.zen.PopupmComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"DROPDOWN_COMPONENT",
												new sap.zen.DropdownComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												sap.zen.TextfieldControl.COMPONENT_TYPE,
												new sap.zen.TextfieldComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"LISTBOX_COMPONENT",
												new sap.zen.ListboxComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"RADIOBUTTONGROUP_COMPONENT",
												new sap.zen.RadioButtonGroupComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"CHECKBOXGROUP_COMPONENT",
												new sap.zen.CheckboxGroupComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"INPUTFIELD_COMPONENT",
												new sap.zen.InputfieldComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"CHECKBOX_COMPONENT",
												new sap.zen.CheckboxComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"DATEFIELD_COMPONENT",
												new sap.zen.DatefieldComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"JSTESTS_COMPONENT",
												new sap.zen.JSTestRunnerComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												sap.zen.MessageviewControl.COMPONENT_TYPE,
												new sap.zen.MessageviewComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"PANEL_COMPONENT",
												new sap.zen.PanelComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"FILTERPANEL_COMPONENT",
												new sap.zen.FilterPanelComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"VARIABLE_COMPONENT",
												new sap.zen.VariableComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"DIMENSIONFILTER_COMPONENT",
												new sap.zen.DimensionFilterComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"NAVIGATIONPANEL_COMPONENT",
												new sap.zen.NavigationPanelComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"IMAGETABLE_COMPONENT",
												new sap.zen.ImageTableComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"LUMIRAVIEW_COMPONENT",
												new sap.zen.LumiraViewComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"SMARTLAYOUT_COMPONENT",
												new sap.zen.SmartlayoutComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"PROPERTIESPANE_COMPONENT",
												new sap.zen.PropertiesPaneComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"VARIABLEDIALOG_COMPONENT",
												new sap.zen.VariableDialogComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"FILTER_BAR_CLASSIC_COMPONENT",
												new sap.zen.FilterBarClassicComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"FILTERBAR_COMPONENT",
												new sap.zen.FilterBarClassicComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"FILTER_BAR_COMPONENT",
												new sap.zen.FilterBarComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"FILTERBARM_COMPONENT",
												new sap.zen.FilterBarComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"com_sap_ip_bi_FormattedTextView",
												new sap.zen.BuildInSDKComponentFactory()
														.setPathToContributionFiles("zen.rt.components.ui5"));
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"com_sap_ip_bi_Icon",
												new sap.zen.BuildInSDKComponentFactory()
														.setPathToContributionFiles("zen.rt.components.ui5"));
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"com_sap_ip_bi_ToggleButton",
												new sap.zen.BuildInSDKComponentFactory()
														.setPathToContributionFiles("zen.rt.components.ui5"));
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"com_sap_ip_bi_SegmentedButton",
												new sap.zen.BuildInSDKComponentFactory()
														.setPathToContributionFiles("zen.rt.components.ui5"));
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"com_sap_ip_bi_Link",
												new sap.zen.BuildInSDKComponentFactory()
														.setPathToContributionFiles("zen.rt.components.ui5"));
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"com_sap_ip_bi_Switch",
												new sap.zen.BuildInSDKComponentFactory()
														.setPathToContributionFiles("zen.rt.components.ui5"));
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"com_sap_ip_bi_ProgressIndicator",
												new sap.zen.BuildInSDKComponentFactory()
														.setPathToContributionFiles("zen.rt.components.ui5"));
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"com_sap_ip_bi_TextArea",
												new sap.zen.BuildInSDKComponentFactory()
														.setPathToContributionFiles("zen.rt.components.ui5"));
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"PLANNING_FUNCTION",
												new sap.zen.PlanningFunctionFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"PLANNING_SEQUENCE",
												new sap.zen.PlanningSequenceFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"CONTEXT_MENU_COMPONENT",
												new sap.zen.ContextMenuComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"TEXT_POOL_COMPONENT",
												new sap.zen.TextPoolComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"GLOBAL_SCRIPTS_COMPONENT",
												new sap.zen.GlobalScriptsComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"CHART_COMPONENT",
												new sap.zen.Html5ChartComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"com_sap_ip_bi_InfoChart",
												new sap.zen.InfoChartComponentFactory()
														.setPathToContributionFiles("zen.rt.components.infochart"));
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"TABSTRIP_COMPONENT",
												new sap.zen.TabstripComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"TAB_COMPONENT",
												new sap.zen.TabComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"ACTION_SHEET_COMPONENT",
												new sap.zen.ActionSheetComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"FIORI_HELPER_COMPONENT",
												new sap.zen.FioriHelperComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"FOOTERBAR_COMPONENT",
												new sap.zen.FooterBarComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"FOOTERBARBUTTON_COMPONENT",
												new sap.zen.FooterBarButtonComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												sap.zen.DialogControl.COMPONENT_TYPE,
												new sap.zen.DialogComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"SPLITTER_COMPONENT",
												new sap.zen.SplitterComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"CONTENTAREA_COMPONENT",
												new sap.zen.ContentAreaComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												sap.zen.VariableDialogControl_M.COMPONENT_TYPE,
												new sap.zen.VariableDialog_M_ComponentFactory());
								sap.zen.ZenTemplateService.factory
										.registerFactory(
												"CONDITIONS_DIALOG",
												new sap.zen.ConditionsDialogComponentFactory());
							}
						}
					},
					createPage : function(application, iWindow, appName, path,
							hanaMode, paramList, designMode, dshControlId,
							sdkLoader, pageId, templateLoader, userAgent,
							bookmarkService, bookmarkRequestHandler,
							optimizeDSRequests, xLogging, localization,
							rightToLeft) {
						var page = new sap.zen.Page();
						page.setFactory(sap.zen.ZenTemplateService.factory);
						page.setHanaMode(hanaMode);
						page.setDesignMode(designMode);
						page.setSDKLoader(sdkLoader);
						page.setAppName(appName);
						page.setPageId(pageId);
						page.setTemplateLoader(templateLoader);
						page.setUserAgent(userAgent);
						page.setMyWindow(iWindow);
						page.setBookmarkRequestHandler(bookmarkRequestHandler);
						page.setBookmarkService(bookmarkService);
						page.setOptimizeDSRequests(optimizeDSRequests);
						page.setXLogging(xLogging);
						page.setLocalization(localization);
						page.setRightToLeft(rightToLeft);
						sdkLoader.setPage(page);
						page.initBase(application, iWindow, path, paramList,
								dshControlId);
						return page;
					}
				});
$Firefly
		.createClass(
				"sap.zen.AbstractPanelComponent",
				sap.zen.AbstractFilterComponentBase,
				{
					getCharacteristicsContainer : function() {
						var characteristics = sap.firefly.XListOfNameObject
								.create();
						var jsonParser = this.getJsonParser();
						var dimensionsJsonString = "";
						var dimensionsNodeNode;
						var characteristicConfigs;
						var selector;
						var targetQueryViews;
						var memberDisplay;
						var maxMembers;
						var keyFigures;
						var i;
						var characteristic;
						var keyFiguresWrapper;
						var i2;
						var characteristicConfig;
						var dimensionName;
						var characteristic2;
						var characteristicsContainer;
						if (this.getInitParameters() !== null) {
							dimensionsNodeNode = this.getInitParameters()
									.getFirstChildWithNameTag(
											"DIMENSIONS_CONFIG");
							if (dimensionsNodeNode !== null) {
								dimensionsJsonString = dimensionsNodeNode
										.getFirstChild("value").getText();
							}
						}
						characteristicConfigs = sap.zen.CharacteristicConfig
								.parseJSON(jsonParser, dimensionsJsonString);
						if (this.getDataSource() !== null) {
							selector = this.getDataSource().getSelector();
							if (selector !== null) {
								targetQueryViews = this.getMyTargetQueryViews();
								memberDisplay = sap.zen.FPMemberDisplay
										.valueOf2(this
												.getStringPropertyWithDefault(
														"MEMBER_DISPLAY",
														"TEXT_KEY"));
								maxMembers = this.getIntPropertyWithDefault(
										"MAX_MEMBERS", 100);
								if (characteristicConfigs === null
										|| characteristicConfigs.isEmpty()) {
									keyFigures = null;
									for (i = 0; i < selector
											.getDimensionCount(); i++) {
										characteristic = selector
												.getDimensions().get(i);
										if (!sap.zen.DataSourceScriptApiUtils
												.isViewableDimension(characteristic)) {
											continue;
										}
										if (!this.getDataSource()
												.isViewDataSource()
												|| (characteristic
														.isAxisSupported(sap.firefly.AxisType.ROWS) === true)) {
											if ((this.isFilterPanel() && characteristic
													.getSelectionCapabilities() !== null)
													|| (this
															.isNavigationPanel())) {
												if (keyFigures === null
														&& (characteristic
																.isMeasureStructure())) {
													keyFigures = characteristic;
												} else {
													characteristics
															.add(this
																	.getWrapper(
																			characteristic,
																			null,
																			targetQueryViews,
																			memberDisplay,
																			maxMembers,
																			this
																					.getPage()));
												}
											}
										}
									}
									this.sortCharacteristics(characteristics);
									if (keyFigures !== null) {
										keyFiguresWrapper = this.getWrapper(
												keyFigures, null,
												targetQueryViews,
												memberDisplay, maxMembers, this
														.getPage());
										characteristics = this
												.putKeyFiguresInList(
														characteristics,
														keyFiguresWrapper);
									}
								} else {
									for (i2 = 0; i2 < characteristicConfigs
											.size(); i2++) {
										characteristicConfig = characteristicConfigs
												.get(i2);
										dimensionName = characteristicConfig
												.getName();
										characteristic2 = sap.zen.DataSourceScriptApiUtils
												.getDimension(selector,
														dimensionName);
										if (characteristic2 !== null) {
											characteristics
													.add(this
															.getWrapper(
																	characteristic2,
																	characteristicConfig,
																	targetQueryViews,
																	this.memberDisplay,
																	maxMembers,
																	this
																			.getPage()));
										}
									}
								}
							}
						}
						characteristicsContainer = new sap.zen.CharacteristicsContainer();
						characteristicsContainer.initMe(characteristics);
						return characteristicsContainer;
					},
					putKeyFiguresInList : function(characteristics,
							keyFiguresWrapper) {
						characteristics.add(keyFiguresWrapper);
						return characteristics;
					},
					getAxisWrapper : function() {
						var queryManager = this.getDataSource()
								.getQueryManager();
						var axisWrapper;
						if (queryManager === null) {
							return null;
						}
						axisWrapper = new sap.zen.AxisWrapper();
						axisWrapper.initMe(queryManager);
						return axisWrapper;
					},
					getCharacteristicNameTextMap : function(
							exportedCharacteristics) {
						var set = sap.firefly.XList.create();
						var selector;
						var i;
						var characteristic;
						if (this.getDataSource() !== null) {
							selector = this.getDataSource().getSelector();
							if (selector !== null) {
								for (i = 0; i < selector.getDimensionCount(); i++) {
									characteristic = selector.getDimensions()
											.get(i);
									if (!sap.zen.DataSourceScriptApiUtils
											.isViewableDimension(characteristic)) {
										continue;
									}
									if (!exportedCharacteristics
											.contains(characteristic.getName())) {
										set
												.add(sap.zen.CharacteristicNameText
														.getInstance(
																characteristic
																		.getName(),
																characteristic
																		.getText(),
																characteristic
																		.isMeasureStructure()));
									}
								}
							}
						}
						return set;
					}
				});
$Firefly
		.createClass(
				"sap.zen.DimensionFilterComponent",
				sap.zen.AbstractFilterComponentBase,
				{
					getDefaultWidthAsString : function() {
						return "300";
					},
					getDefaultHeightAsString : function() {
						return "107";
					},
					create : function() {
						var uid;
						sap.zen.DimensionFilterComponent.$superclass.create
								.call(this);
						uid = sap.firefly.XString.concatenate2(this.getName(),
								this.getPostfixId());
						this.initControl(uid, "filter");
					},
					beforeInitialRendering : function() {
						this.doUiItemInit();
					},
					doUiItemInit : function() {
						this.setShowEmbedded(false);
						this.setLabel(this.getBooleanPropertyWithDefault(
								"DIMENSION_NAME_DISPLAY", true));
						this.setAppearance(sap.zen.Appearance.valueOf2(this
								.getStringPropertyWithDefault("DISPLAY_MODE",
										"FILTERLIST")));
						this.setMemberDisplay(sap.zen.FPMemberDisplay
								.valueOf2(this.getStringPropertyWithDefault(
										"MEMBER_DISPLAY", "TEXT_KEY")));
						this.setPopupWidth(this.getIntPropertyWithDefault(
								"POPUP_WIDTH", 350));
						this.setPopupHeight(this.getIntPropertyWithDefault(
								"POPUP_HEIGHT", 500));
						this.setPopupPosition(sap.zen.Dock.valueOf2(this
								.getStringPropertyWithDefault("POPUP_POSITION",
										"DEFAULT")));
						this.setOnSubmit(this.getStringPropertyWithDefault(
								"ON_SUBMIT", ""));
						this.setLabelOnTop(this.getBooleanPropertyWithDefault(
								"DIMENSION_NAME_ON_TOP", false));
						this.setDesktopMemberSelector(this
								.getBooleanPropertyWithDefault(
										"DESKTOP_MEMBER_SELECTOR", false));
						this.setFilterPanel(true);
						sap.zen.DimensionFilterComponent.$superclass.doUiItemInit
								.call(this);
					},
					submit : function(executeOnApply) {
						sap.zen.DimensionFilterComponent.$superclass.submit
								.call(this, executeOnApply);
						this.setContentChanged(true);
					},
					cancel : function() {
						sap.zen.DimensionFilterComponent.$superclass.cancel
								.call(this);
						this.setContentChanged(true);
					},
					isVisible : function() {
						return sap.zen.DimensionFilterComponent.$superclass.isVisible
								.call(this);
					},
					getDimensionName : function() {
						var map = this.characteristicWrappers;
						var characteristicWrapper;
						if (map === null) {
							map = this.getCharacteristicsContainer();
						}
						if (map !== null && !map.getElements().isEmpty()) {
							characteristicWrapper = map.getElements().get(0);
							if (characteristicWrapper !== null) {
								return characteristicWrapper.getText();
							}
						}
						return "";
					},
					getDimensionKey : function() {
						var map = this.characteristicWrappers;
						var characteristicWrapper;
						if (map === null) {
							map = this.getCharacteristicsContainer();
						}
						if (map !== null && !map.getElements().isEmpty()) {
							characteristicWrapper = map.getElements().get(0);
							if (characteristicWrapper !== null) {
								return characteristicWrapper.getName();
							}
						}
						return "";
					},
					getCharacteristicsContainer : function() {
						var characteristicName = this
								.getStringPropertyWithDefault("DIMENSION_NAME",
										"");
						var memberDisplay = sap.zen.FPMemberDisplay
								.valueOf2(this.getStringPropertyWithDefault(
										"MEMBER_DISPLAY", "TEXT_KEY"));
						var maxMembers = this.getIntPropertyWithDefault(
								"MAX_MEMBERS", 100);
						var characteristics = sap.firefly.XListOfNameObject
								.create();
						var queryManager;
						var queryModel;
						var characteristic;
						var characteristicsContainer;
						if (this.getDataSource() !== null) {
							queryManager = this.getDataSource()
									.getQueryManager();
							if (queryManager !== null) {
								queryModel = queryManager.getQueryModel();
								characteristic = sap.zen.DataSourceScriptApiUtils
										.getDimension(queryModel.getSelector(),
												characteristicName);
								if (characteristic !== null) {
									characteristics.add(this.getWrapper(
											characteristic, null, this
													.getMyTargetQueryViews(),
											memberDisplay, maxMembers, this
													.getPage()));
								}
							}
						}
						characteristicsContainer = new sap.zen.CharacteristicsContainer();
						characteristicsContainer.initMe(characteristics);
						return characteristicsContainer;
					},
					getPostfixId : function() {
						return "_filter1";
					},
					getAxisWrapper : function() {
						return null;
					}
				});
$Firefly.createClass("sap.zen.VariableDialogControl", sap.zen.Dialog, {
	$statics : {
		COMPONENT_TYPE : "VARIABLEDIALOG_COMPONENT",
		VARIABLEDIALOG_UID : "VARIABLEDIALOG"
	},
	oFilterPanelComponent : null,
	submitSuccessful : false,
	dataSourceChanged : false,
	create : function() {
		var applicationProperties = this.getPage()
				.getApplicationPropertiesComponent();
		var promptMode;
		var sfinMode;
		var s;
		var idForRendering;
		var s2;
		this.getPage().addRequireModule(
				"zen.rt.components.popup/resources/js/popup_handler");
		promptMode = applicationProperties.getPromptMode();
		sfinMode = sap.firefly.XString.isEqual(promptMode, "SFIN");
		this.setSFinMode(sfinMode);
		sap.zen.VariableDialogControl.$superclass.create.call(this);
		this.setRenderCssAndShowLoadingState(false);
		s = 'var oDlg = sap.ui.getCore().getControl("';
		idForRendering = this.getPage().getIdForRendering(
				"VARSCREEN_filterpanel1");
		s = sap.firefly.XString.concatenate2(s, idForRendering);
		s = sap.firefly.XString.concatenate2(s, '"); oDlg.ZEN_submit();');
		s2 = this.createMethodCallScript("onOK");
		s = sap.firefly.XString.concatenate2(s, s2);
		this.oFilterPanelComponent = sap.zen.VariableDialogHelper
				.createFilterPanel(this.getPage(), sfinMode, this, false);
		this.setOKAction(s);
		this.dataSourceChanged = true;
		this.setContent(this.oFilterPanelComponent);
	},
	handleDataSourceChanged : function(oDataSource, oCause, metaData,
			resultData) {
		this.dataSourceChanged = true;
	},
	isVisible : function() {
		return this.isVisibleInternal();
	},
	showDialog : function() {
		sap.zen.VariableDialogHelper.createWrapperAndSync(this.getPage(), this,
				this.oFilterPanelComponent);
		sap.zen.VariableDialogControl.$superclass.showDialog.call(this);
	},
	getDefaultWidthAsString : function() {
		return "500";
	},
	getDefaultHeightAsString : function() {
		return "500";
	},
	getCssStyle : function() {
		return this.getStringPropertyWithDefault("CSS_STYLE", "");
	},
	onOK : function() {
		if (this.submitSuccessful) {
			this.getPage().invalidateDataSourcesReasonVariablesChange();
			this.hide();
		}
	},
	onCancel : function() {
		sap.zen.VariableDialogHelper
				.cancelContainer(this.oFilterPanelComponent);
		this.hide();
	},
	check : function(checkResult) {
		this.submitSuccessful = checkResult;
		this.setOKButtonEnabled(checkResult);
	},
	switchPage : function(page) {
	},
	isDataSourceChanged : function() {
		return this.dataSourceChanged;
	},
	setDataSourceChanged : function(changed) {
		this.dataSourceChanged = changed;
	}
});
$Firefly.createClass("sap.zen.ZenTemplateServiceConfig",
		sap.firefly.DfServiceConfigClassic, {
			$statics : {
				CLAZZ : null,
				staticSetup : function() {
					sap.zen.ZenTemplateServiceConfig.CLAZZ = sap.firefly.XClass
							.create(sap.zen.ZenTemplateServiceConfig);
				}
			},
			isSystemBoundService : function() {
				return false;
			}
		});
$Firefly
		.createClass(
				"sap.zen.FilterPanelComponent",
				sap.zen.AbstractPanelComponent,
				{
					$statics : {
						COMPONENT_TYPE : "FILTERPANEL_COMPONENT"
					},
					postfixId : null,
					getDefaultWidthAsString : function() {
						return "350";
					},
					getDefaultHeightAsString : function() {
						return "500";
					},
					create : function() {
						var uid;
						sap.zen.FilterPanelComponent.$superclass.create
								.call(this);
						this.postfixId = "_filterpanel1";
						uid = sap.firefly.XString.concatenate2(this.getName(),
								this.getPostfixId());
						this.initControl(uid, "filterpanel");
					},
					beforeInitialRendering : function() {
						this.doUiItemInit();
					},
					doUiItemInit : function() {
						var mode;
						var isForVariables;
						var dSNameVariableProcessorPairList;
						var dataSource;
						var variableProcessor;
						var dsNameVariableProcessorPair;
						var varContainerWrapper;
						this.setTitle(this.getStringPropertyWithDefault(
								"FILTERPANEL_TITLE", ""));
						this.setShowEmbedded(true);
						this.setLabel(true);
						this.setAppearance(sap.zen.Appearance.valueOf2(this
								.getStringPropertyWithDefault("DISPLAY_MODE",
										"FILTERLIST")));
						this.setMemberDisplay(sap.zen.FPMemberDisplay
								.valueOf2(this.getStringPropertyWithDefault(
										"MEMBER_DISPLAY", "TEXT_KEY")));
						this.setOnSubmit(this.getStringPropertyWithDefault(
								"ON_SUBMIT", ""));
						this.setOnCancel(this.getStringPropertyWithDefault(
								"ON_CANCEL", ""));
						mode = sap.zen.PanelMode.valueOf2(this
								.getStringPropertyWithDefault("PANEL_MODE",
										"FILTER"));
						this.setFilterPanel(mode === sap.zen.PanelMode.FILTER
								|| mode === sap.zen.PanelMode.ALL);
						this
								.setNavigationPanel(mode === sap.zen.PanelMode.SFIN_NAVIGATION
										|| mode === sap.zen.PanelMode.NAVIGATION
										|| mode === sap.zen.PanelMode.ALL);
						this
								.setSFinNavigation(mode === sap.zen.PanelMode.SFIN_NAVIGATION);
						this.setNavigationDragDrop(this
								.getBooleanPropertyWithDefault(
										"NAVIGATION_DRAG_DROP", false));
						if (this.isNavigationPanel()) {
							this.setAxisWrapper(this.getAxisWrapper());
						}
						this.postfixId = "_filterpanel1";
						isForVariables = this.getBooleanPropertyWithDefault(
								"SHOW_VARIABLES", false);
						this.setVariableScreen(isForVariables);
						if (isForVariables) {
							dSNameVariableProcessorPairList = sap.firefly.XList
									.create();
							dataSource = this.getDataSource();
							variableProcessor = dataSource
									.getVariableProcessor();
							if (variableProcessor !== null) {
								dsNameVariableProcessorPair = sap.zen.DSNameVariableProcessorPair
										.create(dataSource.getName(),
												variableProcessor);
								dSNameVariableProcessorPairList
										.add(dsNameVariableProcessorPair);
							}
							varContainerWrapper = new sap.zen.VariableContainerWrapper();
							varContainerWrapper.initMe(this.getPage(),
									dSNameVariableProcessorPairList, null,
									true, 100, this.getPage());
							this
									.setCharacteristicContainer(varContainerWrapper);
						}
						sap.zen.FilterPanelComponent.$superclass.doUiItemInit
								.call(this);
						this.initWrappers();
					},
					submit : function(executeOnApply) {
						sap.zen.FilterPanelComponent.$superclass.submit.call(
								this, executeOnApply);
						this.setContentChanged(true);
					},
					submit0 : function() {
						sap.zen.FilterPanelComponent.$superclass.submit.call(
								this, false);
						this.setContentChanged(true);
					},
					cancel : function() {
						sap.zen.FilterPanelComponent.$superclass.cancel
								.call(this);
						this.setContentChanged(true);
					},
					getPostfixId : function() {
						return this.postfixId;
					},
					setPostfixId : function(postfixId) {
						this.postfixId = postfixId;
					}
				});
$Firefly
		.createClass(
				"sap.zen.NavigationPanelComponent",
				sap.zen.AbstractPanelComponent,
				{
					$statics : {
						COMPONENT_TYPE : "NAVIGATIONPANEL_COMPONENT"
					},
					postfixId : null,
					create : function() {
						var uid;
						sap.zen.NavigationPanelComponent.$superclass.create
								.call(this);
						this.postfixId = "_navigationpanel1";
						uid = sap.firefly.XString.concatenate2(this.getName(),
								this.getPostfixId());
						this.initControl(uid, "navigationpanel");
					},
					getHandlerRequireModuleName : function() {
						return "zen.rt.components.filterpanel/resources/js/navigationpanel_handler";
					},
					getDefaultWidthAsString : function() {
						return "400";
					},
					getDefaultHeightAsString : function() {
						return "500";
					},
					beforeInitialRendering : function() {
						this.doUiItemInit();
					},
					doUiItemInit : function() {
						this.setNavigationPanel(true);
						this.setUseNavigationPanelHandler(true);
						this.setBooleanProperty("PAUSE_REFRESH", false);
						this.setAppearance(sap.zen.Appearance.FILTERLIST);
						this.setMemberDisplay(sap.zen.FPMemberDisplay.TEXT);
						this.setAxisWrapper(this.getAxisWrapper());
						this.postfixId = "_navigationpanel1";
						sap.zen.NavigationPanelComponent.$superclass.doUiItemInit
								.call(this);
						this.initWrappers();
					},
					getPostfixId : function() {
						return this.postfixId;
					},
					setPostfixId : function(postfixId) {
						this.postfixId = postfixId;
					},
					putKeyFiguresInList : function(characteristics,
							keyFiguresWrapper) {
						var characteristics2 = sap.firefly.XListOfNameObject
								.create();
						var i;
						characteristics2.add(keyFiguresWrapper);
						for (i = 0; i < characteristics.size(); i++) {
							characteristics2.add(characteristics.get(i));
						}
						return characteristics2;
					},
					setMode : function(mode) {
						this.setContentChanged(true);
						this.forceFullRerendering();
						this.setStringProperty("NAVIGATION_PANEL_MODE", mode);
					},
					getMode : function() {
						return this.getStringPropertyWithDefault(
								"NAVIGATION_PANEL_MODE", "NAVIGATION");
					},
					setPauseRefresh : function(pause) {
						this.setContentChanged(true);
						this.setBooleanProperty("PAUSE_REFRESH", pause);
					},
					doSetPauseRefresh : function(pauseString) {
						this.setPauseRefresh(sap.firefly.XString.isEqual(
								pauseString, "X"));
					}
				});
$Firefly.createClass("sap.zen.VariableControl", sap.zen.FilterPanelComponent, {
	initialized : false,
	beforeInitialRendering : function() {
		if (!this.initialized) {
			sap.zen.VariableControl.$superclass.beforeInitialRendering
					.call(this);
		}
		this.initialized = true;
	}
});