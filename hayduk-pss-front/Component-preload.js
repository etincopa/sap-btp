jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"com/everis/pss/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","com/everis/pss/model/models"],function(e,i,t){"use strict";return e.extend("com.everis.pss.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.setModel(t.createDeviceModel(),"device")}})});
},
	"com/everis/pss/controller/Main.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/json/JSONModel","sap/m/Dialog","sap/ui/layout/HorizontalLayout","sap/ui/layout/VerticalLayout","sap/m/Text","sap/m/TextArea","sap/m/Button","sap/m/MessageToast","sap/m/FormattedText","sap/m/MessageBox"],function(e,t,s,i,a,n,l,r,o,c,d,h){"use strict";return e.extend("com.everis.pss.controller.Main",{onChecked:function(e){var t=false;if(!this.cChb1.getSelected()){this.cChb1.setSelected(this.cChb2.getSelected()?true:false)}if(this.cChb2.getSelected()){t=true;this.cChb2.setSelected(true);this.cChb1.setSelected(this.cChb1.getEnabled()?true:false)}else{t=this.cChb1.getSelected()?true:false;this.cChb2.setSelected(false)}this.byId("btnSubmit").setEnabled(t)},onSubmit:function(e){var t={};if(this.byId("chb1").getSelected()){t.Operation="U";this.byId("chb1").setSelected(false);this.byId("btnSubmit").setEnabled(false)}if(this.byId("chb2").getSelected()){t.Operation=t.Operation?t.Operation+"R":"R";this.byId("chb2").setSelected(false);this.byId("btnSubmit").setEnabled(false)}t.Uname=this.byId("inUname").getValue();t.User=this.byId("inUserSCP").getValue();t.Mandate=this.byId("mandate").getSelectedKey();t.System=this.byId("system").getSelectedKey();var s=this;if(!this.byId("chbRead").getSelected()){h.error("Debe leer y aceptar las consideraciones antes de enviar la solicitud.");return}this.getView().getModel().create("/UserEntitySet",t,{success:function(e){if(e.ResultType==="S"){var t=e.ResultMessage;var a=t.split("\\n\\n");var n=a[1]?"<p><strong>"+a[1]+"</strong></p>\n":"";var l=a[2]?"<p><em>"+a[2]+"</em>\n</p>\n":"";var r="<p>"+(a[0]?a[0]:"Resultado desconocido")+"</p>\n"+n+l+"<p>El mensaje de confirmación también ha sido enviado a su cuenta de correo.</p>\n";var c=new i({title:"Resultado de la operación",type:"Message",content:[new d("confirmDialogTextarea",{htmlText:r})],beginButton:new o({text:"Aceptar",press:function(){c.close()}}),afterClose:function(){c.destroy()}});c.open();s.cChb2.setSelected(false);s.cChb1.setSelected(false);s.cChbRead.setSelected(false);s.cChb1.setEnabled(e.LockStatus)}else{h.error(e.ResultMessage)}},error:function(e){h.error(e.responseText)}})},onInit:function(){if(sap.ushell.Container){this.sUser=sap.ushell.Container.getUser().getId().toUpperCase()}else{this.sUser="PROYECT_MOV1"}this.cChb1=this.byId("chb1");this.cChb2=this.byId("chb2");this.cChbRead=this.byId("chbRead");if(this.sUser==="DEFAULT_USER"||this.sUser==="PROYECT_MOV1"){this.sUser="PROYECT_MOV3"}this.byId("inUserSCP").setValue(this.sUser);var e=this.getOwnerComponent().getModel();var i=this;e.metadataLoaded().then(function(){e.read("/SystemEntitySet",{filters:[new t("User","EQ",i.sUser)],success:function(e){i.getView().setModel(new s(e),"localModel");i.onSelectChanged()},error:function(e){jQuery.sap.log.error(e)}})})},toggleVisibility:function(e){this.cChb1.setSelected(false);this.cChb2.setEnabled(e);this.cChb2.setSelected(false)},onSelectChanged:function(e){var s=this.getView().getModel("localModel");if(e){var i=e.getParameter("selectedItem");var a=i.getKey();var n=i.getBindingContext("localModel").getPath()}else{a=s.getProperty("/results/0/System");n="/results/0"}this.cChb1.bindProperty("enabled",{path:"localModel>"+n+"/LockStatus"});this.byId("inUname").bindProperty("value",{path:"localModel>"+n+"/Uname"});var l=s.getProperty(n+"/Uname");if(l&&l!=="USUARIO NO ENCONTRADO"){this.toggleVisibility(true)}else{this.toggleVisibility(false);this.byId("btnSubmit").setEnabled(false);this.byId("inUname").setValue("USUARIO NO ENCONTRADO")}var r=this.byId("mandate");var o=r.getBindingInfo("items");o.filters=new t("System","EQ",a);r.bindItems(o)}})});
},
	"com/everis/pss/i18n/i18n.properties":'title=Title\nappTitle = Password Self Service\nappDescription=App Description',
	"com/everis/pss/manifest.json":'{"_version":"1.7.0","sap.app":{"id":"com.everis.pss","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"1.0.0"},"title":"{{appTitle}}","description":"{{appDescription}}","dataSources":{"mainService":{"uri":"/sapnw_origen/EVERISPE/PSS_SRV/","type":"OData","settings":{"odataVersion":"2.0"}}},"sourceTemplate":{"id":"ui5template.basicSAPUI5ApplicationProject","version":"1.40.12"}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_hcb","sap_belize"]},"sap.ui5":{"rootView":{"viewName":"com.everis.pss.view.Main","type":"XML"},"dependencies":{"minUI5Version":"1.30.0","libs":{"sap.ui.core":{},"sap.m":{},"sap.ui.layout":{},"sap.ushell":{},"sap.collaboration":{},"sap.ui.comp":{},"sap.uxap":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"com.everis.pss.i18n.i18n"}},"":{"dataSource":"mainService","preload":true}},"resources":{"css":[{"uri":"css/style.css"}]}},"sap.platform.hcp":{"uri":"webapp","_version":"1.1.0"}}',
	"com/everis/pss/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"com/everis/pss/view/Main.view.xml":'<mvc:View xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\n\txmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core" controllerName="com.everis.pss.controller.Main" displayBlock="true" height="100%"><Page title="Password Self Service"><content><VBox fitContainer="true"><f:SimpleForm id="SimpleFormToolbar" editable="true" layout="ResponsiveGridLayout" labelSpanXL="4" labelSpanL="4" labelSpanM="4"\n\t\t\t\t\tlabelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="4" emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="1" columnsM="1"\n\t\t\t\t\tsingleContainerFullSize="false" ariaLabelledBy="Title1" backgroundDesign="Transparent"><f:content><Label text="Usuario SAP"/><Input id="inUname" editable="false"/><Label text="Usuario de Red"/><Input id="inUserSCP" editable="false"/><Label text="Ambiente"/><Select id="system" items="{localModel>/results}" change="onSelectChanged"><items><core:Item text="{localModel>System}" key="{localModel>System}"/></items></Select><Label text="Mandante"/><Select id="mandate" items="{localModel>/results}"><items><core:Item text="{localModel>Mandate}" key="{localModel>Mandate}"/></items></Select><Label/><CheckBox id="chb1" text="Desbloquear usuario" select="onChecked"/><Label/><CheckBox id="chb2" text="Reiniciar contraseña" select="onChecked"/></f:content><f:layoutData><FlexItemData shrinkFactor="0" backgroundDesign="Solid" styleClass="sapContrastPlus"/></f:layoutData></f:SimpleForm><l:Grid id="grid0" position="Center" defaultIndent="XL2 L2 M2 S0" defaultSpan="XL8 L8 M8 S12"><l:content><Panel><headerToolbar><Toolbar height="3rem"><Title text="Consideraciones"/></Toolbar></headerToolbar><content><Text text="- No podrá desbloquear usuarios bloqueados por el Administrador" renderWhitespace="true" width="100%"/><Text text="- Es responsabilidad de cada trabajador el uso adecuado de su licencia" renderWhitespace="true" width="100%"/><Text text="- La contraseña es personal e intransferible" renderWhitespace="true" width="100%"/></content></Panel></l:content></l:Grid><l:Grid id="grid1" position="Center" defaultIndent="XL2 L2 M2 S0" defaultSpan="XL8 L8 M8 S12"><l:content><CheckBox id="chbRead" text="Acepto lo leído anteriormente" width="100%"/><HBox width="100%" id="hbox0" fitContainer="false" justifyContent="Center"><Button id="btnSubmit" text="Solicitar" width="100%" enabled="false" press="onSubmit"/></HBox></l:content></l:Grid></VBox></content></Page></mvc:View>'
}});
