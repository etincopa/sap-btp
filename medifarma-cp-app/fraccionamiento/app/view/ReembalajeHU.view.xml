<mvc:View
	controllerName="mif.cp.fraccionamiento.controller.ReembalajeHU"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
	xmlns:c="sap.ui.core"
	xmlns:t="sap.ui.table"
	displayBlock="true"
	height="100%"
	busyIndicatorDelay="0"
>
	<Page>
		<customHeader>
			<Toolbar>
				<content>
					<c:Fragment
						fragmentName="mif.cp.fraccionamiento.view.fragment.Header"
						type="XML"
					/>
				</content>
			</Toolbar>
		</customHeader>
		<footer>
			<OverflowToolbar>
				<ToolbarSpacer/>
				<Button
					tooltip="{i18n>atender}"
					icon="sap-icon://accept"
					press="onAtenderPress"
					enabled="{localModel>/atender}"
					class="sapMBtnLarge btnAccion"
					type="Accept"
					width="130px"
				/>
				<Button
					tooltip="{i18n>regresar}"
					icon="sap-icon://undo"
					press="onRegresarPress"
					class="sapMBtnLarge btnAccion"
				/>
			</OverflowToolbar>
		</footer>
		<t:Table
			id="tblReembalajeHU"
			rows="{
				path: 'localModel>/ReembalajeHU_Fraccionamientos'
			}"
			rowSelectionChange="onItemRowSelected"
			selectionMode="Single"
			visibleRowCount="4"
			selectionBehavior="Row"
			ariaLabelledBy="title"
		>
			<t:extension>
				<OverflowToolbar>
					<Label text="Listado de Items"/>
					<ToolbarSpacer/>
					<Label text="{i18n>sala}:"/>
					<Select
						width="200px"
						selectedKey="{localModel>/SalaPesajeId}"
						change="onSalaPesajeChange"
						items="{
							path: 'localModel>/SalaPesajes',
							sorter: {
								path: 'sala'
							}
						}"
					>
						<c:Item
							key="{localModel>salaPesajeId}"
							text="{localModel>sala}"
						/>
					</Select>
				</OverflowToolbar>
			</t:extension>
			<t:columns>
				<t:Column width="11rem">
					<Label text="{i18n>nroDoc}"/>
					<t:template>
						<Text
							text="{localModel>ordenNumero}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
				<t:Column width="6rem">
					<Label text="Frac.OP"/>
					<t:template>
						<Text
							text="{localModel>numFraccion}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
				<t:Column width="8rem">
					<Label text="Pedido"/>
					<t:template>
						<Text
							text="{localModel>numPedido}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
				<t:Column width="10rem">
					<Label text="Material"/>
					<t:template>
						<Text
							text="{localModel>codigoInsumo}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
				<t:Column width="17rem">
					<Label text="DescripciÃ³n"/>
					<t:template>
						<Text
							text="{localModel>descripcionInsumo}"
							wrapping="true"
						/>
					</t:template>
				</t:Column>
				<t:Column width="10rem">
					<Label text="{i18n>nroLote}"/>
					<t:template>
						<Text
							text="{localModel>loteInsumo}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
				<t:Column width="8rem">
					<Label text="Frac.Com"/>
					<t:template>
						<Text
							text="{localModel>numSubFraccion}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
				
				<t:Column width="10rem">
					<Label text="{i18n>cantidadPesar}"/>
					<t:template>
						<Text
							text="{
								path: 'localModel>requeridoFinal',
								formatter: '.formatter.peso'
							}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
				<t:Column width="5rem">
					<Label text="{i18n>und}"/>
					<t:template>
						<Text
							text="{localModel>unidad}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>

				<t:Column width="9rem">
					<Label text="{i18n>pesoNeto}"/>
					<t:template>
						<Text
							text="{
								path: 'localModel>cantidadAtendido',
								formatter: '.formatter.peso'
							}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
				<t:Column width="10rem">
					<Label text="{i18n>Hu}"/>
					<t:template>
						<Text
							text="{localModel>bultoAtendido}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
				<!--<t:Column width="10rem">
					<Label text="{i18n>CantHu}"/>
					<t:template>
						<Text
							text="{localModel>atendido}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>-->
				<t:Column width="5rem">
					<Label text="{i18n>und}"/>
					<t:template>
						<Text
							text="{localModel>unidadAtendido}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
				<t:Column width="12rem">
					<Label text="{i18n>codProducto}"/>
					<t:template>
						<Text
							text="{localModel>codigoProducto}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
				<t:Column width="18rem">
					<Label text="{i18n>nomProducto}"/>
					<t:template>
						<Text
							text="{localModel>nombreProducto}"
							wrapping="true"
						/>
					</t:template>
				</t:Column>
				<t:Column width="10rem">
					<Label text="{i18n>lote}"/>
					<t:template>
						<Text
							text="{localModel>ordenLote}"
							wrapping="false"
						/>
					</t:template>
				</t:Column>
			</t:columns>
		</t:Table>
	</Page>
</mvc:View>