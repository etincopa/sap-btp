<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout"
	xmlns:u="sap.ui.unified" controllerName="com.everis.monitorDocumentos.controller.crearGastoEntregaRendir"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns:html="http://www.w3.org/1999/xhtml">
	<App>
		<pages>
			<Page title="Title" id="idPagCrearGastoEntregaRendir">
				<content>
					<f:Form editable="true" id="idCabGasto">
						<f:title>
							<core:Title text="Dato Adicional"/>
						</f:title>
						<f:layout>
							<f:ResponsiveGridLayout labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0"
								emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="2" columnsM="2" singleContainerFullSize="false"/>
						</f:layout>
						<f:formContainers>
							<f:FormContainer>
								<f:formElements>
									<f:FormElement label="Operación">
										<Input id="idOperacionCab" editable="false" value="{/sZcatCompleto}">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Fecha Rendición">
										<DatePicker id="idFecha" editable="false" displayFormat="dd-MM-yyyy" valueFormat="dd-MM-yyyy" placeholder="Ingrese fecha de solicitud...">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</DatePicker>
									</f:FormElement>
									<f:FormElement label="Fecha contable">
										<DatePicker id="idFechaCont" editable="false" displayFormat="dd-MM-yyyy" valueFormat="dd-MM-yyyy"
											placeholder="Ingrese fecha de solicitud...">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</DatePicker>
									</f:FormElement>
									<f:FormElement label="Referencia">
										<Input id="idReferencia" editable="false" value="{/oRef}">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Entrega a Rendir Adicional" >
										<CheckBox selected="{/FlagAdicional}" editable="false">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</CheckBox>
									</f:FormElement>
									<f:FormElement label="Opción" visible="{/FlagAdicional}">
										<ComboBox id="idAdicionales" items="{ path: 'oAdicionalModel>/', sorter: { path: 'Eratx' } }" editable="false">
											<core:ListItem key="{oAdicionalModel>Eratx}" text="{oAdicionalModel>Conca}"/>
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</ComboBox>
									</f:FormElement>
								</f:formElements>
							</f:FormContainer>
							<f:FormContainer>
								<f:formElements>
									<f:FormElement label="Solicitud">
										<Input id="idSol" editable="false" value="{/oSol}">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Moneda">
										<Input editable="false" value="{/oWaers}" id="idWaers">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Importe Solicitud">
										<Input id="idImporteS" editable="false"
											value="{ parts: [ { path: '/oTotalSol' }, 'PEN' ], type: 'sap.ui.model.type.Currency', formatOptions: { showMeasure: false, decimalSeparator: '.', groupingSeparator: ',' } }">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Tipo Objeto de Costo">
										<Input id="idTipoObj" editable="false" value="{/Kstrg}">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Objeto de Costo">
										<Input id="idObjCost" editable="false" value="{/CeCo}">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
								</f:formElements>
							</f:FormContainer>
						</f:formContainers>
					</f:Form>
						<f:Form editable="true">
						<f:title>
							<core:Title text="Detalle"/>
						</f:title>
						<f:layout>
							<f:ResponsiveGridLayout labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0"
								emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="2" columnsM="2" singleContainerFullSize="false"/>
						</f:layout>
						<f:formContainers>
							<f:FormContainer>
								<f:formElements>
									<f:FormElement label="Operación">
										<Select id="idOperacion" change="fnChangeTxt" items="{ path: '/' }" forceSelection="true">
											<core:Item key="{Zcat}" text="{Zcat} - {Txt50}"/>
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Select>
										<!--<Input id="idOperacion2" editable="false" value="">-->
										<!--	<layoutData>-->
										<!--		<l:GridData span="L5 M8 S12"/>-->
										<!--	</layoutData>-->
										<!--</Input>-->
									</f:FormElement>
									<f:FormElement label="Cuenta de Mayor">
										<Input id="idCuentaMyr" editable="false" value="{/oCuenMayor}">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<!--<f:FormElement label="Centro de Coste" visible="false">
										<Input id="idCeco_" editable="true" value="{/Kostl}">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>-->
									<!--<f:FormElement label="{oGeneral>/labelObjetoCosto}">-->
									<!--	<f:fields>-->
									<!--		<Input id="idCeco" enabled="{oGeneral>/enableObjetoCosto}" type="Text" showValueHelp="true" valueHelpOnly="true"-->
									<!--			valueHelpRequest="handleValueHelp_obj" change="onChangeInput"-->
									<!--			value="{path:'/KostlKtext',type : 'sap.ui.model.type.String', constraints : { minLength : 1 }}">-->
									<!--			<layoutData>-->
									<!--				<l:GridData span="L8 M8 S12"/>-->
									<!--			</layoutData>-->
									<!--		</Input>-->
									<!--	</f:fields>-->
									<!--</f:FormElement>-->
									<f:FormElement label="RUC">
										<Input placeholder="Ingrese N° RUC" id="idRUC" change="onValidRuc" maxLength="11" required="true">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Razón Social">
										<Input id="idRazSoc" editable="false">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Ind. Impuesto">
										<Select id="idIndImp" change="addImporteTotal" selectedKey="01">
											<core:Item key="C7" text="0%"/>
											<core:Item key="CC" text="10%"/>
											<core:Item key="C1" text="18%"/>
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Select>
									</f:FormElement>
									<f:FormElement label="Importe" visible="{oModelHelp>/Importe}">
										<Input id="idImporteD" change="onChangeImportes" liveChange="addImporteTotal"
											app:nameControl="idImporteD" visible="{oModelHelp>/Importe}">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Importe Gravado" visible="{oModelHelp>/ImportGrav}">
										<Input id="idImportGravado" maxLength="40" change="onChangeImportes" liveChange="addImporteTotal"
											visible="{oModelHelp>/ImportGrav}" app:nameControl="idImportGravado">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Importe No Gravado" visible="{oModelHelp>/ImportGrav}">
										<Input id="idImportNoGravado" maxLength="40" change="onChangeImportes" liveChange="addImporteTotal"
											visible="{oModelHelp>/ImportGrav}" app:nameControl="idImportNoGravado">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Importe Total" visible="{oModelHelp>/ImportGrav}">
										<Input id="idImportTotal" maxLength="40" change="onFormatDecimal" app:nameControl="idImportTotal"
											visible="{oModelHelp>/ImportGrav}" editable="false">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
									<f:FormElement label="Importe Total" visible="{oModelHelp>/Importe}">
										<Input id="idImportTotalRecHon" maxLength="40" change="onFormatDecimal"
											app:nameControl="idImportTotalRecHon" visible="{oModelHelp>/Importe}" editable="false">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
								</f:formElements>
							</f:FormContainer>
							<f:FormContainer>
								<f:FormElement label="Tipo Doc. SUNAT">
									<Select id="idTipoDocS" change="onFilterSunat" selectedKey="02" items="{ path: '/' }" required="true">
										<core:Item key="{Pkey}" text="{Pvalue}"/>
										<layoutData>
											<l:GridData span="L8 M8 S12"/>
										</layoutData>
									</Select>
								</f:FormElement>
								<f:FormElement label="Serie">
									<Input id="idSerie" maxLength="4" placeholder="XXXX" change="onSerieChange" liveChange="onSerieLiveChange" required="true">
										<layoutData>
											<l:GridData span="L8 M8 S12"/>
										</layoutData>
									</Input>
								</f:FormElement>
								<f:FormElement label="Correlativo">
									<Input id="idCorr" maxLength="8" change="onCorrelativoChange" placeholder="XXXXXXXX" liveChange="onCorrelativoLiveChange" required="true">
										<layoutData>
											<l:GridData span="L8 M8 S12"/>
										</layoutData>
									</Input>
								</f:FormElement>
								<f:FormElement label="Fecha Doc. Sunat">
									<DatePicker id="idFechaFactura" displayFormat="dd-MM-yyyy" valueFormat="dd-MM-yyyy" placeholder="Ingrese fecha de factura">
										<layoutData>
											<l:GridData span="L8 M8 S12"/>
										</layoutData>
									</DatePicker>
								</f:FormElement>
								<f:formElements>
									<f:FormElement label="Adjunto">
										<!--	<u:FileUploader buttonText="Añadir adjunto" buttonOnly="true" id="fileUploader" name="myFileUpload" uploadUrl="upload/"
							tooltip="Subir archivo" change="onChangeDoc" uploadComplete="handleUploadComplete"/>-->
										<Button press="onOpenDialogAttach" icon="sap-icon://attachment" text="Adjuntar" width="10rem"/>
									</f:FormElement>
								</f:formElements>
							</f:FormContainer>
						</f:formContainers>
					</f:Form>
					
					<f:Form editable="true">
						<f:layout>
							<f:ResponsiveGridLayout labelSpanXL="4" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0"
								emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="1" columnsM="1" singleContainerFullSize="false"/>
						</f:layout>
						<f:formContainers>
							<f:FormContainer>
								<f:toolbar>
									<Toolbar>
										<Title text="Detalle de gasto" level="H5" titleStyle="H5"/>
										<ToolbarSpacer/>
										<Button id="idButtonAdd" press="validarSunat" icon="sap-icon://sys-add"/>
									</Toolbar>
								</f:toolbar>
								<f:formElements>
									<f:FormElement></f:FormElement>
								</f:formElements>
							</f:FormContainer>
						</f:formContainers>
					</f:Form>
					<ScrollContainer height="auto" width="100%" horizontal="true" vertical="true" focusable="true">
						<Table id="idTablaDetGastos" items="{path: '/'}">
							<columns>
								<Column width="3rem">
									<Text text="POS"/>
								</Column>
								<Column width="6rem" visible="true">
									<Text text="Operación"/>
								</Column>
								<Column width="8rem">
									<Text wrapping="true" text="Cta."/>
								</Column>
								<Column width="6.5rem">
									<Text text="Ceco"/>
								</Column>
								<Column width="6rem">
									<Text text="Rz. Social"/>
								</Column>
								<Column width="8rem">
									<Text text="RUC"/>
								</Column>
								<Column width="3rem">
									<Text text="Serie"/>
								</Column>
								<Column width="5rem">
									<Text text="Corr."/>
								</Column>
								<Column width="5rem">
									<Text text="Importe"/>
								</Column>
								<Column width="3rem">
									<Text text="Imp."/>
								</Column>
								<Column width="3rem">
									<Text text="Adj."/>
								</Column>
								<Column width="3rem" hAlign="Left">
									<Text text="Elim."/>
								</Column>
							</columns>
							<items>
								<ColumnListItem id="clitb" press="tbDeclaracioncli">
									<cells>
										<Text text="{Nposit}"/>
										<ObjectIdentifier text="{oOperacion}"/>
										<Text text="{oCtaMyr}"/>
										<Text text="{Kostl}"/>
										<Text text="{Sgtxt}"/>
										<Text text="{Xref_2}"/>
										<Text text="{oSerie}"/>
										<Text text="{oCorrelativo}"/>
										<ObjectNumber number="{ parts: [ { path: 'Wrbtr' }, 'PEN' ], type: 'sap.ui.model.type.Currency', formatOptions: { showMeasure: false, decimalSeparator: '.', groupingSeparator: ',' } }" unit="{Waers}" state="Success"/>
										<Text text="{oIndImp}"/>
										<Button press="presionarBoleta" icon="sap-icon://attachment"/>
										<Button press="fnBorraFilaGasto" icon="sap-icon://delete" app:nameControl="idTablaDetGastos"/>
									</cells>
								</ColumnListItem>
							</items>
						</Table>
					</ScrollContainer>
					<f:Form editable="true">
						<f:layout>
							<f:ResponsiveGridLayout labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0"
								emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="2" columnsM="2" singleContainerFullSize="false"/>
						</f:layout>
						<f:formContainers>
							<f:FormContainer>
								<f:formElements>
									<f:FormElement label="Reembolso" visible="false">
										<Input id="idReembolso" editable="false" maxLength="50">
											<layoutData>
												<l:GridData span="XL7 L7 M7 S7"/>
											</layoutData>
										</Input>
										<CheckBox id="idCheckReembolso" valueState="Information" selected="false" select="fnEventoReembolso"/>
									</f:FormElement>
								<!--	<f:FormElement label="Devolución">
										<Input id="idDevolucion" editable="false" maxLength="50">
											<layoutData>
												<l:GridData span="XL7 L7 M7 S7"/>
											</layoutData>
										</Input>
										<CheckBox id="idCheckDevol" valueState="Information" selected="false" select="fnEventoDevolucion"/> 
										<Button id="btnAdjDevolucion" press="onOpenDialogAttachDevolucion" icon="sap-icon://attachment" width="2rem" enabled="false"/> -->
										<!--<u:FileUploader iconOnly="true" buttonOnly="true" icon="sap-icon://attachment" id="fileUploaderDevolucion" name="myFileUpload">-->
										<!--	uploadUrl="upload/" tooltip="Subir archivo devolución" change="onChangeDocDevolucion" uploadComplete="handleUploadCompleteDevolucion"/> -->
								<!--	</f:FormElement> -->
								</f:formElements>
							</f:FormContainer>
							<f:FormContainer>
								<f:formElements>
									<f:FormElement label="Importe Total">
										<Input id="idImporteTotal" editable="false" value="0" change="onFormatDecimal">
											<layoutData>
												<l:GridData span="L8 M8 S12"/>
											</layoutData>
										</Input>
									</f:FormElement>
								</f:formElements>
							</f:FormContainer>
						</f:formContainers>
					</f:Form>
				</content>
				<footer>
					<Toolbar>
						<ToolbarSpacer/>
						<Button id="btnGrabar" type="Accept" text="Grabar" press="onCrearNuevoGasto" icon="sap-icon://add"/>
						<Button type="Accept" text="Reiniciar" press="fnLimpiarCamposCrearGastos" icon="sap-icon://refresh"/>
						<Button type="Reject" text="Cancelar" press="onIrDetalleSolicitud" icon="sap-icon://refresh"/>
					</Toolbar>
				</footer>
			</Page>
		</pages>
	</App>
</mvc:View>