<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
	<ScrollContainer width="100%" height="80%" horizontal="true" vertical="true" focusable="true">
		<Table width="auto" id="tblRequestMD" sticky="ColumnHeaders" 
            items="{path:'modelGeneral>/aListaSolicitud', 
                        sorter: {
                            path: 'modelGeneral>fechaRegistro',
                            descending: true
                        }
                    }" 
            growing="true" growingScrollToLoad="true">
			<headerToolbar>
				<OverflowToolbar>
					<Title id="titHeader" text="Lista Manufactura Digital ({=${modelGeneral>/aListaSolicitud}.length})"/>
					<ToolbarSpacer/>
					<ToolbarSeparator/>
					<OverflowToolbarButton text="{i18n>btnNewRM}" tooltip="{i18n>btnNewRM}" icon="sap-icon://add-activity-2" press="onGetNewRequestRM" visible="{=${modelGeneral>/aFilters/aplicacionId} === '3b5fc15f-3dcb-4c0f-8927-8ba26964da38' &amp;&amp; ${modelGeneral>/oInfoUsuario/funcionUsuario/registradorSolicitud}}"/>
					<OverflowToolbarButton text="{i18n>btnExport}" tooltip="{i18n>btnExport}" icon="sap-icon://excel-attachment" press="onExportXLS" visible="{=${modelGeneral>/aFilters/aplicacionId} === '3b5fc15f-3dcb-4c0f-8927-8ba26964da38' &amp;&amp; (${modelGeneral>/oInfoUsuario/funcionUsuario/registradorSolicitud} || ${modelGeneral>/oInfoUsuario/funcionUsuario/aprobadorSolicitud})}"/>
				</OverflowToolbar>
			</headerToolbar>
			<columns>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible="{=${modelGeneral>/aFilters/aplicacionId} === '3b5fc15f-3dcb-4c0f-8927-8ba26964da38'}">
					<Text text="{i18n>clCodeSoli}" width="auto" maxLines="3" wrapping="true" textAlign="Center" textDirection="Inherit"/>
				</Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible="{=${modelGeneral>/aFilters/aplicacionId} === '295fd633-d654-49b6-86a0-674611a3b783'}">
					<Text text="{i18n>clCodeRMD}" width="auto" maxLines="3" wrapping="true" textAlign="Center" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clNameRMD}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="Tipo" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="SecciÃ³n" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible="{=${modelGeneral>/aFilters/aplicacionId} === '3b5fc15f-3dcb-4c0f-8927-8ba26964da38'}">
					<Text text="{i18n>clEstado}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible="{=${modelGeneral>/aFilters/aplicacionId} === '295fd633-d654-49b6-86a0-674611a3b783'}">
					<Text text="{i18n>clEstadoProce}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible="{=${modelGeneral>/aFilters/aplicacionId} === '3b5fc15f-3dcb-4c0f-8927-8ba26964da38'}">
					<Text text="Fecha Aprob./Rech." width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clPlant}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clReasonRMD}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible="{=${modelGeneral>/aFilters/aplicacionId} === '3b5fc15f-3dcb-4c0f-8927-8ba26964da38'}">
					<Text text="{i18n>clObservation}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clDestinations}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clDocument}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible="{=${modelGeneral>/aFilters/aplicacionId} === '295fd633-d654-49b6-86a0-674611a3b783'}">
					<Text text="{i18n>clSendUser}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible="{=${modelGeneral>/aFilters/aplicacionId} === '295fd633-d654-49b6-86a0-674611a3b783'}">
					<Text text="{i18n>clSendDate}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clCreatorUser}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clCreatorDate}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible = "false">
					<Text text="" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible = "false">
					<Text text="" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible = "false">
					<Text text="" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible = "false">
					<Text text="" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false" visible = "false">
					<Text text="" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
			</columns>
			<items>
				<ColumnListItem type="Navigation" press="onPressMD">
					<Text text="{modelGeneral>codigoSolicitud}" width="auto" maxLines="3" wrapping="true"/>
                    <Text text="{modelGeneral>codigo}" width="auto" maxLines="3" wrapping="true"/>
					<Text text="{modelGeneral>descripcion}" width="auto" maxLines="3" wrapping="true"/>
                    <ObjectStatus text="{modelGeneral>tipoMD}" state="{=${modelGeneral>tipoMD}==='Nuevo RMD' ? 'Indication05' : 'Indication06'}"/>
					<Text text="{modelGeneral>areaRmdTxt}" width="auto" maxLines="3" wrapping="true"/>
                    <ObjectStatus text="{= ${modelGeneral>codigo} !== null ? 'Solicitud Aprobada' : ${modelGeneral>estadoIdRmd/contenido}}" state="{=${modelGeneral>estadoIdRmd/iMaestraId}===470?'Error':'Success'}"/>
                    <ObjectStatus text="{modelGeneral>estadoIdProceso/contenido}" state="{=${modelGeneral>estadoIdProceso/iMaestraId}===459 || ${modelGeneral>estadoIdProceso/iMaestraId}===460 || ${modelGeneral>estadoIdProceso/iMaestraId}===463 ? 'Error' : 'Success'}"/>                                                                                
					<Text text="{path: 'modelGeneral>fechaAprob_Rech', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd/MM/yyyy hh:mm:ss', UTC: false }}" width="auto" maxLines="3" wrapping="true"/>
                    <Text text="{modelGeneral>sucursalId/contenido}" width="auto" maxLines="3" wrapping="true"/>
					<Text text="{modelGeneral>motivoId/descripcion}" width="auto" maxLines="3" wrapping="true"/>
					<Text text="{modelGeneral>observacion}" width="auto" maxLines="3" wrapping="true"/>
					<Button icon="sap-icon://customer-briefing" tooltip="{i18n>lblDestinations}" type="Transparent" press="onListDestinations"/>
					<HBox>
						<Button icon="sap-icon://detail-view" tooltip="{i18n>lblAdjunt}" type="Transparent" press="onViewAdjuntoMD"/>
						<Button icon="sap-icon://pdf-attachment" tooltip="{i18n>lblPDF}" type="Transparent" press="onGetPdfViewerMo"/>
						<!-- <Button icon="sap-icon://download" tooltip="{i18n>lblDownload}" type="Transparent" press="onDownloadPdfRmd"/> -->
					</HBox>
					<Text text="{modelGeneral>usuarioEnvioProd}" width="auto" maxLines="3" wrapping="true"/>
					<Text text="{path: 'modelGeneral>fechaEnvioProd', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd/MM/yyyy hh:mm:ss', UTC: false }}" width="auto" maxLines="3" wrapping="true"/>
					<Text text="{modelGeneral>usuarioRegistro}" width="auto" maxLines="3" wrapping="true"/>
					<Text text="{path: 'modelGeneral>fechaRegistro', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd/MM/yyyy hh:mm:ss', UTC: false }}" width="auto" maxLines="3" wrapping="true"/>
                    <Text text="{modelGeneral>concatDestinatarios}" width="auto" maxLines="3" wrapping="true"/>
                    <Text text="{modelGeneral>concatCodMaterial}" width="auto" maxLines="3" wrapping="true"/>
                    <Text text="{modelGeneral>usuarioAprob_Rech}" width="auto" maxLines="3" wrapping="true"/>
                    <Text text="{modelGeneral>nivelTxt}" width="auto" maxLines="3" wrapping="true"/>
					<Text text="{modelGeneral>mdIdVersionAnt}" width="auto" maxLines="3" wrapping="true"/>	
                </ColumnListItem>
			</items>
		</Table>
	</ScrollContainer>
</core:FragmentDefinition>