<core:FragmentDefinition xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:layout="sap.ui.layout"
    xmlns:form="sap.ui.layout.form" xmlns:fb="sap.ui.comp.filterbar" xmlns:mvc="sap.ui.core.mvc" >
    <Dialog class="sapUiContentPadding sapUiSizeCompact" title="{i18n>tlListEtiqueta}" contentWidth="60%" afterClose="onCancelListEtiquetaConEnlace">
        <content>
        <fb:FilterBar header="Filtros" reset="onRestoreFiltersProducto" search="onSearchFilterProducto" useToolbar="false" showGoOnFB="true" showFilterConfiguration="false" showRestoreOnFB="true" showRestoreButton="false">
            <fb:filterGroupItems>
                <fb:FilterGroupItem groupName="HU" name="A" label="{i18n>clMaterial}" partOfCurrentVariant="true" visibleInFilterBar="true">
                    <fb:control>
                         <ComboBox items="{path : 'modelGeneral>/aListaInsumosNegativos'}" placeholder="{i18n>clMaterial}" showSecondaryValues="true" change="onSaveHUSubproducto" selectedKey="{FiltersModelProducto>/Component}">
                            <core:ListItem key="{modelGeneral>Component}" text="{modelGeneral>Component}" additionalText="{modelGeneral>Maktx}"/>
                        </ComboBox>
                    </fb:control>
                </fb:FilterGroupItem>
                <fb:FilterGroupItem groupName="HU" name="B" label="{i18n>clEntrega}" partOfCurrentVariant="true" visibleInFilterBar="true">
                    <fb:control>
                        <Input value="{FiltersModelProducto>/Hu}" placeholder="{i18n>clEntrega}" type="Text" showValueHelp="false" visible="true" width="100%" valueHelpOnly="false"/>
                    </fb:control>
                </fb:FilterGroupItem>
            </fb:filterGroupItems>
        </fb:FilterBar>
        <Table id="idTableetiquetasProducto" width="auto" sticky="ColumnHeaders" items="{path:'modelGeneral>/ListaEtiquetaProducto'}" noDataText="{i18n>tblNoData}">
            <headerToolbar>
                <OverflowToolbar>
                    <Title text="{i18n>tblEtiqueta} ({=${modelGeneral>/ListaEtiquetaProducto}.length})"></Title>
                    <ToolbarSpacer/>
                    <ToolbarSeparator/>
                    <OverflowToolbarButton tooltip="{i18n>TbEPrint}" icon="sap-icon://print" press="onViewPDFProducto" type="Transparent"/>
                </OverflowToolbar>
            </headerToolbar>
            <columns>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" styleClass="cellBorderLeft cellBorderRight">
                    <Text text="{i18n>clHu}" width="auto" wrapping="true"/>
                </Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" styleClass="cellBorderRight">
                    <Text text="{i18n>clMaterial}" width="auto" wrapping="true"/>
                </Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" styleClass="cellBorderRight">
                    <Text text="{i18n>clLote}" width="auto" wrapping="true"/>
                </Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" styleClass="cellBorderRight">
                    <Text text="{i18n>clObjeto}" width="auto" wrapping="true"/>
                </Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" styleClass="cellBorderRight">
                    <Text text="{i18n>clCantidadUnidad}" width="auto" wrapping="true"/>
                </Column>
                <Column  width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" styleClass="cellBorderRight">
                    <Text text="{i18n>clCantidad}" width="auto" wrapping="true"/>
                </Column>
                <Column width="auto" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" styleClass="cellBorderRight">
                    <Text text="{i18n>clUM}" width="auto" wrapping="true"/>
                </Column>
            </columns>
            <items>
                <ColumnListItem vAlign="Middle" type="Active">
                    <cells>
                        <Text text="{modelGeneral>Exidv}" width="auto" wrapping="true"/>
                        <Text text="{modelGeneral>Matnr}" width="auto" wrapping="true"/>
                        <Text text="{modelGeneral>Charg}" width="auto" wrapping="true"/>
                        <Text text="{modelGeneral>objeto}" width="auto" wrapping="true"/>
                        <Text text="{modelGeneral>Resu1}" width="auto" wrapping="true"/>
                        <Text text="{modelGeneral>Resu1}" width="auto" wrapping="true"/>
                        <Text text="{modelGeneral>Altme}" width="auto" wrapping="true"/>
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
        </content>
        <endButton>
            <Button text="{i18n>btnClose}" press="onCancelListEtiquetaProducto" type="Reject"/>
        </endButton>
    </Dialog>
</core:FragmentDefinition>