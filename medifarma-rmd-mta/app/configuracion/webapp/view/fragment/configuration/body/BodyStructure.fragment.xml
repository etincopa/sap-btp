<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns:u="sap.ui.unified">
	<!-- <ScrollContainer width="100%" height="80%" horizontal="true" vertical="true" focusable="true"> -->
		<Table id="tblStructure" width="auto" sticky="HeaderToolbar,ColumnHeaders" 
            items="{path: 'mainModelv2>/ESTRUCTURA',
            parameters: { 'expand' : 'estadoId,tipoEstructuraId'},
                filters: [{
                    path: 'activo',
                    operator: 'EQ',
                    value1: 'true'
                }],
				sorter: {
					path: 'codigo'
				}}" 
            updateFinished="onUpdateFinish" 
            growing="true"
            growingScrollToLoad="false">
			<headerToolbar>
				<OverflowToolbar>
					<Title text="{i18n>tlStructure}"></Title>
					<ToolbarSpacer/>
					<ToolbarSeparator/>
                    <OverflowToolbarButton text="{i18n>btnNewRM}" tooltip="{i18n>btnNewStructure}" icon="sap-icon://add-activity-2" press="onAddEstructura"/>
					<OverflowToolbarButton text="{i18n>btnExportStructure}" tooltip="{i18n>btnExport}" icon="sap-icon://excel-attachment" press="onExportExcel"/>
				</OverflowToolbar>
			</headerToolbar>
			<columns>
				<Column width="5%" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clCodigo}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="28%" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clDescription}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="8%" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clNumeracion}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="8%" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clVerificadoPor}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="12%" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clStructureType}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="7%" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clState}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="12%" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clUserDo}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="10%" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clDateDo}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
				<Column width="10%" hAlign="Left" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
					<Text text="{i18n>clAction}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
				</Column>
			</columns>
			<items>
				<ColumnListItem visible="{=${mainModelv2>activo} === true}">
					<Text text="{mainModelv2>codigo}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
					<Text text="{mainModelv2>descripcion}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
					<Text text="{=${mainModelv2>numeracion} === true ? 'Si' : 'No'}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
					<Text text="{=${mainModelv2>verificadoPor} === true ? 'Si' : 'No'}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
					<Text text="{mainModelv2>tipoEstructuraId/contenido}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
					<Text text="{mainModelv2>estadoId/contenido}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
					<Text text="{mainModelv2>usuarioRegistro}" width="auto" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
					<Text text="{path: 'mainModelv2>fechaRegistro', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy-MM-dd', UTC: false }}" width="auto" wrapping="true"/>
					<HBox>
                            <Button tooltip="{i18n>editConfig}" icon="sap-icon://edit" press="onEditarEstructura" type="Transparent"/>
                            <Button tooltip="{i18n>deleteConfig}" icon="sap-icon://delete" press="onDeleteDataMaestra" type="Transparent"/>
                    </HBox>
				</ColumnListItem>
			</items>
		</Table>
	<!-- </ScrollContainer> -->
</core:FragmentDefinition>