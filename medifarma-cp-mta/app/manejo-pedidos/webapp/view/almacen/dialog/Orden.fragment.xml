<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:f="sap.ui.layout.form"
	xmlns:ui="sap.ui.table"
	xmlns:fb="sap.ui.comp.filterbar"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
>
	<Dialog
		id="dialogOrden"
		title="{i18n>dtlAgregarOrden}"
		contentWidth="100%"
	>
		<content>
			<fb:FilterBar
				header="Filtros"
				reset="onRestoreFiltersAgregarOrden"
				search="onSearchAgregarOrden"
				useToolbar="false"
				showGoOnFB="true"
				showFilterConfiguration="false"
				showRestoreOnFB="true"
				showRestoreButton="false"
			>
				<fb:filterGroupItems>
					<fb:FilterGroupItem
						groupName="MANGROUP"
						name="C"
						label="{i18n>dlblSeccion}"
						partOfCurrentVariant="true"
						visibleInFilterBar="true"
					>
						<fb:control>
							<ComboBox
								app:controlType="ComboBox"
								app:controlPath="Txt"
								selectedKey="{AgregarOrdenModel>/valueSeccion}"
								value="{AgregarOrdenModel>/valueSeccion}"
								placeholder="{i18n>dphlblSeccion}"
								items="{
									path: 'SeccionModel>/'
								}"
								change="onSelectionChange"
							>
								<core:Item
									key="{SeccionModel>Fevor}"
									text="{SeccionModel>Txt}"
								/>
							</ComboBox>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem
						groupName="MANGROUP"
						name="E"
						label="{i18n>lblOrdenProduccion}"
						partOfCurrentVariant="true"
						visibleInFilterBar="true"
					>
						<fb:control>
							<Input
								app:controlType="Input"
								app:controlPath="Aufnr"
								value="{AgregarOrdenModel>/valueNumOrden}"
								placeholder="{i18n>lblOrdenProduccion}"
								type="Text"
								showValueHelp="false"
								visible="true"
								width="100%"
								valueHelpOnly="false"
							/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem
						groupName="MANGROUP"
						name="F"
						label="{i18n>dclLotePT}"
						partOfCurrentVariant="true"
						visibleInFilterBar="true"
					>
						<fb:control>
							<Input
								app:controlType="Input"
								app:controlPath="Charg"
								value="{AgregarOrdenModel>/valueNumLote}"
								placeholder="{i18n>dclLotePT}"
								type="Text"
								showValueHelp="false"
								visible="true"
								width="100%"
								valueHelpOnly="false"
							/>
						</fb:control>
					</fb:FilterGroupItem>
				</fb:filterGroupItems>
			</fb:FilterBar>
			<IconTabBar
				select="onIconTabBarFilter"
				class="sapUiResponsiveContentPadding"
			>
				<content>
					<ui:Table
						id="idOrdenList"
						rows="{OrdenesModel>/}"
						selectionMode="None"
						visibleRowCount="4"
						enableSelectAll="false"
					>
						<ui:extension>
							<OverflowToolbar style="Clear">
								<ComboBox
									placeholder="{i18n>dclCentro}"
									selectedKey="{PedidoModel>/tipoPedidoParams/keyCentro}"
									editable="false"
									app:controlType="ComboBox"
									app:controlPath="Werks"
									items="{
										path: 'CentroModel>/',
										sorter: [{
											path: 'Name1',
											descending: false
										}]
									}"
									change="onSelectionChange"
								>
									<core:Item
										key="{CentroModel>Bwkey}"
										text="{CentroModel>Name1}"
									/>
								</ComboBox>
								<ToolbarSpacer/>
								<Button
									icon="sap-icon://refresh"
									tooltip="Actualizar"
									type="Default"
									text="Actualizar"
									press=".onSearchOrdenErp"
								/>
							</OverflowToolbar>
						</ui:extension>
						<ui:columns>
							<ui:Column
								width="3rem"
								hAlign="Center"
							>
								<Label text="{i18n>btnAgregar}"/>
								<ui:template>
									<Button
										icon="sap-icon://add"
										tooltip="{i18n>dtpAgregarOrden}"
										type="Default"
										press=".onAddOrdenToList"
									/>
								</ui:template>
							</ui:Column>
							<ui:Column
								width="7rem"
								hAlign="Center"
							>
								<Label text="{i18n>lblOrdenProduccion}"/>
								<ui:template>
									<Text
										text="{OrdenesModel>Aufnr}"
										wrapping="false"
									/>
								</ui:template>
							</ui:Column>
							<ui:Column
								width="11rem"
								hAlign="Center"
							>
								<Label text="{i18n>clDescPT}"/>
								<ui:template>
									<Text
										text="{OrdenesModel>Maktx}"
										wrapping="false"
									/>
								</ui:template>
							</ui:Column>
							<ui:Column
								width="8rem"
								hAlign="Center"
							>
								<Label text="{i18n>dclLotePT}"/>
								<ui:template>
									<Text
										text="{OrdenesModel>Charg}"
										wrapping="false"
									/>
								</ui:template>
							</ui:Column>
							<ui:Column
								width="7rem"
								hAlign="Center"
							>
								<Label text="{i18n>lblTamanoLote}"/>
								<ui:template>
									<Text
										text="{OrdenesModel>Bstfe}"
										wrapping="false"
									/>
								</ui:template>
							</ui:Column>
							<ui:Column
								width="7rem"
								hAlign="Center"
							>
								<Label
									text="{i18n>dclFecLib}"
									wrapping="true"
								/>
								<ui:template>
									<Text
										text="{
											path: 'OrdenesModel>Ftrmi',
											formatter: '.formatter.getTimestampToDMY2'
										}"
										wrapping="false"
									/>
								</ui:template>
							</ui:Column>
							<ui:Column
								width="11rem"
								hAlign="Center"
							>
								<Label text="{i18n>dclResponLib}"/>
								<ui:template>
									<Text
										text="{OrdenesModel>Ernam}"
										wrapping="false"
									/>
								</ui:template>
							</ui:Column>
							<ui:Column
								width="8rem"
								hAlign="Center"
							>
								<Label text="{i18n>dclEnvasePref}"/>
								<ui:template>
									<Text
										text="{OrdenesModel>Nenvs}"
										wrapping="false"
									/>
								</ui:template>
							</ui:Column>
							<ui:Column
								width="8rem"
								hAlign="Center"
							>
								<Label text="{i18n>dclFecEnvase}"/>
								<ui:template>
									<Text
										text="{
											path: 'OrdenesModel>Fenva',
											formatter: '.formatter.getTimestampToDMY2'
										}"
										wrapping="false"
									/>
								</ui:template>
							</ui:Column>
							<ui:Column
								width="7rem"
								hAlign="Center"
							>
								<Label text="{i18n>dclAcondicionadoPref}"/>
								<ui:template>
									<Text
										text="{OrdenesModel>Acond}"
										wrapping="false"
									/>
								</ui:template>
							</ui:Column>
							<ui:Column
								width="8rem"
								hAlign="Center"
							>
								<Label
									text="{i18n>dclFecAcondicPref}"
									wrapping="true"
								/>
								<ui:template>
									<Text
										text="{
											path: 'OrdenesModel>Facon',
											formatter: '.formatter.getTimestampToDMY2'
										}"
										wrapping="false"
									/>
								</ui:template>
							</ui:Column>
							<ui:Column
								width="10rem"
								hAlign="Center"
							>
								<Label text="{i18n>dclSeccion}"/>
								<ui:template>
									<Text
										text="{OrdenesModel>Txt}"
										wrapping="false"
									/>
								</ui:template>
							</ui:Column>
						</ui:columns>
					</ui:Table>
				</content>
			</IconTabBar>
			<ui:Table
				id="idOrdenTempSelectedList"
				rows="{
					path: 'TempOrdenListModel>/'
				}"
				selectionMode="Single"
				visibleRowCount="4"
				enableSelectAll="false"
			>
				<ui:extension>
					<OverflowToolbar style="Clear">
						<Title text="{i18n>dtlOrdenSelec}"/>
						<ToolbarSpacer/>
						<Button
							icon="sap-icon://delete"
							tooltip="{i18n>dtpDeleteOrden}"
							type="Reject"
							text="{i18n>btnQuitar}"
							press=".onDeleteOrdenToList"
						/>
					</OverflowToolbar>
				</ui:extension>
				<ui:columns>
					<ui:Column
						width="7rem"
						hAlign="Center"
					>
						<Label text="{i18n>lblOrdenProduccion}"/>
						<ui:template>
							<Text
								text="{TempOrdenListModel>Aufnr}"
								wrapping="false"
							/>
						</ui:template>
					</ui:Column>
					<ui:Column
						width="11rem"
						hAlign="Center"
					>
						<Label text="{i18n>clDescPT}"/>
						<ui:template>
							<Text
								text="{TempOrdenListModel>Maktx}"
								wrapping="false"
							/>
						</ui:template>
					</ui:Column>
					<ui:Column
						width="9rem"
						hAlign="Center"
					>
						<Label text="{i18n>dclLotePT}"/>
						<ui:template>
							<Text
								text="{TempOrdenListModel>Charg}"
								wrapping="false"
							/>
						</ui:template>
					</ui:Column>
					<ui:Column
						width="7rem"
						hAlign="Center"
					>
						<Label text="{i18n>lblTamanoLote}"/>
						<ui:template>
							<Text
								text="{TempOrdenListModel>Bstfe}"
								wrapping="false"
							/>
						</ui:template>
					</ui:Column>
					<ui:Column
						width="7rem"
						hAlign="Center"
					>
						<Label
							text="{i18n>dclFecLib}"
							wrapping="true"
						/>
						<ui:template>
							<Text
								text="{
									path: 'TempOrdenListModel>Ftrmi',
									formatter: '.formatter.getTimestampToDMY2'
								}"
								wrapping="false"
							/>
						</ui:template>
					</ui:Column>
					<ui:Column
						width="11rem"
						hAlign="Center"
					>
						<Label text="{i18n>dclResponLib}"/>
						<ui:template>
							<Text
								text="{TempOrdenListModel>Ernam}"
								wrapping="false"
							/>
						</ui:template>
					</ui:Column>
					<ui:Column
						width="9rem"
						hAlign="Center"
					>
						<Label text="{i18n>dclEnvasePref}"/>
						<ui:template>
							<Text
								text="{TempOrdenListModel>Nenvs}"
								wrapping="false"
							/>
						</ui:template>
					</ui:Column>
					<ui:Column
						width="9rem"
						hAlign="Center"
					>
						<Label text="{i18n>dclFecEnvase}"/>
						<ui:template>
							<Text
								text="{
									path: 'TempOrdenListModel>Fenva',
									formatter: '.formatter.getTimestampToDMY2'
								}"
								wrapping="false"
							/>
						</ui:template>
					</ui:Column>
					<ui:Column
						width="7rem"
						hAlign="Center"
					>
						<Label text="{i18n>dclAcondicionadoPref}"/>
						<ui:template>
							<Text
								text="{TempOrdenListModel>Acond}"
								wrapping="false"
							/>
						</ui:template>
					</ui:Column>
					<ui:Column
						width="10rem"
						hAlign="Center"
					>
						<Label text="{i18n>dclFecAcondicPref}"/>
						<ui:template>
							<Text
								text="{
									path: 'TempOrdenListModel>Facon',
									formatter: '.formatter.getTimestampToDMY2'
								}"
								wrapping="false"
							/>
						</ui:template>
					</ui:Column>
					<ui:Column
						width="9rem"
						hAlign="Center"
					>
						<Label text="{i18n>dclSeccion}"/>
						<ui:template>
							<Text
								text="{TempOrdenListModel>Txt}"
								wrapping="false"
							/>
						</ui:template>
					</ui:Column>
				</ui:columns>
			</ui:Table>
		</content>
		<beginButton/>
		<buttons>
			<Button
				text="{i18n>btnAceptar}"
				type="Emphasized"
				iconFirst="true"
				width="auto"
				press="onAddOrdenConfirm"
			/>
			<Button
				text="{i18n>btnCancelar}"
				type="Default"
				iconFirst="true"
				width="auto"
				press="onPressClose"
			/>
		</buttons>
		<customHeader/>
		<endButton/>
		<subHeader/>
	</Dialog>
</core:FragmentDefinition>