<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:ui="sap.ui.table"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
>
	<ui:Table
		rows="{
			path: 'localModel>/Salas',
			sorter: [{
				path: 'sala',
				descending: false
			}]
		}"
		selectionMode="MultiToggle"
		visibleRowCount="7"
		paste="onPaste"
		ariaLabelledBy="title"
	>
		<ui:extension>
			<OverflowToolbar style="Clear">
				<Title
					id="title"
					text="{i18n>lblTitulo}"
				/>
				<ToolbarSpacer/>
				<ToolbarSeparator/>
				<Button
					tooltip="{i18n>tpCrear}"
					type="Transparent"
					text="{i18n>btnCrear}"
					press=".onCreate"
				/>
				<Button
					tooltip="{i18n>tpExportar}"
					type="Transparent"
					text="{i18n>btnExportar}"
					icon="sap-icon://excel-attachment"
					press=".onExportar"
				/>
			</OverflowToolbar>
		</ui:extension>
		<ui:columns>
			<ui:Column
				width="9rem"
				sortProperty="sala"
			>
				<Label text="{i18n>lblSala}"/>
				<ui:template>
					<Link
						text="{localModel>sala}"
						press="onEditarPress"
						wrapping="false"
					/>
				</ui:template>
			</ui:Column>
			<ui:Column
				width="11rem"
				sortProperty="oPlanta/contenido"
			>
				<Label text="{i18n>lblCentro}"/>
				<ui:template>
					<Text
						text="{localModel>oPlanta/contenido}"
						wrapping="false"
					/>
				</ui:template>
			</ui:Column>
			<ui:Column
				width="8rem"
				sortProperty="ipPc"
			>
				<Label text="{i18n>lblIP}"/>
				<ui:template>
					<Text
						text="{localModel>ipPc}"
						wrapping="false"
					/>
				</ui:template>
			</ui:Column>
			<ui:Column
				width="10rem"
				sortProperty="horaTaraManual"
			>
				<Label text="{i18n>lblHoraTaraManual}"/>
				<ui:template>
					<Text
						text="{localModel>horaTaraManual}"
						wrapping="false"
					/>
				</ui:template>
			</ui:Column>
			<ui:Column
				width="10rem"
				sortProperty="minutPesoManual"
			>
				<Label text="{i18n>lblMinutosPesoManual}"/>
				<ui:template>
					<Text
						text="{localModel>minutPesoManual}"
						wrapping="false"
					/>
				</ui:template>
			</ui:Column>
			<ui:Column
				width="10rem"
				sortProperty="horaLectEtiqueta"
			>
				<Label text="{i18n>lblHoraLecturaEtiqueta}"/>
				<ui:template>
					<Text
						text="{localModel>horaLectEtiqueta}"
						wrapping="false"
					/>
				</ui:template>
			</ui:Column>
			<ui:Column
				width="9rem"
				sortProperty="activo"
			>
				<Label text="{i18n>lblEstado}"/>
				<ui:template>
					<ObjectStatus
						text="{=${localModel>activo} ? 'HABILITADO' : 'DESHABILITADO'}"
						state="{=${localModel>activo} ? 'Success' : 'Error'}"
					/>
				</ui:template>
			</ui:Column>
			<ui:Column width="5rem">
				<Label text=""/>
				<ui:template>
					<HBox>
						<Button
							type="Reject"
							press="onBorrarPress"
							visible="{=${localModel>activo} ? true : false}"
							icon="sap-icon://delete"
						/>
						<Button
							type="Approve"
							press="onActivarPress"
							visible="{=${localModel>activo} ? false : true}"
							icon="sap-icon://accept"
						/>
					</HBox>
				</ui:template>
			</ui:Column>
		</ui:columns>
	</ui:Table>
</core:FragmentDefinition>